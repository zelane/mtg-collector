(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $a(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const jt={},ti=[],sr=()=>{},wm=()=>!1,Em=/^on[^a-z]/,yo=e=>Em.test(e),ic=e=>e.startsWith("onUpdate:"),zt=Object.assign,oc=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Sm=Object.prototype.hasOwnProperty,Lt=(e,t)=>Sm.call(e,t),at=Array.isArray,ni=e=>_i(e)==="[object Map]",Bs=e=>_i(e)==="[object Set]",hf=e=>_i(e)==="[object Date]",qm=e=>_i(e)==="[object RegExp]",kt=e=>typeof e=="function",Yt=e=>typeof e=="string",Yi=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",ac=e=>Ut(e)&&kt(e.then)&&kt(e.catch),Ud=Object.prototype.toString,_i=e=>Ud.call(e),xm=e=>_i(e).slice(8,-1),$d=e=>_i(e)==="[object Object]",lc=e=>Yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bi=$a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Va=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},km=/-(\w)/g,Ln=Va(e=>e.replace(km,(t,r)=>r?r.toUpperCase():"")),Cm=/\B([A-Z])/g,Qn=Va(e=>e.replace(Cm,"-$1").toLowerCase()),vo=Va(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ni=Va(e=>e?`on${vo(e)}`:""),ai=(e,t)=>!Object.is(e,t),ri=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},va=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ba=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wa=e=>{const t=Yt(e)?Number(e):NaN;return isNaN(t)?e:t};let _f;const ou=()=>_f||(_f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Am="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",Im=$a(Am);function lr(e){if(at(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Yt(n)?Rm(n):lr(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Yt(e))return e;if(Ut(e))return e}}const Tm=/;(?![^(]*\))/g,Om=/:([^]+)/,Pm=new RegExp("\\/\\*.*?\\*\\/","gs");function Rm(e){const t={};return e.replace(Pm,"").split(Tm).forEach(r=>{if(r){const n=r.split(Om);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ut(e){let t="";if(Yt(e))t=e;else if(at(e))for(let r=0;r<e.length;r++){const n=ut(e[r]);n&&(t+=n+" ")}else if(Ut(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Fm(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Yt(t)&&(e.class=ut(t)),r&&(e.style=lr(r)),e}const Lm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dm=$a(Lm);function Vd(e){return!!e||e===""}function Mm(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=is(e[n],t[n]);return r}function is(e,t){if(e===t)return!0;let r=hf(e),n=hf(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Yi(e),n=Yi(t),r||n)return e===t;if(r=at(e),n=at(t),r||n)return r&&n?Mm(e,t):!1;if(r=Ut(e),n=Ut(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const l=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(l&&!u||!l&&u||!is(e[o],t[o]))return!1}}return String(e)===String(t)}function za(e,t){return e.findIndex(r=>is(r,t))}const vt=e=>Yt(e)?e:e==null?"":at(e)||Ut(e)&&(e.toString===Ud||!kt(e.toString))?JSON.stringify(e,zd,2):String(e),zd=(e,t)=>t&&t.__v_isRef?zd(e,t.value):ni(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Bs(t)?{[`Set(${t.size})`]:[...t.values()]}:Ut(t)&&!at(t)&&!$d(t)?String(t):t;let Nn;class uc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Nn,!t&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Nn;try{return Nn=this,t()}finally{Nn=r}}}on(){Nn=this}off(){Nn=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function cc(e){return new uc(e)}function Wd(e,t=Nn){t&&t.active&&t.effects.push(e)}function fc(){return Nn}function Kd(e){Nn&&Nn.cleanups.push(e)}const dc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Hd=e=>(e.w&os)>0,Qd=e=>(e.n&os)>0,Bm=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=os},Nm=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];Hd(s)&&!Qd(s)?s.delete(e):t[r++]=s,s.w&=~os,s.n&=~os}t.length=r}},Ea=new WeakMap;let Ri=0,os=1;const au=30;let tr;const qs=Symbol(""),lu=Symbol("");class bo{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Wd(this,n)}run(){if(!this.active)return this.fn();let t=tr,r=ts;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=tr,tr=this,ts=!0,os=1<<++Ri,Ri<=au?Bm(this):mf(this),this.fn()}finally{Ri<=au&&Nm(this),os=1<<--Ri,tr=this.parent,ts=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tr===this?this.deferStop=!0:this.active&&(mf(this),this.onStop&&this.onStop(),this.active=!1)}}function mf(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}function jm(e,t){e.effect&&(e=e.effect.fn);const r=new bo(e);t&&(zt(r,t),t.scope&&Wd(r,t.scope)),(!t||!t.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function Um(e){e.effect.stop()}let ts=!0;const Gd=[];function mi(){Gd.push(ts),ts=!1}function gi(){const e=Gd.pop();ts=e===void 0?!0:e}function Dn(e,t,r){if(ts&&tr){let n=Ea.get(e);n||Ea.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=dc()),Jd(s)}}function Jd(e,t){let r=!1;Ri<=au?Qd(e)||(e.n|=os,r=!Hd(e)):r=!e.has(tr),r&&(e.add(tr),tr.deps.push(e))}function Lr(e,t,r,n,s,i){const o=Ea.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(r==="length"&&at(e)){const u=Number(n);o.forEach((p,_)=>{(_==="length"||_>=u)&&l.push(p)})}else switch(r!==void 0&&l.push(o.get(r)),t){case"add":at(e)?lc(r)&&l.push(o.get("length")):(l.push(o.get(qs)),ni(e)&&l.push(o.get(lu)));break;case"delete":at(e)||(l.push(o.get(qs)),ni(e)&&l.push(o.get(lu)));break;case"set":ni(e)&&l.push(o.get(qs));break}if(l.length===1)l[0]&&uu(l[0]);else{const u=[];for(const p of l)p&&u.push(...p);uu(dc(u))}}function uu(e,t){const r=at(e)?e:[...e];for(const n of r)n.computed&&gf(n);for(const n of r)n.computed||gf(n)}function gf(e,t){(e!==tr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function $m(e,t){var r;return(r=Ea.get(e))==null?void 0:r.get(t)}const Vm=$a("__proto__,__v_isRef,__isVue"),Yd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yi)),zm=Wa(),Wm=Wa(!1,!0),Km=Wa(!0),Hm=Wa(!0,!0),yf=Qm();function Qm(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Pt(this);for(let i=0,o=this.length;i<o;i++)Dn(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(Pt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){mi();const n=Pt(this)[t].apply(this,r);return gi(),n}}),e}function Gm(e){const t=Pt(this);return Dn(t,"has",e),t.hasOwnProperty(e)}function Wa(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?sp:rp:t?np:tp).get(n))return n;const o=at(n);if(!e){if(o&&Lt(yf,s))return Reflect.get(yf,s,i);if(s==="hasOwnProperty")return Gm}const l=Reflect.get(n,s,i);return(Yi(s)?Yd.has(s):Vm(s))||(e||Dn(n,"get",s),t)?l:nn(l)?o&&lc(s)?l:l.value:Ut(l)?e?hc(l):rn(l):l}}const Jm=Xd(),Ym=Xd(!0);function Xd(e=!1){return function(r,n,s,i){let o=r[n];if(Ts(o)&&nn(o)&&!nn(s))return!1;if(!e&&(!Xi(s)&&!Ts(s)&&(o=Pt(o),s=Pt(s)),!at(r)&&nn(o)&&!nn(s)))return o.value=s,!0;const l=at(r)&&lc(n)?Number(n)<r.length:Lt(r,n),u=Reflect.set(r,n,s,i);return r===Pt(i)&&(l?ai(s,o)&&Lr(r,"set",n,s):Lr(r,"add",n,s)),u}}function Xm(e,t){const r=Lt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Lr(e,"delete",t,void 0),n}function Zm(e,t){const r=Reflect.has(e,t);return(!Yi(t)||!Yd.has(t))&&Dn(e,"has",t),r}function eg(e){return Dn(e,"iterate",at(e)?"length":qs),Reflect.ownKeys(e)}const Zd={get:zm,set:Jm,deleteProperty:Xm,has:Zm,ownKeys:eg},ep={get:Km,set(e,t){return!0},deleteProperty(e,t){return!0}},tg=zt({},Zd,{get:Wm,set:Ym}),ng=zt({},ep,{get:Hm}),pc=e=>e,Ka=e=>Reflect.getPrototypeOf(e);function Vo(e,t,r=!1,n=!1){e=e.__v_raw;const s=Pt(e),i=Pt(t);r||(t!==i&&Dn(s,"get",t),Dn(s,"get",i));const{has:o}=Ka(s),l=n?pc:r?mc:Zi;if(o.call(s,t))return l(e.get(t));if(o.call(s,i))return l(e.get(i));e!==s&&e.get(t)}function zo(e,t=!1){const r=this.__v_raw,n=Pt(r),s=Pt(e);return t||(e!==s&&Dn(n,"has",e),Dn(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function Wo(e,t=!1){return e=e.__v_raw,!t&&Dn(Pt(e),"iterate",qs),Reflect.get(e,"size",e)}function vf(e){e=Pt(e);const t=Pt(this);return Ka(t).has.call(t,e)||(t.add(e),Lr(t,"add",e,e)),this}function bf(e,t){t=Pt(t);const r=Pt(this),{has:n,get:s}=Ka(r);let i=n.call(r,e);i||(e=Pt(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?ai(t,o)&&Lr(r,"set",e,t):Lr(r,"add",e,t),this}function wf(e){const t=Pt(this),{has:r,get:n}=Ka(t);let s=r.call(t,e);s||(e=Pt(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&Lr(t,"delete",e,void 0),i}function Ef(){const e=Pt(this),t=e.size!==0,r=e.clear();return t&&Lr(e,"clear",void 0,void 0),r}function Ko(e,t){return function(n,s){const i=this,o=i.__v_raw,l=Pt(o),u=t?pc:e?mc:Zi;return!e&&Dn(l,"iterate",qs),o.forEach((p,_)=>n.call(s,u(p),u(_),i))}}function Ho(e,t,r){return function(...n){const s=this.__v_raw,i=Pt(s),o=ni(i),l=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,p=s[e](...n),_=r?pc:t?mc:Zi;return!t&&Dn(i,"iterate",u?lu:qs),{next(){const{value:m,done:y}=p.next();return y?{value:m,done:y}:{value:l?[_(m[0]),_(m[1])]:_(m),done:y}},[Symbol.iterator](){return this}}}}function $r(e){return function(...t){return e==="delete"?!1:this}}function rg(){const e={get(i){return Vo(this,i)},get size(){return Wo(this)},has:zo,add:vf,set:bf,delete:wf,clear:Ef,forEach:Ko(!1,!1)},t={get(i){return Vo(this,i,!1,!0)},get size(){return Wo(this)},has:zo,add:vf,set:bf,delete:wf,clear:Ef,forEach:Ko(!1,!0)},r={get(i){return Vo(this,i,!0)},get size(){return Wo(this,!0)},has(i){return zo.call(this,i,!0)},add:$r("add"),set:$r("set"),delete:$r("delete"),clear:$r("clear"),forEach:Ko(!0,!1)},n={get(i){return Vo(this,i,!0,!0)},get size(){return Wo(this,!0)},has(i){return zo.call(this,i,!0)},add:$r("add"),set:$r("set"),delete:$r("delete"),clear:$r("clear"),forEach:Ko(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ho(i,!1,!1),r[i]=Ho(i,!0,!1),t[i]=Ho(i,!1,!0),n[i]=Ho(i,!0,!0)}),[e,r,t,n]}const[sg,ig,og,ag]=rg();function Ha(e,t){const r=t?e?ag:og:e?ig:sg;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Lt(r,s)&&s in n?r:n,s,i)}const lg={get:Ha(!1,!1)},ug={get:Ha(!1,!0)},cg={get:Ha(!0,!1)},fg={get:Ha(!0,!0)},tp=new WeakMap,np=new WeakMap,rp=new WeakMap,sp=new WeakMap;function dg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pg(e){return e.__v_skip||!Object.isExtensible(e)?0:dg(xm(e))}function rn(e){return Ts(e)?e:Qa(e,!1,Zd,lg,tp)}function ip(e){return Qa(e,!1,tg,ug,np)}function hc(e){return Qa(e,!0,ep,cg,rp)}function hg(e){return Qa(e,!0,ng,fg,sp)}function Qa(e,t,r,n,s){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=pg(e);if(o===0)return e;const l=new Proxy(e,o===2?n:r);return s.set(e,l),l}function Or(e){return Ts(e)?Or(e.__v_raw):!!(e&&e.__v_isReactive)}function Ts(e){return!!(e&&e.__v_isReadonly)}function Xi(e){return!!(e&&e.__v_isShallow)}function _c(e){return Or(e)||Ts(e)}function Pt(e){const t=e&&e.__v_raw;return t?Pt(t):e}function Os(e){return va(e,"__v_skip",!0),e}const Zi=e=>Ut(e)?rn(e):e,mc=e=>Ut(e)?hc(e):e;function gc(e){ts&&tr&&(e=Pt(e),Jd(e.dep||(e.dep=dc())))}function Ga(e,t){e=Pt(e);const r=e.dep;r&&uu(r)}function nn(e){return!!(e&&e.__v_isRef===!0)}function Dt(e){return ap(e,!1)}function op(e){return ap(e,!0)}function ap(e,t){return nn(e)?e:new _g(e,t)}class _g{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Pt(t),this._value=r?t:Zi(t)}get value(){return gc(this),this._value}set value(t){const r=this.__v_isShallow||Xi(t)||Ts(t);t=r?t:Pt(t),ai(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Zi(t),Ga(this))}}function mg(e){Ga(e)}function ne(e){return nn(e)?e.value:e}function gg(e){return kt(e)?e():ne(e)}const yg={get:(e,t,r)=>ne(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return nn(s)&&!nn(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function yc(e){return Or(e)?e:new Proxy(e,yg)}class vg{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>gc(this),()=>Ga(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function bg(e){return new vg(e)}function On(e){const t=at(e)?new Array(e.length):{};for(const r in e)t[r]=lp(e,r);return t}class wg{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return $m(Pt(this._object),this._key)}}class Eg{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Sg(e,t,r){return nn(e)?e:kt(e)?new Eg(e):Ut(e)&&arguments.length>1?lp(e,t,r):Dt(e)}function lp(e,t,r){const n=e[t];return nn(n)?n:new wg(e,t,r)}class qg{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new bo(t,()=>{this._dirty||(this._dirty=!0,Ga(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=Pt(this);return gc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function xg(e,t,r=!1){let n,s;const i=kt(e);return i?(n=e,s=sr):(n=e.get,s=e.set),new qg(n,s,i||!s,r)}function kg(e,...t){}function Cg(e,t){}function Pr(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){Ns(i,t,r)}return s}function Vn(e,t,r,n){if(kt(e)){const i=Pr(e,t,r,n);return i&&ac(i)&&i.catch(o=>{Ns(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Vn(e[i],t,r,n));return s}function Ns(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,l=r;for(;i;){const p=i.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](e,o,l)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Pr(u,null,10,[e,o,l]);return}}Ag(e,r,s,n)}function Ag(e,t,r,n=!0){console.error(e)}let eo=!1,cu=!1;const bn=[];let _r=0;const si=[];let kr=null,gs=0;const up=Promise.resolve();let vc=null;function mr(e){const t=vc||up;return e?t.then(this?e.bind(this):e):t}function Ig(e){let t=_r+1,r=bn.length;for(;t<r;){const n=t+r>>>1;to(bn[n])<e?t=n+1:r=n}return t}function Ja(e){(!bn.length||!bn.includes(e,eo&&e.allowRecurse?_r+1:_r))&&(e.id==null?bn.push(e):bn.splice(Ig(e.id),0,e),cp())}function cp(){!eo&&!cu&&(cu=!0,vc=up.then(fp))}function Tg(e){const t=bn.indexOf(e);t>_r&&bn.splice(t,1)}function bc(e){at(e)?si.push(...e):(!kr||!kr.includes(e,e.allowRecurse?gs+1:gs))&&si.push(e),cp()}function Sf(e,t=eo?_r+1:0){for(;t<bn.length;t++){const r=bn[t];r&&r.pre&&(bn.splice(t,1),t--,r())}}function Sa(e){if(si.length){const t=[...new Set(si)];if(si.length=0,kr){kr.push(...t);return}for(kr=t,kr.sort((r,n)=>to(r)-to(n)),gs=0;gs<kr.length;gs++)kr[gs]();kr=null,gs=0}}const to=e=>e.id==null?1/0:e.id,Og=(e,t)=>{const r=to(e)-to(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function fp(e){cu=!1,eo=!0,bn.sort(Og);const t=sr;try{for(_r=0;_r<bn.length;_r++){const r=bn[_r];r&&r.active!==!1&&Pr(r,null,14)}}finally{_r=0,bn.length=0,Sa(),eo=!1,vc=null,(bn.length||si.length)&&fp()}}let Ys,Qo=[];function dp(e,t){var r,n;Ys=e,Ys?(Ys.enabled=!0,Qo.forEach(({event:s,args:i})=>Ys.emit(s,...i)),Qo=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{dp(i,t)}),setTimeout(()=>{Ys||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Qo=[])},3e3)):Qo=[]}function Pg(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||jt;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const _=`${o==="modelValue"?"model":o}Modifiers`,{number:m,trim:y}=n[_]||jt;y&&(s=r.map(C=>Yt(C)?C.trim():C)),m&&(s=r.map(ba))}let l,u=n[l=Ni(t)]||n[l=Ni(Ln(t))];!u&&i&&(u=n[l=Ni(Qn(t))]),u&&Vn(u,e,6,s);const p=n[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Vn(p,e,6,s)}}function pp(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},l=!1;if(!kt(e)){const u=p=>{const _=pp(p,t,!0);_&&(l=!0,zt(o,_))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(Ut(e)&&n.set(e,null),null):(at(i)?i.forEach(u=>o[u]=null):zt(o,i),Ut(e)&&n.set(e,o),o)}function Ya(e,t){return!e||!yo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Lt(e,t[0].toLowerCase()+t.slice(1))||Lt(e,Qn(t))||Lt(e,t))}let _n=null,Xa=null;function no(e){const t=_n;return _n=e,Xa=e&&e.type.__scopeId||null,t}function vr(e){Xa=e}function br(){Xa=null}const Rg=e=>Gn;function Gn(e,t=_n,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&gu(-1);const i=no(t);let o;try{o=e(...s)}finally{no(i),n._d&&gu(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ua(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:l,attrs:u,emit:p,render:_,renderCache:m,data:y,setupState:C,ctx:T,inheritAttrs:L}=e;let H,P;const w=no(e);try{if(r.shapeFlag&4){const k=s||n;H=jn(_.call(k,k,m,i,C,y,T)),P=u}else{const k=t;H=jn(k.length>1?k(i,{attrs:u,slots:l,emit:p}):k(i,null)),P=t.props?u:Lg(u)}}catch(k){Vi.length=0,Ns(k,e,1),H=Ze(Sn)}let R=H;if(P&&L!==!1){const k=Object.keys(P),{shapeFlag:B}=R;k.length&&B&7&&(o&&k.some(ic)&&(P=Dg(P,o)),R=yr(R,P))}return r.dirs&&(R=yr(R),R.dirs=R.dirs?R.dirs.concat(r.dirs):r.dirs),r.transition&&(R.transition=r.transition),H=R,no(w),H}function Fg(e){let t;for(let r=0;r<e.length;r++){const n=e[r];if(as(n)){if(n.type!==Sn||n.children==="v-if"){if(t)return;t=n}}else return}return t}const Lg=e=>{let t;for(const r in e)(r==="class"||r==="style"||yo(r))&&((t||(t={}))[r]=e[r]);return t},Dg=(e,t)=>{const r={};for(const n in e)(!ic(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Mg(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:l,patchFlag:u}=t,p=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?qf(n,o,p):!!o;if(u&8){const _=t.dynamicProps;for(let m=0;m<_.length;m++){const y=_[m];if(o[y]!==n[y]&&!Ya(p,y))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?qf(n,o,p):!0:!!o;return!1}function qf(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Ya(r,i))return!0}return!1}function wc({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const hp=e=>e.__isSuspense,Bg={name:"Suspense",__isSuspense:!0,process(e,t,r,n,s,i,o,l,u,p){e==null?Ng(t,r,n,s,i,o,l,u,p):jg(e,t,r,n,s,o,l,u,p)},hydrate:Ug,create:Ec,normalize:$g},_p=Bg;function ro(e,t){const r=e.props&&e.props[t];kt(r)&&r()}function Ng(e,t,r,n,s,i,o,l,u){const{p,o:{createElement:_}}=u,m=_("div"),y=e.suspense=Ec(e,s,n,t,m,r,i,o,l,u);p(null,y.pendingBranch=e.ssContent,m,null,n,y,i,o),y.deps>0?(ro(e,"onPending"),ro(e,"onFallback"),p(null,e.ssFallback,t,r,n,null,i,o),ii(y,e.ssFallback)):y.resolve(!1,!0)}function jg(e,t,r,n,s,i,o,l,{p:u,um:p,o:{createElement:_}}){const m=t.suspense=e.suspense;m.vnode=t,t.el=e.el;const y=t.ssContent,C=t.ssFallback,{activeBranch:T,pendingBranch:L,isInFallback:H,isHydrating:P}=m;if(L)m.pendingBranch=y,nr(y,L)?(u(L,y,m.hiddenContainer,null,s,m,i,o,l),m.deps<=0?m.resolve():H&&(u(T,C,r,n,s,null,i,o,l),ii(m,C))):(m.pendingId++,P?(m.isHydrating=!1,m.activeBranch=L):p(L,s,m),m.deps=0,m.effects.length=0,m.hiddenContainer=_("div"),H?(u(null,y,m.hiddenContainer,null,s,m,i,o,l),m.deps<=0?m.resolve():(u(T,C,r,n,s,null,i,o,l),ii(m,C))):T&&nr(y,T)?(u(T,y,r,n,s,m,i,o,l),m.resolve(!0)):(u(null,y,m.hiddenContainer,null,s,m,i,o,l),m.deps<=0&&m.resolve()));else if(T&&nr(y,T))u(T,y,r,n,s,m,i,o,l),ii(m,y);else if(ro(t,"onPending"),m.pendingBranch=y,m.pendingId++,u(null,y,m.hiddenContainer,null,s,m,i,o,l),m.deps<=0)m.resolve();else{const{timeout:w,pendingId:R}=m;w>0?setTimeout(()=>{m.pendingId===R&&m.fallback(C)},w):w===0&&m.fallback(C)}}function Ec(e,t,r,n,s,i,o,l,u,p,_=!1){const{p:m,m:y,um:C,n:T,o:{parentNode:L,remove:H}}=p;let P;const w=Vg(e);w&&t?.pendingBranch&&(P=t.pendingId,t.deps++);const R=e.props?wa(e.props.timeout):void 0,k={vnode:e,parent:t,parentComponent:r,isSVG:o,container:n,hiddenContainer:s,anchor:i,deps:0,pendingId:0,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:_,isUnmounted:!1,effects:[],resolve(B=!1,M=!1){const{vnode:J,activeBranch:E,pendingBranch:q,pendingId:N,effects:Z,parentComponent:$,container:te}=k;if(k.isHydrating)k.isHydrating=!1;else if(!B){const qe=E&&q.transition&&q.transition.mode==="out-in";qe&&(E.transition.afterLeave=()=>{N===k.pendingId&&y(q,te,ye,0)});let{anchor:ye}=k;E&&(ye=T(E),C(E,$,k,!0)),qe||y(q,te,ye,0)}ii(k,q),k.pendingBranch=null,k.isInFallback=!1;let ue=k.parent,ke=!1;for(;ue;){if(ue.pendingBranch){ue.effects.push(...Z),ke=!0;break}ue=ue.parent}ke||bc(Z),k.effects=[],w&&t&&t.pendingBranch&&P===t.pendingId&&(t.deps--,t.deps===0&&!M&&t.resolve()),ro(J,"onResolve")},fallback(B){if(!k.pendingBranch)return;const{vnode:M,activeBranch:J,parentComponent:E,container:q,isSVG:N}=k;ro(M,"onFallback");const Z=T(J),$=()=>{!k.isInFallback||(m(null,B,q,Z,E,null,N,l,u),ii(k,B))},te=B.transition&&B.transition.mode==="out-in";te&&(J.transition.afterLeave=$),k.isInFallback=!0,C(J,E,null,!0),te||$()},move(B,M,J){k.activeBranch&&y(k.activeBranch,B,M,J),k.container=B},next(){return k.activeBranch&&T(k.activeBranch)},registerDep(B,M){const J=!!k.pendingBranch;J&&k.deps++;const E=B.vnode.el;B.asyncDep.catch(q=>{Ns(q,B,0)}).then(q=>{if(B.isUnmounted||k.isUnmounted||k.pendingId!==B.suspenseId)return;B.asyncResolved=!0;const{vnode:N}=B;yu(B,q,!1),E&&(N.el=E);const Z=!E&&B.subTree.el;M(B,N,L(E||B.subTree.el),E?null:T(B.subTree),k,o,u),Z&&H(Z),wc(B,N.el),J&&--k.deps===0&&k.resolve()})},unmount(B,M){k.isUnmounted=!0,k.activeBranch&&C(k.activeBranch,r,B,M),k.pendingBranch&&C(k.pendingBranch,r,B,M)}};return k}function Ug(e,t,r,n,s,i,o,l,u){const p=t.suspense=Ec(t,n,r,e.parentNode,document.createElement("div"),null,s,i,o,l,!0),_=u(e,p.pendingBranch=t.ssContent,r,p,i,o);return p.deps===0&&p.resolve(!1,!0),_}function $g(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=xf(n?r.default:r),e.ssFallback=n?xf(r.fallback):Ze(Sn)}function xf(e){let t;if(kt(e)){const r=Ls&&e._c;r&&(e._d=!1,de()),e=e(),r&&(e._d=!0,t=Fn,Wp())}return at(e)&&(e=Fg(e)),e=jn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function mp(e,t){t&&t.pendingBranch?at(e)?t.effects.push(...e):t.effects.push(e):bc(e)}function ii(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e,s=r.el=t.el;n&&n.subTree===r&&(n.vnode.el=s,wc(n,s))}function Vg(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function Ps(e,t){return wo(e,null,t)}function gp(e,t){return wo(e,null,{flush:"post"})}function zg(e,t){return wo(e,null,{flush:"sync"})}const Go={};function tn(e,t,r){return wo(e,t,r)}function wo(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=jt){var l;const u=fc()===((l=ln)==null?void 0:l.scope)?ln:null;let p,_=!1,m=!1;if(nn(e)?(p=()=>e.value,_=Xi(e)):Or(e)?(p=()=>e,n=!0):at(e)?(m=!0,_=e.some(k=>Or(k)||Xi(k)),p=()=>e.map(k=>{if(nn(k))return k.value;if(Or(k))return ws(k);if(kt(k))return Pr(k,u,2)})):kt(e)?t?p=()=>Pr(e,u,2):p=()=>{if(!(u&&u.isUnmounted))return y&&y(),Vn(e,u,3,[C])}:p=sr,t&&n){const k=p;p=()=>ws(k())}let y,C=k=>{y=w.onStop=()=>{Pr(k,u,4)}},T;if(ui)if(C=sr,t?r&&Vn(t,u,3,[p(),m?[]:void 0,C]):p(),s==="sync"){const k=th();T=k.__watcherHandles||(k.__watcherHandles=[])}else return sr;let L=m?new Array(e.length).fill(Go):Go;const H=()=>{if(!!w.active)if(t){const k=w.run();(n||_||(m?k.some((B,M)=>ai(B,L[M])):ai(k,L)))&&(y&&y(),Vn(t,u,3,[k,L===Go?void 0:m&&L[0]===Go?[]:L,C]),L=k)}else w.run()};H.allowRecurse=!!t;let P;s==="sync"?P=H:s==="post"?P=()=>yn(H,u&&u.suspense):(H.pre=!0,u&&(H.id=u.uid),P=()=>Ja(H));const w=new bo(p,P);t?r?H():L=w.run():s==="post"?yn(w.run.bind(w),u&&u.suspense):w.run();const R=()=>{w.stop(),u&&u.scope&&oc(u.scope.effects,w)};return T&&T.push(R),R}function Wg(e,t,r){const n=this.proxy,s=Yt(e)?e.includes(".")?yp(n,e):()=>n[e]:e.bind(n,n);let i;kt(t)?i=t:(i=t.handler,r=t);const o=ln;ls(this);const l=wo(s,i.bind(n),r);return o?ls(o):ss(),l}function yp(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function ws(e,t){if(!Ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),nn(e))ws(e.value,t);else if(at(e))for(let r=0;r<e.length;r++)ws(e[r],t);else if(Bs(e)||ni(e))e.forEach(r=>{ws(r,t)});else if($d(e))for(const r in e)ws(e[r],t);return e}function Ot(e,t){const r=_n;if(r===null)return e;const n=il(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,l,u,p=jt]=t[i];o&&(kt(o)&&(o={mounted:o,updated:o}),o.deep&&ws(l),s.push({dir:o,instance:n,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function pr(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let u=l.dir[n];u&&(mi(),Vn(u,r,8,[e.el,l,e,t]),gi())}}function Sc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nr(()=>{e.isMounted=!0}),nl(()=>{e.isUnmounting=!0}),e}const Hn=[Function,Array],qc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hn,onEnter:Hn,onAfterEnter:Hn,onEnterCancelled:Hn,onBeforeLeave:Hn,onLeave:Hn,onAfterLeave:Hn,onLeaveCancelled:Hn,onBeforeAppear:Hn,onAppear:Hn,onAfterAppear:Hn,onAppearCancelled:Hn},Kg={name:"BaseTransition",props:qc,setup(e,{slots:t}){const r=qn(),n=Sc();let s;return()=>{const i=t.default&&Za(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const L of i)if(L.type!==Sn){o=L;break}}const l=Pt(e),{mode:u}=l;if(n.isLeaving)return Dl(o);const p=kf(o);if(!p)return Dl(o);const _=li(p,l,n,r);Rs(p,_);const m=r.subTree,y=m&&kf(m);let C=!1;const{getTransitionKey:T}=p.type;if(T){const L=T();s===void 0?s=L:L!==s&&(s=L,C=!0)}if(y&&y.type!==Sn&&(!nr(p,y)||C)){const L=li(y,l,n,r);if(Rs(y,L),u==="out-in")return n.isLeaving=!0,L.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},Dl(o);u==="in-out"&&p.type!==Sn&&(L.delayLeave=(H,P,w)=>{const R=bp(n,y);R[String(y.key)]=y,H._leaveCb=()=>{P(),H._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=w})}return o}}},vp=Kg;function bp(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function li(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:p,onEnterCancelled:_,onBeforeLeave:m,onLeave:y,onAfterLeave:C,onLeaveCancelled:T,onBeforeAppear:L,onAppear:H,onAfterAppear:P,onAppearCancelled:w}=t,R=String(e.key),k=bp(r,e),B=(E,q)=>{E&&Vn(E,n,9,q)},M=(E,q)=>{const N=q[1];B(E,q),at(E)?E.every(Z=>Z.length<=1)&&N():E.length<=1&&N()},J={mode:i,persisted:o,beforeEnter(E){let q=l;if(!r.isMounted)if(s)q=L||l;else return;E._leaveCb&&E._leaveCb(!0);const N=k[R];N&&nr(e,N)&&N.el._leaveCb&&N.el._leaveCb(),B(q,[E])},enter(E){let q=u,N=p,Z=_;if(!r.isMounted)if(s)q=H||u,N=P||p,Z=w||_;else return;let $=!1;const te=E._enterCb=ue=>{$||($=!0,ue?B(Z,[E]):B(N,[E]),J.delayedLeave&&J.delayedLeave(),E._enterCb=void 0)};q?M(q,[E,te]):te()},leave(E,q){const N=String(e.key);if(E._enterCb&&E._enterCb(!0),r.isUnmounting)return q();B(m,[E]);let Z=!1;const $=E._leaveCb=te=>{Z||(Z=!0,q(),te?B(T,[E]):B(C,[E]),E._leaveCb=void 0,k[N]===e&&delete k[N])};k[N]=e,y?M(y,[E,$]):$()},clone(E){return li(E,t,r,n)}};return J}function Dl(e){if(Eo(e))return e=yr(e),e.children=null,e}function kf(e){return Eo(e)?e.children?e.children[0]:void 0:e}function Rs(e,t){e.shapeFlag&6&&e.component?Rs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Za(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const l=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===St?(o.patchFlag&128&&s++,n=n.concat(Za(o.children,t,l))):(t||o.type!==Sn)&&n.push(l!=null?yr(o,{key:l}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Kn(e,t){return kt(e)?(()=>zt({name:e.name},t,{setup:e}))():e}const xs=e=>!!e.type.__asyncLoader;function Hg(e){kt(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:s=200,timeout:i,suspensible:o=!0,onError:l}=e;let u=null,p,_=0;const m=()=>(_++,u=null,y()),y=()=>{let C;return u||(C=u=t().catch(T=>{if(T=T instanceof Error?T:new Error(String(T)),l)return new Promise((L,H)=>{l(T,()=>L(m()),()=>H(T),_+1)});throw T}).then(T=>C!==u&&u?u:(T&&(T.__esModule||T[Symbol.toStringTag]==="Module")&&(T=T.default),p=T,T)))};return Kn({name:"AsyncComponentWrapper",__asyncLoader:y,get __asyncResolved(){return p},setup(){const C=ln;if(p)return()=>Ml(p,C);const T=w=>{u=null,Ns(w,C,13,!n)};if(o&&C.suspense||ui)return y().then(w=>()=>Ml(w,C)).catch(w=>(T(w),()=>n?Ze(n,{error:w}):null));const L=Dt(!1),H=Dt(),P=Dt(!!s);return s&&setTimeout(()=>{P.value=!1},s),i!=null&&setTimeout(()=>{if(!L.value&&!H.value){const w=new Error(`Async component timed out after ${i}ms.`);T(w),H.value=w}},i),y().then(()=>{L.value=!0,C.parent&&Eo(C.parent.vnode)&&Ja(C.parent.update)}).catch(w=>{T(w),H.value=w}),()=>{if(L.value&&p)return Ml(p,C);if(H.value&&n)return Ze(n,{error:H.value});if(r&&!P.value)return Ze(r)}}})}function Ml(e,t){const{ref:r,props:n,children:s,ce:i}=t.vnode,o=Ze(e,n,s);return o.ref=r,o.ce=i,delete t.vnode.ce,o}const Eo=e=>e.type.__isKeepAlive,Qg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=qn(),n=r.ctx;if(!n.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const s=new Map,i=new Set;let o=null;const l=r.suspense,{renderer:{p:u,m:p,um:_,o:{createElement:m}}}=n,y=m("div");n.activate=(w,R,k,B,M)=>{const J=w.component;p(w,R,k,0,l),u(J.vnode,w,R,k,J,l,B,w.slotScopeIds,M),yn(()=>{J.isDeactivated=!1,J.a&&ri(J.a);const E=w.props&&w.props.onVnodeMounted;E&&Pn(E,J.parent,w)},l)},n.deactivate=w=>{const R=w.component;p(w,y,null,1,l),yn(()=>{R.da&&ri(R.da);const k=w.props&&w.props.onVnodeUnmounted;k&&Pn(k,R.parent,w),R.isDeactivated=!0},l)};function C(w){Bl(w),_(w,r,l,!0)}function T(w){s.forEach((R,k)=>{const B=bu(R.type);B&&(!w||!w(B))&&L(k)})}function L(w){const R=s.get(w);!o||!nr(R,o)?C(R):o&&Bl(o),s.delete(w),i.delete(w)}tn(()=>[e.include,e.exclude],([w,R])=>{w&&T(k=>Fi(w,k)),R&&T(k=>!Fi(R,k))},{flush:"post",deep:!0});let H=null;const P=()=>{H!=null&&s.set(H,Nl(r.subTree))};return Nr(P),tl(P),nl(()=>{s.forEach(w=>{const{subTree:R,suspense:k}=r,B=Nl(R);if(w.type===B.type&&w.key===B.key){Bl(B);const M=B.component.da;M&&yn(M,k);return}C(w)})}),()=>{if(H=null,!t.default)return null;const w=t.default(),R=w[0];if(w.length>1)return o=null,w;if(!as(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let k=Nl(R);const B=k.type,M=bu(xs(k)?k.type.__asyncResolved||{}:B),{include:J,exclude:E,max:q}=e;if(J&&(!M||!Fi(J,M))||E&&M&&Fi(E,M))return o=k,R;const N=k.key==null?B:k.key,Z=s.get(N);return k.el&&(k=yr(k),R.shapeFlag&128&&(R.ssContent=k)),H=N,Z?(k.el=Z.el,k.component=Z.component,k.transition&&Rs(k,k.transition),k.shapeFlag|=512,i.delete(N),i.add(N)):(i.add(N),q&&i.size>parseInt(q,10)&&L(i.values().next().value)),k.shapeFlag|=256,o=k,hp(R.type)?R:k}}},Gg=Qg;function Fi(e,t){return at(e)?e.some(r=>Fi(r,t)):Yt(e)?e.split(",").includes(t):qm(e)?e.test(t):!1}function xc(e,t){wp(e,"a",t)}function kc(e,t){wp(e,"da",t)}function wp(e,t,r=ln){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(el(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Eo(s.parent.vnode)&&Jg(n,t,r,s),s=s.parent}}function Jg(e,t,r,n){const s=el(t,e,n,!0);So(()=>{oc(n[t],s)},r)}function Bl(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Nl(e){return e.shapeFlag&128?e.ssContent:e}function el(e,t,r=ln,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;mi(),ls(r);const l=Vn(t,r,e,o);return ss(),gi(),l});return n?s.unshift(i):s.push(i),i}}const Br=e=>(t,r=ln)=>(!ui||e==="sp")&&el(e,(...n)=>t(...n),r),Ep=Br("bm"),Nr=Br("m"),Sp=Br("bu"),tl=Br("u"),nl=Br("bum"),So=Br("um"),qp=Br("sp"),xp=Br("rtg"),kp=Br("rtc");function Cp(e,t=ln){el("ec",e,t)}const Cc="components",Yg="directives";function ns(e,t){return Ac(Cc,e,!0,t)||e}const Ap=Symbol.for("v-ndc");function rl(e){return Yt(e)?Ac(Cc,e,!1)||e:e||Ap}function Xg(e){return Ac(Yg,e)}function Ac(e,t,r=!0,n=!1){const s=_n||ln;if(s){const i=s.type;if(e===Cc){const l=bu(i,!1);if(l&&(l===t||l===Ln(t)||l===vo(Ln(t))))return i}const o=Cf(s[e]||i[e],t)||Cf(s.appContext[e],t);return!o&&n?i:o}}function Cf(e,t){return e&&(e[t]||e[Ln(t)]||e[vo(Ln(t))])}function Kt(e,t,r,n){let s;const i=r&&r[n];if(at(e)||Yt(e)){s=new Array(e.length);for(let o=0,l=e.length;o<l;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Ut(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,i&&i[l]));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const p=o[l];s[l]=t(e[p],p,l,i&&i[l])}}else s=[];return r&&(r[n]=s),s}function Zg(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(at(n))for(let s=0;s<n.length;s++)e[n[s].name]=n[s].fn;else n&&(e[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return e}function hn(e,t,r={},n,s){if(_n.isCE||_n.parent&&xs(_n.parent)&&_n.parent.isCE)return t!=="default"&&(r.name=t),Ze("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),de();const o=i&&Ip(i(r)),l=mn(St,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ip(e){return e.some(t=>as(t)?!(t.type===Sn||t.type===St&&!Ip(t.children)):!0)?e:null}function Tp(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:Ni(n)]=e[n];return r}const fu=e=>e?Jp(e)?il(e)||e.proxy:fu(e.parent):null,ji=zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fu(e.parent),$root:e=>fu(e.root),$emit:e=>e.emit,$options:e=>Ic(e),$forceUpdate:e=>e.f||(e.f=()=>Ja(e.update)),$nextTick:e=>e.n||(e.n=mr.bind(e.proxy)),$watch:e=>Wg.bind(e)}),jl=(e,t)=>e!==jt&&!e.__isScriptSetup&&Lt(e,t),du={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:l,appContext:u}=e;let p;if(t[0]!=="$"){const C=o[t];if(C!==void 0)switch(C){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(jl(n,t))return o[t]=1,n[t];if(s!==jt&&Lt(s,t))return o[t]=2,s[t];if((p=e.propsOptions[0])&&Lt(p,t))return o[t]=3,i[t];if(r!==jt&&Lt(r,t))return o[t]=4,r[t];pu&&(o[t]=0)}}const _=ji[t];let m,y;if(_)return t==="$attrs"&&Dn(e,"get",t),_(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(r!==jt&&Lt(r,t))return o[t]=4,r[t];if(y=u.config.globalProperties,Lt(y,t))return y[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return jl(s,t)?(s[t]=r,!0):n!==jt&&Lt(n,t)?(n[t]=r,!0):Lt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let l;return!!r[o]||e!==jt&&Lt(e,o)||jl(t,o)||(l=i[0])&&Lt(l,o)||Lt(n,o)||Lt(ji,o)||Lt(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Lt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},ey=zt({},du,{get(e,t){if(t!==Symbol.unscopables)return du.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Im(t)}});function ty(){return null}function ny(){return null}function ry(e){}function sy(e){}function iy(){return null}function oy(){}function ay(e,t){return null}function Op(){return Pp().slots}function ly(){return Pp().attrs}function uy(e,t,r){const n=qn();if(r&&r.local){const s=Dt(e[t]);return tn(()=>e[t],i=>s.value=i),tn(s,i=>{i!==e[t]&&n.emit(`update:${t}`,i)}),s}else return{__v_isRef:!0,get value(){return e[t]},set value(s){n.emit(`update:${t}`,s)}}}function Pp(){const e=qn();return e.setupContext||(e.setupContext=Zp(e))}function so(e){return at(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function cy(e,t){const r=so(e);for(const n in t){if(n.startsWith("__skip"))continue;let s=r[n];s?at(s)||kt(s)?s=r[n]={type:s,default:t[n]}:s.default=t[n]:s===null&&(s=r[n]={default:t[n]}),s&&t[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function fy(e,t){return!e||!t?e||t:at(e)&&at(t)?e.concat(t):zt({},so(e),so(t))}function dy(e,t){const r={};for(const n in e)t.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>e[n]});return r}function Rp(e){const t=qn();let r=e();return ss(),ac(r)&&(r=r.catch(n=>{throw ls(t),n})),[r,()=>ls(t)]}let pu=!0;function py(e){const t=Ic(e),r=e.proxy,n=e.ctx;pu=!1,t.beforeCreate&&Af(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:l,provide:u,inject:p,created:_,beforeMount:m,mounted:y,beforeUpdate:C,updated:T,activated:L,deactivated:H,beforeDestroy:P,beforeUnmount:w,destroyed:R,unmounted:k,render:B,renderTracked:M,renderTriggered:J,errorCaptured:E,serverPrefetch:q,expose:N,inheritAttrs:Z,components:$,directives:te,filters:ue}=t;if(p&&hy(p,n,null),o)for(const ye in o){const nt=o[ye];kt(nt)&&(n[ye]=nt.bind(r))}if(s){const ye=s.call(r,r);Ut(ye)&&(e.data=rn(ye))}if(pu=!0,i)for(const ye in i){const nt=i[ye],Pe=kt(nt)?nt.bind(r,r):kt(nt.get)?nt.get.bind(r,r):sr,ft=!kt(nt)&&kt(nt.set)?nt.set.bind(r):sr,lt=mt({get:Pe,set:ft});Object.defineProperty(n,ye,{enumerable:!0,configurable:!0,get:()=>lt.value,set:De=>lt.value=De})}if(l)for(const ye in l)Fp(l[ye],n,r,ye);if(u){const ye=kt(u)?u.call(r):u;Reflect.ownKeys(ye).forEach(nt=>{Ui(nt,ye[nt])})}_&&Af(_,e,"c");function qe(ye,nt){at(nt)?nt.forEach(Pe=>ye(Pe.bind(r))):nt&&ye(nt.bind(r))}if(qe(Ep,m),qe(Nr,y),qe(Sp,C),qe(tl,T),qe(xc,L),qe(kc,H),qe(Cp,E),qe(kp,M),qe(xp,J),qe(nl,w),qe(So,k),qe(qp,q),at(N))if(N.length){const ye=e.exposed||(e.exposed={});N.forEach(nt=>{Object.defineProperty(ye,nt,{get:()=>r[nt],set:Pe=>r[nt]=Pe})})}else e.exposed||(e.exposed={});B&&e.render===sr&&(e.render=B),Z!=null&&(e.inheritAttrs=Z),$&&(e.components=$),te&&(e.directives=te)}function hy(e,t,r=sr){at(e)&&(e=hu(e));for(const n in e){const s=e[n];let i;Ut(s)?"default"in s?i=In(s.from||n,s.default,!0):i=In(s.from||n):i=In(s),nn(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Af(e,t,r){Vn(at(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Fp(e,t,r,n){const s=n.includes(".")?yp(r,n):()=>r[n];if(Yt(e)){const i=t[e];kt(i)&&tn(s,i)}else if(kt(e))tn(s,e.bind(r));else if(Ut(e))if(at(e))e.forEach(i=>Fp(i,t,r,n));else{const i=kt(e.handler)?e.handler.bind(r):t[e.handler];kt(i)&&tn(s,i,e)}}function Ic(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let u;return l?u=l:!s.length&&!r&&!n?u=t:(u={},s.length&&s.forEach(p=>qa(u,p,o,!0)),qa(u,t,o)),Ut(t)&&i.set(t,u),u}function qa(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&qa(e,i,r,!0),s&&s.forEach(o=>qa(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const l=_y[o]||r&&r[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const _y={data:If,props:Tf,emits:Tf,methods:Li,computed:Li,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:Li,directives:Li,watch:gy,provide:If,inject:my};function If(e,t){return t?e?function(){return zt(kt(e)?e.call(this,this):e,kt(t)?t.call(this,this):t)}:t:e}function my(e,t){return Li(hu(e),hu(t))}function hu(e){if(at(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function kn(e,t){return e?[...new Set([].concat(e,t))]:t}function Li(e,t){return e?zt(Object.create(null),e,t):t}function Tf(e,t){return e?at(e)&&at(t)?[...new Set([...e,...t])]:zt(Object.create(null),so(e),so(t??{})):t}function gy(e,t){if(!e)return t;if(!t)return e;const r=zt(Object.create(null),e);for(const n in t)r[n]=kn(e[n],t[n]);return r}function Lp(){return{app:null,config:{isNativeTag:wm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yy=0;function vy(e,t){return function(n,s=null){kt(n)||(n=zt({},n)),s!=null&&!Ut(s)&&(s=null);const i=Lp(),o=new Set;let l=!1;const u=i.app={_uid:yy++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:rh,get config(){return i.config},set config(p){},use(p,..._){return o.has(p)||(p&&kt(p.install)?(o.add(p),p.install(u,..._)):kt(p)&&(o.add(p),p(u,..._))),u},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),u},component(p,_){return _?(i.components[p]=_,u):i.components[p]},directive(p,_){return _?(i.directives[p]=_,u):i.directives[p]},mount(p,_,m){if(!l){const y=Ze(n,s);return y.appContext=i,_&&t?t(y,p):e(y,p,m),l=!0,u._container=p,p.__vue_app__=u,il(y.component)||y.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(p,_){return i.provides[p]=_,u},runWithContext(p){io=u;try{return p()}finally{io=null}}};return u}}let io=null;function Ui(e,t){if(ln){let r=ln.provides;const n=ln.parent&&ln.parent.provides;n===r&&(r=ln.provides=Object.create(n)),r[e]=t}}function In(e,t,r=!1){const n=ln||_n;if(n||io){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:io._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&kt(t)?t.call(n&&n.proxy):t}}function by(){return!!(ln||_n||io)}function wy(e,t,r,n=!1){const s={},i={};va(i,sl,1),e.propsDefaults=Object.create(null),Dp(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:ip(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Ey(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,l=Pt(s),[u]=e.propsOptions;let p=!1;if((n||o>0)&&!(o&16)){if(o&8){const _=e.vnode.dynamicProps;for(let m=0;m<_.length;m++){let y=_[m];if(Ya(e.emitsOptions,y))continue;const C=t[y];if(u)if(Lt(i,y))C!==i[y]&&(i[y]=C,p=!0);else{const T=Ln(y);s[T]=_u(u,l,T,C,e,!1)}else C!==i[y]&&(i[y]=C,p=!0)}}}else{Dp(e,t,s,i)&&(p=!0);let _;for(const m in l)(!t||!Lt(t,m)&&((_=Qn(m))===m||!Lt(t,_)))&&(u?r&&(r[m]!==void 0||r[_]!==void 0)&&(s[m]=_u(u,l,m,void 0,e,!0)):delete s[m]);if(i!==l)for(const m in i)(!t||!Lt(t,m)&&!0)&&(delete i[m],p=!0)}p&&Lr(e,"set","$attrs")}function Dp(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,l;if(t)for(let u in t){if(Bi(u))continue;const p=t[u];let _;s&&Lt(s,_=Ln(u))?!i||!i.includes(_)?r[_]=p:(l||(l={}))[_]=p:Ya(e.emitsOptions,u)||(!(u in n)||p!==n[u])&&(n[u]=p,o=!0)}if(i){const u=Pt(r),p=l||jt;for(let _=0;_<i.length;_++){const m=i[_];r[m]=_u(s,u,m,p[m],e,!Lt(p,m))}}return o}function _u(e,t,r,n,s,i){const o=e[r];if(o!=null){const l=Lt(o,"default");if(l&&n===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&kt(u)){const{propsDefaults:p}=s;r in p?n=p[r]:(ls(s),n=p[r]=u.call(null,t),ss())}else n=u}o[0]&&(i&&!l?n=!1:o[1]&&(n===""||n===Qn(r))&&(n=!0))}return n}function Mp(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},l=[];let u=!1;if(!kt(e)){const _=m=>{u=!0;const[y,C]=Mp(m,t,!0);zt(o,y),C&&l.push(...C)};!r&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!i&&!u)return Ut(e)&&n.set(e,ti),ti;if(at(i))for(let _=0;_<i.length;_++){const m=Ln(i[_]);Of(m)&&(o[m]=jt)}else if(i)for(const _ in i){const m=Ln(_);if(Of(m)){const y=i[_],C=o[m]=at(y)||kt(y)?{type:y}:zt({},y);if(C){const T=Ff(Boolean,C.type),L=Ff(String,C.type);C[0]=T>-1,C[1]=L<0||T<L,(T>-1||Lt(C,"default"))&&l.push(m)}}}const p=[o,l];return Ut(e)&&n.set(e,p),p}function Of(e){return e[0]!=="$"}function Pf(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Rf(e,t){return Pf(e)===Pf(t)}function Ff(e,t){return at(t)?t.findIndex(r=>Rf(r,e)):kt(t)&&Rf(t,e)?0:-1}const Bp=e=>e[0]==="_"||e==="$stable",Tc=e=>at(e)?e.map(jn):[jn(e)],Sy=(e,t,r)=>{if(t._n)return t;const n=Gn((...s)=>Tc(t(...s)),r);return n._c=!1,n},Np=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Bp(s))continue;const i=e[s];if(kt(i))t[s]=Sy(s,i,n);else if(i!=null){const o=Tc(i);t[s]=()=>o}}},jp=(e,t)=>{const r=Tc(t);e.slots.default=()=>r},qy=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Pt(t),va(t,"_",r)):Np(t,e.slots={})}else e.slots={},t&&jp(e,t);va(e.slots,sl,1)},xy=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=jt;if(n.shapeFlag&32){const l=t._;l?r&&l===1?i=!1:(zt(s,t),!r&&l===1&&delete s._):(i=!t.$stable,Np(t,s)),o=t}else t&&(jp(e,t),o={default:1});if(i)for(const l in s)!Bp(l)&&!(l in o)&&delete s[l]};function xa(e,t,r,n,s=!1){if(at(e)){e.forEach((y,C)=>xa(y,t&&(at(t)?t[C]:t),r,n,s));return}if(xs(n)&&!s)return;const i=n.shapeFlag&4?il(n.component)||n.component.proxy:n.el,o=s?null:i,{i:l,r:u}=e,p=t&&t.r,_=l.refs===jt?l.refs={}:l.refs,m=l.setupState;if(p!=null&&p!==u&&(Yt(p)?(_[p]=null,Lt(m,p)&&(m[p]=null)):nn(p)&&(p.value=null)),kt(u))Pr(u,l,12,[o,_]);else{const y=Yt(u),C=nn(u);if(y||C){const T=()=>{if(e.f){const L=y?Lt(m,u)?m[u]:_[u]:u.value;s?at(L)&&oc(L,i):at(L)?L.includes(i)||L.push(i):y?(_[u]=[i],Lt(m,u)&&(m[u]=_[u])):(u.value=[i],e.k&&(_[e.k]=u.value))}else y?(_[u]=o,Lt(m,u)&&(m[u]=o)):C&&(u.value=o,e.k&&(_[e.k]=o))};o?(T.id=-1,yn(T,r)):T()}}}let Vr=!1;const Jo=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Yo=e=>e.nodeType===8;function ky(e){const{mt:t,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:o,remove:l,insert:u,createComment:p}}=e,_=(P,w)=>{if(!w.hasChildNodes()){r(null,P,w),Sa(),w._vnode=P;return}Vr=!1,m(w.firstChild,P,null,null,null),Sa(),w._vnode=P,Vr&&console.error("Hydration completed but contains mismatches.")},m=(P,w,R,k,B,M=!1)=>{const J=Yo(P)&&P.data==="[",E=()=>L(P,w,R,k,B,J),{type:q,ref:N,shapeFlag:Z,patchFlag:$}=w;let te=P.nodeType;w.el=P,$===-2&&(M=!1,w.dynamicChildren=null);let ue=null;switch(q){case Fs:te!==3?w.children===""?(u(w.el=s(""),o(P),P),ue=P):ue=E():(P.data!==w.children&&(Vr=!0,P.data=w.children),ue=i(P));break;case Sn:te!==8||J?ue=E():ue=i(P);break;case ks:if(J&&(P=i(P),te=P.nodeType),te===1||te===3){ue=P;const ke=!w.children.length;for(let qe=0;qe<w.staticCount;qe++)ke&&(w.children+=ue.nodeType===1?ue.outerHTML:ue.data),qe===w.staticCount-1&&(w.anchor=ue),ue=i(ue);return J?i(ue):ue}else E();break;case St:J?ue=T(P,w,R,k,B,M):ue=E();break;default:if(Z&1)te!==1||w.type.toLowerCase()!==P.tagName.toLowerCase()?ue=E():ue=y(P,w,R,k,B,M);else if(Z&6){w.slotScopeIds=B;const ke=o(P);if(t(w,ke,null,R,k,Jo(ke),M),ue=J?H(P):i(P),ue&&Yo(ue)&&ue.data==="teleport end"&&(ue=i(ue)),xs(w)){let qe;J?(qe=Ze(St),qe.anchor=ue?ue.previousSibling:ke.lastChild):qe=P.nodeType===3?ur(""):Ze("div"),qe.el=P,w.component.subTree=qe}}else Z&64?te!==8?ue=E():ue=w.type.hydrate(P,w,R,k,B,M,e,C):Z&128&&(ue=w.type.hydrate(P,w,R,k,Jo(o(P)),B,M,e,m))}return N!=null&&xa(N,null,k,w),ue},y=(P,w,R,k,B,M)=>{M=M||!!w.dynamicChildren;const{type:J,props:E,patchFlag:q,shapeFlag:N,dirs:Z}=w,$=J==="input"&&Z||J==="option";if($||q!==-1){if(Z&&pr(w,null,R,"created"),E)if($||!M||q&48)for(const ue in E)($&&ue.endsWith("value")||yo(ue)&&!Bi(ue))&&n(P,ue,null,E[ue],!1,void 0,R);else E.onClick&&n(P,"onClick",null,E.onClick,!1,void 0,R);let te;if((te=E&&E.onVnodeBeforeMount)&&Pn(te,R,w),Z&&pr(w,null,R,"beforeMount"),((te=E&&E.onVnodeMounted)||Z)&&mp(()=>{te&&Pn(te,R,w),Z&&pr(w,null,R,"mounted")},k),N&16&&!(E&&(E.innerHTML||E.textContent))){let ue=C(P.firstChild,w,P,R,k,B,M);for(;ue;){Vr=!0;const ke=ue;ue=ue.nextSibling,l(ke)}}else N&8&&P.textContent!==w.children&&(Vr=!0,P.textContent=w.children)}return P.nextSibling},C=(P,w,R,k,B,M,J)=>{J=J||!!w.dynamicChildren;const E=w.children,q=E.length;for(let N=0;N<q;N++){const Z=J?E[N]:E[N]=jn(E[N]);if(P)P=m(P,Z,k,B,M,J);else{if(Z.type===Fs&&!Z.children)continue;Vr=!0,r(null,Z,R,null,k,B,Jo(R),M)}}return P},T=(P,w,R,k,B,M)=>{const{slotScopeIds:J}=w;J&&(B=B?B.concat(J):J);const E=o(P),q=C(i(P),w,E,R,k,B,M);return q&&Yo(q)&&q.data==="]"?i(w.anchor=q):(Vr=!0,u(w.anchor=p("]"),E,q),q)},L=(P,w,R,k,B,M)=>{if(Vr=!0,w.el=null,M){const q=H(P);for(;;){const N=i(P);if(N&&N!==q)l(N);else break}}const J=i(P),E=o(P);return l(P),r(null,w,E,J,R,k,Jo(E),B),J},H=P=>{let w=0;for(;P;)if(P=i(P),P&&Yo(P)&&(P.data==="["&&w++,P.data==="]")){if(w===0)return i(P);w--}return P};return[_,m]}const yn=mp;function Up(e){return Vp(e)}function $p(e){return Vp(e,ky)}function Vp(e,t){const r=ou();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:l,createComment:u,setText:p,setElementText:_,parentNode:m,nextSibling:y,setScopeId:C=sr,insertStaticContent:T}=e,L=(D,j,ee,pe=null,ge=null,be=null,Me=!1,Fe=null,$e=!!j.dynamicChildren)=>{if(D===j)return;D&&!nr(D,j)&&(pe=se(D),De(D,ge,be,!0),D=null),j.patchFlag===-2&&($e=!1,j.dynamicChildren=null);const{type:fe,ref:Le,shapeFlag:je}=j;switch(fe){case Fs:H(D,j,ee,pe);break;case Sn:P(D,j,ee,pe);break;case ks:D==null&&w(j,ee,pe,Me);break;case St:$(D,j,ee,pe,ge,be,Me,Fe,$e);break;default:je&1?B(D,j,ee,pe,ge,be,Me,Fe,$e):je&6?te(D,j,ee,pe,ge,be,Me,Fe,$e):(je&64||je&128)&&fe.process(D,j,ee,pe,ge,be,Me,Fe,$e,he)}Le!=null&&ge&&xa(Le,D&&D.ref,be,j||D,!j)},H=(D,j,ee,pe)=>{if(D==null)n(j.el=l(j.children),ee,pe);else{const ge=j.el=D.el;j.children!==D.children&&p(ge,j.children)}},P=(D,j,ee,pe)=>{D==null?n(j.el=u(j.children||""),ee,pe):j.el=D.el},w=(D,j,ee,pe)=>{[D.el,D.anchor]=T(D.children,j,ee,pe,D.el,D.anchor)},R=({el:D,anchor:j},ee,pe)=>{let ge;for(;D&&D!==j;)ge=y(D),n(D,ee,pe),D=ge;n(j,ee,pe)},k=({el:D,anchor:j})=>{let ee;for(;D&&D!==j;)ee=y(D),s(D),D=ee;s(j)},B=(D,j,ee,pe,ge,be,Me,Fe,$e)=>{Me=Me||j.type==="svg",D==null?M(j,ee,pe,ge,be,Me,Fe,$e):q(D,j,ge,be,Me,Fe,$e)},M=(D,j,ee,pe,ge,be,Me,Fe)=>{let $e,fe;const{type:Le,props:je,shapeFlag:Be,transition:Ye,dirs:gt}=D;if($e=D.el=o(D.type,be,je&&je.is,je),Be&8?_($e,D.children):Be&16&&E(D.children,$e,null,pe,ge,be&&Le!=="foreignObject",Me,Fe),gt&&pr(D,null,pe,"created"),J($e,D,D.scopeId,Me,pe),je){for(const xt in je)xt!=="value"&&!Bi(xt)&&i($e,xt,null,je[xt],be,D.children,pe,ge,xe);"value"in je&&i($e,"value",null,je.value),(fe=je.onVnodeBeforeMount)&&Pn(fe,pe,D)}gt&&pr(D,null,pe,"beforeMount");const At=(!ge||ge&&!ge.pendingBranch)&&Ye&&!Ye.persisted;At&&Ye.beforeEnter($e),n($e,j,ee),((fe=je&&je.onVnodeMounted)||At||gt)&&yn(()=>{fe&&Pn(fe,pe,D),At&&Ye.enter($e),gt&&pr(D,null,pe,"mounted")},ge)},J=(D,j,ee,pe,ge)=>{if(ee&&C(D,ee),pe)for(let be=0;be<pe.length;be++)C(D,pe[be]);if(ge){let be=ge.subTree;if(j===be){const Me=ge.vnode;J(D,Me,Me.scopeId,Me.slotScopeIds,ge.parent)}}},E=(D,j,ee,pe,ge,be,Me,Fe,$e=0)=>{for(let fe=$e;fe<D.length;fe++){const Le=D[fe]=Fe?Gr(D[fe]):jn(D[fe]);L(null,Le,j,ee,pe,ge,be,Me,Fe)}},q=(D,j,ee,pe,ge,be,Me)=>{const Fe=j.el=D.el;let{patchFlag:$e,dynamicChildren:fe,dirs:Le}=j;$e|=D.patchFlag&16;const je=D.props||jt,Be=j.props||jt;let Ye;ee&&_s(ee,!1),(Ye=Be.onVnodeBeforeUpdate)&&Pn(Ye,ee,j,D),Le&&pr(j,D,ee,"beforeUpdate"),ee&&_s(ee,!0);const gt=ge&&j.type!=="foreignObject";if(fe?N(D.dynamicChildren,fe,Fe,ee,pe,gt,be):Me||nt(D,j,Fe,null,ee,pe,gt,be,!1),$e>0){if($e&16)Z(Fe,j,je,Be,ee,pe,ge);else if($e&2&&je.class!==Be.class&&i(Fe,"class",null,Be.class,ge),$e&4&&i(Fe,"style",je.style,Be.style,ge),$e&8){const At=j.dynamicProps;for(let xt=0;xt<At.length;xt++){const Rt=At[xt],Ht=je[Rt],on=Be[Rt];(on!==Ht||Rt==="value")&&i(Fe,Rt,Ht,on,ge,D.children,ee,pe,xe)}}$e&1&&D.children!==j.children&&_(Fe,j.children)}else!Me&&fe==null&&Z(Fe,j,je,Be,ee,pe,ge);((Ye=Be.onVnodeUpdated)||Le)&&yn(()=>{Ye&&Pn(Ye,ee,j,D),Le&&pr(j,D,ee,"updated")},pe)},N=(D,j,ee,pe,ge,be,Me)=>{for(let Fe=0;Fe<j.length;Fe++){const $e=D[Fe],fe=j[Fe],Le=$e.el&&($e.type===St||!nr($e,fe)||$e.shapeFlag&70)?m($e.el):ee;L($e,fe,Le,null,pe,ge,be,Me,!0)}},Z=(D,j,ee,pe,ge,be,Me)=>{if(ee!==pe){if(ee!==jt)for(const Fe in ee)!Bi(Fe)&&!(Fe in pe)&&i(D,Fe,ee[Fe],null,Me,j.children,ge,be,xe);for(const Fe in pe){if(Bi(Fe))continue;const $e=pe[Fe],fe=ee[Fe];$e!==fe&&Fe!=="value"&&i(D,Fe,fe,$e,Me,j.children,ge,be,xe)}"value"in pe&&i(D,"value",ee.value,pe.value)}},$=(D,j,ee,pe,ge,be,Me,Fe,$e)=>{const fe=j.el=D?D.el:l(""),Le=j.anchor=D?D.anchor:l("");let{patchFlag:je,dynamicChildren:Be,slotScopeIds:Ye}=j;Ye&&(Fe=Fe?Fe.concat(Ye):Ye),D==null?(n(fe,ee,pe),n(Le,ee,pe),E(j.children,ee,Le,ge,be,Me,Fe,$e)):je>0&&je&64&&Be&&D.dynamicChildren?(N(D.dynamicChildren,Be,ee,ge,be,Me,Fe),(j.key!=null||ge&&j===ge.subTree)&&Oc(D,j,!0)):nt(D,j,ee,Le,ge,be,Me,Fe,$e)},te=(D,j,ee,pe,ge,be,Me,Fe,$e)=>{j.slotScopeIds=Fe,D==null?j.shapeFlag&512?ge.ctx.activate(j,ee,pe,Me,$e):ue(j,ee,pe,ge,be,Me,$e):ke(D,j,$e)},ue=(D,j,ee,pe,ge,be,Me)=>{const Fe=D.component=Gp(D,pe,ge);if(Eo(D)&&(Fe.ctx.renderer=he),Yp(Fe),Fe.asyncDep){if(ge&&ge.registerDep(Fe,qe),!D.el){const $e=Fe.subTree=Ze(Sn);P(null,$e,j,ee)}return}qe(Fe,D,j,ee,ge,be,Me)},ke=(D,j,ee)=>{const pe=j.component=D.component;if(Mg(D,j,ee))if(pe.asyncDep&&!pe.asyncResolved){ye(pe,j,ee);return}else pe.next=j,Tg(pe.update),pe.update();else j.el=D.el,pe.vnode=j},qe=(D,j,ee,pe,ge,be,Me)=>{const Fe=()=>{if(D.isMounted){let{next:Le,bu:je,u:Be,parent:Ye,vnode:gt}=D,At=Le,xt;_s(D,!1),Le?(Le.el=gt.el,ye(D,Le,Me)):Le=gt,je&&ri(je),(xt=Le.props&&Le.props.onVnodeBeforeUpdate)&&Pn(xt,Ye,Le,gt),_s(D,!0);const Rt=ua(D),Ht=D.subTree;D.subTree=Rt,L(Ht,Rt,m(Ht.el),se(Ht),D,ge,be),Le.el=Rt.el,At===null&&wc(D,Rt.el),Be&&yn(Be,ge),(xt=Le.props&&Le.props.onVnodeUpdated)&&yn(()=>Pn(xt,Ye,Le,gt),ge)}else{let Le;const{el:je,props:Be}=j,{bm:Ye,m:gt,parent:At}=D,xt=xs(j);if(_s(D,!1),Ye&&ri(Ye),!xt&&(Le=Be&&Be.onVnodeBeforeMount)&&Pn(Le,At,j),_s(D,!0),je&&dt){const Rt=()=>{D.subTree=ua(D),dt(je,D.subTree,D,ge,null)};xt?j.type.__asyncLoader().then(()=>!D.isUnmounted&&Rt()):Rt()}else{const Rt=D.subTree=ua(D);L(null,Rt,ee,pe,D,ge,be),j.el=Rt.el}if(gt&&yn(gt,ge),!xt&&(Le=Be&&Be.onVnodeMounted)){const Rt=j;yn(()=>Pn(Le,At,Rt),ge)}(j.shapeFlag&256||At&&xs(At.vnode)&&At.vnode.shapeFlag&256)&&D.a&&yn(D.a,ge),D.isMounted=!0,j=ee=pe=null}},$e=D.effect=new bo(Fe,()=>Ja(fe),D.scope),fe=D.update=()=>$e.run();fe.id=D.uid,_s(D,!0),fe()},ye=(D,j,ee)=>{j.component=D;const pe=D.vnode.props;D.vnode=j,D.next=null,Ey(D,j.props,pe,ee),xy(D,j.children,ee),mi(),Sf(),gi()},nt=(D,j,ee,pe,ge,be,Me,Fe,$e=!1)=>{const fe=D&&D.children,Le=D?D.shapeFlag:0,je=j.children,{patchFlag:Be,shapeFlag:Ye}=j;if(Be>0){if(Be&128){ft(fe,je,ee,pe,ge,be,Me,Fe,$e);return}else if(Be&256){Pe(fe,je,ee,pe,ge,be,Me,Fe,$e);return}}Ye&8?(Le&16&&xe(fe,ge,be),je!==fe&&_(ee,je)):Le&16?Ye&16?ft(fe,je,ee,pe,ge,be,Me,Fe,$e):xe(fe,ge,be,!0):(Le&8&&_(ee,""),Ye&16&&E(je,ee,pe,ge,be,Me,Fe,$e))},Pe=(D,j,ee,pe,ge,be,Me,Fe,$e)=>{D=D||ti,j=j||ti;const fe=D.length,Le=j.length,je=Math.min(fe,Le);let Be;for(Be=0;Be<je;Be++){const Ye=j[Be]=$e?Gr(j[Be]):jn(j[Be]);L(D[Be],Ye,ee,null,ge,be,Me,Fe,$e)}fe>Le?xe(D,ge,be,!0,!1,je):E(j,ee,pe,ge,be,Me,Fe,$e,je)},ft=(D,j,ee,pe,ge,be,Me,Fe,$e)=>{let fe=0;const Le=j.length;let je=D.length-1,Be=Le-1;for(;fe<=je&&fe<=Be;){const Ye=D[fe],gt=j[fe]=$e?Gr(j[fe]):jn(j[fe]);if(nr(Ye,gt))L(Ye,gt,ee,null,ge,be,Me,Fe,$e);else break;fe++}for(;fe<=je&&fe<=Be;){const Ye=D[je],gt=j[Be]=$e?Gr(j[Be]):jn(j[Be]);if(nr(Ye,gt))L(Ye,gt,ee,null,ge,be,Me,Fe,$e);else break;je--,Be--}if(fe>je){if(fe<=Be){const Ye=Be+1,gt=Ye<Le?j[Ye].el:pe;for(;fe<=Be;)L(null,j[fe]=$e?Gr(j[fe]):jn(j[fe]),ee,gt,ge,be,Me,Fe,$e),fe++}}else if(fe>Be)for(;fe<=je;)De(D[fe],ge,be,!0),fe++;else{const Ye=fe,gt=fe,At=new Map;for(fe=gt;fe<=Be;fe++){const ot=j[fe]=$e?Gr(j[fe]):jn(j[fe]);ot.key!=null&&At.set(ot.key,fe)}let xt,Rt=0;const Ht=Be-gt+1;let on=!1,ht=0;const cn=new Array(Ht);for(fe=0;fe<Ht;fe++)cn[fe]=0;for(fe=Ye;fe<=je;fe++){const ot=D[fe];if(Rt>=Ht){De(ot,ge,be,!0);continue}let pn;if(ot.key!=null)pn=At.get(ot.key);else for(xt=gt;xt<=Be;xt++)if(cn[xt-gt]===0&&nr(ot,j[xt])){pn=xt;break}pn===void 0?De(ot,ge,be,!0):(cn[pn-gt]=fe+1,pn>=ht?ht=pn:on=!0,L(ot,j[pn],ee,null,ge,be,Me,Fe,$e),Rt++)}const g=on?Cy(cn):ti;for(xt=g.length-1,fe=Ht-1;fe>=0;fe--){const ot=gt+fe,pn=j[ot],Jn=ot+1<Le?j[ot+1].el:pe;cn[fe]===0?L(null,pn,ee,Jn,ge,be,Me,Fe,$e):on&&(xt<0||fe!==g[xt]?lt(pn,ee,Jn,2):xt--)}}},lt=(D,j,ee,pe,ge=null)=>{const{el:be,type:Me,transition:Fe,children:$e,shapeFlag:fe}=D;if(fe&6){lt(D.component.subTree,j,ee,pe);return}if(fe&128){D.suspense.move(j,ee,pe);return}if(fe&64){Me.move(D,j,ee,he);return}if(Me===St){n(be,j,ee);for(let je=0;je<$e.length;je++)lt($e[je],j,ee,pe);n(D.anchor,j,ee);return}if(Me===ks){R(D,j,ee);return}if(pe!==2&&fe&1&&Fe)if(pe===0)Fe.beforeEnter(be),n(be,j,ee),yn(()=>Fe.enter(be),ge);else{const{leave:je,delayLeave:Be,afterLeave:Ye}=Fe,gt=()=>n(be,j,ee),At=()=>{je(be,()=>{gt(),Ye&&Ye()})};Be?Be(be,gt,At):At()}else n(be,j,ee)},De=(D,j,ee,pe=!1,ge=!1)=>{const{type:be,props:Me,ref:Fe,children:$e,dynamicChildren:fe,shapeFlag:Le,patchFlag:je,dirs:Be}=D;if(Fe!=null&&xa(Fe,null,ee,D,!0),Le&256){j.ctx.deactivate(D);return}const Ye=Le&1&&Be,gt=!xs(D);let At;if(gt&&(At=Me&&Me.onVnodeBeforeUnmount)&&Pn(At,j,D),Le&6)it(D.component,ee,pe);else{if(Le&128){D.suspense.unmount(ee,pe);return}Ye&&pr(D,null,j,"beforeUnmount"),Le&64?D.type.remove(D,j,ee,ge,he,pe):fe&&(be!==St||je>0&&je&64)?xe(fe,j,ee,!1,!0):(be===St&&je&384||!ge&&Le&16)&&xe($e,j,ee),pe&&Ct(D)}(gt&&(At=Me&&Me.onVnodeUnmounted)||Ye)&&yn(()=>{At&&Pn(At,j,D),Ye&&pr(D,null,j,"unmounted")},ee)},Ct=D=>{const{type:j,el:ee,anchor:pe,transition:ge}=D;if(j===St){bt(ee,pe);return}if(j===ks){k(D);return}const be=()=>{s(ee),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(D.shapeFlag&1&&ge&&!ge.persisted){const{leave:Me,delayLeave:Fe}=ge,$e=()=>Me(ee,be);Fe?Fe(D.el,be,$e):$e()}else be()},bt=(D,j)=>{let ee;for(;D!==j;)ee=y(D),s(D),D=ee;s(j)},it=(D,j,ee)=>{const{bum:pe,scope:ge,update:be,subTree:Me,um:Fe}=D;pe&&ri(pe),ge.stop(),be&&(be.active=!1,De(Me,D,j,ee)),Fe&&yn(Fe,j),yn(()=>{D.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},xe=(D,j,ee,pe=!1,ge=!1,be=0)=>{for(let Me=be;Me<D.length;Me++)De(D[Me],j,ee,pe,ge)},se=D=>D.shapeFlag&6?se(D.component.subTree):D.shapeFlag&128?D.suspense.next():y(D.anchor||D.el),Re=(D,j,ee)=>{D==null?j._vnode&&De(j._vnode,null,null,!0):L(j._vnode||null,D,j,null,null,null,ee),Sf(),Sa(),j._vnode=D},he={p:L,um:De,m:lt,r:Ct,mt:ue,mc:E,pc:nt,pbc:N,n:se,o:e};let Ue,dt;return t&&([Ue,dt]=t(he)),{render:Re,hydrate:Ue,createApp:vy(Re,Ue)}}function _s({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Oc(e,t,r=!1){const n=e.children,s=t.children;if(at(n)&&at(s))for(let i=0;i<n.length;i++){const o=n[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Gr(s[i]),l.el=o.el),r||Oc(o,l)),l.type===Fs&&(l.el=o.el)}}function Cy(e){const t=e.slice(),r=[0];let n,s,i,o,l;const u=e.length;for(n=0;n<u;n++){const p=e[n];if(p!==0){if(s=r[r.length-1],e[s]<p){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)l=i+o>>1,e[r[l]]<p?i=l+1:o=l;p<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const Ay=e=>e.__isTeleport,$i=e=>e&&(e.disabled||e.disabled===""),Lf=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mu=(e,t)=>{const r=e&&e.to;return Yt(r)?t?t(r):null:r},Iy={__isTeleport:!0,process(e,t,r,n,s,i,o,l,u,p){const{mc:_,pc:m,pbc:y,o:{insert:C,querySelector:T,createText:L,createComment:H}}=p,P=$i(t.props);let{shapeFlag:w,children:R,dynamicChildren:k}=t;if(e==null){const B=t.el=L(""),M=t.anchor=L("");C(B,r,n),C(M,r,n);const J=t.target=mu(t.props,T),E=t.targetAnchor=L("");J&&(C(E,J),o=o||Lf(J));const q=(N,Z)=>{w&16&&_(R,N,Z,s,i,o,l,u)};P?q(r,M):J&&q(J,E)}else{t.el=e.el;const B=t.anchor=e.anchor,M=t.target=e.target,J=t.targetAnchor=e.targetAnchor,E=$i(e.props),q=E?r:M,N=E?B:J;if(o=o||Lf(M),k?(y(e.dynamicChildren,k,q,s,i,o,l),Oc(e,t,!0)):u||m(e,t,q,N,s,i,o,l,!1),P)E||Xo(t,r,B,p,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Z=t.target=mu(t.props,T);Z&&Xo(t,Z,null,p,0)}else E&&Xo(t,M,J,p,1)}zp(t)},remove(e,t,r,n,{um:s,o:{remove:i}},o){const{shapeFlag:l,children:u,anchor:p,targetAnchor:_,target:m,props:y}=e;if(m&&i(_),(o||!$i(y))&&(i(p),l&16))for(let C=0;C<u.length;C++){const T=u[C];s(T,t,r,!0,!!T.dynamicChildren)}},move:Xo,hydrate:Ty};function Xo(e,t,r,{o:{insert:n},m:s},i=2){i===0&&n(e.targetAnchor,t,r);const{el:o,anchor:l,shapeFlag:u,children:p,props:_}=e,m=i===2;if(m&&n(o,t,r),(!m||$i(_))&&u&16)for(let y=0;y<p.length;y++)s(p[y],t,r,2);m&&n(l,t,r)}function Ty(e,t,r,n,s,i,{o:{nextSibling:o,parentNode:l,querySelector:u}},p){const _=t.target=mu(t.props,u);if(_){const m=_._lpa||_.firstChild;if(t.shapeFlag&16)if($i(t.props))t.anchor=p(o(e),t,l(e),r,n,s,i),t.targetAnchor=m;else{t.anchor=o(e);let y=m;for(;y;)if(y=o(y),y&&y.nodeType===8&&y.data==="teleport anchor"){t.targetAnchor=y,_._lpa=t.targetAnchor&&o(t.targetAnchor);break}p(m,t,_,r,n,s,i)}zp(t)}return t.anchor&&o(t.anchor)}const Oy=Iy;function zp(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const St=Symbol.for("v-fgt"),Fs=Symbol.for("v-txt"),Sn=Symbol.for("v-cmt"),ks=Symbol.for("v-stc"),Vi=[];let Fn=null;function de(e=!1){Vi.push(Fn=e?null:[])}function Wp(){Vi.pop(),Fn=Vi[Vi.length-1]||null}let Ls=1;function gu(e){Ls+=e}function Kp(e){return e.dynamicChildren=Ls>0?Fn||ti:null,Wp(),Ls>0&&Fn&&Fn.push(e),e}function we(e,t,r,n,s,i){return Kp(Y(e,t,r,n,s,i,!0))}function mn(e,t,r,n,s){return Kp(Ze(e,t,r,n,s,!0))}function as(e){return e?e.__v_isVNode===!0:!1}function nr(e,t){return e.type===t.type&&e.key===t.key}function Py(e){}const sl="__vInternal",Hp=({key:e})=>e??null,ca=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Yt(e)||nn(e)||kt(e)?{i:_n,r:e,k:t,f:!!r}:e:null);function Y(e,t=null,r=null,n=0,s=null,i=e===St?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hp(t),ref:t&&ca(t),scopeId:Xa,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:_n};return l?(Pc(u,r),i&128&&e.normalize(u)):r&&(u.shapeFlag|=Yt(r)?8:16),Ls>0&&!o&&Fn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Fn.push(u),u}const Ze=Ry;function Ry(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Ap)&&(e=Sn),as(e)){const l=yr(e,t,!0);return r&&Pc(l,r),Ls>0&&!i&&Fn&&(l.shapeFlag&6?Fn[Fn.indexOf(e)]=l:Fn.push(l)),l.patchFlag|=-2,l}if(Uy(e)&&(e=e.__vccOpts),t){t=Qp(t);let{class:l,style:u}=t;l&&!Yt(l)&&(t.class=ut(l)),Ut(u)&&(_c(u)&&!at(u)&&(u=zt({},u)),t.style=lr(u))}const o=Yt(e)?1:hp(e)?128:Ay(e)?64:Ut(e)?4:kt(e)?2:0;return Y(e,t,r,n,s,o,i,!0)}function Qp(e){return e?_c(e)||sl in e?zt({},e):e:null}function yr(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,l=t?rs(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Hp(l),ref:t&&t.ref?r&&s?at(s)?s.concat(ca(t)):[s,ca(t)]:ca(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==St?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ur(e=" ",t=0){return Ze(Fs,null,e,t)}function Fy(e,t){const r=Ze(ks,null,e);return r.staticCount=t,r}function Ge(e="",t=!1){return t?(de(),mn(Sn,null,e)):Ze(Sn,null,e)}function jn(e){return e==null||typeof e=="boolean"?Ze(Sn):at(e)?Ze(St,null,e.slice()):typeof e=="object"?Gr(e):Ze(Fs,null,String(e))}function Gr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function Pc(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(at(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Pc(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(sl in t)?t._ctx=_n:s===3&&_n&&(_n.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else kt(t)?(t={default:t,_ctx:_n},r=32):(t=String(t),n&64?(r=16,t=[ur(t)]):r=8);e.children=t,e.shapeFlag|=r}function rs(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=ut([t.class,n.class]));else if(s==="style")t.style=lr([t.style,n.style]);else if(yo(s)){const i=t[s],o=n[s];o&&i!==o&&!(at(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Pn(e,t,r,n=null){Vn(e,t,7,[r,n])}const Ly=Lp();let Dy=0;function Gp(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Ly,i={uid:Dy++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mp(n,s),emitsOptions:pp(n,s),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:n.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Pg.bind(null,i),e.ce&&e.ce(i),i}let ln=null;const qn=()=>ln||_n;let Rc,Hs,Df="__VUE_INSTANCE_SETTERS__";(Hs=ou()[Df])||(Hs=ou()[Df]=[]),Hs.push(e=>ln=e),Rc=e=>{Hs.length>1?Hs.forEach(t=>t(e)):Hs[0](e)};const ls=e=>{Rc(e),e.scope.on()},ss=()=>{ln&&ln.scope.off(),Rc(null)};function Jp(e){return e.vnode.shapeFlag&4}let ui=!1;function Yp(e,t=!1){ui=t;const{props:r,children:n}=e.vnode,s=Jp(e);wy(e,r,s,t),qy(e,n);const i=s?My(e,t):void 0;return ui=!1,i}function My(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Os(new Proxy(e.ctx,du));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?Zp(e):null;ls(e),mi();const i=Pr(n,e,0,[e.props,s]);if(gi(),ss(),ac(i)){if(i.then(ss,ss),t)return i.then(o=>{yu(e,o,t)}).catch(o=>{Ns(o,e,0)});e.asyncDep=i}else yu(e,i,t)}else Xp(e,t)}function yu(e,t,r){kt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=yc(t)),Xp(e,r)}let ka,vu;function By(e){ka=e,vu=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,ey))}}const Ny=()=>!ka;function Xp(e,t,r){const n=e.type;if(!e.render){if(!t&&ka&&!n.render){const s=n.template||Ic(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:u}=n,p=zt(zt({isCustomElement:i,delimiters:l},o),u);n.render=ka(s,p)}}e.render=n.render||sr,vu&&vu(e)}ls(e),mi(),py(e),gi(),ss()}function jy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Dn(e,"get","$attrs"),t[r]}}))}function Zp(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return jy(e)},slots:e.slots,emit:e.emit,expose:t}}function il(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yc(Os(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in ji)return ji[r](e)},has(t,r){return r in t||r in ji}}))}function bu(e,t=!0){return kt(e)?e.displayName||e.name:e.name||t&&e.__name}function Uy(e){return kt(e)&&"__vccOpts"in e}const mt=(e,t)=>xg(e,t,ui);function ol(e,t,r){const n=arguments.length;return n===2?Ut(t)&&!at(t)?as(t)?Ze(e,null,[t]):Ze(e,t):Ze(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&as(r)&&(r=[r]),Ze(e,t,r))}const eh=Symbol.for("v-scx"),th=()=>In(eh);function $y(){}function Vy(e,t,r,n){const s=r[n];if(s&&nh(s,e))return s;const i=t();return i.memo=e.slice(),r[n]=i}function nh(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++)if(ai(r[n],t[n]))return!1;return Ls>0&&Fn&&Fn.push(e),!0}const rh="3.3.2",zy={createComponentInstance:Gp,setupComponent:Yp,renderComponentRoot:ua,setCurrentRenderingInstance:no,isVNode:as,normalizeVNode:jn},Wy=zy,Ky=null,Hy=null,Qy="http://www.w3.org/2000/svg",ys=typeof document<"u"?document:null,Mf=ys&&ys.createElement("template"),Gy={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?ys.createElementNS(Qy,e):ys.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>ys.createTextNode(e),createComment:e=>ys.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ys.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Mf.innerHTML=n?`<svg>${e}</svg>`:e;const l=Mf.content;if(n){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Jy(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Yy(e,t,r){const n=e.style,s=Yt(r);if(r&&!s){if(t&&!Yt(t))for(const i in t)r[i]==null&&wu(n,i,"");for(const i in r)wu(n,i,r[i])}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Bf=/\s*!important$/;function wu(e,t,r){if(at(r))r.forEach(n=>wu(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Xy(e,t);Bf.test(r)?e.setProperty(Qn(n),r.replace(Bf,""),"important"):e[n]=r}}const Nf=["Webkit","Moz","ms"],Ul={};function Xy(e,t){const r=Ul[t];if(r)return r;let n=Ln(t);if(n!=="filter"&&n in e)return Ul[t]=n;n=vo(n);for(let s=0;s<Nf.length;s++){const i=Nf[s]+n;if(i in e)return Ul[t]=i}return t}const jf="http://www.w3.org/1999/xlink";function Zy(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(jf,t.slice(6,t.length)):e.setAttributeNS(jf,t,r);else{const i=Dm(t);r==null||i&&!Vd(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function ev(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=r;const p=l==="OPTION"?e.getAttribute("value"):e.value,_=r??"";p!==_&&(e.value=_),r==null&&e.removeAttribute(t);return}let u=!1;if(r===""||r==null){const p=typeof e[t];p==="boolean"?r=Vd(r):r==null&&p==="string"?(r="",u=!0):p==="number"&&(r=0,u=!0)}try{e[t]=r}catch{}u&&e.removeAttribute(t)}function Ar(e,t,r,n){e.addEventListener(t,r,n)}function tv(e,t,r,n){e.removeEventListener(t,r,n)}function nv(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[l,u]=rv(t);if(n){const p=i[t]=ov(n,s);Ar(e,l,p,u)}else o&&(tv(e,l,o,u),i[t]=void 0)}}const Uf=/(?:Once|Passive|Capture)$/;function rv(e){let t;if(Uf.test(e)){t={};let n;for(;n=e.match(Uf);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qn(e.slice(2)),t]}let $l=0;const sv=Promise.resolve(),iv=()=>$l||(sv.then(()=>$l=0),$l=Date.now());function ov(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Vn(av(n,r.value),t,5,[n])};return r.value=e,r.attached=iv(),r}function av(e,t){if(at(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const $f=/^on[a-z]/,lv=(e,t,r,n,s=!1,i,o,l,u)=>{t==="class"?Jy(e,n,s):t==="style"?Yy(e,r,n):yo(t)?ic(t)||nv(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uv(e,t,n,s))?ev(e,t,n,i,o,l,u):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Zy(e,t,n,s))};function uv(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&$f.test(t)&&kt(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||$f.test(t)&&Yt(r)?!1:t in e}function sh(e,t){const r=Kn(e);class n extends al{constructor(i){super(r,i,t)}}return n.def=r,n}const cv=e=>sh(e,bh),fv=typeof HTMLElement<"u"?HTMLElement:class{};class al extends fv{constructor(t,r={},n){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,mr(()=>{this._connected||(qu(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=(n,s=!1)=>{const{props:i,styles:o}=n;let l;if(i&&!at(i))for(const u in i){const p=i[u];(p===Number||p&&p.type===Number)&&(u in this._props&&(this._props[u]=wa(this._props[u])),(l||(l=Object.create(null)))[Ln(u)]=!0)}this._numberProps=l,s&&this._resolveProps(n),this._applyStyles(o),this._update()},r=this._def.__asyncLoader;r?r().then(n=>t(n,!0)):t(this._def)}_resolveProps(t){const{props:r}=t,n=at(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of n.map(Ln))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i)}})}_setAttr(t){let r=this.getAttribute(t);const n=Ln(t);this._numberProps&&this._numberProps[n]&&(r=wa(r)),this._setProp(n,r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,n=!0,s=!0){r!==this._props[t]&&(this._props[t]=r,s&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Qn(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Qn(t),r+""):r||this.removeAttribute(Qn(t))))}_update(){qu(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Ze(this._def,zt({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0;const n=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};r.emit=(i,...o)=>{n(i,o),Qn(i)!==i&&n(Qn(i),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof al){r.parent=s._instance,r.provides=s._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function dv(e="$style"){{const t=qn();if(!t)return jt;const r=t.type.__cssModules;if(!r)return jt;const n=r[e];return n||jt}}function pv(e){const t=qn();if(!t)return;const r=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Su(i,s))},n=()=>{const s=e(t.proxy);Eu(t.subTree,s),r(s)};gp(n),Nr(()=>{const s=new MutationObserver(n);s.observe(t.subTree.el.parentNode,{childList:!0}),So(()=>s.disconnect())})}function Eu(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Eu(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Su(e.el,t);else if(e.type===St)e.children.forEach(r=>Eu(r,t));else if(e.type===ks){let{el:r,anchor:n}=e;for(;r&&(Su(r,t),r!==n);)r=r.nextSibling}}function Su(e,t){if(e.nodeType===1){const r=e.style;for(const n in t)r.setProperty(`--${n}`,t[n])}}const zr="transition",Ti="animation",Fc=(e,{slots:t})=>ol(vp,oh(e),t);Fc.displayName="Transition";const ih={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hv=Fc.props=zt({},qc,ih),ms=(e,t=[])=>{at(e)?e.forEach(r=>r(...t)):e&&e(...t)},Vf=e=>e?at(e)?e.some(t=>t.length>1):e.length>1:!1;function oh(e){const t={};for(const $ in e)$ in ih||(t[$]=e[$]);if(e.css===!1)return t;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:u=i,appearActiveClass:p=o,appearToClass:_=l,leaveFromClass:m=`${r}-leave-from`,leaveActiveClass:y=`${r}-leave-active`,leaveToClass:C=`${r}-leave-to`}=e,T=_v(s),L=T&&T[0],H=T&&T[1],{onBeforeEnter:P,onEnter:w,onEnterCancelled:R,onLeave:k,onLeaveCancelled:B,onBeforeAppear:M=P,onAppear:J=w,onAppearCancelled:E=R}=t,q=($,te,ue)=>{Kr($,te?_:l),Kr($,te?p:o),ue&&ue()},N=($,te)=>{$._isLeaving=!1,Kr($,m),Kr($,C),Kr($,y),te&&te()},Z=$=>(te,ue)=>{const ke=$?J:w,qe=()=>q(te,$,ue);ms(ke,[te,qe]),zf(()=>{Kr(te,$?u:i),qr(te,$?_:l),Vf(ke)||Wf(te,n,L,qe)})};return zt(t,{onBeforeEnter($){ms(P,[$]),qr($,i),qr($,o)},onBeforeAppear($){ms(M,[$]),qr($,u),qr($,p)},onEnter:Z(!1),onAppear:Z(!0),onLeave($,te){$._isLeaving=!0;const ue=()=>N($,te);qr($,m),lh(),qr($,y),zf(()=>{!$._isLeaving||(Kr($,m),qr($,C),Vf(k)||Wf($,n,H,ue))}),ms(k,[$,ue])},onEnterCancelled($){q($,!1),ms(R,[$])},onAppearCancelled($){q($,!0),ms(E,[$])},onLeaveCancelled($){N($),ms(B,[$])}})}function _v(e){if(e==null)return null;if(Ut(e))return[Vl(e.enter),Vl(e.leave)];{const t=Vl(e);return[t,t]}}function Vl(e){return wa(e)}function qr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function Kr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function zf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mv=0;function Wf(e,t,r,n){const s=e._endId=++mv,i=()=>{s===e._endId&&n()};if(r)return setTimeout(i,r);const{type:o,timeout:l,propCount:u}=ah(e,t);if(!o)return n();const p=o+"end";let _=0;const m=()=>{e.removeEventListener(p,y),i()},y=C=>{C.target===e&&++_>=u&&m()};setTimeout(()=>{_<u&&m()},l+1),e.addEventListener(p,y)}function ah(e,t){const r=window.getComputedStyle(e),n=T=>(r[T]||"").split(", "),s=n(`${zr}Delay`),i=n(`${zr}Duration`),o=Kf(s,i),l=n(`${Ti}Delay`),u=n(`${Ti}Duration`),p=Kf(l,u);let _=null,m=0,y=0;t===zr?o>0&&(_=zr,m=o,y=i.length):t===Ti?p>0&&(_=Ti,m=p,y=u.length):(m=Math.max(o,p),_=m>0?o>p?zr:Ti:null,y=_?_===zr?i.length:u.length:0);const C=_===zr&&/\b(transform|all)(,|$)/.test(n(`${zr}Property`).toString());return{type:_,timeout:m,propCount:y,hasTransform:C}}function Kf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Hf(r)+Hf(e[n])))}function Hf(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function lh(){return document.body.offsetHeight}const uh=new WeakMap,ch=new WeakMap,fh={name:"TransitionGroup",props:zt({},hv,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=qn(),n=Sc();let s,i;return tl(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!wv(s[0].el,r.vnode.el,o))return;s.forEach(yv),s.forEach(vv);const l=s.filter(bv);lh(),l.forEach(u=>{const p=u.el,_=p.style;qr(p,o),_.transform=_.webkitTransform=_.transitionDuration="";const m=p._moveCb=y=>{y&&y.target!==p||(!y||/transform$/.test(y.propertyName))&&(p.removeEventListener("transitionend",m),p._moveCb=null,Kr(p,o))};p.addEventListener("transitionend",m)})}),()=>{const o=Pt(e),l=oh(o);let u=o.tag||St;s=i,i=t.default?Za(t.default()):[];for(let p=0;p<i.length;p++){const _=i[p];_.key!=null&&Rs(_,li(_,l,n,r))}if(s)for(let p=0;p<s.length;p++){const _=s[p];Rs(_,li(_,l,n,r)),uh.set(_,_.el.getBoundingClientRect())}return Ze(u,null,i)}}},gv=e=>delete e.mode;fh.props;const dh=fh;function yv(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function vv(e){ch.set(e,e.el.getBoundingClientRect())}function bv(e){const t=uh.get(e),r=ch.get(e),n=t.left-r.left,s=t.top-r.top;if(n||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",e}}function wv(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(n);const{hasTransform:i}=ah(n);return s.removeChild(n),i}const us=e=>{const t=e.props["onUpdate:modelValue"]||!1;return at(t)?r=>ri(t,r):t};function Ev(e){e.target.composing=!0}function Qf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Jt={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e._assign=us(s);const i=n||s.props&&s.props.type==="number";Ar(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;r&&(l=l.trim()),i&&(l=ba(l)),e._assign(l)}),r&&Ar(e,"change",()=>{e.value=e.value.trim()}),t||(Ar(e,"compositionstart",Ev),Ar(e,"compositionend",Qf),Ar(e,"change",Qf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:s}},i){if(e._assign=us(i),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(s||e.type==="number")&&ba(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Xr={deep:!0,created(e,t,r){e._assign=us(r),Ar(e,"change",()=>{const n=e._modelValue,s=ci(e),i=e.checked,o=e._assign;if(at(n)){const l=za(n,s),u=l!==-1;if(i&&!u)o(n.concat(s));else if(!i&&u){const p=[...n];p.splice(l,1),o(p)}}else if(Bs(n)){const l=new Set(n);i?l.add(s):l.delete(s),o(l)}else o(hh(e,i))})},mounted:Gf,beforeUpdate(e,t,r){e._assign=us(r),Gf(e,t,r)}};function Gf(e,{value:t,oldValue:r},n){e._modelValue=t,at(t)?e.checked=za(t,n.props.value)>-1:Bs(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=is(t,hh(e,!0)))}const Lc={created(e,{value:t},r){e.checked=is(t,r.props.value),e._assign=us(r),Ar(e,"change",()=>{e._assign(ci(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=us(n),t!==r&&(e.checked=is(t,n.props.value))}},ph={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const s=Bs(t);Ar(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?ba(ci(o)):ci(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=us(n)},mounted(e,{value:t}){Jf(e,t)},beforeUpdate(e,t,r){e._assign=us(r)},updated(e,{value:t}){Jf(e,t)}};function Jf(e,t){const r=e.multiple;if(!(r&&!at(t)&&!Bs(t))){for(let n=0,s=e.options.length;n<s;n++){const i=e.options[n],o=ci(i);if(r)at(t)?i.selected=za(t,o)>-1:i.selected=t.has(o);else if(is(ci(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ci(e){return"_value"in e?e._value:e.value}function hh(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const _h={created(e,t,r){Zo(e,t,r,null,"created")},mounted(e,t,r){Zo(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){Zo(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){Zo(e,t,r,n,"updated")}};function mh(e,t){switch(e){case"SELECT":return ph;case"TEXTAREA":return Jt;default:switch(t){case"checkbox":return Xr;case"radio":return Lc;default:return Jt}}}function Zo(e,t,r,n,s){const o=mh(e.tagName,r.props&&r.props.type)[s];o&&o(e,t,r,n)}function Sv(){Jt.getSSRProps=({value:e})=>({value:e}),Lc.getSSRProps=({value:e},t)=>{if(t.props&&is(t.props.value,e))return{checked:!0}},Xr.getSSRProps=({value:e},t)=>{if(at(e)){if(t.props&&za(e,t.props.value)>-1)return{checked:!0}}else if(Bs(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},_h.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=mh(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const qv=["ctrl","shift","alt","meta"],xv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qv.some(r=>e[`${r}Key`]&&!t.includes(r))},fn=(e,t)=>(r,...n)=>{for(let s=0;s<t.length;s++){const i=xv[t[s]];if(i&&i(r,t))return}return e(r,...n)},kv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fi=(e,t)=>r=>{if(!("key"in r))return;const n=Qn(r.key);if(t.some(s=>s===n||kv[s]===n))return e(r)},Rn={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Oi(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Oi(e,!0),n.enter(e)):n.leave(e,()=>{Oi(e,!1)}):Oi(e,t))},beforeUnmount(e,{value:t}){Oi(e,t)}};function Oi(e,t){e.style.display=t?e._vod:"none"}function Cv(){Rn.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const gh=zt({patchProp:lv},Gy);let zi,Yf=!1;function yh(){return zi||(zi=Up(gh))}function vh(){return zi=Yf?zi:$p(gh),Yf=!0,zi}const qu=(...e)=>{yh().render(...e)},bh=(...e)=>{vh().hydrate(...e)},Dc=(...e)=>{const t=yh().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=wh(n);if(!s)return;const i=t._component;!kt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},Av=(...e)=>{const t=vh().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=wh(n);if(s)return r(s,!0,s instanceof SVGElement)},t};function wh(e){return Yt(e)?document.querySelector(e):e}let Xf=!1;const Iv=()=>{Xf||(Xf=!0,Sv(),Cv())},Tv=()=>{},Ov=Object.freeze(Object.defineProperty({__proto__:null,compile:Tv,EffectScope:uc,ReactiveEffect:bo,customRef:bg,effect:jm,effectScope:cc,getCurrentScope:fc,isProxy:_c,isReactive:Or,isReadonly:Ts,isRef:nn,isShallow:Xi,markRaw:Os,onScopeDispose:Kd,proxyRefs:yc,reactive:rn,readonly:hc,ref:Dt,shallowReactive:ip,shallowReadonly:hg,shallowRef:op,stop:Um,toRaw:Pt,toRef:Sg,toRefs:On,toValue:gg,triggerRef:mg,unref:ne,camelize:Ln,capitalize:vo,normalizeClass:ut,normalizeProps:Fm,normalizeStyle:lr,toDisplayString:vt,toHandlerKey:Ni,BaseTransition:vp,BaseTransitionPropsValidators:qc,Comment:Sn,Fragment:St,KeepAlive:Gg,Static:ks,Suspense:_p,Teleport:Oy,Text:Fs,assertNumber:Cg,callWithAsyncErrorHandling:Vn,callWithErrorHandling:Pr,cloneVNode:yr,compatUtils:Hy,computed:mt,createBlock:mn,createCommentVNode:Ge,createElementBlock:we,createElementVNode:Y,createHydrationRenderer:$p,createPropsRestProxy:dy,createRenderer:Up,createSlots:Zg,createStaticVNode:Fy,createTextVNode:ur,createVNode:Ze,defineAsyncComponent:Hg,defineComponent:Kn,defineEmits:ny,defineExpose:ry,defineModel:oy,defineOptions:sy,defineProps:ty,defineSlots:iy,get devtools(){return Ys},getCurrentInstance:qn,getTransitionRawChildren:Za,guardReactiveProps:Qp,h:ol,handleError:Ns,hasInjectionContext:by,initCustomFormatter:$y,inject:In,isMemoSame:nh,isRuntimeOnly:Ny,isVNode:as,mergeDefaults:cy,mergeModels:fy,mergeProps:rs,nextTick:mr,onActivated:xc,onBeforeMount:Ep,onBeforeUnmount:nl,onBeforeUpdate:Sp,onDeactivated:kc,onErrorCaptured:Cp,onMounted:Nr,onRenderTracked:kp,onRenderTriggered:xp,onServerPrefetch:qp,onUnmounted:So,onUpdated:tl,openBlock:de,popScopeId:br,provide:Ui,pushScopeId:vr,queuePostFlushCb:bc,registerRuntimeCompiler:By,renderList:Kt,renderSlot:hn,resolveComponent:ns,resolveDirective:Xg,resolveDynamicComponent:rl,resolveFilter:Ky,resolveTransitionHooks:li,setBlockTracking:gu,setDevtoolsHook:dp,setTransitionHooks:Rs,ssrContextKey:eh,ssrUtils:Wy,toHandlers:Tp,transformVNodeArgs:Py,useAttrs:ly,useModel:uy,useSSRContext:th,useSlots:Op,useTransitionState:Sc,version:rh,warn:kg,watch:tn,watchEffect:Ps,watchPostEffect:gp,watchSyncEffect:zg,withAsyncContext:Rp,withCtx:Gn,withDefaults:ay,withDirectives:Ot,withMemo:Vy,withScopeId:Rg,Transition:Fc,TransitionGroup:dh,VueElement:al,createApp:Dc,createSSRApp:Av,defineCustomElement:sh,defineSSRCustomElement:cv,hydrate:bh,initDirectivesForSSR:Iv,render:qu,useCssModule:dv,useCssVars:pv,vModelCheckbox:Xr,vModelDynamic:_h,vModelRadio:Lc,vModelSelect:ph,vModelText:Jt,vShow:Rn,withKeys:fi,withModifiers:fn},Symbol.toStringTag,{value:"Module"}));var Pv=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Eh;const ll=e=>Eh=e,Sh=Symbol();function xu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Wi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Wi||(Wi={}));function Rv(){const e=cc(!0),t=e.run(()=>Dt({}));let r=[],n=[];const s=Os({install(i){ll(s),s._a=i,i.provide(Sh,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return!this._a&&!Pv?n.push(i):r.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return s}const qh=()=>{};function Zf(e,t,r,n=qh){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!r&&fc()&&Kd(s),s}function Qs(e,...t){e.slice().forEach(r=>{r(...t)})}function ku(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],s=e[r];xu(s)&&xu(n)&&e.hasOwnProperty(r)&&!nn(n)&&!Or(n)?e[r]=ku(s,n):e[r]=n}return e}const Fv=Symbol();function Lv(e){return!xu(e)||!e.hasOwnProperty(Fv)}const{assign:Hr}=Object;function Dv(e){return!!(nn(e)&&e.effect)}function Mv(e,t,r,n){const{state:s,actions:i,getters:o}=t,l=r.state.value[e];let u;function p(){l||(r.state.value[e]=s?s():{});const _=On(r.state.value[e]);return Hr(_,i,Object.keys(o||{}).reduce((m,y)=>(m[y]=Os(mt(()=>{ll(r);const C=r._s.get(e);return o[y].call(C,C)})),m),{}))}return u=xh(e,p,t,r,n,!0),u}function xh(e,t,r={},n,s,i){let o;const l=Hr({actions:{}},r),u={deep:!0};let p,_,m=Os([]),y=Os([]),C;const T=n.state.value[e];!i&&!T&&(n.state.value[e]={}),Dt({});let L;function H(J){let E;p=_=!1,typeof J=="function"?(J(n.state.value[e]),E={type:Wi.patchFunction,storeId:e,events:C}):(ku(n.state.value[e],J),E={type:Wi.patchObject,payload:J,storeId:e,events:C});const q=L=Symbol();mr().then(()=>{L===q&&(p=!0)}),_=!0,Qs(m,E,n.state.value[e])}const P=i?function(){const{state:E}=r,q=E?E():{};this.$patch(N=>{Hr(N,q)})}:qh;function w(){o.stop(),m=[],y=[],n._s.delete(e)}function R(J,E){return function(){ll(n);const q=Array.from(arguments),N=[],Z=[];function $(ke){N.push(ke)}function te(ke){Z.push(ke)}Qs(y,{args:q,name:J,store:B,after:$,onError:te});let ue;try{ue=E.apply(this&&this.$id===e?this:B,q)}catch(ke){throw Qs(Z,ke),ke}return ue instanceof Promise?ue.then(ke=>(Qs(N,ke),ke)).catch(ke=>(Qs(Z,ke),Promise.reject(ke))):(Qs(N,ue),ue)}}const k={_p:n,$id:e,$onAction:Zf.bind(null,y),$patch:H,$reset:P,$subscribe(J,E={}){const q=Zf(m,J,E.detached,()=>N()),N=o.run(()=>tn(()=>n.state.value[e],Z=>{(E.flush==="sync"?_:p)&&J({storeId:e,type:Wi.direct,events:C},Z)},Hr({},u,E)));return q},$dispose:w},B=rn(k);n._s.set(e,B);const M=n._e.run(()=>(o=cc(),o.run(()=>t())));for(const J in M){const E=M[J];if(nn(E)&&!Dv(E)||Or(E))i||(T&&Lv(E)&&(nn(E)?E.value=T[J]:ku(E,T[J])),n.state.value[e][J]=E);else if(typeof E=="function"){const q=R(J,E);M[J]=q,l.actions[J]=E}}return Hr(B,M),Hr(Pt(B),M),Object.defineProperty(B,"$state",{get:()=>n.state.value[e],set:J=>{H(E=>{Hr(E,J)})}}),n._p.forEach(J=>{Hr(B,o.run(()=>J({store:B,app:n._a,pinia:n,options:l})))}),T&&i&&r.hydrate&&r.hydrate(B.$state,T),p=!0,_=!0,B}function jr(e,t,r){let n,s;const i=typeof t=="function";typeof e=="string"?(n=e,s=i?r:t):(s=e,n=e.id);function o(l,u){const p=qn();return l=l||p&&In(Sh,null),l&&ll(l),l=Eh,l._s.has(n)||(i?xh(n,t,s,l):Mv(n,s,l)),l._s.get(n)}return o.$id=n,o}const Xt=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},Bv={};function Nv(e,t){const r=ns("router-view");return de(),mn(_p,null,{fallback:Gn(()=>[ur(" Loading... ")]),default:Gn(()=>[Ze(r)]),_:1})}const jv=Xt(Bv,[["render",Nv]]);var Uv=Object.defineProperty,ed=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,td=(e,t,r)=>t in e?Uv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kh=(e,t)=>{for(var r in t||(t={}))$v.call(t,r)&&td(e,r,t[r]);if(ed)for(var r of ed(t))Vv.call(t,r)&&td(e,r,t[r]);return e},ul=e=>typeof e=="function",cl=e=>typeof e=="string",Ch=e=>cl(e)&&e.trim().length>0,zv=e=>typeof e=="number",Es=e=>typeof e>"u",oo=e=>typeof e=="object"&&e!==null,Wv=e=>gr(e,"tag")&&Ch(e.tag),Ah=e=>window.TouchEvent&&e instanceof TouchEvent,Ih=e=>gr(e,"component")&&Th(e.component),Kv=e=>ul(e)||oo(e),Th=e=>!Es(e)&&(cl(e)||Kv(e)||Ih(e)),nd=e=>oo(e)&&["height","width","right","left","top","bottom"].every(t=>zv(e[t])),gr=(e,t)=>(oo(e)||ul(e))&&t in e,Hv=(e=>()=>e++)(0);function zl(e){return Ah(e)?e.targetTouches[0].clientX:e.clientX}function rd(e){return Ah(e)?e.targetTouches[0].clientY:e.clientY}var Qv=e=>{Es(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},qo=e=>Ih(e)?qo(e.component):Wv(e)?Kn({render(){return e}}):typeof e=="string"?e:Pt(ne(e)),Gv=e=>{if(typeof e=="string")return e;const t=gr(e,"props")&&oo(e.props)?e.props:{},r=gr(e,"listeners")&&oo(e.listeners)?e.listeners:{};return{component:qo(e),props:t,listeners:r}},Jv=()=>typeof window<"u",Mc=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(n=>n(t))}},Yv=e=>["on","off","emit"].every(t=>gr(e,t)&&ul(e[t])),Un;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(Un||(Un={}));var ao;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(ao||(ao={}));var $n;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})($n||($n={}));var rr="Vue-Toastification",er={type:{type:String,default:Un.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Oh={type:er.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},fa={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:er.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Cu={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Ph={transition:{type:[Object,String],default:`${rr}__bounce`}},Xv={position:{type:String,default:ao.TOP_RIGHT},draggable:er.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:er.trueBoolean,pauseOnHover:er.trueBoolean,closeOnClick:er.trueBoolean,timeout:Cu.timeout,hideProgressBar:Cu.hideProgressBar,toastClassName:er.classNames,bodyClassName:er.classNames,icon:Oh.customIcon,closeButton:fa.component,closeButtonClassName:fa.classNames,showCloseButtonOnHover:fa.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Mc}},Zv={id:{type:[String,Number],required:!0,default:0},type:er.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},eb={container:{type:[Object,Function],default:()=>document.body},newestOnTop:er.trueBoolean,maxToasts:{type:Number,default:20},transition:Ph.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:er.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Rr={CORE_TOAST:Xv,TOAST:Zv,CONTAINER:eb,PROGRESS_BAR:Cu,ICON:Oh,TRANSITION:Ph,CLOSE_BUTTON:fa},Rh=Kn({name:"VtProgressBar",props:Rr.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${rr}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function tb(e,t){return de(),we("div",{style:lr(e.style),class:ut(e.cpClass)},null,6)}Rh.render=tb;var nb=Rh,Fh=Kn({name:"VtCloseButton",props:Rr.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?qo(this.component):"button"},classes(){const e=[`${rr}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),rb=ur(" \xD7 ");function sb(e,t){return de(),mn(rl(e.buttonComponent),rs({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Gn(()=>[rb]),_:1},16,["aria-label","class"])}Fh.render=sb;var ib=Fh,Lh={},ob={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ab=Y("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),lb=[ab];function ub(e,t){return de(),we("svg",ob,lb)}Lh.render=ub;var cb=Lh,Dh={},fb={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},db=Y("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),pb=[db];function hb(e,t){return de(),we("svg",fb,pb)}Dh.render=hb;var sd=Dh,Mh={},_b={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mb=Y("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),gb=[mb];function yb(e,t){return de(),we("svg",_b,gb)}Mh.render=yb;var vb=Mh,Bh={},bb={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},wb=Y("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Eb=[wb];function Sb(e,t){return de(),we("svg",bb,Eb)}Bh.render=Sb;var qb=Bh,Nh=Kn({name:"VtIcon",props:Rr.ICON,computed:{customIconChildren(){return gr(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return cl(this.customIcon)?this.trimValue(this.customIcon):gr(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return gr(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Th(this.customIcon)?qo(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Un.DEFAULT]:sd,[Un.INFO]:sd,[Un.SUCCESS]:cb,[Un.ERROR]:qb,[Un.WARNING]:vb}[this.type]},iconClasses(){const e=[`${rr}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Ch(e)?e.trim():t}}});function xb(e,t){return de(),mn(rl(e.component),{class:ut(e.iconClasses)},{default:Gn(()=>[ur(vt(e.customIconChildren),1)]),_:1},8,["class"])}Nh.render=xb;var kb=Nh,jh=Kn({name:"VtToast",components:{ProgressBar:nb,CloseButton:ib,Icon:kb},inheritAttrs:!1,props:Object.assign({},Rr.CORE_TOAST,Rr.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${rr}__toast`,`${rr}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${rr}__toast--rtl`),e},bodyClasses(){return[`${rr}__toast-${cl(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return nd(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:gr,getVueComponentFromObj:qo,closeToast(){this.eventBus.emit($n.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:zl(e),y:rd(e)},this.dragStart=zl(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:zl(e),y:rd(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,nd(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Cb=["role"];function Ab(e,t){const r=ns("Icon"),n=ns("CloseButton"),s=ns("ProgressBar");return de(),we("div",{class:ut(e.classes),style:lr(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(de(),mn(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Ge("v-if",!0),Y("div",{role:e.accessibility.toastRole||"alert",class:ut(e.bodyClasses)},[typeof e.content=="string"?(de(),we(St,{key:0},[ur(vt(e.content),1)],2112)):(de(),mn(rl(e.getVueComponentFromObj(e.content)),rs({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Tp(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Cb),e.closeButton?(de(),mn(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:fn(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Ge("v-if",!0),e.timeout?(de(),mn(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Ge("v-if",!0)],38)}jh.render=Ab;var Ib=jh,Uh=Kn({name:"VtTransition",props:Rr.TRANSITION,emits:["leave"],methods:{hasProp:gr,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Tb(e,t){return de(),mn(dh,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:Gn(()=>[hn(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Uh.render=Tb;var Ob=Uh,$h=Kn({name:"VueToastification",devtools:{hide:!0},components:{Toast:Ib,VtTransition:Ob},props:Object.assign({},Rr.CORE_TOAST,Rr.CONTAINER,Rr.TRANSITION),data(){return{count:0,positions:Object.values(ao),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on($n.ADD,this.addToast),e.on($n.CLEAR,this.clearToasts),e.on($n.DISMISS,this.dismissToast),e.on($n.UPDATE,this.updateToast),e.on($n.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){ul(e)&&(e=await e()),Qv(this.$el),e.appendChild(this.$el)},setToast(e){Es(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Gv(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];!Es(t)&&!Es(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(r=>r.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Es(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${rr}__container`,e].concat(this.defaults.containerClassName)}}});function Pb(e,t){const r=ns("Toast"),n=ns("VtTransition");return de(),we("div",null,[(de(!0),we(St,null,Kt(e.positions,s=>(de(),we("div",{key:s},[Ze(n,{transition:e.defaults.transition,class:ut(e.getClasses(s))},{default:Gn(()=>[(de(!0),we(St,null,Kt(e.getPositionToasts(s),i=>(de(),mn(r,rs({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}$h.render=Pb;var Rb=$h,id=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new Mc;t&&mr(()=>{const i=Dc(Rb,kh({},e)),o=i.mount(document.createElement("div")),l=e.onMounted;if(Es(l)||l(o,i),e.shareAppContext){const u=e.shareAppContext;u===!0?console.warn(`[${rr}] App to share context with was not provided.`):(i._context.components=u._context.components,i._context.directives=u._context.directives,i._context.mixins=u._context.mixins,i._context.provides=u._context.provides,i.config.globalProperties=u.config.globalProperties)}});const n=(i,o)=>{const l=Object.assign({},{id:Hv(),type:Un.DEFAULT},o,{content:i});return r.emit($n.ADD,l),l.id};n.clear=()=>r.emit($n.CLEAR,void 0),n.updateDefaults=i=>{r.emit($n.UPDATE_DEFAULTS,i)},n.dismiss=i=>{r.emit($n.DISMISS,i)};function s(i,{content:o,options:l},u=!1){const p=Object.assign({},l,{content:o});r.emit($n.UPDATE,{id:i,options:p,create:u})}return n.update=s,n.success=(i,o)=>n(i,Object.assign({},o,{type:Un.SUCCESS})),n.info=(i,o)=>n(i,Object.assign({},o,{type:Un.INFO})),n.error=(i,o)=>n(i,Object.assign({},o,{type:Un.ERROR})),n.warning=(i,o)=>n(i,Object.assign({},o,{type:Un.WARNING})),n},Fb=()=>{const e=()=>console.warn(`[${rr}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Au(e){return Jv()?Yv(e)?id({eventBus:e},!1):id(e,!0):Fb()}var Vh=Symbol("VueToastification"),zh=new Mc,Lb=(e,t)=>{t?.shareAppContext===!0&&(t.shareAppContext=e);const r=Au(kh({eventBus:zh},t));e.provide(Vh,r)},xo=e=>{if(e)return Au(e);const t=qn()?In(Vh,void 0):void 0;return t||Au(zh)},Db=Lb;/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Xs=typeof window<"u";function Mb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Nt=Object.assign;function Wl(e,t){const r={};for(const n in t){const s=t[n];r[n]=or(s)?s.map(e):e(s)}return r}const Ki=()=>{},or=Array.isArray,Bb=/\/$/,Nb=e=>e.replace(Bb,"");function Kl(e,t,r="/"){let n,s={},i="",o="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(n=t.slice(0,u),i=t.slice(u+1,l>-1?l:t.length),s=e(i)),l>-1&&(n=n||t.slice(0,l),o=t.slice(l,t.length)),n=Vb(n??t,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:o}}function jb(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function od(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ub(e,t,r){const n=t.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&di(t.matched[n],r.matched[s])&&Wh(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function di(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!$b(e[r],t[r]))return!1;return!0}function $b(e,t){return or(e)?ad(e,t):or(t)?ad(t,e):e===t}function ad(e,t){return or(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Vb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,l;for(o=0;o<n.length;o++)if(l=n[o],l!==".")if(l==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var lo;(function(e){e.pop="pop",e.push="push"})(lo||(lo={}));var Hi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Hi||(Hi={}));function zb(e){if(!e)if(Xs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Nb(e)}const Wb=/^[^#]+#/;function Kb(e,t){return e.replace(Wb,"#")+t}function Hb(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const fl=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qb(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=Hb(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ld(e,t){return(history.state?history.state.position-t:-1)+e}const Iu=new Map;function Gb(e,t){Iu.set(e,t)}function Jb(e){const t=Iu.get(e);return Iu.delete(e),t}let Yb=()=>location.protocol+"//"+location.host;function Kh(e,t){const{pathname:r,search:n,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),od(u,"")}return od(r,e)+n+s}function Xb(e,t,r,n){let s=[],i=[],o=null;const l=({state:y})=>{const C=Kh(e,location),T=r.value,L=t.value;let H=0;if(y){if(r.value=C,t.value=y,o&&o===T){o=null;return}H=L?y.position-L.position:0}else n(C);s.forEach(P=>{P(r.value,T,{delta:H,type:lo.pop,direction:H?H>0?Hi.forward:Hi.back:Hi.unknown})})};function u(){o=r.value}function p(y){s.push(y);const C=()=>{const T=s.indexOf(y);T>-1&&s.splice(T,1)};return i.push(C),C}function _(){const{history:y}=window;!y.state||y.replaceState(Nt({},y.state,{scroll:fl()}),"")}function m(){for(const y of i)y();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:u,listen:p,destroy:m}}function ud(e,t,r,n=!1,s=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:s?fl():null}}function Zb(e){const{history:t,location:r}=window,n={value:Kh(e,r)},s={value:t.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,p,_){const m=e.indexOf("#"),y=m>-1?(r.host&&document.querySelector("base")?e:e.slice(m))+u:Yb()+e+u;try{t[_?"replaceState":"pushState"](p,"",y),s.value=p}catch(C){console.error(C),r[_?"replace":"assign"](y)}}function o(u,p){const _=Nt({},t.state,ud(s.value.back,u,s.value.forward,!0),p,{position:s.value.position});i(u,_,!0),n.value=u}function l(u,p){const _=Nt({},s.value,t.state,{forward:u,scroll:fl()});i(_.current,_,!0);const m=Nt({},ud(n.value,u,null),{position:_.position+1},p);i(u,m,!1),n.value=u}return{location:n,state:s,push:l,replace:o}}function ew(e){e=zb(e);const t=Zb(e),r=Xb(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=Nt({location:"",base:e,go:n,createHref:Kb.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function tw(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ew(e)}function nw(e){return typeof e=="string"||e&&typeof e=="object"}function Hh(e){return typeof e=="string"||typeof e=="symbol"}const Wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qh=Symbol("");var cd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(cd||(cd={}));function pi(e,t){return Nt(new Error,{type:e,[Qh]:!0},t)}function Er(e,t){return e instanceof Error&&Qh in e&&(t==null||!!(e.type&t))}const fd="[^/]+?",rw={sensitive:!1,strict:!1,start:!0,end:!0},sw=/[.+*?^${}()[\]/\\]/g;function iw(e,t){const r=Nt({},rw,t),n=[];let s=r.start?"^":"";const i=[];for(const p of e){const _=p.length?[]:[90];r.strict&&!p.length&&(s+="/");for(let m=0;m<p.length;m++){const y=p[m];let C=40+(r.sensitive?.25:0);if(y.type===0)m||(s+="/"),s+=y.value.replace(sw,"\\$&"),C+=40;else if(y.type===1){const{value:T,repeatable:L,optional:H,regexp:P}=y;i.push({name:T,repeatable:L,optional:H});const w=P||fd;if(w!==fd){C+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${T}" (${w}): `+k.message)}}let R=L?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;m||(R=H&&p.length<2?`(?:/${R})`:"/"+R),H&&(R+="?"),s+=R,C+=20,H&&(C+=-8),L&&(C+=-20),w===".*"&&(C+=-50)}_.push(C)}n.push(_)}if(r.strict&&r.end){const p=n.length-1;n[p][n[p].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function l(p){const _=p.match(o),m={};if(!_)return null;for(let y=1;y<_.length;y++){const C=_[y]||"",T=i[y-1];m[T.name]=C&&T.repeatable?C.split("/"):C}return m}function u(p){let _="",m=!1;for(const y of e){(!m||!_.endsWith("/"))&&(_+="/"),m=!1;for(const C of y)if(C.type===0)_+=C.value;else if(C.type===1){const{value:T,repeatable:L,optional:H}=C,P=T in p?p[T]:"";if(or(P)&&!L)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const w=or(P)?P.join("/"):P;if(!w)if(H)y.length<2&&(_.endsWith("/")?_=_.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);_+=w}}return _||"/"}return{re:o,score:n,keys:i,parse:l,stringify:u}}function ow(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function aw(e,t){let r=0;const n=e.score,s=t.score;for(;r<n.length&&r<s.length;){const i=ow(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(dd(n))return 1;if(dd(s))return-1}return s.length-n.length}function dd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const lw={type:0,value:""},uw=/[a-zA-Z0-9_]/;function cw(e){if(!e)return[[]];if(e==="/")return[[lw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${r})/"${p}": ${C}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,u,p="",_="";function m(){!p||(r===0?i.push({type:0,value:p}):r===1||r===2||r===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:p,regexp:_,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),p="")}function y(){p+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(p&&m(),o()):u===":"?(m(),r=1):y();break;case 4:y(),r=n;break;case 1:u==="("?r=2:uw.test(u)?y():(m(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+u:r=3:_+=u;break;case 3:m(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,_="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${p}"`),m(),o(),s}function fw(e,t,r){const n=iw(cw(e.path),r),s=Nt(n,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function dw(e,t){const r=[],n=new Map;t=_d({strict:!1,end:!0,sensitive:!1},t);function s(_){return n.get(_)}function i(_,m,y){const C=!y,T=pw(_);T.aliasOf=y&&y.record;const L=_d(t,_),H=[T];if("alias"in _){const R=typeof _.alias=="string"?[_.alias]:_.alias;for(const k of R)H.push(Nt({},T,{components:y?y.record.components:T.components,path:k,aliasOf:y?y.record:T}))}let P,w;for(const R of H){const{path:k}=R;if(m&&k[0]!=="/"){const B=m.record.path,M=B[B.length-1]==="/"?"":"/";R.path=m.record.path+(k&&M+k)}if(P=fw(R,m,L),y?y.alias.push(P):(w=w||P,w!==P&&w.alias.push(P),C&&_.name&&!hd(P)&&o(_.name)),T.children){const B=T.children;for(let M=0;M<B.length;M++)i(B[M],P,y&&y.children[M])}y=y||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&u(P)}return w?()=>{o(w)}:Ki}function o(_){if(Hh(_)){const m=n.get(_);m&&(n.delete(_),r.splice(r.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=r.indexOf(_);m>-1&&(r.splice(m,1),_.record.name&&n.delete(_.record.name),_.children.forEach(o),_.alias.forEach(o))}}function l(){return r}function u(_){let m=0;for(;m<r.length&&aw(_,r[m])>=0&&(_.record.path!==r[m].record.path||!Gh(_,r[m]));)m++;r.splice(m,0,_),_.record.name&&!hd(_)&&n.set(_.record.name,_)}function p(_,m){let y,C={},T,L;if("name"in _&&_.name){if(y=n.get(_.name),!y)throw pi(1,{location:_});L=y.record.name,C=Nt(pd(m.params,y.keys.filter(w=>!w.optional).map(w=>w.name)),_.params&&pd(_.params,y.keys.map(w=>w.name))),T=y.stringify(C)}else if("path"in _)T=_.path,y=r.find(w=>w.re.test(T)),y&&(C=y.parse(T),L=y.record.name);else{if(y=m.name?n.get(m.name):r.find(w=>w.re.test(m.path)),!y)throw pi(1,{location:_,currentLocation:m});L=y.record.name,C=Nt({},m.params,_.params),T=y.stringify(C)}const H=[];let P=y;for(;P;)H.unshift(P.record),P=P.parent;return{name:L,path:T,params:C,matched:H,meta:_w(H)}}return e.forEach(_=>i(_)),{addRoute:i,resolve:p,removeRoute:o,getRoutes:l,getRecordMatcher:s}}function pd(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function pw(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:hw(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function hw(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function hd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _w(e){return e.reduce((t,r)=>Nt(t,r.meta),{})}function _d(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Gh(e,t){return t.children.some(r=>r===e||Gh(e,r))}const Jh=/#/g,mw=/&/g,gw=/\//g,yw=/=/g,vw=/\?/g,Yh=/\+/g,bw=/%5B/g,ww=/%5D/g,Xh=/%5E/g,Ew=/%60/g,Zh=/%7B/g,Sw=/%7C/g,e_=/%7D/g,qw=/%20/g;function Bc(e){return encodeURI(""+e).replace(Sw,"|").replace(bw,"[").replace(ww,"]")}function xw(e){return Bc(e).replace(Zh,"{").replace(e_,"}").replace(Xh,"^")}function Tu(e){return Bc(e).replace(Yh,"%2B").replace(qw,"+").replace(Jh,"%23").replace(mw,"%26").replace(Ew,"`").replace(Zh,"{").replace(e_,"}").replace(Xh,"^")}function kw(e){return Tu(e).replace(yw,"%3D")}function Cw(e){return Bc(e).replace(Jh,"%23").replace(vw,"%3F")}function Aw(e){return e==null?"":Cw(e).replace(gw,"%2F")}function Ca(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Iw(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Yh," "),o=i.indexOf("="),l=Ca(o<0?i:i.slice(0,o)),u=o<0?null:Ca(i.slice(o+1));if(l in t){let p=t[l];or(p)||(p=t[l]=[p]),p.push(u)}else t[l]=u}return t}function md(e){let t="";for(let r in e){const n=e[r];if(r=kw(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(or(n)?n.map(i=>i&&Tu(i)):[n&&Tu(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function Tw(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=or(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return t}const t_=Symbol(""),gd=Symbol(""),dl=Symbol(""),Nc=Symbol(""),Ou=Symbol("");function Pi(){let e=[];function t(n){return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Ow(e,t,r){const n=()=>{e[t].delete(r)};So(n),kc(n),xc(()=>{e[t].add(r)}),e[t].add(r)}function Pw(e){const t=In(t_,{}).value;!t||Ow(t,"updateGuards",e)}function Jr(e,t,r,n,s){const i=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=m=>{m===!1?l(pi(4,{from:r,to:t})):m instanceof Error?l(m):nw(m)?l(pi(2,{from:t,to:m})):(i&&n.enterCallbacks[s]===i&&typeof m=="function"&&i.push(m),o())},p=e.call(n&&n.instances[s],t,r,u);let _=Promise.resolve(p);e.length<3&&(_=_.then(u)),_.catch(m=>l(m))})}function Hl(e,t,r,n){const s=[];for(const i of e)for(const o in i.components){let l=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Rw(l)){const p=(l.__vccOpts||l)[t];p&&s.push(Jr(p,r,n,i,o))}else{let u=l();s.push(()=>u.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const _=Mb(p)?p.default:p;i.components[o]=_;const y=(_.__vccOpts||_)[t];return y&&Jr(y,r,n,i,o)()}))}}return s}function Rw(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function yd(e){const t=In(dl),r=In(Nc),n=mt(()=>t.resolve(ne(e.to))),s=mt(()=>{const{matched:u}=n.value,{length:p}=u,_=u[p-1],m=r.matched;if(!_||!m.length)return-1;const y=m.findIndex(di.bind(null,_));if(y>-1)return y;const C=vd(u[p-2]);return p>1&&vd(_)===C&&m[m.length-1].path!==C?m.findIndex(di.bind(null,u[p-2])):y}),i=mt(()=>s.value>-1&&Mw(r.params,n.value.params)),o=mt(()=>s.value>-1&&s.value===r.matched.length-1&&Wh(r.params,n.value.params));function l(u={}){return Dw(u)?t[ne(e.replace)?"replace":"push"](ne(e.to)).catch(Ki):Promise.resolve()}return{route:n,href:mt(()=>n.value.href),isActive:i,isExactActive:o,navigate:l}}const Fw=Kn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yd,setup(e,{slots:t}){const r=rn(yd(e)),{options:n}=In(dl),s=mt(()=>({[bd(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[bd(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:ol("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),Lw=Fw;function Dw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mw(e,t){for(const r in t){const n=t[r],s=e[r];if(typeof n=="string"){if(n!==s)return!1}else if(!or(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function vd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const bd=(e,t,r)=>e??t??r,Bw=Kn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=In(Ou),s=mt(()=>e.route||n.value),i=In(gd,0),o=mt(()=>{let p=ne(i);const{matched:_}=s.value;let m;for(;(m=_[p])&&!m.components;)p++;return p}),l=mt(()=>s.value.matched[o.value]);Ui(gd,mt(()=>o.value+1)),Ui(t_,l),Ui(Ou,s);const u=Dt();return tn(()=>[u.value,l.value,e.name],([p,_,m],[y,C,T])=>{_&&(_.instances[m]=p,C&&C!==_&&p&&p===y&&(_.leaveGuards.size||(_.leaveGuards=C.leaveGuards),_.updateGuards.size||(_.updateGuards=C.updateGuards))),p&&_&&(!C||!di(_,C)||!y)&&(_.enterCallbacks[m]||[]).forEach(L=>L(p))},{flush:"post"}),()=>{const p=s.value,_=e.name,m=l.value,y=m&&m.components[_];if(!y)return wd(r.default,{Component:y,route:p});const C=m.props[_],T=C?C===!0?p.params:typeof C=="function"?C(p):C:null,H=ol(y,Nt({},T,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(m.instances[_]=null)},ref:u}));return wd(r.default,{Component:H,route:p})||H}}});function wd(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Nw=Bw;function jw(e){const t=dw(e.routes,e),r=e.parseQuery||Iw,n=e.stringifyQuery||md,s=e.history,i=Pi(),o=Pi(),l=Pi(),u=op(Wr);let p=Wr;Xs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Wl.bind(null,se=>""+se),m=Wl.bind(null,Aw),y=Wl.bind(null,Ca);function C(se,Re){let he,Ue;return Hh(se)?(he=t.getRecordMatcher(se),Ue=Re):Ue=se,t.addRoute(Ue,he)}function T(se){const Re=t.getRecordMatcher(se);Re&&t.removeRoute(Re)}function L(){return t.getRoutes().map(se=>se.record)}function H(se){return!!t.getRecordMatcher(se)}function P(se,Re){if(Re=Nt({},Re||u.value),typeof se=="string"){const ee=Kl(r,se,Re.path),pe=t.resolve({path:ee.path},Re),ge=s.createHref(ee.fullPath);return Nt(ee,pe,{params:y(pe.params),hash:Ca(ee.hash),redirectedFrom:void 0,href:ge})}let he;if("path"in se)he=Nt({},se,{path:Kl(r,se.path,Re.path).path});else{const ee=Nt({},se.params);for(const pe in ee)ee[pe]==null&&delete ee[pe];he=Nt({},se,{params:m(ee)}),Re.params=m(Re.params)}const Ue=t.resolve(he,Re),dt=se.hash||"";Ue.params=_(y(Ue.params));const D=jb(n,Nt({},se,{hash:xw(dt),path:Ue.path})),j=s.createHref(D);return Nt({fullPath:D,hash:dt,query:n===md?Tw(se.query):se.query||{}},Ue,{redirectedFrom:void 0,href:j})}function w(se){return typeof se=="string"?Kl(r,se,u.value.path):Nt({},se)}function R(se,Re){if(p!==se)return pi(8,{from:Re,to:se})}function k(se){return J(se)}function B(se){return k(Nt(w(se),{replace:!0}))}function M(se){const Re=se.matched[se.matched.length-1];if(Re&&Re.redirect){const{redirect:he}=Re;let Ue=typeof he=="function"?he(se):he;return typeof Ue=="string"&&(Ue=Ue.includes("?")||Ue.includes("#")?Ue=w(Ue):{path:Ue},Ue.params={}),Nt({query:se.query,hash:se.hash,params:"path"in Ue?{}:se.params},Ue)}}function J(se,Re){const he=p=P(se),Ue=u.value,dt=se.state,D=se.force,j=se.replace===!0,ee=M(he);if(ee)return J(Nt(w(ee),{state:typeof ee=="object"?Nt({},dt,ee.state):dt,force:D,replace:j}),Re||he);const pe=he;pe.redirectedFrom=Re;let ge;return!D&&Ub(n,Ue,he)&&(ge=pi(16,{to:pe,from:Ue}),lt(Ue,Ue,!0,!1)),(ge?Promise.resolve(ge):N(pe,Ue)).catch(be=>Er(be)?Er(be,2)?be:ft(be):nt(be,pe,Ue)).then(be=>{if(be){if(Er(be,2))return J(Nt({replace:j},w(be.to),{state:typeof be.to=="object"?Nt({},dt,be.to.state):dt,force:D}),Re||pe)}else be=$(pe,Ue,!0,j,dt);return Z(pe,Ue,be),be})}function E(se,Re){const he=R(se,Re);return he?Promise.reject(he):Promise.resolve()}function q(se){const Re=bt.values().next().value;return Re&&typeof Re.runWithContext=="function"?Re.runWithContext(se):se()}function N(se,Re){let he;const[Ue,dt,D]=Uw(se,Re);he=Hl(Ue.reverse(),"beforeRouteLeave",se,Re);for(const ee of Ue)ee.leaveGuards.forEach(pe=>{he.push(Jr(pe,se,Re))});const j=E.bind(null,se,Re);return he.push(j),xe(he).then(()=>{he=[];for(const ee of i.list())he.push(Jr(ee,se,Re));return he.push(j),xe(he)}).then(()=>{he=Hl(dt,"beforeRouteUpdate",se,Re);for(const ee of dt)ee.updateGuards.forEach(pe=>{he.push(Jr(pe,se,Re))});return he.push(j),xe(he)}).then(()=>{he=[];for(const ee of se.matched)if(ee.beforeEnter&&!Re.matched.includes(ee))if(or(ee.beforeEnter))for(const pe of ee.beforeEnter)he.push(Jr(pe,se,Re));else he.push(Jr(ee.beforeEnter,se,Re));return he.push(j),xe(he)}).then(()=>(se.matched.forEach(ee=>ee.enterCallbacks={}),he=Hl(D,"beforeRouteEnter",se,Re),he.push(j),xe(he))).then(()=>{he=[];for(const ee of o.list())he.push(Jr(ee,se,Re));return he.push(j),xe(he)}).catch(ee=>Er(ee,8)?ee:Promise.reject(ee))}function Z(se,Re,he){for(const Ue of l.list())q(()=>Ue(se,Re,he))}function $(se,Re,he,Ue,dt){const D=R(se,Re);if(D)return D;const j=Re===Wr,ee=Xs?history.state:{};he&&(Ue||j?s.replace(se.fullPath,Nt({scroll:j&&ee&&ee.scroll},dt)):s.push(se.fullPath,dt)),u.value=se,lt(se,Re,he,j),ft()}let te;function ue(){te||(te=s.listen((se,Re,he)=>{if(!it.listening)return;const Ue=P(se),dt=M(Ue);if(dt){J(Nt(dt,{replace:!0}),Ue).catch(Ki);return}p=Ue;const D=u.value;Xs&&Gb(ld(D.fullPath,he.delta),fl()),N(Ue,D).catch(j=>Er(j,12)?j:Er(j,2)?(J(j.to,Ue).then(ee=>{Er(ee,20)&&!he.delta&&he.type===lo.pop&&s.go(-1,!1)}).catch(Ki),Promise.reject()):(he.delta&&s.go(-he.delta,!1),nt(j,Ue,D))).then(j=>{j=j||$(Ue,D,!1),j&&(he.delta&&!Er(j,8)?s.go(-he.delta,!1):he.type===lo.pop&&Er(j,20)&&s.go(-1,!1)),Z(Ue,D,j)}).catch(Ki)}))}let ke=Pi(),qe=Pi(),ye;function nt(se,Re,he){ft(se);const Ue=qe.list();return Ue.length?Ue.forEach(dt=>dt(se,Re,he)):console.error(se),Promise.reject(se)}function Pe(){return ye&&u.value!==Wr?Promise.resolve():new Promise((se,Re)=>{ke.add([se,Re])})}function ft(se){return ye||(ye=!se,ue(),ke.list().forEach(([Re,he])=>se?he(se):Re()),ke.reset()),se}function lt(se,Re,he,Ue){const{scrollBehavior:dt}=e;if(!Xs||!dt)return Promise.resolve();const D=!he&&Jb(ld(se.fullPath,0))||(Ue||!he)&&history.state&&history.state.scroll||null;return mr().then(()=>dt(se,Re,D)).then(j=>j&&Qb(j)).catch(j=>nt(j,se,Re))}const De=se=>s.go(se);let Ct;const bt=new Set,it={currentRoute:u,listening:!0,addRoute:C,removeRoute:T,hasRoute:H,getRoutes:L,resolve:P,options:e,push:k,replace:B,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:qe.add,isReady:Pe,install(se){const Re=this;se.component("RouterLink",Lw),se.component("RouterView",Nw),se.config.globalProperties.$router=Re,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>ne(u)}),Xs&&!Ct&&u.value===Wr&&(Ct=!0,k(s.location).catch(dt=>{}));const he={};for(const dt in Wr)he[dt]=mt(()=>u.value[dt]);se.provide(dl,Re),se.provide(Nc,rn(he)),se.provide(Ou,u);const Ue=se.unmount;bt.add(se),se.unmount=function(){bt.delete(se),bt.size<1&&(p=Wr,te&&te(),te=null,u.value=Wr,Ct=!1,ye=!1),Ue()}}};function xe(se){return se.reduce((Re,he)=>Re.then(()=>q(he)),Promise.resolve())}return it}function Uw(e,t){const r=[],n=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(p=>di(p,l))?n.push(l):r.push(l));const u=e.matched[o];u&&(t.matched.find(p=>di(p,u))||s.push(u))}return[r,n,s]}function $w(){return In(dl)}function Vw(){return In(Nc)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ft=function(){return Ft=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ft.apply(this,arguments)};function Pu(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Wt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,un=Object.keys,En=Array.isArray;typeof Promise<"u"&&!Wt.Promise&&(Wt.Promise=Promise);function Tn(e,t){return typeof t!="object"||un(t).forEach(function(r){e[r]=t[r]}),e}var uo=Object.getPrototypeOf,zw={}.hasOwnProperty;function Wn(e,t){return zw.call(e,t)}function hi(e,t){typeof t=="function"&&(t=t(uo(e))),(typeof Reflect>"u"?un:Reflect.ownKeys)(t).forEach(function(r){Dr(e,r,t[r])})}var n_=Object.defineProperty;function Dr(e,t,r,n){n_(e,t,Tn(r&&Wn(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function yi(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Dr(e.prototype,"constructor",e),{extend:hi.bind(null,e.prototype)}}}}var Ww=Object.getOwnPropertyDescriptor;function jc(e,t){var r=Ww(e,t),n;return r||(n=uo(e))&&jc(n,t)}var Kw=[].slice;function pl(e,t,r){return Kw.call(e,t,r)}function r_(e,t){return t(e)}function Di(e){if(!e)throw new Error("Assertion Failed")}function s_(e){Wt.setImmediate?setImmediate(e):setTimeout(e,0)}function i_(e,t){return e.reduce(function(r,n,s){var i=t(n,s);return i&&(r[i[0]]=i[1]),r},{})}function Hw(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function Fr(e,t){if(Wn(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,s=t.length;n<s;++n){var i=Fr(e,t[n]);r.push(i)}return r}var o=t.indexOf(".");if(o!==-1){var l=e[t.substr(0,o)];return l===void 0?void 0:Fr(l,t.substr(o+1))}}function ir(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Di(typeof r!="string"&&"length"in r);for(var n=0,s=t.length;n<s;++n)ir(e,t[n],r[n])}else{var i=t.indexOf(".");if(i!==-1){var o=t.substr(0,i),l=t.substr(i+1);if(l==="")r===void 0?En(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var u=e[o];(!u||!Wn(e,o))&&(u=e[o]={}),ir(u,l,r)}}else r===void 0?En(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function Qw(e,t){typeof t=="string"?ir(e,t,void 0):"length"in t&&[].map.call(t,function(r){ir(e,r,void 0)})}function o_(e){var t={};for(var r in e)Wn(e,r)&&(t[r]=e[r]);return t}var Gw=[].concat;function a_(e){return Gw.apply([],e)}var l_="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(a_([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return Wt[e]}),Jw=l_.map(function(e){return Wt[e]});i_(l_,function(e){return[e,!0]});var Yr=null;function ko(e){Yr=typeof WeakMap<"u"&&new WeakMap;var t=Ru(e);return Yr=null,t}function Ru(e){if(!e||typeof e!="object")return e;var t=Yr&&Yr.get(e);if(t)return t;if(En(e)){t=[],Yr&&Yr.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(Ru(e[r]))}else if(Jw.indexOf(e.constructor)>=0)t=e;else{var s=uo(e);t=s===Object.prototype?{}:Object.create(s),Yr&&Yr.set(e,t);for(var i in e)Wn(e,i)&&(t[i]=Ru(e[i]))}return t}var Yw={}.toString;function Fu(e){return Yw.call(e).slice(8,-1)}var Lu=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Xw=typeof Lu=="symbol"?function(e){var t;return e!=null&&(t=e[Lu])&&t.apply(e)}:function(){return null},Zs={};function Ir(e){var t,r,n,s;if(arguments.length===1){if(En(e))return e.slice();if(this===Zs&&typeof e=="string")return[e];if(s=Xw(e)){for(r=[];n=s.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var Uc=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function u_(e,t){wr=e,c_=t}var c_=function(){return!0},Zw=!new Error("").stack;function js(){if(Zw)try{throw js.arguments,new Error}catch(e){return e}return new Error}function Du(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(c_).map(function(n){return`
`+n}).join("")):""}var e0=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],f_=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],$c=e0.concat(f_),t0={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function vi(e,t){this._e=js(),this.name=e,this.message=t}yi(vi).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Du(this._e,2))}},toString:function(){return this.name+": "+this.message}});function d_(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,n,s){return s.indexOf(r)===n}).join(`
`)}function Aa(e,t,r,n){this._e=js(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=d_(e,t)}yi(Aa).from(vi);function Qi(e,t){this._e=js(),this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=d_(e,t)}yi(Qi).from(vi);var Vc=$c.reduce(function(e,t){return e[t]=t+"Error",e},{}),n0=vi,qt=$c.reduce(function(e,t){var r=t+"Error";function n(s,i){this._e=js(),this.name=r,s?typeof s=="string"?(this.message=""+s+(i?`
 `+i:""),this.inner=i||null):typeof s=="object"&&(this.message=s.name+" "+s.message,this.inner=s):(this.message=t0[t]||r,this.inner=null)}return yi(n).from(n0),e[t]=n,e},{});qt.Syntax=SyntaxError;qt.Type=TypeError;qt.Range=RangeError;var Ed=f_.reduce(function(e,t){return e[t+"Error"]=qt[t],e},{});function r0(e,t){if(!e||e instanceof vi||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ed[e.name])return e;var r=new Ed[e.name](t||e.message,e);return"stack"in e&&Dr(r,"stack",{get:function(){return this.inner.stack}}),r}var hl=$c.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=qt[t]),e},{});hl.ModifyError=Aa;hl.DexieError=vi;hl.BulkError=Qi;function $t(){}function Co(e){return e}function s0(e,t){return e==null||e===Co?t:function(r){return t(e(r))}}function Ds(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function i0(e,t){return e===$t?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Ds(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Ds(s,this.onerror):s),i!==void 0?i:r}}function o0(e,t){return e===$t?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Ds(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Ds(n,this.onerror):n)}}function a0(e,t){return e===$t?t:function(r){var n=e.apply(this,arguments);Tn(r,n);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Ds(s,this.onsuccess):s),i&&(this.onerror=this.onerror?Ds(i,this.onerror):i),n===void 0?o===void 0?void 0:o:Tn(n,o)}}function l0(e,t){return e===$t?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function zc(e,t){return e===$t?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return r.then(function(){return t.apply(n,i)})}return t.apply(this,arguments)}}var co={},u0=100,c0=20,p_=100,Wc=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,uo(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,uo(t),e]}(),Mu=Wc[0],Ia=Wc[1],Bu=Wc[2],h_=Ia&&Ia.then,da=Mu&&Mu.constructor,Kc=!!Bu,Nu=!1,f0=Bu?function(){Bu.then(ea)}:Wt.setImmediate?setImmediate.bind(null,ea):Wt.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){ea(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ea,0)},fo=function(e,t){Mi.push([e,t]),Ta&&(f0(),Ta=!1)},ju=!0,Ta=!0,Cs=[],pa=[],Uu=null,$u=Co,oi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xd,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{xd(e[0],e[1])}catch{}})}},Et=oi,Mi=[],As=0,ha=[];function st(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$t,this._lib=!1;var t=this._PSD=Et;if(wr&&(this._stackHolder=js(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==co)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&zu(this,this._value);return}this._state=null,this._value=null,++t.ref,m_(this,e)}var Vu={get:function(){var e=Et,t=Oa;function r(n,s){var i=this,o=!e.global&&(e!==Et||t!==Oa),l=o&&!Mr(),u=new st(function(p,_){Hc(i,new __(Ra(n,e,o,l),Ra(s,e,o,l),p,_,e))});return wr&&v_(u,this),u}return r.prototype=co,r},set:function(e){Dr(this,"then",e&&e.prototype===co?Vu:{get:function(){return e},set:Vu.set})}};hi(st.prototype,{then:Vu,_then:function(e,t){Hc(this,new __(null,null,e,t,Et))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(n){return n instanceof t?r(n):_a(n)}):this.then(null,function(n){return n&&n.name===t?r(n):_a(n)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),_a(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Nu=!0;var e=y_(this,[],c0),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Nu=!1}}},timeout:function(e,t){var r=this;return e<1/0?new st(function(n,s){var i=setTimeout(function(){return s(new qt.Timeout(t))},e);r.then(n,s).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Dr(st.prototype,Symbol.toStringTag,"Dexie.Promise");oi.env=b_();function __(e,t,r,n,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=s}hi(st,{all:function(){var e=Ir.apply(null,arguments).map(Pa);return new st(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach(function(s,i){return st.resolve(s).then(function(o){e[i]=o,--n||t(e)},r)})})},resolve:function(e){if(e instanceof st)return e;if(e&&typeof e.then=="function")return new st(function(r,n){e.then(r,n)});var t=new st(co,!0,e);return v_(t,Uu),t},reject:_a,race:function(){var e=Ir.apply(null,arguments).map(Pa);return new st(function(t,r){e.map(function(n){return st.resolve(n).then(t,r)})})},PSD:{get:function(){return Et},set:function(e){return Et=e}},totalEchoes:{get:function(){return Oa}},newPSD:cs,usePSD:wi,scheduler:{get:function(){return fo},set:function(e){fo=e}},rejectionMapper:{get:function(){return $u},set:function(e){$u=e}},follow:function(e,t){return new st(function(r,n){return cs(function(s,i){var o=Et;o.unhandleds=[],o.onunhandled=i,o.finalize=Ds(function(){var l=this;p0(function(){l.unhandleds.length===0?s():i(l.unhandleds[0])})},o.finalize),e()},t,r,n)})}});da&&(da.allSettled&&Dr(st,"allSettled",function(){var e=Ir.apply(null,arguments).map(Pa);return new st(function(t){e.length===0&&t([]);var r=e.length,n=new Array(r);e.forEach(function(s,i){return st.resolve(s).then(function(o){return n[i]={status:"fulfilled",value:o}},function(o){return n[i]={status:"rejected",reason:o}}).then(function(){return--r||t(n)})})})}),da.any&&typeof AggregateError<"u"&&Dr(st,"any",function(){var e=Ir.apply(null,arguments).map(Pa);return new st(function(t,r){e.length===0&&r(new AggregateError([]));var n=e.length,s=new Array(n);e.forEach(function(i,o){return st.resolve(i).then(function(l){return t(l)},function(l){s[o]=l,--n||r(new AggregateError(s))})})})}));function m_(e,t){try{t(function(r){if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ao();r&&typeof r.then=="function"?m_(e,function(s,i){r instanceof st?r._then(s,i):r.then(s,i)}):(e._state=!0,e._value=r,g_(e)),n&&Io()}},zu.bind(null,e))}catch(r){zu(e,r)}}function zu(e,t){if(pa.push(t),e._state===null){var r=e._lib&&Ao();t=$u(t),e._state=!1,e._value=t,wr&&t!==null&&typeof t=="object"&&!t._promise&&Hw(function(){var n=jc(t,"stack");t._promise=e,Dr(t,"stack",{get:function(){return Nu?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),h0(e),g_(e),r&&Io()}}function g_(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Hc(e,t[r]);var s=e._PSD;--s.ref||s.finalize(),As===0&&(++As,fo(function(){--As===0&&Qc()},[]))}function Hc(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++As,fo(d0,[r,e,t])}function d0(e,t,r){try{Uu=t;var n,s=t._value;t._state?n=e(s):(pa.length&&(pa=[]),n=e(s),pa.indexOf(s)===-1&&_0(t)),r.resolve(n)}catch(i){r.reject(i)}finally{Uu=null,--As===0&&Qc(),--r.psd.ref||r.psd.finalize()}}function y_(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var s=e._value,i,o;s!=null?(i=s.name||"Error",o=s.message||s,n=Du(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+n)}return wr&&(n=Du(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&y_(e._prev,t,r)),t}function v_(e,t){var r=t?t._numPrev+1:0;r<u0&&(e._prev=t,e._numPrev=r)}function ea(){Ao()&&Io()}function Ao(){var e=ju;return ju=!1,Ta=!1,e}function Io(){var e,t,r;do for(;Mi.length>0;)for(e=Mi,Mi=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(Mi.length>0);ju=!0,Ta=!0}function Qc(){var e=Cs;Cs=[],e.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=ha.slice(0),r=t.length;r;)t[--r]()}function p0(e){function t(){e(),ha.splice(ha.indexOf(t),1)}ha.push(t),++As,fo(function(){--As===0&&Qc()},[])}function h0(e){Cs.some(function(t){return t._value===e._value})||Cs.push(e)}function _0(e){for(var t=Cs.length;t;)if(Cs[--t]._value===e._value){Cs.splice(t,1);return}}function _a(e){return new st(co,!1,e)}function Gt(e,t){var r=Et;return function(){var n=Ao(),s=Et;try{return fs(r,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{fs(s,!1),n&&Io()}}}var wn={awaits:0,echoes:0,id:0},m0=0,ma=[],Ql=0,Oa=0,g0=0;function cs(e,t,r,n){var s=Et,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++g0;var o=oi.env;i.env=Kc?{Promise:st,PromiseProp:{value:st,configurable:!0,writable:!0},all:st.all,race:st.race,allSettled:st.allSettled,any:st.any,resolve:st.resolve,reject:st.reject,nthen:Sd(o.nthen,i),gthen:Sd(o.gthen,i)}:{},t&&Tn(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=wi(i,e,r,n);return i.ref===0&&i.finalize(),l}function bi(){return wn.id||(wn.id=++m0),++wn.awaits,wn.echoes+=p_,wn.id}function Mr(){return wn.awaits?(--wn.awaits===0&&(wn.id=0),wn.echoes=wn.awaits*p_,!0):!1}(""+h_).indexOf("[native code]")===-1&&(bi=Mr=$t);function Pa(e){return wn.echoes&&e&&e.constructor===da?(bi(),e.then(function(t){return Mr(),t},function(t){return Mr(),dn(t)})):e}function y0(e){++Oa,(!wn.echoes||--wn.echoes===0)&&(wn.echoes=wn.id=0),ma.push(Et),fs(e,!0)}function v0(){var e=ma[ma.length-1];ma.pop(),fs(e,!1)}function fs(e,t){var r=Et;if((t?wn.echoes&&(!Ql++||e!==Et):Ql&&(!--Ql||e!==Et))&&w_(t?y0.bind(null,e):v0),e!==Et&&(Et=e,r===oi&&(oi.env=b_()),Kc)){var n=oi.env.Promise,s=e.env;Ia.then=s.nthen,n.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(Wt,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function b_(){var e=Wt.Promise;return Kc?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Wt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ia.then,gthen:e.prototype.then}:{}}function wi(e,t,r,n,s){var i=Et;try{return fs(e,!0),t(r,n,s)}finally{fs(i,!1)}}function w_(e){h_.call(Mu,e)}function Ra(e,t,r,n){return typeof e!="function"?e:function(){var s=Et;r&&bi(),fs(t,!0);try{return e.apply(this,arguments)}finally{fs(s,!1),n&&w_(Mr)}}}function Sd(e,t){return function(r,n){return e.call(this,Ra(r,t),Ra(n,t))}}var qd="unhandledrejection";function xd(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,s={promise:t,reason:e};if(Wt.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(qd,!0,!0),Tn(n,s)):Wt.CustomEvent&&(n=new CustomEvent(qd,{detail:s}),Tn(n,s)),n&&Wt.dispatchEvent&&(dispatchEvent(n),!Wt.PromiseRejectionEvent&&Wt.onunhandledrejection))try{Wt.onunhandledrejection(n)}catch{}wr&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var dn=st.reject;function Wu(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!Et.letThrough&&!e._vip){if(e._state.openComplete)return dn(new qt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return dn(new qt.DatabaseClosed);e.open().catch($t)}return e._state.dbReadyPromise.then(function(){return Wu(e,t,r,n)})}else{var s=e._createTransaction(t,r,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Vc.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Wu(e,t,r,n)})):dn(i)}return s._promise(t,function(i,o){return cs(function(){return Et.trans=s,n(i,o,s)})}).then(function(i){return s._completion.then(function(){return i})})}}var kd="3.2.3",Ss=String.fromCharCode(65535),Ku=-1/0,Sr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",E_="String expected.",Gi=[],_l=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),b0=_l,w0=_l,S_=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},ml="__dbnames",Gl="readonly",Jl="readwrite";function Ms(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var q_={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ta(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=ko(t),delete t[e]),t}:function(t){return t}}var E0=function(){function e(){}return e.prototype._trans=function(t,r,n){var s=this._tx||Et.trans,i=this.name;function o(u,p,_){if(!_.schema[i])throw new qt.NotFound("Table "+i+" not part of transaction");return r(_.idbtrans,_)}var l=Ao();try{return s&&s.db===this.db?s===Et.trans?s._promise(t,o,n):cs(function(){return s._promise(t,o,n)},{trans:s,transless:Et.transless||Et}):Wu(this.db,t,[this.name],o)}finally{l&&Io()}},e.prototype.get=function(t,r){var n=this;return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",function(s){return n.core.get({trans:s,key:t}).then(function(i){return n.hook.reading.fire(i)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(En(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var r=un(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(_){return _.compound&&r.every(function(m){return _.keyPath.indexOf(m)>=0})&&_.keyPath.every(function(m){return r.indexOf(m)>=0})})[0];if(n&&this.db._maxKey!==Ss)return this.where(n.name).equals(n.keyPath.map(function(_){return t[_]}));!n&&wr&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var s=this.schema.idxByName,i=this.db._deps.indexedDB;function o(_,m){try{return i.cmp(_,m)===0}catch{return!1}}var l=r.reduce(function(_,m){var y=_[0],C=_[1],T=s[m],L=t[m];return[y||T,y||!T?Ms(C,T&&T.multi?function(H){var P=Fr(H,m);return En(P)&&P.some(function(w){return o(L,w)})}:function(H){return o(L,Fr(H,m))}):C]},[null,null]),u=l[0],p=l[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(p):n?this.filter(p):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,En(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var r=function(n){if(!n)return n;var s=Object.create(t.prototype);for(var i in n)if(Wn(n,i))try{s[i]=n[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},e.prototype.defineClass=function(){function t(r){Tn(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var n=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,l=t;return o&&i&&(l=ta(o)(t)),this._trans("readwrite",function(u){return n.core.mutate({trans:u,type:"add",keys:r!=null?[r]:null,values:[l]})}).then(function(u){return u.numFailures?st.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{ir(t,o,u)}catch{}return u})},e.prototype.update=function(t,r){if(typeof t=="object"&&!En(t)){var n=Fr(t,this.schema.primKey.keyPath);if(n===void 0)return dn(new qt.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?un(r).forEach(function(s){ir(t,s,r[s])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var n=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,l=t;return o&&i&&(l=ta(o)(t)),this._trans("readwrite",function(u){return n.core.mutate({trans:u,type:"put",values:[l],keys:r!=null?[r]:null})}).then(function(u){return u.numFailures?st.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{ir(t,o,u)}catch{}return u})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(n){return r.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(n){return n.numFailures?st.reject(n.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:q_})}).then(function(r){return r.numFailures?st.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(n){return r.core.getMany({keys:t,trans:n}).then(function(s){return s.map(function(i){return r.hook.reading.fire(i)})})})},e.prototype.bulkAdd=function(t,r,n){var s=this,i=Array.isArray(r)?r:void 0;n=n||(i?void 0:r);var o=n?n.allKeys:void 0;return this._trans("readwrite",function(l){var u=s.schema.primKey,p=u.auto,_=u.keyPath;if(_&&i)throw new qt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new qt.InvalidArgument("Arguments objects and keys must have the same length");var m=t.length,y=_&&p?t.map(ta(_)):t;return s.core.mutate({trans:l,type:"add",keys:i,values:y,wantResults:o}).then(function(C){var T=C.numFailures,L=C.results,H=C.lastResult,P=C.failures,w=o?L:H;if(T===0)return w;throw new Qi(s.name+".bulkAdd(): "+T+" of "+m+" operations failed",P)})})},e.prototype.bulkPut=function(t,r,n){var s=this,i=Array.isArray(r)?r:void 0;n=n||(i?void 0:r);var o=n?n.allKeys:void 0;return this._trans("readwrite",function(l){var u=s.schema.primKey,p=u.auto,_=u.keyPath;if(_&&i)throw new qt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new qt.InvalidArgument("Arguments objects and keys must have the same length");var m=t.length,y=_&&p?t.map(ta(_)):t;return s.core.mutate({trans:l,type:"put",keys:i,values:y,wantResults:o}).then(function(C){var T=C.numFailures,L=C.results,H=C.lastResult,P=C.failures,w=o?L:H;if(T===0)return w;throw new Qi(s.name+".bulkPut(): "+T+" of "+m+" operations failed",P)})})},e.prototype.bulkDelete=function(t){var r=this,n=t.length;return this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"delete",keys:t})}).then(function(s){var i=s.numFailures,o=s.lastResult,l=s.failures;if(i===0)return o;throw new Qi(r.name+".bulkDelete(): "+i+" of "+n+" operations failed",l)})},e}();function To(e){var t={},r=function(l,u){if(u){for(var p=arguments.length,_=new Array(p-1);--p;)_[p-1]=arguments[p];return t[l].subscribe.apply(null,_),e}else if(typeof l=="string")return t[l]};r.addEventType=i;for(var n=1,s=arguments.length;n<s;++n)i(arguments[n]);return r;function i(l,u,p){if(typeof l=="object")return o(l);u||(u=l0),p||(p=$t);var _={subscribers:[],fire:p,subscribe:function(m){_.subscribers.indexOf(m)===-1&&(_.subscribers.push(m),_.fire=u(_.fire,m))},unsubscribe:function(m){_.subscribers=_.subscribers.filter(function(y){return y!==m}),_.fire=_.subscribers.reduce(u,p)}};return t[l]=r[l]=_,_}function o(l){un(l).forEach(function(u){var p=l[u];if(En(p))i(u,l[u][0],l[u][1]);else if(p==="asap")var _=i(u,Co,function(){for(var y=arguments.length,C=new Array(y);y--;)C[y]=arguments[y];_.subscribers.forEach(function(T){s_(function(){T.apply(null,C)})})});else throw new qt.InvalidArgument("Invalid event config")})}}function Oo(e,t){return yi(t).from({prototype:e}),t}function S0(e){return Oo(E0.prototype,function(r,n,s){this.db=e,this._tx=s,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:To(null,{creating:[i0,$t],reading:[s0,Co],updating:[a0,$t],deleting:[o0,$t]})})}function Gs(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Yl(e,t){e.filter=Ms(e.filter,t)}function Xl(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return Ms(n(),t())}:t,e.justLimit=r&&!n}function q0(e,t){e.isMatch=Ms(e.isMatch,t)}function ga(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new qt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Cd(e,t,r){var n=ga(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function na(e,t,r,n){var s=e.replayFilter?Ms(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},o=function(l,u,p){if(!s||s(u,p,function(y){return u.stop(y)},function(y){return u.fail(y)})){var _=u.primaryKey,m=""+_;m==="[object ArrayBuffer]"&&(m=""+new Uint8Array(_)),Wn(i,m)||(i[m]=!0,t(l,u,p))}};return Promise.all([e.or._iterate(o,r),Ad(Cd(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}else return Ad(Cd(e,n,r),Ms(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Ad(e,t,r,n){var s=n?function(o,l,u){return r(n(o),l,u)}:r,i=Gt(s);return e.then(function(o){if(o)return o.start(function(){var l=function(){return o.continue()};(!t||t(o,function(u){return l=u},function(u){o.stop(u),l=$t},function(u){o.fail(u),l=$t}))&&i(o.value,o,function(u){return l=u}),l()})})}function An(e,t){try{var r=Id(e),n=Id(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return k0(Td(e),Td(t));case"Array":return x0(e,t)}}catch{}return NaN}function x0(e,t){for(var r=e.length,n=t.length,s=r<n?r:n,i=0;i<s;++i){var o=An(e[i],t[i]);if(o!==0)return o}return r===n?0:r<n?-1:1}function k0(e,t){for(var r=e.length,n=t.length,s=r<n?r:n,i=0;i<s;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return r===n?0:r<n?-1:1}function Id(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var r=Fu(e);return r==="ArrayBuffer"?"binary":r}function Td(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var C0=function(){function e(){}return e.prototype._read=function(t,r){var n=this._ctx;return n.error?n.table._trans(null,dn.bind(null,n.error)):n.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,dn.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=Ms(r.algorithm,t)},e.prototype._iterate=function(t,r){return na(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&Tn(n,t),r._ctx=n,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(n){return na(r,t,n,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(n){var s=r._ctx,i=s.table.core;if(Gs(s,!0))return i.count({trans:n,query:{index:ga(s,i.schema),range:s.range}}).then(function(l){return Math.min(l,s.limit)});var o=0;return na(s,function(){return++o,!1},n,i).then(function(){return o})}).then(t)},e.prototype.sortBy=function(t,r){var n=t.split(".").reverse(),s=n[0],i=n.length-1;function o(p,_){return _?o(p[n[_]],_-1):p[s]}var l=this._ctx.dir==="next"?1:-1;function u(p,_){var m=o(p,i),y=o(_,i);return m<y?-l:m>y?l:0}return this.toArray(function(p){return p.sort(u)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(n){var s=r._ctx;if(s.dir==="next"&&Gs(s,!0)&&s.limit>0){var i=s.valueMapper,o=ga(s,s.table.core.schema);return s.table.core.query({trans:n,limit:s.limit,values:!0,query:{index:o,range:s.range}}).then(function(u){var p=u.result;return i?p.map(i):p})}else{var l=[];return na(s,function(u){return l.push(u)},n,s.table.core).then(function(){return l})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,Gs(r)?Xl(r,function(){var n=t;return function(s,i){return n===0?!0:n===1?(--n,!1):(i(function(){s.advance(n),n=0}),!1)}}):Xl(r,function(){var n=t;return function(){return--n<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Xl(this._ctx,function(){var r=t;return function(n,s,i){return--r<=0&&s(i),r>=0}},!0),this},e.prototype.until=function(t,r){return Yl(this._ctx,function(n,s,i){return t(n.value)?(s(i),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return Yl(this._ctx,function(r){return t(r.value)}),q0(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){t(s.key,s)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){t(s.primaryKey,s)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.key)}).then(function(){return n}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&Gs(r,!0)&&r.limit>0)return this._read(function(s){var i=ga(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:i,range:r.range}})}).then(function(s){var i=s.result;return i}).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.primaryKey)}).then(function(){return n}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return Yl(this._ctx,function(s){var i=s.primaryKey.toString(),o=Wn(n,i);return n[i]=!0,!o}),this},e.prototype.modify=function(t){var r=this,n=this._ctx;return this._write(function(s){var i;if(typeof t=="function")i=t;else{var o=un(t),l=o.length;i=function(P){for(var w=!1,R=0;R<l;++R){var k=o[R],B=t[k];Fr(P,k)!==B&&(ir(P,k,B),w=!0)}return w}}var u=n.table.core,p=u.schema.primaryKey,_=p.outbound,m=p.extractKey,y=r.db._options.modifyChunkSize||200,C=[],T=0,L=[],H=function(P,w){var R=w.failures,k=w.numFailures;T+=P-k;for(var B=0,M=un(R);B<M.length;B++){var J=M[B];C.push(R[J])}};return r.clone().primaryKeys().then(function(P){var w=function(R){var k=Math.min(y,P.length-R);return u.getMany({trans:s,keys:P.slice(R,R+k),cache:"immutable"}).then(function(B){for(var M=[],J=[],E=_?[]:null,q=[],N=0;N<k;++N){var Z=B[N],$={value:ko(Z),primKey:P[R+N]};i.call($,$.value,$)!==!1&&($.value==null?q.push(P[R+N]):!_&&An(m(Z),m($.value))!==0?(q.push(P[R+N]),M.push($.value)):(J.push($.value),_&&E.push(P[R+N])))}var te=Gs(n)&&n.limit===1/0&&(typeof t!="function"||t===Zl)&&{index:n.index,range:n.range};return Promise.resolve(M.length>0&&u.mutate({trans:s,type:"add",values:M}).then(function(ue){for(var ke in ue.failures)q.splice(parseInt(ke),1);H(M.length,ue)})).then(function(){return(J.length>0||te&&typeof t=="object")&&u.mutate({trans:s,type:"put",keys:E,values:J,criteria:te,changeSpec:typeof t!="function"&&t}).then(function(ue){return H(J.length,ue)})}).then(function(){return(q.length>0||te&&t===Zl)&&u.mutate({trans:s,type:"delete",keys:q,criteria:te}).then(function(ue){return H(q.length,ue)})}).then(function(){return P.length>R+k&&w(R+y)})})};return w(0).then(function(){if(C.length>0)throw new Aa("Error modifying one or more objects",C,T,L);return P.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return Gs(t)&&(t.isPrimKey&&!w0||r.type===3)?this._write(function(n){var s=t.table.core.schema.primaryKey,i=r;return t.table.core.count({trans:n,query:{index:s,range:i}}).then(function(o){return t.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(l){var u=l.failures;l.lastResult,l.results;var p=l.numFailures;if(p)throw new Aa("Could not delete some values",Object.keys(u).map(function(_){return u[_]}),o-p);return o-p})})}):this.modify(Zl)},e}(),Zl=function(e,t){return t.value=null};function A0(e){return Oo(C0.prototype,function(r,n){this.db=e;var s=q_,i=null;if(n)try{s=n()}catch(p){i=p}var o=r._ctx,l=o.table,u=l.hook.reading.fire;this._ctx={table:l,index:o.index,isPrimKey:!o.index||l.schema.primKey.keyPath&&o.index===l.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==Co?u:null}})}function I0(e,t){return e<t?-1:e===t?0:1}function T0(e,t){return e>t?-1:e===t?0:1}function Bn(e,t,r){var n=e instanceof k_?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Js(e){return new e.Collection(e,function(){return x_("")}).limit(0)}function O0(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function P0(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function R0(e,t,r,n,s,i){for(var o=Math.min(e.length,n.length),l=-1,u=0;u<o;++u){var p=t[u];if(p!==n[u])return s(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):s(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):l>=0?e.substr(0,l)+t[l]+r.substr(l+1):null;s(e[u],p)<0&&(l=u)}return o<n.length&&i==="next"?e+r.substr(e.length):o<e.length&&i==="prev"?e.substr(0,r.length):l<0?null:e.substr(0,l)+n[l]+r.substr(l+1)}function ra(e,t,r,n){var s,i,o,l,u,p,_,m=r.length;if(!r.every(function(L){return typeof L=="string"}))return Bn(e,E_);function y(L){s=O0(L),i=P0(L),o=L==="next"?I0:T0;var H=r.map(function(P){return{lower:i(P),upper:s(P)}}).sort(function(P,w){return o(P.lower,w.lower)});l=H.map(function(P){return P.upper}),u=H.map(function(P){return P.lower}),p=L,_=L==="next"?"":n}y("next");var C=new e.Collection(e,function(){return Qr(l[0],u[m-1]+n)});C._ondirectionchange=function(L){y(L)};var T=0;return C._addAlgorithm(function(L,H,P){var w=L.key;if(typeof w!="string")return!1;var R=i(w);if(t(R,u,T))return!0;for(var k=null,B=T;B<m;++B){var M=R0(w,R,l[B],u[B],o,p);M===null&&k===null?T=B+1:(k===null||o(k,M)>0)&&(k=M)}return H(k!==null?function(){L.continue(k+_)}:P),!1}),C}function Qr(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function x_(e){return{type:1,lower:e,upper:e}}var k_=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||s)&&!(n&&s)?Js(this):new this.Collection(this,function(){return Qr(t,r,!n,!s)})}catch{return Bn(this,Sr)}},e.prototype.equals=function(t){return t==null?Bn(this,Sr):new this.Collection(this,function(){return x_(t)})},e.prototype.above=function(t){return t==null?Bn(this,Sr):new this.Collection(this,function(){return Qr(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?Bn(this,Sr):new this.Collection(this,function(){return Qr(t,void 0,!1)})},e.prototype.below=function(t){return t==null?Bn(this,Sr):new this.Collection(this,function(){return Qr(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?Bn(this,Sr):new this.Collection(this,function(){return Qr(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?Bn(this,E_):this.between(t,t+Ss,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):ra(this,function(r,n){return r.indexOf(n[0])===0},[t],Ss)},e.prototype.equalsIgnoreCase=function(t){return ra(this,function(r,n){return r===n[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Ir.apply(Zs,arguments);return t.length===0?Js(this):ra(this,function(r,n){return n.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Ir.apply(Zs,arguments);return t.length===0?Js(this):ra(this,function(r,n){return n.some(function(s){return r.indexOf(s)===0})},t,Ss)},e.prototype.anyOf=function(){var t=this,r=Ir.apply(Zs,arguments),n=this._cmp;try{r.sort(n)}catch{return Bn(this,Sr)}if(r.length===0)return Js(this);var s=new this.Collection(this,function(){return Qr(r[0],r[r.length-1])});s._ondirectionchange=function(o){n=o==="next"?t._ascending:t._descending,r.sort(n)};var i=0;return s._addAlgorithm(function(o,l,u){for(var p=o.key;n(p,r[i])>0;)if(++i,i===r.length)return l(u),!1;return n(p,r[i])===0?!0:(l(function(){o.continue(r[i])}),!1)}),s},e.prototype.notEqual=function(t){return this.inAnyRange([[Ku,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Ir.apply(Zs,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Bn(this,Sr)}var r=t.reduce(function(n,s){return n?n.concat([[n[n.length-1][1],s]]):[[Ku,s]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var n=this,s=this._cmp,i=this._ascending,o=this._descending,l=this._min,u=this._max;if(t.length===0)return Js(this);if(!t.every(function(B){return B[0]!==void 0&&B[1]!==void 0&&i(B[0],B[1])<=0}))return Bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qt.InvalidArgument);var p=!r||r.includeLowers!==!1,_=r&&r.includeUppers===!0;function m(B,M){for(var J=0,E=B.length;J<E;++J){var q=B[J];if(s(M[0],q[1])<0&&s(M[1],q[0])>0){q[0]=l(q[0],M[0]),q[1]=u(q[1],M[1]);break}}return J===E&&B.push(M),B}var y=i;function C(B,M){return y(B[0],M[0])}var T;try{T=t.reduce(m,[]),T.sort(C)}catch{return Bn(this,Sr)}var L=0,H=_?function(B){return i(B,T[L][1])>0}:function(B){return i(B,T[L][1])>=0},P=p?function(B){return o(B,T[L][0])>0}:function(B){return o(B,T[L][0])>=0};function w(B){return!H(B)&&!P(B)}var R=H,k=new this.Collection(this,function(){return Qr(T[0][0],T[T.length-1][1],!p,!_)});return k._ondirectionchange=function(B){B==="next"?(R=H,y=i):(R=P,y=o),T.sort(C)},k._addAlgorithm(function(B,M,J){for(var E=B.key;R(E);)if(++L,L===T.length)return M(J),!1;return w(E)?!0:(n._cmp(E,T[L][1])===0||n._cmp(E,T[L][0])===0||M(function(){y===i?B.continue(T[L][0]):B.continue(T[L][1])}),!1)}),k},e.prototype.startsWithAnyOf=function(){var t=Ir.apply(Zs,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?Js(this):this.inAnyRange(t.map(function(r){return[r,r+Ss]})):Bn(this,"startsWithAnyOf() only works with strings")},e}();function F0(e){return Oo(k_.prototype,function(r,n,s){this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:s};var i=e._deps.indexedDB;if(!i)throw new qt.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(o,l){return i.cmp(l,o)},this._max=function(o,l){return i.cmp(o,l)>0?o:l},this._min=function(o,l){return i.cmp(o,l)<0?o:l},this._IDBKeyRange=e._deps.IDBKeyRange})}function hr(e){return Gt(function(t){return po(t),e(t.target.error),!1})}function po(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var ho="storagemutated",Zr="x-storagemutated-1",ds=To(null,ho),L0=function(){function e(){}return e.prototype._lock=function(){return Di(!Et.global),++this._reculock,this._reculock===1&&!Et.global&&(Et.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Di(!Et.global),--this._reculock===0)for(Et.global||(Et.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{wi(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Et.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var n=this.db.idbdb,s=this.db._state.dbOpenError;if(Di(!this.idbtrans),!t&&!n)switch(s&&s.name){case"DatabaseClosedError":throw new qt.DatabaseClosed(s);case"MissingAPIError":throw new qt.MissingAPI(s.message,s);default:throw new qt.OpenFailed(s)}if(!this.active)throw new qt.TransactionInactive;return Di(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=Gt(function(i){po(i),r._reject(t.error)}),t.onabort=Gt(function(i){po(i),r.active&&r._reject(new qt.Abort(t.error)),r.active=!1,r.on("abort").fire(i)}),t.oncomplete=Gt(function(){r.active=!1,r._resolve(),"mutatedParts"in t&&ds.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,r,n){var s=this;if(t==="readwrite"&&this.mode!=="readwrite")return dn(new qt.ReadOnly("Transaction is readonly"));if(!this.active)return dn(new qt.TransactionInactive);if(this._locked())return new st(function(o,l){s._blockedFuncs.push([function(){s._promise(t,r,n).then(o,l)},Et])});if(n)return cs(function(){var o=new st(function(l,u){s._lock();var p=r(l,u,s);p&&p.then&&p.then(l,u)});return o.finally(function(){return s._unlock()}),o._lib=!0,o});var i=new st(function(o,l){var u=r(o,l,s);u&&u.then&&u.then(o,l)});return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),n=st.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return n});else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=r._waitingFor;return new st(function(o,l){n.then(function(u){return r._waitingQueue.push(Gt(o.bind(null,u)))},function(u){return r._waitingQueue.push(Gt(l.bind(null,u)))}).finally(function(){r._waitingFor===i&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new qt.Abort))},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(Wn(r,t))return r[t];var n=this.schema[t];if(!n)throw new qt.NotFound("Table "+t+" not part of transaction");var s=new this.db.Table(t,n,this);return s.core=this.db.core.table(t),r[t]=s,s},e}();function D0(e){return Oo(L0.prototype,function(r,n,s,i,o){var l=this;this.db=e,this.mode=r,this.storeNames=n,this.schema=s,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=To(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new st(function(u,p){l._resolve=u,l._reject=p}),this._completion.then(function(){l.active=!1,l.on.complete.fire()},function(u){var p=l.active;return l.active=!1,l.on.error.fire(u),l.parent?l.parent._reject(u):p&&l.idbtrans&&l.idbtrans.abort(),dn(u)})})}function Hu(e,t,r,n,s,i,o){return{name:e,keyPath:t,unique:r,multi:n,auto:s,compound:i,src:(r&&!o?"&":"")+(n?"*":"")+(s?"++":"")+C_(t)}}function C_(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function A_(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:i_(r,function(n){return[n.name,n]})}}function M0(e){return e.length===1?e[0]:e}var _o=function(e){try{return e.only([[]]),_o=function(){return[[]]},[[]]}catch{return _o=function(){return Ss},Ss}};function Qu(e){return e==null?function(){}:typeof e=="string"?B0(e):function(t){return Fr(t,e)}}function B0(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return Fr(r,e)}}function Od(e){return[].slice.call(e)}var N0=0;function Ji(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function j0(e,t,r){function n(m,y){var C=Od(m.objectStoreNames);return{schema:{name:m.name,tables:C.map(function(T){return y.objectStore(T)}).map(function(T){var L=T.keyPath,H=T.autoIncrement,P=En(L),w=L==null,R={},k={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:P,keyPath:L,autoIncrement:H,unique:!0,extractKey:Qu(L)},indexes:Od(T.indexNames).map(function(B){return T.index(B)}).map(function(B){var M=B.name,J=B.unique,E=B.multiEntry,q=B.keyPath,N=En(q),Z={name:M,compound:N,keyPath:q,unique:J,multiEntry:E,extractKey:Qu(q)};return R[Ji(q)]=Z,Z}),getIndexByKeyPath:function(B){return R[Ji(B)]}};return R[":id"]=k.primaryKey,L!=null&&(R[Ji(L)]=k.primaryKey),k})},hasGetAll:C.length>0&&"getAll"in y.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(m){if(m.type===3)return null;if(m.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var y=m.lower,C=m.upper,T=m.lowerOpen,L=m.upperOpen,H=y===void 0?C===void 0?null:t.upperBound(C,!!L):C===void 0?t.lowerBound(y,!!T):t.bound(y,C,!!T,!!L);return H}function i(m){var y=m.name;function C(H){var P=H.trans,w=H.type,R=H.keys,k=H.values,B=H.range;return new Promise(function(M,J){M=Gt(M);var E=P.objectStore(y),q=E.keyPath==null,N=w==="put"||w==="add";if(!N&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var Z=(R||k||{length:1}).length;if(R&&k&&R.length!==k.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return M({numFailures:0,failures:{},results:[],lastResult:void 0});var $,te=[],ue=[],ke=0,qe=function(De){++ke,po(De)};if(w==="deleteRange"){if(B.type===4)return M({numFailures:ke,failures:ue,results:[],lastResult:void 0});B.type===3?te.push($=E.clear()):te.push($=E.delete(s(B)))}else{var ye=N?q?[k,R]:[k,null]:[R,null],nt=ye[0],Pe=ye[1];if(N)for(var ft=0;ft<Z;++ft)te.push($=Pe&&Pe[ft]!==void 0?E[w](nt[ft],Pe[ft]):E[w](nt[ft])),$.onerror=qe;else for(var ft=0;ft<Z;++ft)te.push($=E[w](nt[ft])),$.onerror=qe}var lt=function(De){var Ct=De.target.result;te.forEach(function(bt,it){return bt.error!=null&&(ue[it]=bt.error)}),M({numFailures:ke,failures:ue,results:w==="delete"?R:te.map(function(bt){return bt.result}),lastResult:Ct})};$.onerror=function(De){qe(De),lt(De)},$.onsuccess=lt})}function T(H){var P=H.trans,w=H.values,R=H.query,k=H.reverse,B=H.unique;return new Promise(function(M,J){M=Gt(M);var E=R.index,q=R.range,N=P.objectStore(y),Z=E.isPrimaryKey?N:N.index(E.name),$=k?B?"prevunique":"prev":B?"nextunique":"next",te=w||!("openKeyCursor"in Z)?Z.openCursor(s(q),$):Z.openKeyCursor(s(q),$);te.onerror=hr(J),te.onsuccess=Gt(function(ue){var ke=te.result;if(!ke){M(null);return}ke.___id=++N0,ke.done=!1;var qe=ke.continue.bind(ke),ye=ke.continuePrimaryKey;ye&&(ye=ye.bind(ke));var nt=ke.advance.bind(ke),Pe=function(){throw new Error("Cursor not started")},ft=function(){throw new Error("Cursor not stopped")};ke.trans=P,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=Pe,ke.fail=Gt(J),ke.next=function(){var lt=this,De=1;return this.start(function(){return De--?lt.continue():lt.stop()}).then(function(){return lt})},ke.start=function(lt){var De=new Promise(function(bt,it){bt=Gt(bt),te.onerror=hr(it),ke.fail=it,ke.stop=function(xe){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=ft,bt(xe)}}),Ct=function(){if(te.result)try{lt()}catch(bt){ke.fail(bt)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()};return te.onsuccess=Gt(function(bt){te.onsuccess=Ct,Ct()}),ke.continue=qe,ke.continuePrimaryKey=ye,ke.advance=nt,Ct(),De},M(ke)},J)})}function L(H){return function(P){return new Promise(function(w,R){w=Gt(w);var k=P.trans,B=P.values,M=P.limit,J=P.query,E=M===1/0?void 0:M,q=J.index,N=J.range,Z=k.objectStore(y),$=q.isPrimaryKey?Z:Z.index(q.name),te=s(N);if(M===0)return w({result:[]});if(H){var ue=B?$.getAll(te,E):$.getAllKeys(te,E);ue.onsuccess=function(nt){return w({result:nt.target.result})},ue.onerror=hr(R)}else{var ke=0,qe=B||!("openKeyCursor"in $)?$.openCursor(te):$.openKeyCursor(te),ye=[];qe.onsuccess=function(nt){var Pe=qe.result;if(!Pe)return w({result:ye});if(ye.push(B?Pe.value:Pe.primaryKey),++ke===M)return w({result:ye});Pe.continue()},qe.onerror=hr(R)}})}}return{name:y,schema:m,mutate:C,getMany:function(H){var P=H.trans,w=H.keys;return new Promise(function(R,k){R=Gt(R);for(var B=P.objectStore(y),M=w.length,J=new Array(M),E=0,q=0,N,Z=function(ke){var qe=ke.target;(J[qe._pos]=qe.result)!=null,++q===E&&R(J)},$=hr(k),te=0;te<M;++te){var ue=w[te];ue!=null&&(N=B.get(w[te]),N._pos=te,N.onsuccess=Z,N.onerror=$,++E)}E===0&&R(J)})},get:function(H){var P=H.trans,w=H.key;return new Promise(function(R,k){R=Gt(R);var B=P.objectStore(y),M=B.get(w);M.onsuccess=function(J){return R(J.target.result)},M.onerror=hr(k)})},query:L(u),openCursor:T,count:function(H){var P=H.query,w=H.trans,R=P.index,k=P.range;return new Promise(function(B,M){var J=w.objectStore(y),E=R.isPrimaryKey?J:J.index(R.name),q=s(k),N=q?E.count(q):E.count();N.onsuccess=Gt(function(Z){return B(Z.target.result)}),N.onerror=hr(M)})}}}var o=n(e,r),l=o.schema,u=o.hasGetAll,p=l.tables.map(function(m){return i(m)}),_={};return p.forEach(function(m){return _[m.name]=m}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(m){var y=_[m];if(!y)throw new Error("Table '"+m+"' not found");return _[m]},MIN_KEY:-1/0,MAX_KEY:_o(t),schema:l}}function U0(e,t){return t.reduce(function(r,n){var s=n.create;return Ft(Ft({},r),s(r))},e)}function $0(e,t,r,n){var s=r.IDBKeyRange;r.indexedDB;var i=U0(j0(t,s,n),e.dbcore);return{dbcore:i}}function Gc(e,t){var r=e._novip,n=t.db,s=$0(r._middlewares,n,r._deps,t);r.core=s.dbcore,r.tables.forEach(function(i){var o=i.name;r.core.schema.tables.some(function(l){return l.name===o})&&(i.core=r.core.table(o),r[o]instanceof r.Table&&(r[o].core=i.core))})}function Fa(e,t,r,n){var s=e._novip;r.forEach(function(i){var o=n[i];t.forEach(function(l){var u=jc(l,i);(!u||"value"in u&&u.value===void 0)&&(l===s.Transaction.prototype||l instanceof s.Transaction?Dr(l,i,{get:function(){return this.table(i)},set:function(p){n_(this,i,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):l[i]=new s.Table(i,o))})})}function Gu(e,t){var r=e._novip;t.forEach(function(n){for(var s in n)n[s]instanceof r.Table&&delete n[s]})}function V0(e,t){return e._cfg.version-t._cfg.version}function z0(e,t,r,n){var s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(r),i._completion.catch(n);var o=i._reject.bind(i),l=Et.transless||Et;cs(function(){Et.trans=i,Et.transless=l,t===0?(un(s).forEach(function(u){Jc(r,u,s[u].primKey,s[u].indexes)}),Gc(e,r),st.follow(function(){return e.on.populate.fire(i)}).catch(o)):W0(e,t,i,r).catch(o)})}function W0(e,t,r,n){var s=e._novip,i=[],o=s._versions,l=s._dbSchema=Yc(s,s.idbdb,n),u=!1,p=o.filter(function(m){return m._cfg.version>=t});p.forEach(function(m){i.push(function(){var y=l,C=m._cfg.dbschema;Yu(s,y,n),Yu(s,C,n),l=s._dbSchema=C;var T=I_(y,C);T.add.forEach(function(k){Jc(n,k[0],k[1].primKey,k[1].indexes)}),T.change.forEach(function(k){if(k.recreate)throw new qt.Upgrade("Not yet support for changing primary key");var B=n.objectStore(k.name);k.add.forEach(function(M){return Ju(B,M)}),k.change.forEach(function(M){B.deleteIndex(M.name),Ju(B,M)}),k.del.forEach(function(M){return B.deleteIndex(M)})});var L=m._cfg.contentUpgrade;if(L&&m._cfg.version>t){Gc(s,n),r._memoizedTables={},u=!0;var H=o_(C);T.del.forEach(function(k){H[k]=y[k]}),Gu(s,[s.Transaction.prototype]),Fa(s,[s.Transaction.prototype],un(H),H),r.schema=H;var P=Uc(L);P&&bi();var w,R=st.follow(function(){if(w=L(r),w&&P){var k=Mr.bind(null,null);w.then(k,k)}});return w&&typeof w.then=="function"?st.resolve(w):R.then(function(){return w})}}),i.push(function(y){if(!u||!b0){var C=m._cfg.dbschema;H0(C,y)}Gu(s,[s.Transaction.prototype]),Fa(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),r.schema=s._dbSchema})});function _(){return i.length?st.resolve(i.shift()(r.idbtrans)).then(_):st.resolve()}return _().then(function(){K0(l,n)})}function I_(e,t){var r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){var s=e[n],i=t[n];if(!s)r.add.push([n,i]);else{var o={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!_l)o.recreate=!0,r.change.push(o);else{var l=s.idxByName,u=i.idxByName,p=void 0;for(p in l)u[p]||o.del.push(p);for(p in u){var _=l[p],m=u[p];_?_.src!==m.src&&o.change.push(m):o.add.push(m)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}}return r}function Jc(e,t,r,n){var s=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(i){return Ju(s,i)}),s}function K0(e,t){un(e).forEach(function(r){t.db.objectStoreNames.contains(r)||Jc(t,r,e[r].primKey,e[r].indexes)})}function H0(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(r){return e[r]==null&&t.db.deleteObjectStore(r)})}function Ju(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Yc(e,t,r){var n={},s=pl(t.objectStoreNames,0);return s.forEach(function(i){for(var o=r.objectStore(i),l=o.keyPath,u=Hu(C_(l),l||"",!1,!1,!!o.autoIncrement,l&&typeof l!="string",!0),p=[],_=0;_<o.indexNames.length;++_){var m=o.index(o.indexNames[_]);l=m.keyPath;var y=Hu(m.name,l,!!m.unique,!!m.multiEntry,!1,l&&typeof l!="string",!1);p.push(y)}n[i]=A_(i,u,p)}),n}function Q0(e,t,r){var n=e._novip;n.verno=t.version/10;var s=n._dbSchema=Yc(n,t,r);n._storeNames=pl(t.objectStoreNames,0),Fa(n,[n._allTables],un(s),s)}function G0(e,t){var r=Yc(e,e.idbdb,t),n=I_(r,e._dbSchema);return!(n.add.length||n.change.some(function(s){return s.add.length||s.change.length}))}function Yu(e,t,r){for(var n=e._novip,s=r.db.objectStoreNames,i=0;i<s.length;++i){var o=s[i],l=r.objectStore(o);n._hasGetAll="getAll"in l;for(var u=0;u<l.indexNames.length;++u){var p=l.indexNames[u],_=l.index(p).keyPath,m=typeof _=="string"?_:"["+pl(_).join("+")+"]";if(t[o]){var y=t[o].idxByName[m];y&&(y.name=p,delete t[o].idxByName[m],t[o].idxByName[p]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Wt.WorkerGlobalScope&&Wt instanceof Wt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function J0(e){return e.split(",").map(function(t,r){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Hu(n,s||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),En(s),r===0)})}var Y0=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){un(t).forEach(function(n){if(t[n]!==null){var s=J0(t[n]),i=s.shift();if(i.multi)throw new qt.Schema("Primary key cannot be multi-valued");s.forEach(function(o){if(o.auto)throw new qt.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new qt.Schema("Index must have a name and cannot be an empty string")}),r[n]=A_(n,i,s)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?Tn(this._cfg.storesSource,t):t;var n=r._versions,s={},i={};return n.forEach(function(o){Tn(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),r._dbSchema=i,Gu(r,[r._allTables,r,r.Transaction.prototype]),Fa(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],un(i),i),r._storeNames=un(i),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=zc(this._cfg.contentUpgrade||$t,t),this},e}();function X0(e){return Oo(Y0.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Xc(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new nf(ml,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Zc(e){return e&&typeof e.databases=="function"}function Z0(e){var t=e.indexedDB,r=e.IDBKeyRange;return Zc(t)?Promise.resolve(t.databases()).then(function(n){return n.map(function(s){return s.name}).filter(function(s){return s!==ml})}):Xc(t,r).toCollection().primaryKeys()}function e3(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!Zc(r)&&t!==ml&&Xc(r,n).put({name:t}).catch($t)}function t3(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!Zc(r)&&t!==ml&&Xc(r,n).delete(t).catch($t)}function Xu(e){return cs(function(){return Et.letThrough=!0,e()})}function n3(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}function r3(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?dn(t.dbOpenError):e});wr&&(t.openCanceller._stackHolder=js()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller;function s(){if(t.openCanceller!==n)throw new qt.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,o=null,l=!1;return st.race([n,(typeof navigator>"u"?st.resolve():n3()).then(function(){return new st(function(u,p){if(s(),!r)throw new qt.MissingAPI;var _=e.name,m=t.autoSchema?r.open(_):r.open(_,Math.round(e.verno*10));if(!m)throw new qt.MissingAPI;m.onerror=hr(p),m.onblocked=Gt(e._fireOnBlocked),m.onupgradeneeded=Gt(function(y){if(o=m.transaction,t.autoSchema&&!e._options.allowEmptyDB){m.onerror=po,o.abort(),m.result.close();var C=r.deleteDatabase(_);C.onsuccess=C.onerror=Gt(function(){p(new qt.NoSuchDatabase("Database "+_+" doesnt exist"))})}else{o.onerror=hr(p);var T=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;l=T<1,e._novip.idbdb=m.result,z0(e,T/10,o,p)}},p),m.onsuccess=Gt(function(){o=null;var y=e._novip.idbdb=m.result,C=pl(y.objectStoreNames);if(C.length>0)try{var T=y.transaction(M0(C),"readonly");t.autoSchema?Q0(e,y,T):(Yu(e,e._dbSchema,T),G0(e,T)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Gc(e,T)}catch{}Gi.push(e),y.onversionchange=Gt(function(L){t.vcFired=!0,e.on("versionchange").fire(L)}),y.onclose=Gt(function(L){e.on("close").fire(L)}),l&&e3(e._deps,_),u()},p)})})]).then(function(){return s(),t.onReadyBeingFired=[],st.resolve(Xu(function(){return e.on.ready.fire(e.vip)})).then(function u(){if(t.onReadyBeingFired.length>0){var p=t.onReadyBeingFired.reduce(zc,$t);return t.onReadyBeingFired=[],st.resolve(Xu(function(){return p(e.vip)})).then(u)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(u){t.dbOpenError=u;try{o&&o.abort()}catch{}return n===t.openCanceller&&e._close(),dn(u)}).finally(function(){t.openComplete=!0,i()})}function Zu(e){var t=function(o){return e.next(o)},r=function(o){return e.throw(o)},n=i(t),s=i(r);function i(o){return function(l){var u=o(l),p=u.value;return u.done?p:!p||typeof p.then!="function"?En(p)?Promise.all(p).then(n,s):n(p):p.then(n,s)}}return i(t)()}function s3(e,t,r){var n=arguments.length;if(n<2)throw new qt.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];r=s.pop();var i=a_(s);return[e,i,r]}function T_(e,t,r,n,s){return st.resolve().then(function(){var i=Et.transless||Et,o=e._createTransaction(t,r,e._dbSchema,n),l={trans:o,transless:i};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(m){return m.name===Vc.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return T_(e,t,r,null,s)})):dn(m)}var u=Uc(s);u&&bi();var p,_=st.follow(function(){if(p=s.call(o,o),p)if(u){var m=Mr.bind(null,null);p.then(m,m)}else typeof p.next=="function"&&typeof p.throw=="function"&&(p=Zu(p))},l);return(p&&typeof p.then=="function"?st.resolve(p).then(function(m){return o.active?m:dn(new qt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_.then(function(){return p})).then(function(m){return n&&o._resolve(),o._completion.then(function(){return m})}).catch(function(m){return o._reject(m),dn(m)})})}function sa(e,t,r){for(var n=En(e)?e.slice():[e],s=0;s<r;++s)n.push(t);return n}function i3(e){return Ft(Ft({},e),{table:function(t){var r=e.table(t),n=r.schema,s={},i=[];function o(L,H,P){var w=Ji(L),R=s[w]=s[w]||[],k=L==null?0:typeof L=="string"?1:L.length,B=H>0,M=Ft(Ft({},P),{isVirtual:B,keyTail:H,keyLength:k,extractKey:Qu(L),unique:!B&&P.unique});if(R.push(M),M.isPrimaryKey||i.push(M),k>1){var J=k===2?L[0]:L.slice(0,k-1);o(J,H+1,P)}return R.sort(function(E,q){return E.keyTail-q.keyTail}),M}var l=o(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(var u=0,p=n.indexes;u<p.length;u++){var _=p[u];o(_.keyPath,0,_)}function m(L){var H=s[Ji(L)];return H&&H[0]}function y(L,H){return{type:L.type===1?2:L.type,lower:sa(L.lower,L.lowerOpen?e.MAX_KEY:e.MIN_KEY,H),lowerOpen:!0,upper:sa(L.upper,L.upperOpen?e.MIN_KEY:e.MAX_KEY,H),upperOpen:!0}}function C(L){var H=L.query.index;return H.isVirtual?Ft(Ft({},L),{query:{index:H,range:y(L.query.range,H.keyTail)}}):L}var T=Ft(Ft({},r),{schema:Ft(Ft({},n),{primaryKey:l,indexes:i,getIndexByKeyPath:m}),count:function(L){return r.count(C(L))},query:function(L){return r.query(C(L))},openCursor:function(L){var H=L.query.index,P=H.keyTail,w=H.isVirtual,R=H.keyLength;if(!w)return r.openCursor(L);function k(B){function M(E){E!=null?B.continue(sa(E,L.reverse?e.MAX_KEY:e.MIN_KEY,P)):L.unique?B.continue(B.key.slice(0,R).concat(L.reverse?e.MIN_KEY:e.MAX_KEY,P)):B.continue()}var J=Object.create(B,{continue:{value:M},continuePrimaryKey:{value:function(E,q){B.continuePrimaryKey(sa(E,e.MAX_KEY,P),q)}},primaryKey:{get:function(){return B.primaryKey}},key:{get:function(){var E=B.key;return R===1?E[0]:E.slice(0,R)}},value:{get:function(){return B.value}}});return J}return r.openCursor(C(L)).then(function(B){return B&&k(B)})}});return T}})}var o3={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:i3};function ef(e,t,r,n){return r=r||{},n=n||"",un(e).forEach(function(s){if(!Wn(t,s))r[n+s]=void 0;else{var i=e[s],o=t[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){var l=Fu(i),u=Fu(o);l!==u?r[n+s]=t[s]:l==="Object"?ef(i,o,r,n+s+"."):i!==o&&(r[n+s]=t[s])}else i!==o&&(r[n+s]=t[s])}}),un(t).forEach(function(s){Wn(e,s)||(r[n+s]=t[s])}),r}function a3(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var l3={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Ft(Ft({},e),{table:function(t){var r=e.table(t),n=r.schema.primaryKey,s=Ft(Ft({},r),{mutate:function(i){var o=Et.trans,l=o.table(t).hook,u=l.deleting,p=l.creating,_=l.updating;switch(i.type){case"add":if(p.fire===$t)break;return o._promise("readwrite",function(){return m(i)},!0);case"put":if(p.fire===$t&&_.fire===$t)break;return o._promise("readwrite",function(){return m(i)},!0);case"delete":if(u.fire===$t)break;return o._promise("readwrite",function(){return m(i)},!0);case"deleteRange":if(u.fire===$t)break;return o._promise("readwrite",function(){return y(i)},!0)}return r.mutate(i);function m(T){var L=Et.trans,H=T.keys||a3(n,T);if(!H)throw new Error("Keys missing");return T=T.type==="add"||T.type==="put"?Ft(Ft({},T),{keys:H}):Ft({},T),T.type!=="delete"&&(T.values=Pu([],T.values,!0)),T.keys&&(T.keys=Pu([],T.keys,!0)),u3(r,T,H).then(function(P){var w=H.map(function(R,k){var B=P[k],M={onerror:null,onsuccess:null};if(T.type==="delete")u.fire.call(M,R,B,L);else if(T.type==="add"||B===void 0){var J=p.fire.call(M,R,T.values[k],L);R==null&&J!=null&&(R=J,T.keys[k]=R,n.outbound||ir(T.values[k],n.keyPath,R))}else{var E=ef(B,T.values[k]),q=_.fire.call(M,E,R,B,L);if(q){var N=T.values[k];Object.keys(q).forEach(function(Z){Wn(N,Z)?N[Z]=q[Z]:ir(N,Z,q[Z])})}}return M});return r.mutate(T).then(function(R){for(var k=R.failures,B=R.results,M=R.numFailures,J=R.lastResult,E=0;E<H.length;++E){var q=B?B[E]:H[E],N=w[E];q==null?N.onerror&&N.onerror(k[E]):N.onsuccess&&N.onsuccess(T.type==="put"&&P[E]?T.values[E]:q)}return{failures:k,results:B,numFailures:M,lastResult:J}}).catch(function(R){return w.forEach(function(k){return k.onerror&&k.onerror(R)}),Promise.reject(R)})})}function y(T){return C(T.trans,T.range,1e4)}function C(T,L,H){return r.query({trans:T,values:!1,query:{index:n,range:L},limit:H}).then(function(P){var w=P.result;return m({type:"delete",keys:w,trans:T}).then(function(R){return R.numFailures>0?Promise.reject(R.failures[0]):w.length<H?{failures:[],numFailures:0,lastResult:void 0}:C(T,Ft(Ft({},L),{lower:w[w.length-1],lowerOpen:!0}),H)})})}}});return s}})}};function u3(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function O_(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var n=[],s=0,i=0;s<t.keys.length&&i<e.length;++s)An(t.keys[s],e[i])===0&&(n.push(r?ko(t.values[s]):t.values[s]),++i);return n.length===e.length?n:null}catch{return null}}var c3={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return Ft(Ft({},r),{getMany:function(n){if(!n.cache)return r.getMany(n);var s=O_(n.keys,n.trans._cache,n.cache==="clone");return s?st.resolve(s):r.getMany(n).then(function(i){return n.trans._cache={keys:n.keys,values:n.cache==="clone"?ko(i):i},i})},mutate:function(n){return n.type!=="add"&&(n.trans._cache=null),r.mutate(n)}})}}}},eu;function tf(e){return!("from"in e)}var Cr=function(e,t){if(this)Tn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var r=new Cr;return e&&"d"in e&&Tn(r,e),r}};hi(Cr.prototype,(eu={add:function(e){return La(this,e),this},addKey:function(e){return mo(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return mo(t,r,r)}),this}},eu[Lu]=function(){return ec(this)},eu));function mo(e,t,r){var n=An(t,r);if(!isNaN(n)){if(n>0)throw RangeError();if(tf(e))return Tn(e,{from:t,to:r,d:1});var s=e.l,i=e.r;if(An(r,e.from)<0)return s?mo(s,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Pd(e);if(An(t,e.to)>0)return i?mo(i,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Pd(e);An(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),An(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;s&&!e.l&&La(e,s),i&&o&&La(e,i)}}function La(e,t){function r(n,s){var i=s.from,o=s.to,l=s.l,u=s.r;mo(n,i,o),l&&r(n,l),u&&r(n,u)}tf(t)||r(e,t)}function f3(e,t){var r=ec(t),n=r.next();if(n.done)return!1;for(var s=n.value,i=ec(e),o=i.next(s.from),l=o.value;!n.done&&!o.done;){if(An(l.from,s.to)<=0&&An(l.to,s.from)>=0)return!0;An(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(o=i.next(s.from)).value}return!1}function ec(e){var t=tf(e)?null:{s:0,n:e};return{next:function(r){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&An(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||An(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Pd(e){var t,r,n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){var i=s==="r"?"l":"r",o=Ft({},e),l=e[s];e.from=l.from,e.to=l.to,e[s]=l[s],o[s]=l[i],e[i]=o,o.d=Rd(o)}e.d=Rd(e)}function Rd(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}var d3={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,r=new Cr(e.MIN_KEY,e.MAX_KEY);return Ft(Ft({},e),{table:function(n){var s=e.table(n),i=s.schema,o=i.primaryKey,l=o.extractKey,u=o.outbound,p=Ft(Ft({},s),{mutate:function(y){var C=y.trans,T=C.mutatedParts||(C.mutatedParts={}),L=function(J){var E="idb://"+t+"/"+n+"/"+J;return T[E]||(T[E]=new Cr)},H=L(""),P=L(":dels"),w=y.type,R=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[[],y.values]:[],k=R[0],B=R[1],M=y.trans._cache;return s.mutate(y).then(function(J){if(En(k)){w!=="delete"&&(k=J.results),H.addKeys(k);var E=O_(k,M);!E&&w!=="add"&&P.addKeys(k),(E||B)&&p3(L,i,E,B)}else if(k){var q={from:k.lower,to:k.upper};P.add(q),H.add(q)}else H.add(r),P.add(r),i.indexes.forEach(function(N){return L(N.name).add(r)});return J})}}),_=function(y){var C,T,L=y.query,H=L.index,P=L.range;return[H,new Cr((C=P.lower)!==null&&C!==void 0?C:e.MIN_KEY,(T=P.upper)!==null&&T!==void 0?T:e.MAX_KEY)]},m={get:function(y){return[o,new Cr(y.key)]},getMany:function(y){return[o,new Cr().addKeys(y.keys)]},count:_,query:_,openCursor:_};return un(m).forEach(function(y){p[y]=function(C){var T=Et.subscr;if(T){var L=function(M){var J="idb://"+t+"/"+n+"/"+M;return T[J]||(T[J]=new Cr)},H=L(""),P=L(":dels"),w=m[y](C),R=w[0],k=w[1];if(L(R.name||"").add(k),!R.isPrimaryKey)if(y==="count")P.add(r);else{var B=y==="query"&&u&&C.values&&s.query(Ft(Ft({},C),{values:!1}));return s[y].apply(this,arguments).then(function(M){if(y==="query"){if(u&&C.values)return B.then(function(N){var Z=N.result;return H.addKeys(Z),M});var J=C.values?M.result.map(l):M.result;C.values?H.addKeys(J):P.addKeys(J)}else if(y==="openCursor"){var E=M,q=C.values;return E&&Object.create(E,{key:{get:function(){return P.addKey(E.primaryKey),E.key}},primaryKey:{get:function(){var N=E.primaryKey;return P.addKey(N),N}},value:{get:function(){return q&&H.addKey(E.primaryKey),E.value}}})}return M})}}return s[y].apply(this,arguments)}}),p}})}};function p3(e,t,r,n){function s(i){var o=e(i.name||"");function l(p){return p!=null?i.extractKey(p):null}var u=function(p){return i.multiEntry&&En(p)?p.forEach(function(_){return o.addKey(_)}):o.addKey(p)};(r||n).forEach(function(p,_){var m=r&&l(r[_]),y=n&&l(n[_]);An(m,y)!==0&&(m!=null&&u(m),y!=null&&u(y))})}t.indexes.forEach(s)}var nf=function(){function e(t,r){var n=this;this._middlewares={},this.verno=0;var s=e.dependencies;this._options=r=Ft({addons:e.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var i=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$t,dbReadyPromise:null,cancelOpen:$t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new st(function(l){o.dbReadyResolve=l}),o.openCanceller=new st(function(l,u){o.cancelOpen=u}),this._state=o,this.name=t,this.on=To(this,"populate","blocked","versionchange","close",{ready:[zc,$t]}),this.on.ready.subscribe=r_(this.on.ready.subscribe,function(l){return function(u,p){e.vip(function(){var _=n._state;if(_.openComplete)_.dbOpenError||st.resolve().then(u),p&&l(u);else if(_.onReadyBeingFired)_.onReadyBeingFired.push(u),p&&l(u);else{l(u);var m=n;p||l(function y(){m.on.ready.unsubscribe(u),m.on.ready.unsubscribe(y)})}})}}),this.Collection=A0(this),this.Table=S0(this),this.Transaction=D0(this),this.Version=X0(this),this.WhereClause=F0(this),this.on("versionchange",function(l){l.newVersion>0?console.warn("Another connection wants to upgrade database '"+n.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+n.name+"'. Closing db now to resume the delete request."),n.close()}),this.on("blocked",function(l){!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('"+n.name+"') was blocked"):console.warn("Upgrade '"+n.name+"' blocked by other connection holding version "+l.oldVersion/10)}),this._maxKey=_o(r.IDBKeyRange),this._createTransaction=function(l,u,p,_){return new n.Transaction(l,u,p,n._options.chromeTransactionDurability,_)},this._fireOnBlocked=function(l){n.on("blocked").fire(l),Gi.filter(function(u){return u.name===n.name&&u!==n&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(l)})},this.use(o3),this.use(l3),this.use(d3),this.use(c3),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(function(l){return l(n)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new qt.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new qt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,n=r.filter(function(s){return s._cfg.version===t})[0];return n||(n=new this.Version(t),r.push(n),r.sort(V0),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(t){var r=this;return this.idbdb&&(this._state.openComplete||Et.letThrough||this._vip)?t():new st(function(n,s){if(r._state.openComplete)return s(new qt.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._options.autoOpen){s(new qt.DatabaseClosed);return}r.open().catch($t)}r._state.dbReadyPromise.then(n,s)}).then(t)},e.prototype.use=function(t){var r=t.stack,n=t.create,s=t.level,i=t.name;i&&this.unuse({stack:r,name:i});var o=this._middlewares[r]||(this._middlewares[r]=[]);return o.push({stack:r,create:n,level:s??10,name:i}),o.sort(function(l,u){return l.level-u.level}),this},e.prototype.unuse=function(t){var r=t.stack,n=t.name,s=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(i){return s?i.create!==s:n?i.name!==n:!1})),this},e.prototype.open=function(){return r3(this)},e.prototype._close=function(){var t=this._state,r=Gi.indexOf(this);if(r>=0&&Gi.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new st(function(n){t.dbReadyResolve=n}),t.openCanceller=new st(function(n,s){t.cancelOpen=s})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new qt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,r=arguments.length>0,n=this._state;return new st(function(s,i){var o=function(){t.close();var l=t._deps.indexedDB.deleteDatabase(t.name);l.onsuccess=Gt(function(){t3(t._deps,t.name),s()}),l.onerror=hr(i),l.onblocked=t._fireOnBlocked};if(r)throw new qt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return un(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=s3.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,n){var s=this,i=Et.trans;(!i||i.db!==this||t.indexOf("!")!==-1)&&(i=null);var o=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var l,u;try{if(u=r.map(function(_){var m=_ instanceof s.Table?_.name:_;if(typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),t=="r"||t===Gl)l=Gl;else if(t=="rw"||t==Jl)l=Jl;else throw new qt.InvalidArgument("Invalid transaction mode: "+t);if(i){if(i.mode===Gl&&l===Jl)if(o)i=null;else throw new qt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&u.forEach(function(_){if(i&&i.storeNames.indexOf(_)===-1)if(o)i=null;else throw new qt.SubTransaction("Table "+_+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(_){return i?i._promise(null,function(m,y){y(_)}):dn(_)}var p=T_.bind(null,this,l,u,i,n);return i?i._promise(l,p,"lock"):Et.trans?wi(Et.transless,function(){return s._whenReady(p)}):this._whenReady(p)},e.prototype.table=function(t){if(!Wn(this._allTables,t))throw new qt.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),h3=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_3=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)},e.prototype[h3]=function(){return this},e}();function P_(e,t){return un(t).forEach(function(r){var n=e[r]||(e[r]=new Cr);La(n,t[r])}),e}function m3(e){return new _3(function(t){var r=Uc(e);function n(C){r&&bi();var T=function(){return cs(e,{subscr:C,trans:null})},L=Et.trans?wi(Et.transless,T):T();return r&&L.then(Mr,Mr),L}var s=!1,i={},o={},l={get closed(){return s},unsubscribe:function(){s=!0,ds.storagemutated.unsubscribe(m)}};t.start&&t.start(l);var u=!1,p=!1;function _(){return un(o).some(function(C){return i[C]&&f3(i[C],o[C])})}var m=function(C){P_(i,C),_()&&y()},y=function(){if(!(u||s)){i={};var C={},T=n(C);p||(ds(ho,m),p=!0),u=!0,Promise.resolve(T).then(function(L){u=!1,!s&&(_()?y():(i={},o=C,t.next&&t.next(L)))},function(L){u=!1,t.error&&t.error(L),l.unsubscribe()})}};return y(),l})}var tc;try{tc={indexedDB:Wt.indexedDB||Wt.mozIndexedDB||Wt.webkitIndexedDB||Wt.msIndexedDB,IDBKeyRange:Wt.IDBKeyRange||Wt.webkitIDBKeyRange}}catch{tc={indexedDB:null,IDBKeyRange:null}}var vs=nf;hi(vs,Ft(Ft({},hl),{delete:function(e){var t=new vs(e,{addons:[]});return t.delete()},exists:function(e){return new vs(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Z0(vs.dependencies).then(e)}catch{return dn(new qt.MissingAPI)}},defineClass:function(){function e(t){Tn(this,t)}return e},ignoreTransaction:function(e){return Et.trans?wi(Et.transless,e):e()},vip:Xu,async:function(e){return function(){try{var t=Zu(e.apply(this,arguments));return!t||typeof t.then!="function"?st.resolve(t):t}catch(r){return dn(r)}}},spawn:function(e,t,r){try{var n=Zu(e.apply(r,t||[]));return!n||typeof n.then!="function"?st.resolve(n):n}catch(s){return dn(s)}},currentTransaction:{get:function(){return Et.trans||null}},waitFor:function(e,t){var r=st.resolve(typeof e=="function"?vs.ignoreTransaction(e):e).timeout(t||6e4);return Et.trans?Et.trans.waitFor(r):r},Promise:st,debug:{get:function(){return wr},set:function(e){u_(e,e==="dexie"?function(){return!0}:S_)}},derive:yi,extend:Tn,props:hi,override:r_,Events:To,on:ds,liveQuery:m3,extendObservabilitySet:P_,getByKeyPath:Fr,setByKeyPath:ir,delByKeyPath:Qw,shallowClone:o_,deepClone:ko,getObjectDiff:ef,cmp:An,asap:s_,minKey:Ku,addons:[],connections:Gi,errnames:Vc,dependencies:tc,semVer:kd,version:kd.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)})}));vs.maxKey=_o(vs.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ds(ho,function(e){if(!Tr){var t;_l?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Zr,!0,!0,e)):t=new CustomEvent(Zr,{detail:e}),Tr=!0,dispatchEvent(t),Tr=!1}}),addEventListener(Zr,function(e){var t=e.detail;Tr||Da(t)}));function Da(e){var t=Tr;try{Tr=!0,ds.storagemutated.fire(e)}finally{Tr=t}}var Tr=!1;if(typeof BroadcastChannel<"u"){var ia=new BroadcastChannel(Zr);typeof ia.unref=="function"&&ia.unref(),ds(ho,function(e){Tr||ia.postMessage(e)}),ia.onmessage=function(e){e.data&&Da(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ds(ho,function(e){try{Tr||(typeof localStorage<"u"&&localStorage.setItem(Zr,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Pu([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Zr,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===Zr){var t=JSON.parse(e.newValue);t&&Da(t.changedParts)}});var Fd=self.document&&navigator.serviceWorker;Fd&&Fd.addEventListener("message",g3)}function g3(e){var t=e.data;t&&t.type===Zr&&Da(t.changedParts)}st.rejectionMapper=r0;u_(wr,S_);const es=async(e,t,r=!1)=>{const n=new Request(t,{cache:r===!0?"reload":"default"});r===!0&&await e.delete(n);let s=await e.match(n);return s||(await e.add(n),s=await e.match(n)),await s.json()},Ma=async(e="",t={})=>{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error(r.statusText);return await r.json()},y3=async(e="",t={})=>{await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};Object.freeze({__proto__:null});var gl={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid"};const Cn=rn({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:gl.defaultButtonConfig,callback:()=>{},error:null}),Is=rn({apiLoaded:!1,apiLoadIntitited:!1}),v3=e=>{try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{throw"JWT provided is invalid"}},R_=new Promise(e=>{const t=typeof window<"u";if(!Is.apiLoadIntitited&&t){const r=document.createElement("script");Is.apiLoadIntitited=!0,r.addEventListener("load",()=>{Is.apiLoaded=!0,e(window.google)}),r.src=gl.library,r.async=!0,r.defer=!0,document.head.appendChild(r)}}),yl=e=>{Is.apiLoadIntitited?Is.apiLoaded?e(window.google):tn(()=>Is.apiLoaded,t=>{t&&e(window.google)}):R_.then(t=>{e(t)})},b3=(e,t,r,n)=>{if(!e.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");yl(()=>{((s,i,o,l,u)=>{if(u){const _=s.callback;s.callback=m=>{m.credential?_&&_(m):u(m)}}window.google.accounts.id.initialize(s);const p=i.value;p&&!l&&window.google.accounts.id.renderButton(p,o)})(e,t,r.buttonConfig,n,r.error),r.prompt&&S3({clientId:r.clientId,callback:r.callback,error:r.error,autoLogin:r.autoLogin})})},w3=e=>new Promise((t,r)=>{yl(n=>{if(!(e&&e.clientId||Cn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");n.accounts.oauth2.initCodeClient({client_id:e&&e.clientId||Cn.clientId||"",scope:gl.scopes,ux_mode:"popup",callback:s=>{s.code?t(s):r(s)}}).requestCode()})}),E3=e=>new Promise((t,r)=>{yl(n=>{if(!(e&&e.clientId||Cn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");n.accounts.oauth2.initTokenClient({client_id:e&&e.clientId||Cn.clientId||"",scope:gl.scopes,callback:s=>{s.access_token?t(s):r(s)}}).requestAccessToken()})}),S3=e=>{if(!e&&(e={}),!e.clientId&&!Cn.clientId)throw new Error("clientId is required");const t={};return e.clientId&&(t.client_id=e.clientId),!e.clientId&&Cn.clientId&&(t.client_id=Cn.clientId),e.context&&(t.context=e.context),e.autoLogin!=null&&(t.auto_select=e.autoLogin),e.cancelOnTapOutside!=null&&(t.cancel_on_tap_outside=e.cancelOnTapOutside),new Promise((r,n)=>{t.callback=s=>{e&&e.callback&&e.callback(s),s.credential?r(s):n(s)},yl(s=>{s.accounts.id.initialize(t),s.accounts.id.prompt(i=>{e&&e.onNotification&&e.onNotification(i),(o=>{const l=o.notification;let u="";l.isNotDisplayed()&&(u=l.getNotDisplayedReason()==="suppressed_by_user"?"Prompt was suppressed by user'. Refer https://developers.google.com/identity/gsi/web/guides/features#exponential_cooldown for more info":`Prompt was not displayed, reason for not displaying: ${l.getNotDisplayedReason()}`),l.isSkippedMoment()&&(u=`Prompt was skipped, reason for skipping: ${l.getSkippedReason()}`),u.length&&(o.error?o.error(u):o.reject(u))})({notification:i,reject:n,error:e&&e.error})})})})};var nc=Kn({__name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1,default:"CODE"},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(e){const t=e,r=!!Op().default,n=((o,l)=>{const u={...o};for(const p in l)l[p]!==void 0&&l[p]!==null&&(u[p]=l[p]);return u})(Cn,t),s={client_id:n.clientId||null,auto_select:n.autoLogin||!1,callback:n.callback,...n.idConfiguration},i=Dt();return Nr(()=>{b3(s,i,n,r)}),(o,l)=>(de(),we("div",{class:ut(["g-btn-wrapper",[!ne(Is).apiLoaded&&"api-loading"]]),onClick:l[0]||(l[0]=u=>ne(r)&&void(ne(n).popupType==="TOKEN"?E3({clientId:n.clientId}).then(p=>{n.callback&&n.callback(p)}):w3({clientId:n.clientId}).then(p=>{n.callback&&n.callback(p)})))},[ne(r)?Ge("v-if",!0):(de(),we("span",{key:0,ref_key:"buttonRef",ref:i,class:"g-btn"},null,512)),hn(o.$slots,"default")],2))}});(function(e,t){t===void 0&&(t={});var r=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
.g-btn-wrapper.api-loading[data-v-5e610566] {
  opacity: 0.5;
  pointer-events: none;
}
`),nc.__scopeId="data-v-5e610566",nc.__file="src/plugin/GoogleLogin.vue";var q3={install:(e,t)=>{t&&(r=>{r.clientId&&(Cn.clientId=r.clientId),r.popupType&&(Cn.popupType=r.popupType),r.prompt!=null&&(Cn.prompt=r.prompt),r.autoLogin!=null&&(Cn.autoLogin=r.autoLogin),r.idConfiguration&&(Cn.idConfiguration=r.idConfiguration),r.buttonConfig&&(Cn.buttonConfig=r.buttonConfig),r.callback&&(Cn.callback=r.callback)})(t),R_.then(()=>{if(t.clientId){const r={client_id:t.clientId,auto_select:t.autoLogin===!0,callback:t.callback,...t.idConfiguration};window.google.accounts.id.initialize(r),t.prompt&&window.google.accounts.id.prompt()}}),e.component("GoogleLogin",nc)}},Ld={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},x3=function(){function e(){this.current_default_config=Ld}return e.prototype.config=function(t){for(var r in this.current_default_config)this.current_default_config[r]=t[r]?t[r]:Ld[r]},e.prototype.get=function(t){var r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(r&&r.substring(0,1)==="{"&&r.substring(r.length-1,r.length)==="}")try{r=JSON.parse(r)}catch{return r}return r},e.prototype.set=function(t,r,n,s,i,o,l){if(t){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(t))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+t)}else throw new Error("Cookie name is not found in the first argument.");r&&r.constructor===Object&&(r=JSON.stringify(r));var u="";if(n==null&&(n=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),n&&n!=0)switch(n.constructor){case Number:n===1/0||n===-1?u="; expires=Fri, 31 Dec 9999 23:59:59 GMT":u="; max-age="+n;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(n)){var p=n.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(n.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":u="; max-age="+ +p*2592e3;break;case"d":u="; max-age="+ +p*86400;break;case"h":u="; max-age="+ +p*3600;break;case"min":u="; max-age="+ +p*60;break;case"s":u="; max-age="+p;break;case"y":u="; max-age="+ +p*31104e3;break}}else u="; expires="+n;break;case Date:u="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(r)+u+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(s?"; path="+s:this.current_default_config.path?this.current_default_config.path:"; path=/")+(o==null?this.current_default_config.secure?"; Secure":"":o?"; Secure":"")+(l==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":l?"; SameSite="+l:""),this},e.prototype.remove=function(t,r,n){return!t||!this.isKey(t)?!1:(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:this.current_default_config.domain?this.current_default_config.domain:"")+(r?"; path="+r:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),r=0;r<t.length;r++)t[r]=decodeURIComponent(t[r]);return t},e}(),tu=null;function Dd(){tu==null&&(tu=new x3);var e=rn(tu);return{cookies:e}}const k3="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Ba=jr("user",{state:()=>({token:null,collections:new Map}),getters:{info(e){return v3(e.token)}},actions:{logout(){this.$reset()},async loadCookie(){const e=Dd(),t=e.cookies.get("token");if(t)try{await this.handleGoogleLogin(t),console.log("User restored from cookie")}catch{console.log("Failed to restore user token from cookie"),this.token=null,e.cookies.remove("token")}},async handleGoogleLogin(e){const t=await Ma(k3+"/login",{token:e});this.token=e,Dd().cookies.set("token",e),this.collections=new Map;const n=zn();for(const s of t.data.collections)this.collections.set(s.name,s),n.collections.has(s.name)||n.collections.set(s.name,{lastSync:0,downloaded:!1})}}}),oa="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Zn=new nf("mtg");Zn.version(4).stores({collections:"&name, syncCode"});const zn=jr("collections",{state:()=>({collections:new Map,open:[]}),getters:{names(e){return[...e.collections.keys()].sort()},all(e){return[...e.collections.keys()].sort()},obj(e){let t=[];for(const[r,n]of e.collections.entries())n.name=r,t.push(n);return t}},actions:{async init(){Zn.collections.toCollection().each(e=>{e.name!=="clipboard"&&this.collections.set(e.name,{lastSync:e.lastSync||0,downloaded:!0,image:e.cards[0]?.image_uris?.art_crop||"https://cards.scryfall.io/art_crop/front/7/e/7e78b70b-0c67-4f14-8ad7-c9f8e3f59743.jpg?1562614382",count:e.cards.length})})},async refreshPrices(){for(const t of this.open){let r=await Zn.collections.get({name:t});var e=[];for(const i of r.cards)e.push(i.id);const n=await Ma(oa+"/prices",{data:e});let s=[];for(const i of r.cards)i.prices=n.data[i.id],s.push(i);await this.save(t,s)}},async delete(e){const t=Ba();t.collections.has(e)&&await y3(oa+"/collection",{id:t.collections.get(e).id}),await Zn.collections.delete(e),this.collections.delete(e),this.open.splice(this.open.indexOf(e),1)},async save(e,t){let r=Date.now();return await Zn.collections.put({name:e,cards:t,lastSync:r}),this.collections.has(e)||this.collections.set(e,{downloaded:!0,lastSync:r}),this.all},async replaceCard(e,t,r){let s=(await Zn.collections.get({name:e})).cards.filter(i=>i.id!==t.id||i.finish!==t.finish);s.push(r),await Zn.collections.update(e,{cards:s})},async deleteCard(e,t){for(const r of e){const s=(await Zn.collections.get({name:r})).cards.filter(i=>i.id!==t.id||i.finish!==t.finish);await Zn.collections.update(r,{cards:s})}},async get(e){return await Zn.collections.get({name:e})},async load(e){if(this.open=e,!e)return;const t=Ba();for(const r of e){const n=this.collections.get(r);n&&!n.downloaded&&await this.download(t.collections.get(r).id)}return await this.getCards(e)},async getCards(e){let t=new Map;for(const r of e){let n=await Zn.collections.get({name:r});if(n&&Object.keys(n.cards).length>0)for(const s of n.cards){if(!s)continue;const i=s.id+s.finish;if(t.has(i)){let o=t.get(i);o.count=parseInt(o.count)+parseInt(s.count),o.collections.push(n.name),t.set(i,o)}else s.collections=[n.name],t.set(i,s)}}return[...t.values()]},async upload(e,t){try{const r=await this.get(t);let n={name:r.name,userToken:e,cards:r.cards.map(i=>({id:i.id,count:i.count,tags:i.tags,finish:i.finish}))};return(await Ma(oa+"/collection",n)).data}catch(r){console.error(r)}},async download(e){try{const r=await(await fetch(oa+"/collection?id="+e)).json();await this.save(r.data.name,r.data.cards),this.collections.get(r.data.name).downloaded=!0}catch(t){return console.error(t),!1}return!0}}});var C3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A3(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}const I3=A3(Ov),{unref:F_,isRef:L_}=I3,T3=e=>e!==null&&typeof e=="object",O3=Array.isArray,D_=e=>{const t=L_(e)?F_(e):e;return T3(t)?O3(t)?P3(t):R3(t):t},M_=e=>e!==null&&!L_(e)&&typeof e=="object"?D_(e):F_(e),P3=e=>{const t=[];return e.forEach(r=>{t.push(M_(r))}),t},R3=e=>{const t={};return Object.keys(e).forEach(r=>{t[r]=M_(e[r])}),t};var go={deepUnref:D_};const F3="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",cr=jr("meta",{state:()=>({_sets:new Map,precons:[],types:[],forex:{usd:.8,eur:.8},symbols:new Map,cacheKeys:new Map}),getters:{setIds(e){return new Set(e._sets.keys())},setNames(e){let t=new Map;for(const r of e._sets.values())t.set(r.name,r.code);return t},sets(e){return[...e._sets.values()]}},actions:{async getForex(e,t){return(await(await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${e}/${t}.json`)).json())[t]},async init(){this.forex.eur=await this.getForex("eur","gbp"),this.forex.usd=await this.getForex("usd","gbp");const e=await caches.open("cardDataCache");(await es(e,"https://api.scryfall.com/sets",!0)).data.forEach(o=>{o.digital||this._sets.set(o.code,o)});let r=await es(e,"https://api.scryfall.com/catalog/creature-types");this.types=r.data.concat(["Enchantment","Sorcery","Land","Creature","Instant","Artifact"]),(await es(e,"https://api.scryfall.com/symbology ")).data.forEach(o=>{this.symbols.set(o.symbol,o.svg_uri)});let s=await es(e,`${F3}/precons`,!0);s.data.sort((o,l)=>Date.parse(o.releaseDate)<Date.parse(l.releaseDate)?1:-1);let i={};for(const o of s.data){let l=this._sets.get(o.set).name;i[l]?i[l].push(o):i[l]=[o]}this.precons=[];for(const[o,l]of Object.entries(i))this.precons.push({label:o,options:l})}}}),nu="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",rc=["Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],L3=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),Md=e=>(t,r)=>{const n=e.dir;if(e.val==="Price")return t.price?t.price<r.price?n:n*-1:!0;if(e.val==="Mana")return parseFloat(t.cmc)<parseFloat(r.cmc)?n:-1*n;if(e.val==="Count")return parseFloat(t.count)===parseFloat(r.count)?t.price<r.price?1:-1:parseFloat(t.count)<parseFloat(r.count)?n:-1*n;if(e.val==="Released"){let s=new Date(t.released_at+"T00:00:00"),i=new Date(r.released_at+"T00:00:00");return s.getTime()>i.getTime()?n:n*-1}else{if(e.val==="Type")return t.type===r.type?parseFloat(t.cmc)>parseFloat(r.cmc)?n:n*-1:rc.indexOf(t.type)>rc.indexOf(r.type)?n:n*-1;if(e.val==="Tag")return t.tags[0].localeCompare(r.tags[0]);if(e.val==="Number")return parseInt(t.collector_number)>parseInt(r.collector_number)}},vl={state:()=>({cards:new Map,have:new Map,filtered:[],tribes:[],loading:!1,selected:new Set,filters:{colours:{colours:[],mode:"commander"},rarity:[],keywords:[],tribes:[],name:"",cardText:"",sets:[],tags:[],mana:{value:[null,null],min:0,max:20},price:{value:[null,null],min:0,max:100},dupesOnly:!1,group:null,incCol:[],excCol:[],cmpCol:[],ors:{},finish:null,border:null,quantity:{value:[null,null],min:0,max:100}},sort:{val:"Price",dir:1}}),getters:{count(e){return e.filtered.reduce((t,r)=>t+=parseInt(r.count||1),0)},value(e){const t=parseInt(e.filtered.reduce((r,n)=>r+=n.price*(n.count||1),0));return L3.format(t)},sorted(e){return[...e.cards.values()].sort(Md(e.sort))},grouped(e){e.filters.group;let t=new Map;for(const r of e.cards.values()){let n=t.get(r.name),s=r.price>0?r.price:1/0;if(n){if(n.price>s||n.price===0&&r.price!==0){let i=0+n.count;n={...r},n.count=i}n.count+=r.count||1,t.set(r.name,n)}else t.set(r.name,{...r});(!n||n.price>s||n.price===0&&r.price!==0)&&(n={...r},t.set(r.name,n))}return[...t.values()].sort(Md(e.sort))},keywords(e){let t=new Set;return e.filtered.forEach(r=>{r.keywords&&r.keywords.forEach(n=>{t.add(n)})}),[...t]},tags(e){let t=new Set;return e.filtered.forEach(r=>{r.tags&&r.tags.forEach(n=>{t.add(n)})}),t},sets(e){let t=new Map;return e.filtered.forEach(r=>{t.has(r.set)||t.set(r.set,r.set_name)}),Object.fromEntries(t)}},actions:{async _compare(e,t){const s=(await zn().getCards(t)).map(i=>i.oracle_id);e=e.forEach(i=>{this.have.set(i.oracle_id,s.includes(i.oracle_id))})},_filterColours(e,t){const{mode:r,colours:n}=t;if(r==="commander"){let s=e.color_identity.filter(i=>!n.includes(i));if(Object.keys(e.color_identity).length>0&&s.length>0)return!1}else{if(r==="any")return e.color_identity.some(s=>n.includes(s));if(r==="all")return n.every(s=>e.color_identity.includes(s));if(r==="exact")return e.color_identity.sort().join()===n.sort().join()}return!0},async applyFilters(){const e=zn();let t=this.filters,r=t.group!==null?this.grouped:this.sorted;if(this.have.clear(),t.cmpCol.length>0&&await this._compare(r,t.cmpCol),t.incCol.length>0){const s=(await e.getCards(t.incCol)).map(i=>i.oracle_id);r=r.filter(i=>s.includes(i.oracle_id))}if(t.excCol.length>0){const s=(await e.getCards(t.excCol)).map(i=>i.oracle_id);r=r.filter(i=>!s.includes(i.oracle_id))}r=r.filter(n=>{if(t.cardText&&t.cardText!==""){let L=n.oracle_text;if(L===void 0){L="";for(const P of n.card_faces)L+=P.oracle_text}if(!new RegExp(t.cardText).test(L))return!1}if(!(!t.finish||n.finish===t.finish)||!(!t.name||!t.name!=""||n.name.toLowerCase().includes(t.name.toLowerCase()))||t.colours.colours.length>0&&!this._filterColours(n,t.colours)||!t.keywords.every(L=>(n.keywords||[]).includes(L)))return!1;const l=t.tribes.some(L=>(n.type_line.toLowerCase()||"").includes(L.toLowerCase()));if(t.tribes.length>0&&!l||!(t.rarity.length>0?[...t.rarity].includes(n.rarity):!0))return!1;let p=!0;if(t.sets.length>0&&(p=t.sets.some(L=>n.set===L)),!p)return!1;let _=!0;return t.tags.length>0&&(_=t.tags.some(L=>(n.tags||[]).includes(L))),!(!_||!(n.cmc>=(t.mana.value[0]||0)&&n.cmc<=(t.mana.value[1]||20))||!(n.price>=(t.price.value[0]||0)&&n.price<=(t.price.value[1]||9999))||!(n.count>=(t.quantity.value[0]||0)&&n.count<=(t.quantity.value[1]||9999))||!(t.border?n.border_color==t.border:!0))}),this.filtered=r,this.loading=!1},delete(e){this.cards.delete(e.id+e.finish),this.filtered=this.filtered.filter(t=>t.id!==e.id||t.finish!==e.finish)},add(e){const t=cr();e.finish=e.finishes.length===1?e.finishes[0]:e.finish,e.count||(e.count=1),e.isCommander&&(e.finish="foil"),e.prices===void 0?e.price=0:e.finish==="foil"||e.finish==="etched"||e.prices.eur===null&&e.prices.usd===null?e.prices.usd_etched!==null?(e.price=parseFloat(e.prices.usd_etched)*t.forex.usd,e.finish||(e.finish="etched")):e.prices.eur_foil||e.prices.usd_foil?(e.price=parseFloat(e.prices.eur_foil)*t.forex.eur||parseFloat(e.prices.usd_foil)*t.forex.usd||0,e.finish||(e.finish="foil")):(e.finish="nonfoil",e.price=0):(e.price=parseFloat(e.prices.eur)*t.forex.eur||parseFloat(e.prices.usd)*t.forex.usd||0,e.finish="nonfoil"),e.type_line=e.type_line||"",e.type=rc.filter(n=>e.type_line.includes(n))[0];const r=this.cards.get(e.id+e.finish);r?r.count+=e.count:this.cards.set(e.id+e.finish,{...e}),this.filtered.push({...e})},addMany(e){this.cards.clear(),this.filtered=[],e.forEach(t=>{this.add(t)}),this.applyFilters()},getSelection(){const e=[];for(const t of this.cards.values())this.selected.has(t.id+t.finish)&&e.push(t);return e},async loadSearch(e,t="card",r=!1){if(e.length===0){this.cards.clear();return}if(e.length<3)return;const n=await caches.open("cardDataCache");let s="https://api.scryfall.com/cards/search?"+new URLSearchParams({q:`${e} -border:silver -is:digital`,unique:t}),i=[];this.loading=!0;try{for(;;){let o=await es(n,s,r);if(i=i.concat(o.data),!o.has_more)break;s=o.next_page,await new Promise(l=>setTimeout(l,100))}this.addMany(i)}finally{this.loading=!1}},async loadPrints(e){this.loadSearch(`!"${e}" -border:silver -is:digital`,"prints",!0)},async loadSet(e,t=!1){this.loading=!0;const r=await caches.open("cardDataCache");let n=await es(r,`${nu}/set/?set=`+e,t);this.addMany(n.data),this.loading=!1},async loadCollections(e){this.loading=!0;const t=zn();t.open=e;let r=await t.load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(r),this.loading=!1},async loadPrecon(e){this.loading=!0;const t=await caches.open("cardDataCache"),r=await es(t,`${nu}/precon?name=${e}`,!0);this.addMany(r.data),this.loading=!1},async loadSync(e){this.loading=!0;const r=await(await fetch(nu+"/collection?id="+e)).json();this.addMany(r.data.cards),this.loading=!1},unrefCards(){return[...this.cards.values()].map(go.deepUnref)}}},ar=jr("cardView",vl),B_=jr("printsView",vl),D3=jr("searchView",vl),Po=jr("clipboardView",vl),ps=jr("ui",{state:()=>({sidebar:{show:!1,selected:""},mainView:"cards",zoom:0,columns:3,source:"collection",details:{index:0,show:!1},edit:{card:null}}),getters:{},actions:{showSidebar(e){this.sidebar.selected=e,this.sidebar.show=!0},loadMain(e){this.mainView=e,["upload","precons"].includes(e)&&(this.sidebar.show=!1)}}});function dr(e){return[null,void 0].indexOf(e)!==-1}function M3(e,t,r){const{object:n,valueProp:s,mode:i}=On(e),o=qn().proxy,l=r.iv,u=(m,y=!0)=>{l.value=_(m);const C=p(m);t.emit("change",C,o),y&&(t.emit("input",C),t.emit("update:modelValue",C))},p=m=>n.value||dr(m)?m:Array.isArray(m)?m.map(y=>y[s.value]):m[s.value],_=m=>dr(m)?i.value==="single"?{}:[]:m;return{update:u}}function B3(e,t){const{value:r,modelValue:n,mode:s,valueProp:i}=On(e),o=Dt(s.value!=="single"?[]:{}),l=n&&n.value!==void 0?n:r,u=mt(()=>s.value==="single"?o.value[i.value]:o.value.map(_=>_[i.value])),p=mt(()=>s.value!=="single"?o.value.map(_=>_[i.value]).join(","):o.value[i.value]);return{iv:o,internalValue:o,ev:l,externalValue:l,textValue:p,plainValue:u}}function N3(e,t,r){const{regex:n}=On(e),s=qn().proxy,i=r.isOpen,o=r.open,l=Dt(null),u=Dt(null),p=()=>{l.value=""},_=C=>{l.value=C.target.value},m=C=>{if(n&&n.value){let T=n.value;typeof T=="string"&&(T=new RegExp(T)),C.key.match(T)||C.preventDefault()}},y=C=>{if(n&&n.value){let L=(C.clipboardData||window.clipboardData).getData("Text"),H=n.value;typeof H=="string"&&(H=new RegExp(H)),L.split("").every(P=>!!P.match(H))||C.preventDefault()}t.emit("paste",C,s)};return tn(l,C=>{!i.value&&C&&o(),t.emit("search-change",C,s)}),{search:l,input:u,clearSearch:p,handleSearchInput:_,handleKeypress:m,handlePaste:y}}function j3(e,t,r){const{groupSelect:n,mode:s,groups:i,disabledProp:o}=On(e),l=Dt(null),u=_=>{_===void 0||_!==null&&_[o.value]||i.value&&_&&_.group&&(s.value==="single"||!n.value)||(l.value=_)};return{pointer:l,setPointer:u,clearPointer:()=>{u(null)}}}function ru(e,t=!0){return t?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function U3(e){return Object.prototype.toString.call(e)==="[object Object]"}function $3(e,t){const r=t.slice().sort();return e.length===t.length&&e.slice().sort().every(function(n,s){return n===r[s]})}function V3(e,t,r){const{options:n,mode:s,trackBy:i,limit:o,hideSelected:l,createTag:u,createOption:p,label:_,appendNewTag:m,appendNewOption:y,multipleLabel:C,object:T,loading:L,delay:H,resolveOnLoad:P,minChars:w,filterResults:R,clearOnSearch:k,clearOnSelect:B,valueProp:M,allowAbsent:J,groupLabel:E,canDeselect:q,max:N,strict:Z,closeOnSelect:$,closeOnDeselect:te,groups:ue,reverse:ke,infinite:qe,groupOptions:ye,groupHideEmpty:nt,groupSelect:Pe,onCreate:ft,disabledProp:lt,searchStart:De,searchFilter:Ct}=On(e),bt=qn().proxy,it=r.iv,xe=r.ev,se=r.search,Re=r.clearSearch,he=r.update,Ue=r.pointer,dt=r.clearPointer,D=r.focus,j=r.deactivate,ee=r.close,pe=r.localize,ge=Dt([]),be=Dt([]),Me=Dt(!1),Fe=Dt(null),$e=Dt(qe.value&&o.value===-1?10:o.value),fe=mt(()=>u.value||p.value||!1),Le=mt(()=>m.value!==void 0?m.value:y.value!==void 0?y.value:!0),je=mt(()=>{if(ue.value){let ae=gt.value||[],Xe=[];return ae.forEach(It=>{Ci(It[ye.value]).forEach(Zt=>{Xe.push(Object.assign({},Zt,It[lt.value]?{[lt.value]:!0}:{}))})}),Xe}else{let ae=Ci(be.value||[]);return ge.value.length&&(ae=ae.concat(ge.value)),ae}}),Be=mt(()=>{let ae=je.value;return ke.value&&(ae=ae.reverse()),cn.value.length&&(ae=cn.value.concat(ae)),ki(ae)}),Ye=mt(()=>{let ae=Be.value;return $e.value>0&&(ae=ae.slice(0,$e.value)),ae}),gt=mt(()=>{if(!ue.value)return[];let ae=[],Xe=be.value||[];return ge.value.length&&ae.push({[E.value]:" ",[ye.value]:[...ge.value],__CREATE__:!0}),ae.concat(Xe)}),At=mt(()=>{let ae=[...gt.value].map(Xe=>({...Xe}));return cn.value.length&&(ae[0]&&ae[0].__CREATE__?ae[0][ye.value]=[...cn.value,...ae[0][ye.value]]:ae=[{[E.value]:" ",[ye.value]:[...cn.value],__CREATE__:!0}].concat(ae)),ae}),xt=mt(()=>{if(!ue.value)return[];let ae=At.value;return xi((ae||[]).map((Xe,It)=>{const Zt=Ci(Xe[ye.value]);return{...Xe,index:It,group:!0,[ye.value]:ki(Zt,!1).map(hs=>Object.assign({},hs,Xe[lt.value]?{[lt.value]:!0}:{})),__VISIBLE__:ki(Zt).map(hs=>Object.assign({},hs,Xe[lt.value]?{[lt.value]:!0}:{}))}}))}),Rt=mt(()=>{switch(s.value){case"single":return!dr(it.value[M.value]);case"multiple":case"tags":return!dr(it.value)&&it.value.length>0}}),Ht=mt(()=>C!==void 0&&C.value!==void 0?C.value(it.value,bt):it.value&&it.value.length>1?`${it.value.length} options selected`:"1 option selected"),on=mt(()=>!je.value.length&&!Me.value&&!cn.value.length),ht=mt(()=>je.value.length>0&&Ye.value.length==0&&(se.value&&ue.value||!ue.value)),cn=mt(()=>fe.value===!1||!se.value?[]:Il(se.value)!==-1?[]:[{[M.value]:se.value,[g.value]:se.value,[_.value]:se.value,__CREATE__:!0}]),g=mt(()=>i.value||_.value),ot=mt(()=>{switch(s.value){case"single":return null;case"multiple":case"tags":return[]}}),pn=mt(()=>L.value||Me.value),Jn=ae=>{switch(typeof ae!="object"&&(ae=Xn(ae)),s.value){case"single":he(ae);break;case"multiple":case"tags":he(it.value.concat(ae));break}t.emit("select",Fo(ae),ae,bt)},Ur=ae=>{switch(typeof ae!="object"&&(ae=Xn(ae)),s.value){case"single":Do();break;case"tags":case"multiple":he(Array.isArray(ae)?it.value.filter(Xe=>ae.map(It=>It[M.value]).indexOf(Xe[M.value])===-1):it.value.filter(Xe=>Xe[M.value]!=ae[M.value]));break}t.emit("deselect",Fo(ae),ae,bt)},Fo=ae=>T.value?ae:ae[M.value],Lo=ae=>{Ur(ae)},Sl=(ae,Xe)=>{if(Xe.button!==0){Xe.preventDefault();return}Lo(ae)},Do=()=>{t.emit("clear",bt),he(ot.value)},Yn=ae=>{if(ae.group!==void 0)return s.value==="single"?!1:Al(ae[ye.value])&&ae[ye.value].length;switch(s.value){case"single":return!dr(it.value)&&it.value[M.value]==ae[M.value];case"tags":case"multiple":return!dr(it.value)&&it.value.map(Xe=>Xe[M.value]).indexOf(ae[M.value])!==-1}},Si=ae=>ae[lt.value]===!0,$s=()=>N===void 0||N.value===-1||!Rt.value&&N.value>0?!1:it.value.length>=N.value,ql=ae=>{if(!Si(ae)){if(ft&&ft.value&&!Yn(ae)&&ae.__CREATE__&&(ae={...ae},delete ae.__CREATE__,ae=ft.value(ae,bt),ae instanceof Promise)){Me.value=!0,ae.then(Xe=>{Me.value=!1,Mo(Xe)});return}Mo(ae)}},Mo=ae=>{switch(ae.__CREATE__&&(ae={...ae},delete ae.__CREATE__),s.value){case"single":if(ae&&Yn(ae)){q.value&&Ur(ae),te.value&&(dt(),ee());return}ae&&qi(ae),B.value&&Re(),$.value&&(dt(),ee()),ae&&Jn(ae);break;case"multiple":if(ae&&Yn(ae)){Ur(ae),te.value&&(dt(),ee());return}if($s()){t.emit("max",bt);return}ae&&(qi(ae),Jn(ae)),B.value&&Re(),l.value&&dt(),$.value&&ee();break;case"tags":if(ae&&Yn(ae)){Ur(ae),te.value&&(dt(),ee());return}if($s()){t.emit("max",bt);return}ae&&qi(ae),B.value&&Re(),ae&&Jn(ae),l.value&&dt(),$.value&&ee();break}$.value||D()},xl=ae=>{if(!(Si(ae)||s.value==="single"||!Pe.value)){switch(s.value){case"multiple":case"tags":Cl(ae[ye.value])?Ur(ae[ye.value]):Jn(ae[ye.value].filter(Xe=>it.value.map(It=>It[M.value]).indexOf(Xe[M.value])===-1).filter(Xe=>!Xe[lt.value]).filter((Xe,It)=>it.value.length+1+It<=N.value||N.value===-1));break}$.value&&j()}},qi=ae=>{Xn(ae[M.value])===void 0&&fe.value&&(t.emit("tag",ae[M.value],bt),t.emit("option",ae[M.value],bt),t.emit("create",ae[M.value],bt),Le.value&&Ol(ae),Re())},kl=()=>{s.value!=="single"&&Jn(Ye.value.filter(ae=>!ae.disabled&&!Yn(ae)))},Cl=ae=>ae.find(Xe=>!Yn(Xe)&&!Xe[lt.value])===void 0,Al=ae=>ae.find(Xe=>!Yn(Xe))===void 0,Xn=ae=>je.value[je.value.map(Xe=>String(Xe[M.value])).indexOf(String(ae))],Il=(ae,Xe=!0)=>je.value.map(It=>parseInt(It[g.value])==It[g.value]?parseInt(It[g.value]):It[g.value]).indexOf(parseInt(ae)==ae?parseInt(ae):ae),Tl=ae=>["tags","multiple"].indexOf(s.value)!==-1&&l.value&&Yn(ae),Ol=ae=>{ge.value.push(ae)},xi=ae=>nt.value?ae.filter(Xe=>se.value?Xe.__VISIBLE__.length:Xe[ye.value].length):ae.filter(Xe=>se.value?Xe.__VISIBLE__.length:!0),ki=(ae,Xe=!0)=>{let It=ae;if(se.value&&R.value){let Zt=Ct.value;Zt||(Zt=(hs,Rl)=>{let No=ru(pe(hs[g.value]),Z.value);return De.value?No.startsWith(ru(se.value,Z.value)):No.indexOf(ru(se.value,Z.value))!==-1}),It=It.filter(Zt)}return l.value&&Xe&&(It=It.filter(Zt=>!Tl(Zt))),It},Ci=ae=>{let Xe=ae;return U3(Xe)&&(Xe=Object.keys(Xe).map(It=>{let Zt=Xe[It];return{[M.value]:It,[g.value]:Zt,[_.value]:Zt}})),Xe=Xe.map(It=>typeof It=="object"?It:{[M.value]:It,[g.value]:It,[_.value]:It}),Xe},Vs=()=>{dr(xe.value)||(it.value=Ws(xe.value))},zs=ae=>(Me.value=!0,new Promise((Xe,It)=>{n.value(se.value,bt).then(Zt=>{be.value=Zt||[],typeof ae=="function"&&ae(Zt),Me.value=!1}).catch(Zt=>{console.error(Zt),be.value=[],Me.value=!1}).finally(()=>{Xe()})})),Ai=()=>{if(!!Rt.value)if(s.value==="single"){let ae=Xn(it.value[M.value]);if(ae!==void 0){let Xe=ae[_.value];it.value[_.value]=Xe,T.value&&(xe.value[_.value]=Xe)}}else it.value.forEach((ae,Xe)=>{let It=Xn(it.value[Xe][M.value]);if(It!==void 0){let Zt=It[_.value];it.value[Xe][_.value]=Zt,T.value&&(xe.value[Xe][_.value]=Zt)}})},Pl=ae=>{zs(ae)},Ws=ae=>dr(ae)?s.value==="single"?{}:[]:T.value?ae:s.value==="single"?Xn(ae)||(J.value?{[_.value]:ae,[M.value]:ae,[g.value]:ae}:{}):ae.filter(Xe=>!!Xn(Xe)||J.value).map(Xe=>Xn(Xe)||{[_.value]:Xe,[M.value]:Xe,[g.value]:Xe}),Bo=()=>{Fe.value=tn(se,ae=>{ae.length<w.value||!ae&&w.value!==0||(Me.value=!0,k.value&&(be.value=[]),setTimeout(()=>{ae==se.value&&n.value(se.value,bt).then(Xe=>{(ae==se.value||!se.value)&&(be.value=Xe,Ue.value=Ye.value.filter(It=>It[lt.value]!==!0)[0]||null,Me.value=!1)}).catch(Xe=>{console.error(Xe)})},H.value))},{flush:"sync"})};if(s.value!=="single"&&!dr(xe.value)&&!Array.isArray(xe.value))throw new Error(`v-model must be an array when using "${s.value}" mode`);return n&&typeof n.value=="function"?P.value?zs(Vs):T.value==!0&&Vs():(be.value=n.value,Vs()),H.value>-1&&Bo(),tn(H,(ae,Xe)=>{Fe.value&&Fe.value(),ae>=0&&Bo()}),tn(xe,ae=>{if(dr(ae)){he(Ws(ae),!1);return}switch(s.value){case"single":(T.value?ae[M.value]!=it.value[M.value]:ae!=it.value[M.value])&&he(Ws(ae),!1);break;case"multiple":case"tags":$3(T.value?ae.map(Xe=>Xe[M.value]):ae,it.value.map(Xe=>Xe[M.value]))||he(Ws(ae),!1);break}},{deep:!0}),tn(n,(ae,Xe)=>{typeof e.options=="function"?P.value&&(!Xe||ae&&ae.toString()!==Xe.toString())&&zs():(be.value=e.options,Object.keys(it.value).length||Vs(),Ai())}),tn(_,Ai),{pfo:Be,fo:Ye,filteredOptions:Ye,hasSelected:Rt,multipleLabelText:Ht,eo:je,extendedOptions:je,eg:gt,extendedGroups:gt,fg:xt,filteredGroups:xt,noOptions:on,noResults:ht,resolving:Me,busy:pn,offset:$e,select:Jn,deselect:Ur,remove:Lo,selectAll:kl,clear:Do,isSelected:Yn,isDisabled:Si,isMax:$s,getOption:Xn,handleOptionClick:ql,handleGroupClick:xl,handleTagRemove:Sl,refreshOptions:Pl,resolveOptions:zs,refreshLabels:Ai}}function z3(e,t,r){const{valueProp:n,showOptions:s,searchable:i,groupLabel:o,groups:l,mode:u,groupSelect:p,disabledProp:_,groupOptions:m}=On(e),y=r.fo,C=r.fg,T=r.handleOptionClick,L=r.handleGroupClick,H=r.search,P=r.pointer,w=r.setPointer,R=r.clearPointer,k=r.multiselect,B=r.isOpen,M=mt(()=>y.value.filter(xe=>!xe[_.value])),J=mt(()=>C.value.filter(xe=>!xe[_.value])),E=mt(()=>u.value!=="single"&&p.value),q=mt(()=>P.value&&P.value.group),N=mt(()=>bt(P.value)),Z=mt(()=>{const xe=q.value?P.value:bt(P.value),se=J.value.map(he=>he[o.value]).indexOf(xe[o.value]);let Re=J.value[se-1];return Re===void 0&&(Re=te.value),Re}),$=mt(()=>{let xe=J.value.map(se=>se.label).indexOf(q.value?P.value[o.value]:bt(P.value)[o.value])+1;return J.value.length<=xe&&(xe=0),J.value[xe]}),te=mt(()=>[...J.value].slice(-1)[0]),ue=mt(()=>P.value.__VISIBLE__.filter(xe=>!xe[_.value])[0]),ke=mt(()=>{const xe=N.value.__VISIBLE__.filter(se=>!se[_.value]);return xe[xe.map(se=>se[n.value]).indexOf(P.value[n.value])-1]}),qe=mt(()=>{const xe=bt(P.value).__VISIBLE__.filter(se=>!se[_.value]);return xe[xe.map(se=>se[n.value]).indexOf(P.value[n.value])+1]}),ye=mt(()=>[...Z.value.__VISIBLE__.filter(xe=>!xe[_.value])].slice(-1)[0]),nt=mt(()=>[...te.value.__VISIBLE__.filter(xe=>!xe[_.value])].slice(-1)[0]),Pe=xe=>!!P.value&&(!xe.group&&P.value[n.value]===xe[n.value]||xe.group!==void 0&&P.value[o.value]===xe[o.value])?!0:void 0,ft=()=>{w(M.value[0]||null)},lt=()=>{!P.value||P.value[_.value]===!0||(q.value?L(P.value):T(P.value))},De=()=>{if(P.value===null)w((l.value&&E.value?J.value[0].__CREATE__?M.value[0]:J.value[0]:M.value[0])||null);else if(l.value&&E.value){let xe=q.value?ue.value:qe.value;xe===void 0&&(xe=$.value,xe.__CREATE__&&(xe=xe[m.value][0])),w(xe||null)}else{let xe=M.value.map(se=>se[n.value]).indexOf(P.value[n.value])+1;M.value.length<=xe&&(xe=0),w(M.value[xe]||null)}mr(()=>{it()})},Ct=()=>{if(P.value===null){let xe=M.value[M.value.length-1];l.value&&E.value&&(xe=nt.value,xe===void 0&&(xe=te.value)),w(xe||null)}else if(l.value&&E.value){let xe=q.value?ye.value:ke.value;xe===void 0&&(xe=q.value?Z.value:N.value,xe.__CREATE__&&(xe=ye.value,xe===void 0&&(xe=Z.value))),w(xe||null)}else{let xe=M.value.map(se=>se[n.value]).indexOf(P.value[n.value])-1;xe<0&&(xe=M.value.length-1),w(M.value[xe]||null)}mr(()=>{it()})},bt=xe=>J.value.find(se=>se.__VISIBLE__.map(Re=>Re[n.value]).indexOf(xe[n.value])!==-1),it=()=>{let xe=k.value.querySelector("[data-pointed]");if(!xe)return;let se=xe.parentElement.parentElement;l.value&&(se=q.value?xe.parentElement.parentElement.parentElement:xe.parentElement.parentElement.parentElement.parentElement),xe.offsetTop+xe.offsetHeight>se.clientHeight+se.scrollTop&&(se.scrollTop=xe.offsetTop+xe.offsetHeight-se.clientHeight),xe.offsetTop<se.scrollTop&&(se.scrollTop=xe.offsetTop)};return tn(H,xe=>{i.value&&(xe.length&&s.value?ft():R())}),tn(B,xe=>{if(xe){let se=k.value.querySelectorAll("[data-selected]")[0];if(!se)return;let Re=se.parentElement.parentElement;mr(()=>{Re.scrollTop>0||(Re.scrollTop=se.offsetTop)})}}),{pointer:P,canPointGroups:E,isPointed:Pe,setPointerFirst:ft,selectPointer:lt,forwardPointer:De,backwardPointer:Ct}}function W3(e,t,r){const{disabled:n}=On(e),s=qn().proxy,i=Dt(!1);return{isOpen:i,open:()=>{i.value||n.value||(i.value=!0,t.emit("open",s))},close:()=>{!i.value||(i.value=!1,t.emit("close",s))}}}function K3(e,t,r){const{searchable:n,disabled:s,clearOnBlur:i}=On(e),o=r.input,l=r.open,u=r.close,p=r.clearSearch,_=r.isOpen,m=Dt(null),y=Dt(null),C=Dt(null),T=Dt(!1),L=Dt(!1),H=mt(()=>n.value||s.value?-1:0),P=()=>{n.value&&o.value.blur(),y.value.blur()},w=()=>{n.value&&!s.value&&o.value.focus()},R=(q=!0)=>{s.value||(T.value=!0,q&&l())},k=()=>{T.value=!1,setTimeout(()=>{T.value||(u(),i.value&&p())},1)};return{multiselect:m,wrapper:y,tags:C,tabindex:H,isActive:T,mouseClicked:L,blur:P,focus:w,activate:R,deactivate:k,handleFocusIn:q=>{q.target.closest("[data-tags]")&&q.target.nodeName!=="INPUT"||q.target.closest("[data-clear]")||R(L.value)},handleFocusOut:()=>{k()},handleCaretClick:()=>{k(),P()},handleMousedown:q=>{L.value=!0,_.value&&(q.target.isEqualNode(y.value)||q.target.isEqualNode(C.value))?setTimeout(()=>{k()},0):document.activeElement.isEqualNode(y.value)&&!_.value&&R(),setTimeout(()=>{L.value=!1},0)}}}function H3(e,t,r){const{mode:n,addTagOn:s,openDirection:i,searchable:o,showOptions:l,valueProp:u,groups:p,addOptionOn:_,createTag:m,createOption:y,reverse:C}=On(e),T=qn().proxy,L=r.iv,H=r.update,P=r.search,w=r.setPointer,R=r.selectPointer,k=r.backwardPointer,B=r.forwardPointer,M=r.multiselect,J=r.wrapper,E=r.tags,q=r.isOpen,N=r.open,Z=r.blur,$=r.fo,te=mt(()=>m.value||y.value||!1),ue=mt(()=>s.value!==void 0?s.value:_.value!==void 0?_.value:["enter"]),ke=()=>{n.value==="tags"&&!l.value&&te.value&&o.value&&!p.value&&w($.value[$.value.map(Pe=>Pe[u.value]).indexOf(P.value)])},qe=Pe=>{let ft=Pe.length-1;for(;ft>=0&&(Pe[ft].remove===!1||Pe[ft].disabled);)ft--;return ft<0||Pe.splice(ft,1),Pe};return{handleKeydown:Pe=>{t.emit("keydown",Pe,T);let ft,lt;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(Pe.key)!==-1&&n.value==="tags"&&(ft=[...M.value.querySelectorAll("[data-tags] > *")].filter(De=>De!==E.value),lt=ft.findIndex(De=>De===document.activeElement)),Pe.key){case"Backspace":if(n.value==="single"||o.value&&[null,""].indexOf(P.value)===-1||L.value.length===0)return;H(qe([...L.value]));break;case"Enter":if(Pe.preventDefault(),Pe.keyCode===229)return;if(lt!==-1&&lt!==void 0){H([...L.value].filter((De,Ct)=>Ct!==lt)),lt===ft.length-1&&(ft.length-1?ft[ft.length-2].focus():o.value?E.value.querySelector("input").focus():J.value.focus());return}if(ue.value.indexOf("enter")===-1&&te.value)return;ke(),R();break;case" ":if(!te.value&&!o.value){Pe.preventDefault(),ke(),R();return}if(!te.value)return!1;if(ue.value.indexOf("space")===-1&&te.value)return;Pe.preventDefault(),ke(),R();break;case"Tab":case";":case",":if(ue.value.indexOf(Pe.key.toLowerCase())===-1||!te.value)return;ke(),R(),Pe.preventDefault();break;case"Escape":Z();break;case"ArrowUp":if(Pe.preventDefault(),!l.value)return;q.value||N(),k();break;case"ArrowDown":if(Pe.preventDefault(),!l.value)return;q.value||N(),B();break;case"ArrowLeft":if(o.value&&E.value&&E.value.querySelector("input").selectionStart||Pe.shiftKey||n.value!=="tags"||!L.value||!L.value.length)return;Pe.preventDefault(),lt===-1?ft[ft.length-1].focus():lt>0&&ft[lt-1].focus();break;case"ArrowRight":if(lt===-1||Pe.shiftKey||n.value!=="tags"||!L.value||!L.value.length)return;Pe.preventDefault(),ft.length>lt+1?ft[lt+1].focus():o.value?E.value.querySelector("input").focus():o.value||J.value.focus();break}},handleKeyup:Pe=>{t.emit("keyup",Pe,T)},preparePointer:ke}}function Q3(e,t,r){const{classes:n,disabled:s,openDirection:i,showOptions:o}=On(e),l=r.isOpen,u=r.isPointed,p=r.isSelected,_=r.isDisabled,m=r.isActive,y=r.canPointGroups,C=r.resolving,T=r.fo,L=mt(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...n.value})),H=mt(()=>!!(l.value&&o.value&&(!C.value||C.value&&T.value.length)));return{classList:mt(()=>{const w=L.value;return{container:[w.container].concat(s.value?w.containerDisabled:[]).concat(H.value&&i.value==="top"?w.containerOpenTop:[]).concat(H.value&&i.value!=="top"?w.containerOpen:[]).concat(m.value?w.containerActive:[]),wrapper:w.wrapper,spacer:w.spacer,singleLabel:w.singleLabel,singleLabelText:w.singleLabelText,multipleLabel:w.multipleLabel,search:w.search,tags:w.tags,tag:[w.tag].concat(s.value?w.tagDisabled:[]),tagDisabled:w.tagDisabled,tagRemove:w.tagRemove,tagRemoveIcon:w.tagRemoveIcon,tagsSearchWrapper:w.tagsSearchWrapper,tagsSearch:w.tagsSearch,tagsSearchCopy:w.tagsSearchCopy,placeholder:w.placeholder,caret:[w.caret].concat(l.value?w.caretOpen:[]),clear:w.clear,clearIcon:w.clearIcon,spinner:w.spinner,inifinite:w.inifinite,inifiniteSpinner:w.inifiniteSpinner,dropdown:[w.dropdown].concat(i.value==="top"?w.dropdownTop:[]).concat(!l.value||!o.value||!H.value?w.dropdownHidden:[]),options:[w.options].concat(i.value==="top"?w.optionsTop:[]),group:w.group,groupLabel:R=>{let k=[w.groupLabel];return u(R)?k.push(p(R)?w.groupLabelSelectedPointed:w.groupLabelPointed):p(R)&&y.value?k.push(_(R)?w.groupLabelSelectedDisabled:w.groupLabelSelected):_(R)&&k.push(w.groupLabelDisabled),y.value&&k.push(w.groupLabelPointable),k},groupOptions:w.groupOptions,option:(R,k)=>{let B=[w.option];return u(R)?B.push(p(R)?w.optionSelectedPointed:w.optionPointed):p(R)?B.push(_(R)?w.optionSelectedDisabled:w.optionSelected):(_(R)||k&&_(k))&&B.push(w.optionDisabled),B},noOptions:w.noOptions,noResults:w.noResults,assist:w.assist,fakeInput:w.fakeInput}}),showDropdown:H}}function G3(e,t,r){const{limit:n,infinite:s}=On(e),i=r.isOpen,o=r.offset,l=r.search,u=r.pfo,p=r.eo,_=Dt(null),m=Dt(null),y=mt(()=>o.value<u.value.length),C=L=>{const{isIntersecting:H,target:P}=L[0];if(H){const w=P.offsetParent,R=w.scrollTop;o.value+=n.value==-1?10:n.value,mr(()=>{w.scrollTop=R})}},T=()=>{i.value&&o.value<u.value.length?_.value.observe(m.value):!i.value&&_.value&&_.value.disconnect()};return tn(i,()=>{!s.value||T()}),tn(l,()=>{!s.value||(o.value=n.value,T())},{flush:"post"}),tn(p,()=>{!s.value||T()},{immediate:!1,flush:"post"}),Nr(()=>{window&&window.IntersectionObserver&&(_.value=new IntersectionObserver(C))}),{hasMore:y,infiniteLoader:m}}function J3(e,t,r){const{placeholder:n,id:s,valueProp:i,label:o,mode:l,groupLabel:u,aria:p,searchable:_}=On(e),m=r.pointer,y=r.iv,C=r.hasSelected,T=r.multipleLabelText,L=Dt(null),H=mt(()=>{let $=[];return s&&s.value&&$.push(s.value),$.push("assist"),$.join("-")}),P=mt(()=>{let $=[];return s&&s.value&&$.push(s.value),$.push("multiselect-options"),$.join("-")}),w=mt(()=>{let $=[];if(s&&s.value&&$.push(s.value),m.value)return $.push(m.value.group?"multiselect-group":"multiselect-option"),$.push(m.value.group?m.value.index:m.value[i.value]),$.join("-")}),R=mt(()=>n.value),k=mt(()=>l.value!=="single"),B=mt(()=>{let $="";return l.value==="single"&&C.value&&($+=y.value[o.value]),l.value==="multiple"&&C.value&&($+=T.value),l.value==="tags"&&C.value&&($+=y.value.map(te=>te[o.value]).join(", ")),$}),M=mt(()=>{let $={...p.value};return _.value&&($["aria-labelledby"]=$["aria-labelledby"]?`${H.value} ${$["aria-labelledby"]}`:H.value,B.value&&$["aria-label"]&&($["aria-label"]=`${B.value}, ${$["aria-label"]}`)),$}),J=$=>{let te=[];return s&&s.value&&te.push(s.value),te.push("multiselect-option"),te.push($[i.value]),te.join("-")},E=$=>{let te=[];return s&&s.value&&te.push(s.value),te.push("multiselect-group"),te.push($.index),te.join("-")},q=$=>{let te=[];return te.push($),te.join(" ")},N=$=>{let te=[];return te.push($),te.join(" ")},Z=$=>`${$} \u274E`;return Nr(()=>{if(s&&s.value&&document&&document.querySelector){let $=document.querySelector(`[for="${s.value}"]`);L.value=$?$.innerText:null}}),{arias:M,ariaLabel:B,ariaAssist:H,ariaControls:P,ariaPlaceholder:R,ariaMultiselectable:k,ariaActiveDescendant:w,ariaOptionId:J,ariaOptionLabel:q,ariaGroupId:E,ariaGroupLabel:N,ariaTagLabel:Z}}function Y3(e,t,r){const{locale:n,fallbackLocale:s}=On(e);return{localize:o=>!o||typeof o!="object"?o:o&&o[n.value]?o[n.value]:o&&n.value&&o[n.value.toUpperCase()]?o[n.value.toUpperCase()]:o&&o[s.value]?o[s.value]:o&&s.value&&o[s.value.toUpperCase()]?o[s.value.toUpperCase()]:o&&Object.keys(o)[0]?o[Object.keys(o)[0]]:""}}function X3(e,t,r,n={}){return r.forEach(s=>{s&&(n={...n,...s(e,t,n)})}),n}var sn={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,t){return X3(e,t,[Y3,B3,j3,W3,N3,M3,K3,V3,G3,z3,H3,Q3,J3])}};const Z3=["id","dir"],eE=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],tE=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],nE=["onKeyup","aria-label"],rE=["onClick"],sE=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],iE=["innerHTML"],oE=["id"],aE=["id","aria-label","aria-selected"],lE=["data-pointed","onMouseenter","onClick"],uE=["innerHTML"],cE=["aria-label"],fE=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],dE=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],pE=["innerHTML"],hE=["innerHTML"],_E=["value"],mE=["name","value"],gE=["name","value"],yE=["id"];function vE(e,t,r,n,s,i){return de(),we("div",{ref:"multiselect",class:ut(e.classList.container),id:r.searchable?void 0:r.id,dir:r.rtl?"rtl":void 0,onFocusin:t[10]||(t[10]=(...o)=>e.handleFocusIn&&e.handleFocusIn(...o)),onFocusout:t[11]||(t[11]=(...o)=>e.handleFocusOut&&e.handleFocusOut(...o)),onKeyup:t[12]||(t[12]=(...o)=>e.handleKeyup&&e.handleKeyup(...o)),onKeydown:t[13]||(t[13]=(...o)=>e.handleKeydown&&e.handleKeydown(...o))},[Y("div",rs({class:e.classList.wrapper,onMousedown:t[9]||(t[9]=(...o)=>e.handleMousedown&&e.handleMousedown(...o)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":r.searchable?void 0:e.ariaControls,"aria-placeholder":r.searchable?void 0:e.ariaPlaceholder,"aria-expanded":r.searchable?void 0:e.isOpen,"aria-activedescendant":r.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":r.searchable?void 0:e.ariaMultiselectable,role:r.searchable?void 0:"combobox"},r.searchable?{}:e.arias),[Ge(" Search "),r.mode!=="tags"&&r.searchable&&!r.disabled?(de(),we("input",rs({key:0,type:r.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:r.autocomplete,id:r.searchable?r.id:void 0,onInput:t[0]||(t[0]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[1]||(t[1]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[2]||(t[2]=fn((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...r.attrs,...e.arias}),null,16,tE)):Ge("v-if",!0),Ge(" Tags (with search) "),r.mode=="tags"?(de(),we("div",{key:1,class:ut(e.classList.tags),"data-tags":""},[(de(!0),we(St,null,Kt(e.iv,(o,l,u)=>hn(e.$slots,"tag",{option:o,handleTagRemove:e.handleTagRemove,disabled:r.disabled},()=>[(de(),we("span",{class:ut([e.classList.tag,o.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:fi(p=>e.handleTagRemove(o,p),["enter"]),key:u,"aria-label":e.ariaTagLabel(e.localize(o[r.label]))},[ur(vt(e.localize(o[r.label]))+" ",1),!r.disabled&&!o.disabled?(de(),we("span",{key:0,class:ut(e.classList.tagRemove),onClick:fn(p=>e.handleTagRemove(o,p),["stop"])},[Y("span",{class:ut(e.classList.tagRemoveIcon)},null,2)],10,rE)):Ge("v-if",!0)],42,nE))])),256)),Y("div",{class:ut(e.classList.tagsSearchWrapper),ref:"tags"},[Ge(" Used for measuring search width "),Y("span",{class:ut(e.classList.tagsSearchCopy)},vt(e.search),3),Ge(" Actual search input "),r.searchable&&!r.disabled?(de(),we("input",rs({key:0,type:r.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:r.searchable?r.id:void 0,autocomplete:r.autocomplete,onInput:t[3]||(t[3]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[4]||(t[4]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[5]||(t[5]=fn((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...r.attrs,...e.arias}),null,16,sE)):Ge("v-if",!0)],2)],2)):Ge("v-if",!0),Ge(" Single label "),r.mode=="single"&&e.hasSelected&&!e.search&&e.iv?hn(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[Y("div",{class:ut(e.classList.singleLabel)},[Y("span",{class:ut(e.classList.singleLabelText)},vt(e.localize(e.iv[r.label])),3)],2)]):Ge("v-if",!0),Ge(" Multiple label "),r.mode=="multiple"&&e.hasSelected&&!e.search?hn(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[Y("div",{class:ut(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,iE)]):Ge("v-if",!0),Ge(" Placeholder "),r.placeholder&&!e.hasSelected&&!e.search?hn(e.$slots,"placeholder",{key:4},()=>[Y("div",{class:ut(e.classList.placeholder),"aria-hidden":"true"},vt(r.placeholder),3)]):Ge("v-if",!0),Ge(" Spinner "),r.loading||e.resolving?hn(e.$slots,"spinner",{key:5},()=>[Y("span",{class:ut(e.classList.spinner),"aria-hidden":"true"},null,2)]):Ge("v-if",!0),Ge(" Clear "),e.hasSelected&&!r.disabled&&r.canClear&&!e.busy?hn(e.$slots,"clear",{key:6,clear:e.clear},()=>[Y("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:ut(e.classList.clear),onClick:t[6]||(t[6]=(...o)=>e.clear&&e.clear(...o)),onKeyup:t[7]||(t[7]=fi((...o)=>e.clear&&e.clear(...o),["enter"]))},[Y("span",{class:ut(e.classList.clearIcon)},null,2)],34)]):Ge("v-if",!0),Ge(" Caret "),r.caret&&r.showOptions?hn(e.$slots,"caret",{key:7},()=>[Y("span",{class:ut(e.classList.caret),onClick:t[8]||(t[8]=(...o)=>e.handleCaretClick&&e.handleCaretClick(...o)),"aria-hidden":"true"},null,2)]):Ge("v-if",!0)],16,eE),Ge(" Options "),Y("div",{class:ut(e.classList.dropdown),tabindex:"-1"},[hn(e.$slots,"beforelist",{options:e.fo}),Y("ul",{class:ut(e.classList.options),id:e.ariaControls,role:"listbox"},[r.groups?(de(!0),we(St,{key:0},Kt(e.fg,(o,l,u)=>(de(),we("li",{class:ut(e.classList.group),key:u,id:e.ariaGroupId(o),"aria-label":e.ariaGroupLabel(e.localize(o[r.groupLabel])),"aria-selected":e.isSelected(o),role:"option"},[o.__CREATE__?Ge("v-if",!0):(de(),we("div",{key:0,class:ut(e.classList.groupLabel(o)),"data-pointed":e.isPointed(o),onMouseenter:p=>e.setPointer(o,l),onClick:p=>e.handleGroupClick(o)},[hn(e.$slots,"grouplabel",{group:o,isSelected:e.isSelected,isPointed:e.isPointed},()=>[Y("span",{innerHTML:e.localize(o[r.groupLabel])},null,8,uE)])],42,lE)),Y("ul",{class:ut(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(o[r.groupLabel])),role:"group"},[(de(!0),we(St,null,Kt(o.__VISIBLE__,(p,_,m)=>(de(),we("li",{class:ut(e.classList.option(p,o)),"data-pointed":e.isPointed(p),"data-selected":e.isSelected(p)||void 0,key:m,onMouseenter:y=>e.setPointer(p),onClick:y=>e.handleOptionClick(p),id:e.ariaOptionId(p),"aria-selected":e.isSelected(p),"aria-label":e.ariaOptionLabel(e.localize(p[r.label])),role:"option"},[hn(e.$slots,"option",{option:p,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[Y("span",null,vt(e.localize(p[r.label])),1)])],42,fE))),128))],10,cE)],10,aE))),128)):(de(!0),we(St,{key:1},Kt(e.fo,(o,l,u)=>(de(),we("li",{class:ut(e.classList.option(o)),"data-pointed":e.isPointed(o),"data-selected":e.isSelected(o)||void 0,key:u,onMouseenter:p=>e.setPointer(o),onClick:p=>e.handleOptionClick(o),id:e.ariaOptionId(o),"aria-selected":e.isSelected(o),"aria-label":e.ariaOptionLabel(e.localize(o[r.label])),role:"option"},[hn(e.$slots,"option",{option:o,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[Y("span",null,vt(e.localize(o[r.label])),1)])],42,dE))),128))],10,oE),e.noOptions?hn(e.$slots,"nooptions",{key:0},()=>[Y("div",{class:ut(e.classList.noOptions),innerHTML:e.localize(r.noOptionsText)},null,10,pE)]):Ge("v-if",!0),e.noResults?hn(e.$slots,"noresults",{key:1},()=>[Y("div",{class:ut(e.classList.noResults),innerHTML:e.localize(r.noResultsText)},null,10,hE)]):Ge("v-if",!0),r.infinite&&e.hasMore?(de(),we("div",{key:2,class:ut(e.classList.inifinite),ref:"infiniteLoader"},[hn(e.$slots,"infinite",{},()=>[Y("span",{class:ut(e.classList.inifiniteSpinner)},null,2)])],2)):Ge("v-if",!0),hn(e.$slots,"afterlist",{options:e.fo})],2),Ge(" Hacky input element to show HTML5 required warning "),r.required?(de(),we("input",{key:0,class:ut(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,_E)):Ge("v-if",!0),Ge(" Native input support "),r.nativeSupport?(de(),we(St,{key:1},[r.mode=="single"?(de(),we("input",{key:0,type:"hidden",name:r.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,mE)):(de(!0),we(St,{key:1},Kt(e.plainValue,(o,l)=>(de(),we("input",{type:"hidden",name:`${r.name}[]`,value:o,key:l},null,8,gE))),128))],64)):Ge("v-if",!0),Ge(" Screen reader assistive text "),r.searchable&&e.hasSelected?(de(),we("div",{key:2,class:ut(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},vt(e.ariaLabel),11,yE)):Ge("v-if",!0),Ge(" Create height for empty input "),Y("div",{class:ut(e.classList.spacer)},null,2)],42,Z3)}sn.render=vE;sn.__file="src/Multiselect.vue";let aa;const bE=new Uint8Array(16);function wE(){if(!aa&&(aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aa(bE)}const gn=[];for(let e=0;e<256;++e)gn.push((e+256).toString(16).slice(1));function EE(e,t=0){return(gn[e[t+0]]+gn[e[t+1]]+gn[e[t+2]]+gn[e[t+3]]+"-"+gn[e[t+4]]+gn[e[t+5]]+"-"+gn[e[t+6]]+gn[e[t+7]]+"-"+gn[e[t+8]]+gn[e[t+9]]+"-"+gn[e[t+10]]+gn[e[t+11]]+gn[e[t+12]]+gn[e[t+13]]+gn[e[t+14]]+gn[e[t+15]]).toLowerCase()}const SE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bd={randomUUID:SE};function qE(e,t,r){if(Bd.randomUUID&&!t&&!e)return Bd.randomUUID();e=e||{};const n=e.random||(e.rng||wE)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return EE(n)}const xE={class:"icons"},kE=["data-colour"],CE=["value","id"],AE=["for"],IE={__name:"Colours",emits:["update:modelValue"],setup(e,{emit:t}){const r={White:"W",Blue:"U",Black:"B",Red:"R",Green:"G",Colourless:"C"},n=rn({colours:[]}),s={Azorius:["U","W"],Boros:["R","W"],Dimir:["B","U"],Golgari:["B","G"],Gruul:["G","R"],Izzet:["R","U"],Orzhov:["B","W"],Rakdos:["B","R"],Selesnya:["G","W"],Simic:["G","U"]},i={Abzan:["B","G","W"],Bant:["G","U","W"],Esper:["B","U","W"],Grixis:["B","R","U"],Jeskai:["R","U","W"],Jund:["B","G","R"],Mardu:["B","R","W"],Naya:["G","R","W"],Sultai:["B","G","U"],Temur:["G","R","U"]},o={Glint:"W",Dune:"U",Ink:"B",Witch:"R",Yore:"G"},l=qE();Ps(()=>{t("update:modelValue",n.colours)});const u=p=>{let _=[...p].sort();if(p.length===2){for(const[m,y]of Object.entries(s))if(_.every((C,T)=>C===y[T]))return m}else if(p.length===3){for(const[m,y]of Object.entries(i))if(_.every((C,T)=>C===y[T]))return m}else if(p.length===4){for(const[m,y]of Object.entries(o))if(!p.includes(y))return m}return""};return(p,_)=>(de(),we("div",xE,[(de(),we(St,null,Kt(r,m=>Y("div",{class:ut(["input-group colour",n.colours.includes(m)?"selected":""]),"data-colour":m,key:m},[Ot(Y("input",{type:"checkbox","onUpdate:modelValue":_[0]||(_[0]=y=>n.colours=y),value:m,id:ne(l)+m},null,8,CE),[[Xr,n.colours]]),Y("label",{for:ne(l)+m,class:ut("icon icon-"+m)},null,10,AE)],10,kE)),64)),Y("h3",null,vt(n.colours.length>1?`${u(n.colours)}`:""),1)]))}},TE=Xt(IE,[["__scopeId","data-v-bdafe7b4"]]);const N_=e=>(vr("data-v-d4f7c2f2"),e=e(),br(),e),OE={class:"filter-group rarities"},PE=["data-rarity"],RE=["onUpdate:modelValue","value","id"],FE=["for","title"],LE={class:"filter-group colours"},DE={class:"filter-group"},ME={class:"filter-group mana"},BE={class:"filter-group price"},NE={class:"filter-group"},jE={class:"filter-group"},UE={class:"filter-group"},$E={class:"filter-group"},VE={key:0,class:"filter-group"},zE={key:1,class:"filter-group compare"},WE={class:"header"},KE=N_(()=>Y("h3",null,"Compare",-1)),HE={class:"grid"},QE=["id","value"],GE=["for"],JE=["id","value"],YE=["for"],XE=["id","value"],ZE=["for"],eS={class:"filter-group quantity"},tS={class:"filter-group"},nS=N_(()=>Y("h3",null,"Other",-1)),rS={__name:"Filters",setup(e){const t=zn(),r=ar(),n=cr(),s=["special","mythic","rare","uncommon","common"];return(i,o)=>(de(),we(St,null,[Y("div",OE,[(de(),we(St,null,Kt(s,l=>Y("div",{class:"input-group rarity","data-rarity":l,key:l},[Ot(Y("input",{type:"checkbox","onUpdate:modelValue":u=>ne(r).filters.rarity=u,value:l,id:l},null,8,RE),[[Xr,ne(r).filters.rarity]]),Y("label",{for:l,title:l},null,8,FE)],8,PE)),64))]),Y("div",LE,[Ze(ne(sn),{options:{commander:"Commader colours",exact:"Has exactly these colours",all:"Has all of these colours",any:"Has any of these colours"},modelValue:ne(r).filters.colours.mode,"onUpdate:modelValue":o[0]||(o[0]=l=>ne(r).filters.colours.mode=l),placeholder:"Colour mode","can-clear":!1},null,8,["modelValue"]),Ze(TE,{modelValue:ne(r).filters.colours.colours,"onUpdate:modelValue":o[1]||(o[1]=l=>ne(r).filters.colours.colours=l)},null,8,["modelValue"])]),Y("div",DE,[Ot(Y("input",{type:"search","onUpdate:modelValue":o[2]||(o[2]=l=>ne(r).filters.name=l),placeholder:"Name"},null,512),[[Jt,ne(r).filters.name]])]),Y("div",ME,[Ot(Y("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=l=>ne(r).filters.mana.value[0]=l),placeholder:"Mana (min)"},null,512),[[Jt,ne(r).filters.mana.value[0]]]),Ot(Y("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=l=>ne(r).filters.mana.value[1]=l),placeholder:"Mana (max)"},null,512),[[Jt,ne(r).filters.mana.value[1]]])]),Y("div",BE,[Ot(Y("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=l=>ne(r).filters.price.value[0]=l),placeholder:"Price (min)"},null,512),[[Jt,ne(r).filters.price.value[0]]]),Ot(Y("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=l=>ne(r).filters.price.value[1]=l),placeholder:"Price (max)"},null,512),[[Jt,ne(r).filters.price.value[1]]])]),Y("div",NE,[Ze(ne(sn),{modelValue:ne(r).filters.tribes,"onUpdate:modelValue":o[7]||(o[7]=l=>ne(r).filters.tribes=l),options:ne(n).types,searchable:!0,mode:"tags","create-option":!0,placeholder:"Types"},null,8,["modelValue","options"])]),Y("div",jE,[Ze(ne(sn),{modelValue:ne(r).filters.keywords,"onUpdate:modelValue":o[8]||(o[8]=l=>ne(r).filters.keywords=l),options:ne(r).keywords,searchable:!0,mode:"tags",placeholder:"Keywords"},null,8,["modelValue","options"])]),Y("div",UE,[Ot(Y("input",{type:"search","onUpdate:modelValue":o[9]||(o[9]=l=>ne(r).filters.cardText=l),placeholder:"Card text"},null,512),[[Jt,ne(r).filters.cardText]])]),Y("div",$E,[Ze(ne(sn),{modelValue:ne(r).filters.sets,"onUpdate:modelValue":o[10]||(o[10]=l=>ne(r).filters.sets=l),options:ne(n).sets,searchable:!0,label:"name","value-prop":"code",mode:"tags",placeholder:"Sets"},null,8,["modelValue","options"])]),ne(r).tags.length>0?(de(),we("div",VE,[Ze(ne(sn),{modelValue:ne(r).filters.tags,"onUpdate:modelValue":o[11]||(o[11]=l=>ne(r).filters.tags=l),options:[...ne(r).tags],searchable:!0,mode:"tags",placeholder:"Tags"},null,8,["modelValue","options"])])):Ge("",!0),ne(t).names.length>0?(de(),we("div",zE,[Y("div",WE,[KE,Y("a",{href:"#",onClick:o[12]||(o[12]=()=>{ne(r).filters.incCol=[],ne(r).filters.excCol=[]})},"X")]),Y("div",HE,[(de(!0),we(St,null,Kt(ne(t).names,l=>(de(),we(St,{key:l},[Y("div",null,vt(l),1),Y("div",null,[Ot(Y("input",{type:"checkbox",id:l+"-cmp","onUpdate:modelValue":o[13]||(o[13]=u=>ne(r).filters.cmpCol=u),value:l},null,8,QE),[[Xr,ne(r).filters.cmpCol]]),Y("label",{class:"cmp icon icon-compare_arrows",for:l+"-cmp"},null,8,GE)]),Y("div",null,[Ot(Y("input",{type:"checkbox",id:l+"-inc","onUpdate:modelValue":o[14]||(o[14]=u=>ne(r).filters.incCol=u),value:l},null,8,JE),[[Xr,ne(r).filters.incCol]]),Y("label",{class:"inc",for:l+"-inc"},null,8,YE)]),Y("div",null,[Ot(Y("input",{type:"checkbox",id:l+"-exc","onUpdate:modelValue":o[15]||(o[15]=u=>ne(r).filters.excCol=u),value:l},null,8,XE),[[Xr,ne(r).filters.excCol]]),Y("label",{class:"exc",for:l+"-exc"},null,8,ZE)])],64))),128))])])):Ge("",!0),Ze(ne(sn),{modelValue:ne(r).filters.finish,"onUpdate:modelValue":o[16]||(o[16]=l=>ne(r).filters.finish=l),options:["nonfoil","foil","etched"],mode:"single",placeholder:"Finish"},null,8,["modelValue"]),Ze(ne(sn),{modelValue:ne(r).filters.border,"onUpdate:modelValue":o[17]||(o[17]=l=>ne(r).filters.border=l),options:["borderless","black","white"],mode:"single",placeholder:"Border"},null,8,["modelValue"]),Y("div",eS,[Ot(Y("input",{type:"number","onUpdate:modelValue":o[18]||(o[18]=l=>ne(r).filters.quantity.value[0]=l),placeholder:"Count (min)"},null,512),[[Jt,ne(r).filters.quantity.value[0]]]),Ot(Y("input",{type:"number","onUpdate:modelValue":o[19]||(o[19]=l=>ne(r).filters.quantity.value[1]=l),placeholder:"Count (max)"},null,512),[[Jt,ne(r).filters.quantity.value[1]]])]),Y("div",tS,[nS,Ze(ne(sn),{options:["Name"],mode:"single",placeholder:"Group by",modelValue:ne(r).filters.group,"onUpdate:modelValue":o[20]||(o[20]=l=>ne(r).filters.group=l)},null,8,["modelValue"])])],64))}},j_=Xt(rS,[["__scopeId","data-v-d4f7c2f2"]]),Ei=jr("details",{state:()=>({card:{},rulings:[]}),actions:{async loadDetails(e,t=!1){if(this.rulings=[],this.card=e,t){const r=await caches.open("cardDataCache"),n=await es(r,e.rulings_uri);this.rulings=n.data}}}});const sS=["srcset"],iS=["src"],oS=["src"],aS={__name:"CardImage",props:{card:{type:Object,required:!0},effects:{type:Array,default:()=>[]},actions:{type:Array,default:()=>["clip","delete","prints"]}},setup(e){const t=e;return(r,n)=>(de(),we("div",{class:ut(["img",{[t.card.finish]:!0,[t.effects]:!0}])},[t.card.image_uris?(de(),we("img",{key:0,srcset:`${t.card.image_uris.normal}, ${t.card.image_uris.large} 2x, ${t.card.image_uris.large} 400w`,loading:"lazy",crossorigin:"anonymous"},null,8,sS)):Ge("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(de(),we("img",{key:1,class:"flip front",src:t.card.card_faces[0].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,iS)):Ge("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(de(),we("img",{key:2,class:"flip back",src:t.card.card_faces[1].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,oS)):Ge("",!0)],2))}},bl=Xt(aS,[["__scopeId","data-v-da508659"]]);const lS={class:"prices"},uS={__name:"Prices",props:{card:{type:Object,required:!0},all:{type:Boolean,default:!0}},setup(e){const t=e,r=cr(),n={nonfoil:"",etched:"#",foil:"\u2606"};return(s,i)=>(de(),we("span",lS,[(de(!0),we(St,null,Kt(t.card.finishes,o=>(de(),we("span",{key:o},[o==="nonfoil"?Ot((de(),we("span",{key:0,class:ut(["price",o===t.card.finish?"match":""])},vt(n[o])+" "+vt(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t.card.prices.eur*ne(r).forex.eur||t.card.prices.usd*ne(r).forex.usd)),3)),[[Rn,t.all||t.card.finish===o]]):Ot((de(),we("span",{key:1,class:ut(["price",o===t.card.finish?"match":""])},vt(n[o])+" "+vt(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t.card.prices["eur_"+o]*ne(r).forex.eur||t.card.prices["usd_"+o]*ne(r).forex.usd)),3)),[[Rn,t.all||t.card.finish===o]])]))),128))]))}},U_=Xt(uS,[["__scopeId","data-v-1a763385"]]);const cS={class:"details"},fS={class:"name"},dS={class:"set-line"},pS=["href"],hS={class:"tags"},_S={__name:"CardSummary",props:{card:{type:Object,required:!0}},setup(e){const t=e,r={nonfoil:"",etched:"#",foile:"\u2606"};return(n,s)=>(de(),we("div",cS,[Y("span",fS,vt(t.card.count)+" "+vt(t.card.name)+" "+vt(r[t.card.finish]),1),Y("span",dS,[ur(vt(t.card.set_name)+" ",1),t.card.purchase_uris?(de(),we("a",{key:0,href:t.card.purchase_uris.cardmarket,target:"_blank",class:"set-id"},vt(t.card.set)+":"+vt(t.card.collector_number),9,pS)):Ge("",!0)]),Ze(U_,{card:t.card},null,8,["card"]),Y("div",hS,[(de(!0),we(St,null,Kt(t.card.tags,i=>(de(),we("div",{class:"tag",key:i},vt(i),1))),128)),t.card.promo_types?(de(!0),we(St,{key:0},Kt(t.card.promo_types.filter(i=>i!=="boosterfun"),i=>(de(),we("div",{class:"tag",key:i},vt(i),1))),128)):Ge("",!0)])]))}},rf=Xt(_S,[["__scopeId","data-v-cc41c299"]]);const mS={class:"buttons"},gS={__name:"CardActions",props:{card:{type:Object,required:!0},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints","edit"]}},emits:["select","deselect"],setup(e,{emit:t}){const r=e,n=Po(),s=ar(),i=zn(),o=B_(),l=ps(),u=ar(),p=async m=>{let y={...m};y.count=1,n.add(y),await i.save("clipboard",n.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")},_=async m=>{confirm(`Are you sure you want to delete ${m.name} from ${i.open.join(", ")}`)&&(await i.deleteCard(i.open,m),s.delete(m))};return(m,y)=>(de(),we("div",mS,[r.actions.includes("select")&&!ne(u).selected.has(e.card.id+e.card.finish)?(de(),we("button",{key:0,class:"small select icon icon-check",onClick:y[0]||(y[0]=fn(()=>{t("select")},["stop"])),title:"Select"})):Ge("",!0),r.actions.includes("deselect")&&ne(u).selected.has(e.card.id+e.card.finish)?(de(),we("button",{key:1,class:"small deselect icon icon-clear",onClick:y[1]||(y[1]=fn(()=>{t("deselect")},["stop"])),title:"Deselect"})):Ge("",!0),r.actions.includes("prints")?(de(),we("button",{key:2,class:"small prints icon icon-prints",onClick:y[2]||(y[2]=fn(()=>{ne(o).loadPrints(r.card.name),ne(l).showSidebar("prints")},["stop"])),title:"View all prints"})):Ge("",!0),r.actions.includes("clip")?(de(),we("button",{key:3,class:"small clip icon icon-add",onClick:y[3]||(y[3]=fn(C=>p(e.card),["stop"])),title:"Add to clipboard"})):Ge("",!0),r.actions.includes("edit")&&ne(l).source==="collection"?(de(),we("button",{key:4,class:"small edit icon icon-edit",onClick:y[4]||(y[4]=fn(()=>{ne(l).edit.card=r.card,ne(l).showSidebar("edit")},["stop"])),title:"Edit"})):Ge("",!0),r.actions.includes("delete")&&ne(l).source==="collection"?(de(),we("button",{key:5,class:"small delete icon icon-delete",onClick:y[5]||(y[5]=fn(()=>{_(e.card),ne(l).details.show=!1,ne(l).details.card={}},["stop"])),title:"Delete"})):Ge("",!0)]))}},$_=Xt(gS,[["__scopeId","data-v-ff4900fd"]]);const yS=["data-id"],vS={class:"wrap"},bS={__name:"Card",props:{card:{type:Object,required:!0},index:{type:Number,default:0},selected:{type:Boolean,default:!1},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints"]}},emits:["clicked","select","deselect"],setup(e,{emit:t}){const r=e,n=ar(),s=l=>{if(n.filters.cmpCol.length>0)return!n.have.get(l.oracle_id)?["missing"]:["selected"];if([...n.selected].length>0)return n.selected.has(l.id+l.finish)?["selected"]:["missing"]},i=l=>{},o=l=>{};return(l,u)=>(de(),we("div",{class:ut(["card",{selected:r.selected}]),"data-id":r.card.id,onSelect:u[3]||(u[3]=p=>t("select")),onDeselect:u[4]||(u[4]=p=>t("deselect"))},[Y("div",vS,[Ze(bl,{card:r.card,effects:s(e.card),onTouchstart:i,onTouchend:o,onClick:u[0]||(u[0]=fn(p=>t("clicked"),["stop"]))},null,8,["card","effects"]),Ze($_,{card:r.card,actions:r.selected?r.actions.concat(["deselect"]):r.actions,onSelect:u[1]||(u[1]=p=>t("select")),onDeselect:u[2]||(u[2]=p=>t("deselect"))},null,8,["card","actions"])]),Ze(rf,{card:r.card},null,8,["card"])],42,yS))}},wS=Xt(bS,[["__scopeId","data-v-0da32d91"]]);const ES=e=>(vr("data-v-d4e663f2"),e=e(),br(),e),SS={key:0,class:"loader"},qS=ES(()=>Y("span",null,"Loading",-1)),xS=[qS],kS={__name:"CardView",props:{store:{type:Object,required:!0},actions:{type:Array,default:()=>["select","clip","delete","details","prints"]}},setup(e){const t=e,r=ps(),n=Ei();return(s,i)=>(de(),we(St,null,[t.store.loading?(de(),we("div",SS,xS)):Ge("",!0),Y("div",{class:"cards",style:lr({"font-size":18+ne(r).zoom*2+"px","grid-template-columns":`repeat(${ne(r).columns}, 1fr)`})},[(de(!0),we(St,null,Kt(t.store.filtered.slice(0,500),(o,l)=>(de(),mn(wS,{card:o,index:l,actions:t.actions,key:o.id+o.finish,class:ut({commander:o.isCommander}),selected:t.store.selected.has(o.id+o.finish),onSelect:u=>t.store.selected.add(o.id+o.finish),onDeselect:u=>t.store.selected.delete(o.id+o.finish),onClicked:()=>{ne(n).loadDetails(o,s.includeRulings=!0),ne(r).details.show=!0,ne(r).details.index=l}},null,8,["card","index","actions","class","selected","onSelect","onDeselect","onClicked"]))),128))],4)],64))}},V_=Xt(kS,[["__scopeId","data-v-d4e663f2"]]);const CS=["innerHTML"],AS={__name:"ManaCost",props:{mana:{type:String,required:!0}},setup(e){const t=e,r=cr(),n=s=>{if(!s)return"";const i=/(\{[aA-zZ0-9/]+\})/g;return s=s.replace(i,(o,l)=>`<img crossorigin='anonymous' class='symbol' src='${r.symbols.get(l)}' />`),s};return(s,i)=>t.mana?(de(),we("span",{key:0,class:"icons",innerHTML:n(t.mana)},null,8,CS)):Ge("",!0)}},z_=Xt(AS,[["__scopeId","data-v-78593a81"]]);const IS={class:"scroll"},TS={class:"groups"},OS={class:"cards"},PS=["onMouseover"],RS={class:"name"},FS={key:0,class:"mana"},LS={class:"price"},DS={__name:"CardList",props:{cards:{type:Array,required:!0},loading:Boolean,view:{type:String,default:"list"},actions:{type:Array,default:()=>["clip","delete","prints"]}},emits:["clip","viewPrints","delete"],setup(e,{emit:t}){const r=e,n=["Commander","Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],s=rn({groups:new Map}),i=Ei();return Ps(()=>{const o=new Map;for(const l of n)o.set(l,[]);for(const l of r.cards.slice(0,200)){if(l.isCommander){o.set("Commander",[l]);continue}o.get(l.type).push(l)}s.groups=o}),(o,l)=>(de(),we("div",IS,[Y("div",TS,[(de(!0),we(St,null,Kt(s.groups.entries(),([u,p])=>(de(),we("div",{class:"group",key:u},[Y("h3",null,vt(u),1),Y("div",OS,[(de(!0),we(St,null,Kt(p,_=>(de(),we("div",{class:ut(["card",_.finish]),key:_.id+_.finish,onMouseover:m=>ne(i).loadDetails(_)},[Y("div",RS,vt(_.finish==="foil"?"\u2606":"")+" "+vt(_.finish==="etched"?"#":"")+" "+vt(_.count)+" "+vt(_.name),1),_.mana_cost?(de(),we("div",FS,[Ze(z_,{mana:_.mana_cost},null,8,["mana"])])):Ge("",!0),Y("div",LS,[Ze(U_,{card:_,all:!1},null,8,["card"])])],42,PS))),128))])]))),128))])]))}},MS=Xt(DS,[["__scopeId","data-v-2a01796d"]]);const wl=e=>(vr("data-v-8fd40fd6"),e=e(),br(),e),BS={class:"precon"},NS={class:"flex"},jS=wl(()=>Y("span",null,"+",-1)),US=[jS],$S={class:"form"},VS=wl(()=>Y("label",{for:"name"},"Name",-1)),zS=wl(()=>Y("label",{for:"set"},"Set Code",-1)),WS=wl(()=>Y("label",{for:"name"},"Commander",-1)),KS={__name:"Precon",emits:["close"],setup(e,{emit:t}){const r=cr(),n=xo(),s="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",i=rn({name:"",set:"",cards:""}),o=async()=>{const l=/([0-9]+) (.+)/g,u=i.cards.matchAll(l),p=[];for(const _ of u)p.push({count:parseInt(_[1]),name:_[2].trim()});await Ma(s+"/precon",{name:i.name,commander:i.commander,set:i.set,cards:p}),n(`Uploaded ${i.name}`)};return(l,u)=>(de(),we("div",BS,[Y("div",NS,[Y("button",{class:"small close",onClick:u[0]||(u[0]=p=>t("close"))},US),Y("div",$S,[VS,Ot(Y("input",{id:"name",type:"text","onUpdate:modelValue":u[1]||(u[1]=p=>i.name=p)},null,512),[[Jt,i.name]]),zS,Ze(ne(sn),{modelValue:i.set,"onUpdate:modelValue":u[2]||(u[2]=p=>i.set=p),options:ne(r).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set"},null,8,["modelValue","options"]),WS,Ot(Y("input",{id:"name",type:"text","onUpdate:modelValue":u[3]||(u[3]=p=>i.commander=p)},null,512),[[Jt,i.commander]]),Ot(Y("textarea",{"onUpdate:modelValue":u[4]||(u[4]=p=>i.cards=p)},null,512),[[Jt,i.cards]]),Y("button",{onClick:o}," Upload ")])])]))}},HS=Xt(KS,[["__scopeId","data-v-8fd40fd6"]]),QS=Y("h3",null,"Prints",-1),GS={class:"prints"},JS={__name:"PrintsView",emits:["changed"],setup(e,{emit:t}){const r=B_();return(n,s)=>(de(),we(St,null,[QS,Y("div",GS,[Ze(V_,{store:ne(r),actions:["clip"]},null,8,["store"])])],64))}};const YS=e=>(vr("data-v-6a082a4d"),e=e(),br(),e),XS={class:"oracle-text"},ZS=["innerHTML"],eq={key:0,class:"rulings"},tq=YS(()=>Y("summary",null," Rulings ",-1)),nq={class:"list"},rq={__name:"CardDetails",props:{card:{type:Object,required:!0},face:{type:Number,default:0}},emits:["changed"],setup(e,{emit:t}){const r=e,n=Ei(),s=cr(),i=ar(),o=u=>{if(!u)return"";const p=/(\{[aA-zZ0-9/]+\})/g;return u=u.replace(p,(_,m)=>`<img class='symbol' src='${s.symbols.get(m)}' />`),u},l=u=>{navigator.clipboard.writeText(JSON.stringify(u,null,2))};return(u,p)=>(de(),we(St,null,[Ze($_,{card:r.card,onSelect:p[0]||(p[0]=_=>ne(i).selected.add(e.card.id+e.card.finish)),onDeselect:p[1]||(p[1]=_=>ne(i).selected.delete(e.card.id+e.card.finish))},null,8,["card"]),Ze(rf,{card:r.card},null,8,["card"]),(de(!0),we(St,null,Kt(r.card.card_faces||[r.card],(_,m)=>(de(),we("div",{class:ut(["face",{show:r.face===m}]),key:_+m},[Y("div",XS,[(de(!0),we(St,null,Kt(_.oracle_text?.split(`
`),(y,C)=>(de(),we("div",{key:"oracle"+C},[Y("span",{innerHTML:o(y)},null,8,ZS)]))),128))])],2))),128)),ne(n).rulings.length>0?(de(),we("div",eq,[Y("details",{onClick:p[2]||(p[2]=fn(()=>{},["stop"]))},[tq,Y("div",nq,[(de(!0),we(St,null,Kt(ne(n).rulings,(_,m)=>(de(),we("div",{class:"ruling",key:m},[Y("span",{class:ut({header:_.comment.startsWith("----------")})},vt(_.comment.replaceAll("----------","")),3)]))),128))])])])):Ge("",!0),Y("a",{onClick:p[3]||(p[3]=_=>l(r.card))}," Copy Json ")],64))}},W_=Xt(rq,[["__scopeId","data-v-6a082a4d"]]);var K_={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,n){e.exports=n()})(C3,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,u={parse:function(E,q){var N=(q=q||{}).dynamicTyping||!1;if(J(N)&&(q.dynamicTypingFunction=N,N={}),q.dynamicTyping=N,q.transform=!!J(q.transform)&&q.transform,q.worker&&u.WORKERS_SUPPORTED){var Z=function(){if(!u.WORKERS_SUPPORTED)return!1;var te=(ke=n.URL||n.webkitURL||null,qe=r.toString(),u.BLOB_URL||(u.BLOB_URL=ke.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",qe,")();"],{type:"text/javascript"})))),ue=new n.Worker(te),ke,qe;return ue.onmessage=w,ue.id=l++,o[ue.id]=ue}();return Z.userStep=q.step,Z.userChunk=q.chunk,Z.userComplete=q.complete,Z.userError=q.error,q.step=J(q.step),q.chunk=J(q.chunk),q.complete=J(q.complete),q.error=J(q.error),delete q.worker,void Z.postMessage({input:E,config:q,workerId:Z.id})}var $=null;return u.NODE_STREAM_INPUT,typeof E=="string"?(E=function(te){return te.charCodeAt(0)===65279?te.slice(1):te}(E),$=q.download?new m(q):new C(q)):E.readable===!0&&J(E.read)&&J(E.on)?$=new T(q):(n.File&&E instanceof File||E instanceof Object)&&($=new y(q)),$.stream(E)},unparse:function(E,q){var N=!1,Z=!0,$=",",te=`\r
`,ue='"',ke=ue+ue,qe=!1,ye=null,nt=!1;(function(){if(typeof q=="object"){if(typeof q.delimiter!="string"||u.BAD_DELIMITERS.filter(function(De){return q.delimiter.indexOf(De)!==-1}).length||($=q.delimiter),(typeof q.quotes=="boolean"||typeof q.quotes=="function"||Array.isArray(q.quotes))&&(N=q.quotes),typeof q.skipEmptyLines!="boolean"&&typeof q.skipEmptyLines!="string"||(qe=q.skipEmptyLines),typeof q.newline=="string"&&(te=q.newline),typeof q.quoteChar=="string"&&(ue=q.quoteChar),typeof q.header=="boolean"&&(Z=q.header),Array.isArray(q.columns)){if(q.columns.length===0)throw new Error("Option columns is empty");ye=q.columns}q.escapeChar!==void 0&&(ke=q.escapeChar+ue),(typeof q.escapeFormulae=="boolean"||q.escapeFormulae instanceof RegExp)&&(nt=q.escapeFormulae instanceof RegExp?q.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Pe=new RegExp(H(ue),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return ft(null,E,qe);if(typeof E[0]=="object")return ft(ye||Object.keys(E[0]),E,qe)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||ye),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),ft(E.fields||[],E.data||[],qe);throw new Error("Unable to serialize unrecognized input");function ft(De,Ct,bt){var it="";typeof De=="string"&&(De=JSON.parse(De)),typeof Ct=="string"&&(Ct=JSON.parse(Ct));var xe=Array.isArray(De)&&0<De.length,se=!Array.isArray(Ct[0]);if(xe&&Z){for(var Re=0;Re<De.length;Re++)0<Re&&(it+=$),it+=lt(De[Re],Re);0<Ct.length&&(it+=te)}for(var he=0;he<Ct.length;he++){var Ue=xe?De.length:Ct[he].length,dt=!1,D=xe?Object.keys(Ct[he]).length===0:Ct[he].length===0;if(bt&&!xe&&(dt=bt==="greedy"?Ct[he].join("").trim()==="":Ct[he].length===1&&Ct[he][0].length===0),bt==="greedy"&&xe){for(var j=[],ee=0;ee<Ue;ee++){var pe=se?De[ee]:ee;j.push(Ct[he][pe])}dt=j.join("").trim()===""}if(!dt){for(var ge=0;ge<Ue;ge++){0<ge&&!D&&(it+=$);var be=xe&&se?De[ge]:ge;it+=lt(Ct[he][be],ge)}he<Ct.length-1&&(!bt||0<Ue&&!D)&&(it+=te)}}return it}function lt(De,Ct){if(De==null)return"";if(De.constructor===Date)return JSON.stringify(De).slice(1,25);var bt=!1;nt&&typeof De=="string"&&nt.test(De)&&(De="'"+De,bt=!0);var it=De.toString().replace(Pe,ke);return(bt=bt||N===!0||typeof N=="function"&&N(De,Ct)||Array.isArray(N)&&N[Ct]||function(xe,se){for(var Re=0;Re<se.length;Re++)if(-1<xe.indexOf(se[Re]))return!0;return!1}(it,u.BAD_DELIMITERS)||-1<it.indexOf($)||it.charAt(0)===" "||it.charAt(it.length-1)===" ")?ue+it+ue:it}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=P,u.ParserHandle=L,u.NetworkStreamer=m,u.FileStreamer=y,u.StringStreamer=C,u.ReadableStreamStreamer=T,n.jQuery){var p=n.jQuery;p.fn.parse=function(E){var q=E.config||{},N=[];return this.each(function(te){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ue=0;ue<this.files.length;ue++)N.push({file:this.files[ue],inputElem:this,instanceConfig:p.extend({},q)})}),Z(),this;function Z(){if(N.length!==0){var te,ue,ke,qe,ye=N[0];if(J(E.before)){var nt=E.before(ye.file,ye.inputElem);if(typeof nt=="object"){if(nt.action==="abort")return te="AbortError",ue=ye.file,ke=ye.inputElem,qe=nt.reason,void(J(E.error)&&E.error({name:te},ue,ke,qe));if(nt.action==="skip")return void $();typeof nt.config=="object"&&(ye.instanceConfig=p.extend(ye.instanceConfig,nt.config))}else if(nt==="skip")return void $()}var Pe=ye.instanceConfig.complete;ye.instanceConfig.complete=function(ft){J(Pe)&&Pe(ft,ye.file,ye.inputElem),$()},u.parse(ye.file,ye.instanceConfig)}else J(E.complete)&&E.complete()}function $(){N.splice(0,1),Z()}}}function _(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(q){var N=B(q);N.chunkSize=parseInt(N.chunkSize),q.step||q.chunk||(N.chunkSize=null),this._handle=new L(N),(this._handle.streamer=this)._config=N}.call(this,E),this.parseChunk=function(q,N){if(this.isFirstChunk&&J(this._config.beforeFirstChunk)){var Z=this._config.beforeFirstChunk(q);Z!==void 0&&(q=Z)}this.isFirstChunk=!1,this._halted=!1;var $=this._partialLine+q;this._partialLine="";var te=this._handle.parse($,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var ue=te.meta.cursor;this._finished||(this._partialLine=$.substring(ue-this._baseIndex),this._baseIndex=ue),te&&te.data&&(this._rowCount+=te.data.length);var ke=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:te,workerId:u.WORKER_ID,finished:ke});else if(J(this._config.chunk)&&!N){if(this._config.chunk(te,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);te=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(te.data),this._completeResults.errors=this._completeResults.errors.concat(te.errors),this._completeResults.meta=te.meta),this._completed||!ke||!J(this._config.complete)||te&&te.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ke||te&&te.meta.paused||this._nextChunk(),te}this._halted=!0},this._sendError=function(q){J(this._config.error)?this._config.error(q):i&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:q,finished:!1})}}function m(E){var q;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),_.call(this,E),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(q=new XMLHttpRequest,this._config.withCredentials&&(q.withCredentials=this._config.withCredentials),s||(q.onload=M(this._chunkLoaded,this),q.onerror=M(this._chunkError,this)),q.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var Z in N)q.setRequestHeader(Z,N[Z])}if(this._config.chunkSize){var $=this._start+this._config.chunkSize-1;q.setRequestHeader("Range","bytes="+this._start+"-"+$)}try{q.send(this._config.downloadRequestBody)}catch(te){this._chunkError(te.message)}s&&q.status===0&&this._chunkError()}},this._chunkLoaded=function(){q.readyState===4&&(q.status<200||400<=q.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:q.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var Z=N.getResponseHeader("Content-Range");return Z===null?-1:parseInt(Z.substring(Z.lastIndexOf("/")+1))}(q),this.parseChunk(q.responseText)))},this._chunkError=function(N){var Z=q.statusText||N;this._sendError(new Error(Z))}}function y(E){var q,N;(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),_.call(this,E);var Z=typeof FileReader<"u";this.stream=function($){this._input=$,N=$.slice||$.webkitSlice||$.mozSlice,Z?((q=new FileReader).onload=M(this._chunkLoaded,this),q.onerror=M(this._chunkError,this)):q=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var $=this._input;if(this._config.chunkSize){var te=Math.min(this._start+this._config.chunkSize,this._input.size);$=N.call($,this._start,te)}var ue=q.readAsText($,this._config.encoding);Z||this._chunkLoaded({target:{result:ue}})},this._chunkLoaded=function($){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk($.target.result)},this._chunkError=function(){this._sendError(q.error)}}function C(E){var q;_.call(this,E=E||{}),this.stream=function(N){return q=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,Z=this._config.chunkSize;return Z?(N=q.substring(0,Z),q=q.substring(Z)):(N=q,q=""),this._finished=!q,this.parseChunk(N)}}}function T(E){_.call(this,E=E||{});var q=[],N=!0,Z=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function($){this._input=$,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Z&&q.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),q.length?this.parseChunk(q.shift()):N=!0},this._streamData=M(function($){try{q.push(typeof $=="string"?$:$.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(q.shift()))}catch(te){this._streamError(te)}},this),this._streamError=M(function($){this._streamCleanUp(),this._sendError($)},this),this._streamEnd=M(function(){this._streamCleanUp(),Z=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(E){var q,N,Z,$=Math.pow(2,53),te=-$,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ke=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,qe=this,ye=0,nt=0,Pe=!1,ft=!1,lt=[],De={data:[],errors:[],meta:{}};if(J(E.step)){var Ct=E.step;E.step=function(he){if(De=he,xe())it();else{if(it(),De.data.length===0)return;ye+=he.data.length,E.preview&&ye>E.preview?N.abort():(De.data=De.data[0],Ct(De,qe))}}}function bt(he){return E.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function it(){return De&&Z&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),Z=!1),E.skipEmptyLines&&(De.data=De.data.filter(function(he){return!bt(he)})),xe()&&function(){if(!De)return;function he(dt,D){J(E.transformHeader)&&(dt=E.transformHeader(dt,D)),lt.push(dt)}if(Array.isArray(De.data[0])){for(var Ue=0;xe()&&Ue<De.data.length;Ue++)De.data[Ue].forEach(he);De.data.splice(0,1)}else De.data.forEach(he)}(),function(){if(!De||!E.header&&!E.dynamicTyping&&!E.transform)return De;function he(dt,D){var j,ee=E.header?{}:[];for(j=0;j<dt.length;j++){var pe=j,ge=dt[j];E.header&&(pe=j>=lt.length?"__parsed_extra":lt[j]),E.transform&&(ge=E.transform(ge,pe)),ge=se(pe,ge),pe==="__parsed_extra"?(ee[pe]=ee[pe]||[],ee[pe].push(ge)):ee[pe]=ge}return E.header&&(j>lt.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+lt.length+" fields but parsed "+j,nt+D):j<lt.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+lt.length+" fields but parsed "+j,nt+D)),ee}var Ue=1;return!De.data.length||Array.isArray(De.data[0])?(De.data=De.data.map(he),Ue=De.data.length):De.data=he(De.data,0),E.header&&De.meta&&(De.meta.fields=lt),nt+=Ue,De}()}function xe(){return E.header&&lt.length===0}function se(he,Ue){return dt=he,E.dynamicTypingFunction&&E.dynamicTyping[dt]===void 0&&(E.dynamicTyping[dt]=E.dynamicTypingFunction(dt)),(E.dynamicTyping[dt]||E.dynamicTyping)===!0?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&(function(D){if(ue.test(D)){var j=parseFloat(D);if(te<j&&j<$)return!0}return!1}(Ue)?parseFloat(Ue):ke.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue;var dt}function Re(he,Ue,dt,D){var j={type:he,code:Ue,message:dt};D!==void 0&&(j.row=D),De.errors.push(j)}this.parse=function(he,Ue,dt){var D=E.quoteChar||'"';if(E.newline||(E.newline=function(pe,ge){pe=pe.substring(0,1048576);var be=new RegExp(H(ge)+"([^]*?)"+H(ge),"gm"),Me=(pe=pe.replace(be,"")).split("\r"),Fe=pe.split(`
`),$e=1<Fe.length&&Fe[0].length<Me[0].length;if(Me.length===1||$e)return`
`;for(var fe=0,Le=0;Le<Me.length;Le++)Me[Le][0]===`
`&&fe++;return fe>=Me.length/2?`\r
`:"\r"}(he,D)),Z=!1,E.delimiter)J(E.delimiter)&&(E.delimiter=E.delimiter(he),De.meta.delimiter=E.delimiter);else{var j=function(pe,ge,be,Me,Fe){var $e,fe,Le,je;Fe=Fe||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Be=0;Be<Fe.length;Be++){var Ye=Fe[Be],gt=0,At=0,xt=0;Le=void 0;for(var Rt=new P({comments:Me,delimiter:Ye,newline:ge,preview:10}).parse(pe),Ht=0;Ht<Rt.data.length;Ht++)if(be&&bt(Rt.data[Ht]))xt++;else{var on=Rt.data[Ht].length;At+=on,Le!==void 0?0<on&&(gt+=Math.abs(on-Le),Le=on):Le=on}0<Rt.data.length&&(At/=Rt.data.length-xt),(fe===void 0||gt<=fe)&&(je===void 0||je<At)&&1.99<At&&(fe=gt,$e=Ye,je=At)}return{successful:!!(E.delimiter=$e),bestDelimiter:$e}}(he,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);j.successful?E.delimiter=j.bestDelimiter:(Z=!0,E.delimiter=u.DefaultDelimiter),De.meta.delimiter=E.delimiter}var ee=B(E);return E.preview&&E.header&&ee.preview++,q=he,N=new P(ee),De=N.parse(q,Ue,dt),it(),Pe?{meta:{paused:!0}}:De||{meta:{paused:!1}}},this.paused=function(){return Pe},this.pause=function(){Pe=!0,N.abort(),q=J(E.chunk)?"":q.substring(N.getCharIndex())},this.resume=function(){qe.streamer._halted?(Pe=!1,qe.streamer.parseChunk(q,!0)):setTimeout(qe.resume,3)},this.aborted=function(){return ft},this.abort=function(){ft=!0,N.abort(),De.meta.aborted=!0,J(E.complete)&&E.complete(De),q=""}}function H(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(E){var q,N=(E=E||{}).delimiter,Z=E.newline,$=E.comments,te=E.step,ue=E.preview,ke=E.fastMode,qe=q=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(qe=E.escapeChar),(typeof N!="string"||-1<u.BAD_DELIMITERS.indexOf(N))&&(N=","),$===N)throw new Error("Comment character same as delimiter");$===!0?$="#":(typeof $!="string"||-1<u.BAD_DELIMITERS.indexOf($))&&($=!1),Z!==`
`&&Z!=="\r"&&Z!==`\r
`&&(Z=`
`);var ye=0,nt=!1;this.parse=function(Pe,ft,lt){if(typeof Pe!="string")throw new Error("Input must be a string");var De=Pe.length,Ct=N.length,bt=Z.length,it=$.length,xe=J(te),se=[],Re=[],he=[],Ue=ye=0;if(!Pe)return ht();if(E.header&&!ft){var dt=Pe.split(Z)[0].split(N),D=[],j={},ee=!1;for(var pe in dt){var ge=dt[pe];J(E.transformHeader)&&(ge=E.transformHeader(ge,pe));var be=ge,Me=j[ge]||0;for(0<Me&&(ee=!0,be=ge+"_"+Me),j[ge]=Me+1;D.includes(be);)be=be+"_"+Me;D.push(be)}if(ee){var Fe=Pe.split(Z);Fe[0]=D.join(N),Pe=Fe.join(Z)}}if(ke||ke!==!1&&Pe.indexOf(q)===-1){for(var $e=Pe.split(Z),fe=0;fe<$e.length;fe++){if(he=$e[fe],ye+=he.length,fe!==$e.length-1)ye+=Z.length;else if(lt)return ht();if(!$||he.substring(0,it)!==$){if(xe){if(se=[],xt(he.split(N)),cn(),nt)return ht()}else xt(he.split(N));if(ue&&ue<=fe)return se=se.slice(0,ue),ht(!0)}}return ht()}for(var Le=Pe.indexOf(N,ye),je=Pe.indexOf(Z,ye),Be=new RegExp(H(qe)+H(q),"g"),Ye=Pe.indexOf(q,ye);;)if(Pe[ye]!==q)if($&&he.length===0&&Pe.substring(ye,ye+it)===$){if(je===-1)return ht();ye=je+bt,je=Pe.indexOf(Z,ye),Le=Pe.indexOf(N,ye)}else if(Le!==-1&&(Le<je||je===-1))he.push(Pe.substring(ye,Le)),ye=Le+Ct,Le=Pe.indexOf(N,ye);else{if(je===-1)break;if(he.push(Pe.substring(ye,je)),on(je+bt),xe&&(cn(),nt))return ht();if(ue&&se.length>=ue)return ht(!0)}else for(Ye=ye,ye++;;){if((Ye=Pe.indexOf(q,Ye+1))===-1)return lt||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:ye}),Ht();if(Ye===De-1)return Ht(Pe.substring(ye,Ye).replace(Be,q));if(q!==qe||Pe[Ye+1]!==qe){if(q===qe||Ye===0||Pe[Ye-1]!==qe){Le!==-1&&Le<Ye+1&&(Le=Pe.indexOf(N,Ye+1)),je!==-1&&je<Ye+1&&(je=Pe.indexOf(Z,Ye+1));var gt=Rt(je===-1?Le:Math.min(Le,je));if(Pe.substr(Ye+1+gt,Ct)===N){he.push(Pe.substring(ye,Ye).replace(Be,q)),Pe[ye=Ye+1+gt+Ct]!==q&&(Ye=Pe.indexOf(q,ye)),Le=Pe.indexOf(N,ye),je=Pe.indexOf(Z,ye);break}var At=Rt(je);if(Pe.substring(Ye+1+At,Ye+1+At+bt)===Z){if(he.push(Pe.substring(ye,Ye).replace(Be,q)),on(Ye+1+At+bt),Le=Pe.indexOf(N,ye),Ye=Pe.indexOf(q,ye),xe&&(cn(),nt))return ht();if(ue&&se.length>=ue)return ht(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:ye}),Ye++}}else Ye++}return Ht();function xt(g){se.push(g),Ue=ye}function Rt(g){var ot=0;if(g!==-1){var pn=Pe.substring(Ye+1,g);pn&&pn.trim()===""&&(ot=pn.length)}return ot}function Ht(g){return lt||(g===void 0&&(g=Pe.substring(ye)),he.push(g),ye=De,xt(he),xe&&cn()),ht()}function on(g){ye=g,xt(he),he=[],je=Pe.indexOf(Z,ye)}function ht(g){return{data:se,errors:Re,meta:{delimiter:N,linebreak:Z,aborted:nt,truncated:!!g,cursor:Ue+(ft||0)}}}function cn(){te(ht()),se=[],Re=[]}},this.abort=function(){nt=!0},this.getCharIndex=function(){return ye}}function w(E){var q=E.data,N=o[q.workerId],Z=!1;if(q.error)N.userError(q.error,q.file);else if(q.results&&q.results.data){var $={abort:function(){Z=!0,R(q.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(J(N.userStep)){for(var te=0;te<q.results.data.length&&(N.userStep({data:q.results.data[te],errors:q.results.errors,meta:q.results.meta},$),!Z);te++);delete q.results}else J(N.userChunk)&&(N.userChunk(q.results,$,q.file),delete q.results)}q.finished&&!Z&&R(q.workerId,q.results)}function R(E,q){var N=o[E];J(N.userComplete)&&N.userComplete(q),N.terminate(),delete o[E]}function k(){throw new Error("Not implemented.")}function B(E){if(typeof E!="object"||E===null)return E;var q=Array.isArray(E)?[]:{};for(var N in E)q[N]=B(E[N]);return q}function M(E,q){return function(){E.apply(q,arguments)}}function J(E){return typeof E=="function"}return i&&(n.onmessage=function(E){var q=E.data;if(u.WORKER_ID===void 0&&q&&(u.WORKER_ID=q.workerId),typeof q.input=="string")n.postMessage({workerId:u.WORKER_ID,results:u.parse(q.input,q.config),finished:!0});else if(n.File&&q.input instanceof File||q.input instanceof Object){var N=u.parse(q.input,q.config);N&&n.postMessage({workerId:u.WORKER_ID,results:N,finished:!0})}}),(m.prototype=Object.create(_.prototype)).constructor=m,(y.prototype=Object.create(_.prototype)).constructor=y,(C.prototype=Object.create(C.prototype)).constructor=C,(T.prototype=Object.create(_.prototype)).constructor=T,u})})(K_);const su=K_.exports;const sq={class:"form"},iq=["onKeyup"],oq=["onKeyup"],aq={class:"results"},lq=["onClick"],uq={class:"name"},cq={class:"cn"},fq={class:"set"},dq=["onClick"],pq={key:0,class:"preview"},hq={__name:"CardSearch",emits:["selected"],setup(e,{emit:t}){const r=D3(),n=cr(),s=rn({search:"",cn:"",set:null,count:1,autoAdd:!1,results:[],loading:!1,preview:null}),i=()=>{s.search=null,s.cn=null,s.set=null,s.count=1,r.$reset()},o=async()=>{if((!s.search||s.search.length<3)&&!s.cn&&!s.set)return;let u=s.search;s.cn&&(u+=" cn:"+s.cn),s.set&&(u+=" set:"+s.set),await r.loadSearch(u,"prints"),s.autoAdd&&r.count===1&&t("selected",go.deepUnref(r.cards.values().next().value))},l=u=>{let p=go.deepUnref(u);p.count=s.count,t("selected",p)};return(u,p)=>(de(),we(St,null,[Y("div",sq,[Ot(Y("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=_=>s.search=_),onKeyup:fi(o,["enter"]),placeholder:"Name / Query"},null,40,iq),[[Jt,s.search]]),Ot(Y("input",{type:"text","onUpdate:modelValue":p[1]||(p[1]=_=>s.cn=_),onKeyup:fi(o,["enter"]),placeholder:"Collector number (Optional)"},null,40,oq),[[Jt,s.cn]]),Ze(ne(sn),{modelValue:s.set,"onUpdate:modelValue":p[2]||(p[2]=_=>s.set=_),options:ne(n).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set (Optional)"},null,8,["modelValue","options"]),Ot(Y("input",{type:"number","onUpdate:modelValue":p[3]||(p[3]=_=>s.count=_),placeholder:"Quantity"},null,512),[[Jt,s.count]]),Ge("",!0),Y("button",{onClick:i}," Clear "),Y("button",{onClick:o}," Search ")]),Y("div",aq,[(de(!0),we(St,null,Kt(ne(r).cards.values(),_=>(de(),we("div",{key:_.name,class:"result",onClick:m=>s.preview=s.preview===null?_.id:null},[Y("div",uq,[Y("span",cq,vt(_.collector_number),1),ur(" - "+vt(_.name),1)]),Y("div",fq,vt(_.set)+" - "+vt(_.set_name),1),Y("button",{class:"small",onClick:fn(m=>l(_),["stop"])}," + ",8,dq),s.preview===_.id?(de(),we("div",pq,[Ze(bl,{card:_},null,8,["card"])])):Ge("",!0)],8,lq))),128))])],64))}},_q=Xt(hq,[["__scopeId","data-v-f740cfb7"]]);const mq={class:"root"},gq=["disabled"],yq={class:"buttons"},vq={key:0,class:"button",for:"file-input"},bq=["disabled"],wq={key:4,class:"progress"},Eq={key:0,class:"errors"},Sq={__name:"CardParser",emits:["parsed"],setup(e,{emit:t}){const r=zn(),n=cr(),s=xo(),i="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",o=rn({name:null,file:null,text:"",append:!0,encoding:null,format:"Search",active:!1,progress:0,count:0,total:0,errors:[]}),l=rn({path:null});Ps(()=>{o.name=r.open[0]});const u=async(w="",R={})=>(await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).json(),p=async w=>{let R=await w.arrayBuffer(),k=new Uint8Array(R.slice(0,10));return k[0].toString(16)=="ff"&&k[1].toString(16)=="fe"?"UTF-16LE":k[0].toString(16)=="fe"&&k[1].toString(16)=="ff"?"UTF-16BE":k[1]==0&&k[3]==0&&k[5]==0?"UTF-16LE":"UTF-8"},_=async w=>{o.errors=[],o.active=!0,o.progress=0;let R={};if(o.format==="MTGA"){const k=/([0-9]+) (.+) \((.+)\) ([0-9]+)/g,B=o.text.matchAll(k);for(const M of B)R[M[3]+M[4]]={name:M[2].split(" // ")[0].trim(),count:parseInt(M[1]),set:M[3],number:M[4],finish:"nonfoil",tags:[]}}else if(o.format==="MTGO"){const k=/([0-9]+) (.+)/g,B=o.text.matchAll(k);for(const M of B)R[M[2]]={name:M[2].split(" // ")[0].trim(),count:parseInt(M[1])||1,set:"",number:"",finish:"nonfoil",tags:[]}}else if(o.format==="MKM Email"){const k=/([0-9]+)x ([a-zA-Z ,/\-:']+)?(?:\(V.([0-9])+\))? \(([a-zA-Z0-9 ,/\-:']+)\)/g,B=o.text.matchAll(k);for(const M of B){M[4].replace(": Extras","");let J="";R[M[2]]={name:M[2].replace(" Token","").trim(),count:parseInt(M[1])||1,set:J,number:"",mkm_version:M[3]?parseInt(M[3]):1,finish:"nonfoil",tags:[]}}}C(o.name,new Map(Object.entries(R)))},m=async w=>{if(l.path===null)return;o.errors=[];const R=new FileReader;o.active=!0,o.progress=0;let k=null;o.format==="DragonShield Web"&&(k=y),R.onload=async()=>{let M=await k(R.result);C(o.name,M)};let B=await p(l.path);R.readAsText(l.path,B)};su.parsePromise=w=>new Promise((R,k)=>{su.parse(w,{header:!0,worker:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:R,error:k})});const y=async w=>{w=w.replace('"sep=,"',"");let R=await su.parsePromise(w),k=new Map,B={rmh1:"h1r",psld:"sld",gk1_golgar:"gk1",gk1_dimir:"gk1",vthb:"thb"};return R.data.forEach(M=>{if(M["Card Number"]===null)return;const J=M["Set Name"];let E=M["Set Code"].toLowerCase();B[E]&&(E=B[E]);let q="nonfoil";M.Printing==="Foil"?q="foil":M["Card Number"].toString().includes("etc")&&(q="etched");const N=parseInt(M.Quantity);let Z={name:M["Card Name"],count:N,set:"",number:"",finish:q,tags:[M["Folder Name"]]},$=null;if(n.setIds.has(E)?(Z.set=E,Z.number=M["Card Number"].toString().replace("etc",""),$=E+M["Card Number"]+Z.finish):(console.log(`Couldn't find set for ${M["Card Name"]} ${M["Card Number"]} ${J} [${E}]`),o.errors.push(`Couldn't find set for ${M["Card Name"]} ${M["Card Number"]} [${E}]`),$=Z.name+Z.finish),k.has($)){let te=k.get($);te.count+=N,te.tags.push(M["Folder Name"]),k.set($,te)}else k.set($,Z)}),k},C=async(w,R)=>{let k=await r.get(w);for(const[B,M]of R.entries()){let J=k.cards.filter(E=>E===void 0?!1:M.set!==""?M.set===E.set&&M.number===E.collector_number&&M.finish===E.finish:M.name===E.name&&M.finish===E.finish);J.length>0&&(J[0].count=M.count,R.delete(B))}if(R.size>0){const B=await L(R);k.cards=k.cards.concat(B)}r.save(w,k.cards,k.syncCode),o.active=!1,o.count=0,o.progress=0,o.total=0,t("parsed",r.open)},T=async w=>{const R=await r.get(o.name);let k=R.cards.filter(B=>B.id===w.id&&B.finish==="nonfoil");k.length>0?k[0].count+=w.count:R.cards.push(w),r.save(o.name,R.cards,R.syncCode),t("parsed",r.open),s(`${""+w.name} added to ${o.name}`)},L=async w=>{const R=[],k=new Map,B=new Map;let M=[];try{for(const[E,q]of w.entries()){let N={};q.set===""&&q.number===""?N.name=q.name:(N.set=q.set,N.collector_number=q.number),R.push(N)}const J=1e3;o.total=R.length;for(let E=0;E<R.length;E+=J){const q=await u(i+"/cards",{identifiers:R.slice(E,E+J)});q.not_found.length>0&&console.log(q.not_found),q.data.forEach(N=>{k.set(N.name,N),B.set(N.set+N.collector_number,N)}),o.count=E,o.progress=E/R.length*100}for(const[E,q]of w.entries()){let N=null;if(q.set===""&&q.number===""?N={...k.get(q.name)}:N={...B.get(q.set+q.number)},!N.name){console.log("Missing data",N,q),o.errors.push(`Missing data for ${q.name} ${q.number} [${q.set}]`);continue}N.count=q.count||1,N.finish=N.finishes.length===1?N.finishes[0]:q.finish,N.tags=q.tags,M.push(N)}o.progress=100}catch(J){console.error(J)}finally{return M}},H={"MKM Email":["text",_],MTGA:["text",_],MTGO:["text",_],"DragonShield Web":["file",m],Search:["search",T]},P=w=>{l.path=w.target.files[0]};return(w,R)=>(de(),we(St,null,[Y("div",mq,[Y("h3",null,"Add to "+vt(ne(r).open.length==1?ne(r).open[0]:""),1),ne(r).open.length>1?(de(),mn(ne(sn),{key:0,modelValue:o.name,"onUpdate:modelValue":R[0]||(R[0]=k=>o.name=k),options:ne(r).open,mode:"single"},null,8,["modelValue","options"])):Ge("",!0),Ze(ne(sn),{modelValue:o.format,"onUpdate:modelValue":R[1]||(R[1]=k=>o.format=k),placeholder:"Format",options:Object.keys(H),"can-clear":!1},null,8,["modelValue","options"]),H[o.format][0]==="file"?(de(),we("input",{key:1,id:"file-input",type:"file",onChange:P,disabled:o.active},null,40,gq)):Ge("",!0),H[o.format][0]==="text"?Ot((de(),we("textarea",{key:2,"onUpdate:modelValue":R[2]||(R[2]=k=>o.text=k)},null,512)),[[Jt,o.text]]):Ge("",!0),H[o.format][0]==="search"?(de(),mn(_q,{key:3,onSelected:T})):Ge("",!0),Y("div",yq,[H[o.format][0]==="file"?(de(),we("label",vq,"Choose file")):Ge("",!0),!o.active&&o.format&&(o.text||l.path)&&o.format!=="Search"?(de(),we("button",{key:1,onClick:R[3]||(R[3]=k=>H[o.format][1]()),disabled:l.path===null&&o.text===""}," Add ",8,bq)):Ge("",!0)]),o.active?(de(),we("div",wq,[Y("span",null,"Processing cards: "+vt(o.count)+" / "+vt(o.total),1),Y("div",{class:"bar",style:lr({width:o.progress+"%"})},null,4)])):Ge("",!0)]),o.errors.length>0?(de(),we("ul",Eq,[(de(!0),we(St,null,Kt(o.errors,(k,B)=>(de(),we("li",{key:B},vt(k),1))),128))])):Ge("",!0)],64))}},qq=Xt(Sq,[["__scopeId","data-v-f07a4629"]]),xq=async(e,t)=>{let r="";if(t==="mtgo")for(const n of e.values())r+=`${n.count||1} ${n.name} 
`;else if(t==="mtga")for(const n of e.values())r+=`${n.count||1} ${n.name} (${n.set}) ${n.collector_number}
`;else if(t==="mkm"){const n=await post(`${backendUrl}/mkmVersions`,{ids:e.map(s=>s.id)});for(const s of e.values()){const i=n.data[s.id]||1;let o=""+s.set_name;s.promo?o=o.replace(" Promos",": Promos"):s.promo_types.includes("boosterfun")&&(o=o+=": Extras"),n.data[s.id]?r+=`${s.count||1}x ${s.name} (V.${i}) (${o})
`:r+=`${s.count||1}x ${s.name} (${o})
`}}else if(t==="moxfield"){r=`"Count","Tradelist Count","Name","Edition","Condition","Language","Foil","Tags","Last Modified","Collector Number"
`;for(const n of e.values())r+=`"${n.count||1}","0","${n.name}","${n.set}","Near Mint","English",${n.finish},"","2022-03-22 02:52:33.210000","${n.collector_number}"
`}return r};const kq={class:"row"},Cq=["href"],Aq={__name:"CardExporter",props:{source:{type:Function,required:!0},openDirection:{type:String,default:"down"}},setup(e){const t=e,r=rn({format:"",downloadUrl:""}),n=xo(),s=Dt(null),i=async()=>{const o=await t.source();let l=await xq(o,r.format);if(r.format==="moxfield"){var u=new Blob([l],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(u);r.downloadUrl=p,s.value.setAttribute("download","moxfield.csv"),s.value.click()}else navigator.clipboard.writeText(l),n("Copied to Clipboard")};return(o,l)=>(de(),we("div",kq,[Ze(ne(sn),{options:{mtgo:"MTGO",mtga:"MTGA",mkm:"MKM",moxfield:"Moxfield"},label:"key",modelValue:r.format,"onUpdate:modelValue":l[0]||(l[0]=u=>r.format=u),mode:"single",placeholder:"Export to","open-direction":t.openDirection},null,8,["modelValue","open-direction"]),Y("a",{class:ut(["button small icon",{"icon-clip":r.format!=="moxfield","icon-arrow-down":r.format==="moxfield"}]),download:"moxfield.csv",onClick:i},null,2),Ot(Y("a",{class:"button",download:"moxfield.csv",ref_key:"downloadButton",ref:s,href:r.downloadUrl},"Export",8,Cq),[[Rn,!1]])]))}},H_=Xt(Aq,[["__scopeId","data-v-cb7d3495"]]);const Iq={class:"clipboard"},Tq={class:"clip-cards"},Oq={class:"row"},Pq={class:"buttons"},Rq={__name:"ClipBoard",setup(e){const t=Po(),r=zn(),n=ar(),s=xo(),i=rn({copyTo:null}),o=async(p,_)=>{let m=await r.get(p);const y=r.open.includes(p);let C=0;for(const T of _){let L=m.cards.filter(H=>H.id===T.id);L.length===0?m.cards.push({...go.deepUnref(T)}):L[0].count+=T.count||1,C+=1,y&&n.add({...T})}await r.save(p,m.cards,m.syncCode),s(`${C} added to ${p}`)},l=async()=>{t.$reset(),await r.save("clipboard",[]),new BroadcastChannel("clipboard").postMessage("update")},u=async()=>{n.filtered.forEach(_=>{let m={..._};m.count=1,t.add(m)}),await r.save("clipboard",t.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(p,_)=>(de(),we("div",Iq,[Y("h3",null,"Clipboard ("+vt(ne(t).count)+") "+vt(ne(t).value),1),Y("div",Tq,[(de(!0),we(St,null,Kt(ne(t).cards.values(),m=>(de(),we("div",{class:"clip-card",key:"clip-"+m.name},[Y("p",null,vt(m.count)+"x "+vt(m.name)+" ("+vt(m.set)+") "+vt(m.collector_number),1)]))),128))]),Ze(H_,{source:()=>[...ne(t).cards.values()],"open-direction":"top"},null,8,["source"]),Y("div",Oq,[Ze(ne(sn),{options:ne(r).names,placeholder:"Copy to","open-direction":"top",modelValue:i.copyTo,"onUpdate:modelValue":_[0]||(_[0]=m=>i.copyTo=m)},null,8,["options","modelValue"]),Y("button",{class:"small icon icon-arrow-right",onClick:_[1]||(_[1]=()=>o(i.copyTo,ne(t).cards.values()))})]),Y("div",Pq,[Y("button",{onClick:_[2]||(_[2]=m=>u())}," Clip All "),Y("button",{onClick:_[3]||(_[3]=m=>l())}," Clear ")])]))}},Fq=Xt(Rq,[["__scopeId","data-v-69cfb135"]]);const Us=e=>(vr("data-v-bb2fb888"),e=e(),br(),e),Lq={class:"upload flex"},Dq={class:"row"},Mq={key:0,class:"collection flex"},Bq=Us(()=>Y("span",null,"Cards: ",-1)),Nq={key:0},jq=Us(()=>Y("span",null,"Last sync: ",-1)),Uq={key:1,class:"row"},$q=Us(()=>Y("div",{class:"text"}," Upload ",-1)),Vq=[$q],zq=Us(()=>Y("div",{class:"text"}," Download ",-1)),Wq=[zq],Kq=Us(()=>Y("hr",null,null,-1)),Hq={class:"new-collection"},Qq=Us(()=>Y("hr",null,null,-1)),Gq={class:"google-sync"},Jq=["src"],Yq={class:"text"},Xq=Us(()=>Y("span",{class:"icon icon-close"},null,-1)),Zq={__name:"CollectionsManager",emits:["change","delete","close"],setup(e,{emit:t}){const r=Ba(),n=zn();ar();const s=xo(),i=rn({collection:null,obj:null});Ps(()=>{i.collection=n.open.length>0?n.open[0]:null}),Ps(()=>{i.obj=n.obj.filter(m=>m.name===i.collection)[0]});const o=async m=>{const y=s(`Refreshing collection ${m}`),C=r.collections.get(m).id;await n.download(C)?(s.dismiss(y),s(`${m} refreshed.`),t("change",m)):(s.dismiss(y),s.error(`Failed to refresh ${m}.`))},l=async m=>{const y=s(`Uploading ${m}`),C=await n.upload(r.token,m);C?(s.dismiss(y),s(`${m} uploaded.`),r.collections.set(m,C)):(s.dismiss(y),s.error(`${m} failed to upload.`))},u=async m=>{n.save(m.trim(),[]),i.name=null,t("change",m.trim()),t("close")},p=async m=>{confirm(`Are you sure you want to delete ${m}`)&&n.delete(m)},_=async m=>await n.getCards([i.collection]);return(m,y)=>{const C=ns("GoogleLogin");return de(),we("div",Lq,[Y("div",Dq,[Ze(ne(sn),{modelValue:i.collection,"onUpdate:modelValue":y[0]||(y[0]=T=>i.collection=T),options:ne(n).names,mode:"single"},null,8,["modelValue","options"]),Y("button",{class:"small icon icon-delete",onClick:y[1]||(y[1]=T=>p(i.collection))})]),i.obj?(de(),we("div",Mq,[Y("div",{class:"img",style:lr({"background-image":`url(${i.obj.image})`})},null,4),Y("div",null,[Bq,Y("span",null,vt(i.obj.count),1)]),ne(r).token&&i.obj.downloaded?(de(),we("div",Nq,[jq,ur(" "+vt(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"medium",timeZone:"UTC"}).format(new Date(i.obj.lastSync*1))),1)])):Ge("",!0),ne(r).token?(de(),we("div",Uq,[i.obj.downloaded?(de(),we("button",{key:0,onClick:[y[2]||(y[2]=fn(T=>l(i.collection),["exact"])),y[3]||(y[3]=fn(T=>l(i.collection),["ctrl"]))]},Vq)):Ge("",!0),ne(r).collections.has(i.collection)?(de(),we("button",{key:1,onClick:y[4]||(y[4]=fn(T=>o(i.collection),["exact"]))},Wq)):Ge("",!0)])):Ge("",!0),Ze(H_,{source:_})])):Ge("",!0),Kq,Y("div",Hq,[Ot(Y("input",{type:"text","onUpdate:modelValue":y[5]||(y[5]=T=>i.name=T),placeholder:"New collection"},null,512),[[Jt,i.name]]),Y("button",{onClick:y[6]||(y[6]=T=>u(i.name)),class:"button small icon icon-plus"})]),Qq,Y("div",Gq,[ne(r).token?Ge("",!0):(de(),mn(C,{key:0,callback:T=>ne(r).handleGoogleLogin(T.credential),"popup-type":"TOKEN"},null,8,["callback"])),ne(r).token?(de(),we("div",{key:1,class:"logged-in",onClick:y[7]||(y[7]=T=>ne(r).logout())},[Y("img",{src:ne(r).info.picture,crossorigin:"anonymous"},null,8,Jq),Y("span",Yq,"Syncing as "+vt(ne(r).info.given_name),1),Xq])):Ge("",!0)])])}}},e1=Xt(Zq,[["__scopeId","data-v-bb2fb888"]]);const sf=e=>(vr("data-v-16650b3e"),e=e(),br(),e),t1=sf(()=>Y("h3",null,"Settings",-1)),n1={class:"grid"},r1=sf(()=>Y("label",{for:"zoom"},"Zoom",-1)),s1=sf(()=>Y("label",{for:"columns"},"Columns",-1)),i1={__name:"SettingsView",setup(e){const t=ps();return(r,n)=>(de(),we(St,null,[t1,Y("div",n1,[r1,Ot(Y("input",{id:"zoom",type:"number","onUpdate:modelValue":n[0]||(n[0]=s=>ne(t).zoom=s)},null,512),[[Jt,ne(t).zoom]]),s1,Ot(Y("input",{id:"columns",type:"number","onUpdate:modelValue":n[1]||(n[1]=s=>ne(t).columns=s)},null,512),[[Jt,ne(t).columns]])])],64))}},o1=Xt(i1,[["__scopeId","data-v-16650b3e"]]);const a1=e=>(vr("data-v-dc431e12"),e=e(),br(),e),l1={key:0},u1={class:"form"},c1=a1(()=>Y("hr",null,null,-1)),f1={__name:"CardEdit",emits:["change"],setup(e,{emit:t}){const r=ps();cr();const n=zn(),s=rn({set:null,count:0});Ps(()=>{r.edit.card&&(s.set=r.edit.card.set,s.count=r.edit.card.count)});const i=async()=>{let o=go.deepUnref(r.edit.card);o.set=s.set,o.count=s.count,await n.replaceCard(n.open[0],r.edit.card,o),r.edit.card.set=s.set,r.edit.card.count=s.count};return(o,l)=>ne(r).edit.card?(de(),we("div",l1,[Ze(rf,{card:ne(r).edit.card},null,8,["card"]),Y("div",u1,[Ot(Y("input",{type:"number",placeholder:"Count","onUpdate:modelValue":l[0]||(l[0]=u=>s.count=u)},null,512),[[Jt,s.count]]),Y("button",{onClick:i}," Save ")]),c1])):Ge("",!0)}},d1=Xt(f1,[["__scopeId","data-v-dc431e12"]]);const of=e=>(vr("data-v-0799ae6c"),e=e(),br(),e),p1={class:"menu"},h1=["onClick"],_1={key:0,class:"name"},m1={key:1,class:"name"},g1={class:"add panel"},y1={class:"settings panel"},v1={class:"details panel"},b1=of(()=>Y("h3",null,"Details",-1)),w1={class:"prints panel"},E1={class:"panel filters"},S1={class:"panel edit"},q1=of(()=>Y("h3",null,"Edit",-1)),x1={class:"panel collections"},k1=of(()=>Y("h3",null,"Collections",-1)),C1={class:"panel"},A1={__name:"SideBar",setup(e){const t=Ei(),r=ar(),n=ps(),s=Po(),i=m=>{m===n.sidebar.selected?n.sidebar.show=!n.sidebar.show:(n.sidebar.show=!0,n.sidebar.selected=m)};let o=0,l=0;const u=Dt(null),p=m=>{o=m.touches?m.touches[0].clientX:m.clientX,l=m.touches?m.touches[0].clientY:m.clientY},_=m=>{const y=m.changedTouches?m.changedTouches[0].clientX:m.clientX,C=m.changedTouches?m.changedTouches[0].clientY:m.clientY,T=y-o,L=Math.abs(C-l);n.sidebar.show===!0&&T>75&&T>L&&(n.sidebar.show=!1)};return(m,y)=>(de(),we("div",{class:ut(["sidepanel",{show:ne(n).sidebar.show}]),ref_key:"sidebar",ref:u,onMousedown:p,onMouseup:_,onTouchstart:p,onTouchend:_},[Y("div",p1,[(de(),we(St,null,Kt({filters:["filter","Filter"],clipboard:["clipboard","Clipboard"],collection:["add","Add"],collections:["collection","Manage"],prints:["prints","Prints"],settings:["settings","Settings"]},([C,T],L)=>Y("div",{class:ut(["item",L]),onClick:fn(H=>i(L),["stop"]),key:L},[Y("span",{class:ut(["icon","icon-"+C])},null,2),L==="clipboard"?(de(),we("div",_1," Clip: "+vt(ne(s).count),1)):(de(),we("div",m1,vt(T),1))],10,h1)),64))]),Ot(Y("div",g1,[Ze(qq,{onParsed:ne(r).loadCollections},null,8,["onParsed"])],512),[[Rn,ne(n).sidebar.selected==="collection"]]),Ot(Y("div",y1,[Ze(o1)],512),[[Rn,ne(n).sidebar.selected==="settings"]]),Ot(Y("div",v1,[b1,Ze(bl,{card:ne(t).card},null,8,["card"]),Ze(W_,{card:ne(t).card},null,8,["card"])],512),[[Rn,ne(n).sidebar.selected==="details"]]),Ot(Y("div",w1,[Ze(JS)],512),[[Rn,ne(n).sidebar.selected==="prints"]]),Ot(Y("div",E1,[Ze(j_)],512),[[Rn,ne(n).sidebar.selected==="filters"]]),Ot(Y("div",S1,[q1,Ze(d1)],512),[[Rn,ne(n).sidebar.selected==="edit"]]),Ot(Y("div",x1,[k1,Ze(e1,{onChange:y[0]||(y[0]=C=>ne(r).loadCollections([C]))})],512),[[Rn,ne(n).sidebar.selected==="collections"]]),Ot(Y("div",C1,[Ze(Fq)],512),[[Rn,ne(n).sidebar.selected==="clipboard"]])],34))}},I1=Xt(A1,[["__scopeId","data-v-0799ae6c"]]);const T1=e=>(vr("data-v-200bf527"),e=e(),br(),e),O1={class:"filter-group cards"},P1={class:"selector tabs"},R1=["onClick"],F1={class:"view"},L1={key:0,class:"item collections"},D1={class:"name"},M1={key:0,class:"status icon icon-arrow-down"},B1=["disabled"],N1={key:1,class:"item"},j1={class:"set"},U1=["src"],$1={class:"name"},V1=["disabled"],z1={key:2,class:"item"},W1=T1(()=>Y("a",{href:"https://scryfall.com/docs/syntax",target:"_blank",class:"button small"},"?",-1)),K1={key:3,class:"item"},H1={class:"precon"},Q1={class:"name"},G1={__name:"CardSource",setup(e){const t=$w(),r=ar(),n=cr(),s=zn(),i=Vw(),o=ps(),l=Ei(),u=rn({selected:"collection",params:[],collections:[],set:"",precons:"",search:"",refreshingPrices:!1,refreshingSet:!1}),p=P=>{P.length!==0&&(o.source="collection",t.push({path:"/collection",query:{q:encodeURIComponent(P.join("~"))}}))},_=(P,w)=>{o.source="set",t.push({path:"/set",query:{q:P,force:w}})},m=async(P,w="prints",R=!1)=>{o.source="search",t.push({path:"/search",query:{q:P,unique:w,force:R}})},y=P=>{o.source="precon",t.push({path:"/precons",query:{q:P}})},C=async P=>{u.selected!==P&&(u.selected=P,l.card={},o.details.show=!1,P==="collection"?u.collections&&p(u.collections):P==="set"?u.set&&_(u.set):P==="precon"?u.precons&&y(u.precons):P==="search"&&u.search&&await m(u.search,"cards"))},T=async(P,w)=>{if(P)if(u.selected=P,Object.keys(w).length===0){console.log("empty");return}else P==="collection"?(o.source="collection",w.code?await r.loadSync(w.code):(u.collections=decodeURIComponent(w.q).split("~"),await r.loadCollections(u.collections))):P==="set"?(u.set=w.q,o.source="set",await r.loadSet(u.set,w.force==="true")):P==="precons"?(u.precons=w.q,o.source="precons",await r.loadPrecon(w.q)):P==="search"&&(u.search=w.q,o.source="search",await r.loadSearch(w.q,w.unique,w.force))},L=async()=>{u.refreshingPrices!==!0&&(u.refreshingPrices=!0,await s.refreshPrices(),await r.loadCollections(s.open),u.refreshingPrices=!1)},H=async()=>{u.refreshingSet!==!0&&(u.refreshingSet=!0,await r.loadSet(u.set,!0),u.refreshingSet=!1)};return Pw(async(P,w)=>{await T(P.params.view,P.query)}),Nr(async()=>{i.params.view&&T(i.params.view,i.query)}),(P,w)=>(de(),we("div",O1,[Y("div",P1,[(de(),we(St,null,Kt(["collection","set","precons","search"],R=>Y("a",{key:R,onClick:k=>C(R),class:ut({selected:u.selected===R})},vt(R),11,R1)),64))]),Y("div",F1,[u.selected==="collection"?(de(),we("div",L1,[Ze(ne(sn),{modelValue:ne(s).open,"onUpdate:modelValue":w[0]||(w[0]=R=>ne(s).open=R),options:ne(s).obj,label:"name","value-prop":"name",mode:"tags",searchable:!0,onChange:p},{option:Gn(({option:R})=>[Y("span",{class:ut(["collection",{missing:!R.downloaded}])},[Y("span",D1,vt(R.name),1),R.downloaded?Ge("",!0):(de(),we("span",M1))],2)]),_:1},8,["modelValue","options"]),Y("button",{class:ut(["small icon icon-loop",{active:u.refreshingPrices}]),disabled:u.refreshingPrices,onClick:L},null,10,B1)])):Ge("",!0),u.selected==="set"?(de(),we("div",N1,[Ze(ne(sn),{modelValue:u.set,"onUpdate:modelValue":w[1]||(w[1]=R=>u.set=R),options:ne(n).sets,searchable:!0,label:"name","value-prop":"code",mode:"single",onSelect:w[2]||(w[2]=R=>_(R))},{option:Gn(({option:R})=>[Y("span",j1,[Y("img",{class:"icon",src:R.icon_svg_uri,crossorigin:"anonymous"},null,8,U1),Y("span",$1,vt(R.name),1)])]),_:1},8,["modelValue","options"]),Y("button",{class:ut(["small icon icon-loop",{active:u.refreshingSet}]),disabled:u.refreshingSet,onClick:H},null,10,V1)])):Ge("",!0),u.selected==="search"?(de(),we("div",z1,[Ot(Y("input",{type:"search","onUpdate:modelValue":w[3]||(w[3]=R=>u.search=R),onKeyup:w[4]||(w[4]=fi(R=>m(R.currentTarget.value,"cards"),["enter"]))},null,544),[[Jt,u.search]]),W1])):Ge("",!0),u.selected==="precons"?(de(),we("div",K1,[Ze(ne(sn),{modelValue:u.precons,"onUpdate:modelValue":w[5]||(w[5]=R=>u.precons=R),type:"single",searchable:!0,options:ne(n).precons,groups:!0,label:"name","value-prop":"name",onSelect:y},{option:Gn(({option:R})=>[Y("span",H1,[Y("span",Q1,vt(R.name),1),Ze(z_,{mana:R.colours.split("").map(k=>`{${k}}`).join("")},null,8,["mana"])])]),_:1},8,["modelValue","options"]),Y("button",{class:"small icon icon-plus",onClick:w[6]||(w[6]=R=>ne(o).loadMain("precon"))})])):Ge("",!0)])]))}},Nd=Xt(G1,[["__scopeId","data-v-200bf527"]]);const J1={key:0,class:"info-bar"},Y1={class:"sort"},X1={class:"dir"},Z1={class:"view"},ex={key:0,class:"selection-menu"},tx={__name:"InfoBar",setup(e){const t=ar(),r=ps(),n=zn(),s=Po(),i=async()=>{if(confirm(`Are you sure you want to delete ${[...t.selected].length} cards from ${n.open.join(", ")}`)){let l=t.getSelection();for(const u of l)await n.deleteCard(n.open,u),t.delete(u);t.selected=new Set}},o=async()=>{t.getSelection().forEach(p=>{let _={...p};_.count=1,s.add(_)}),await n.save("clipboard",s.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(l,u)=>ne(r).mainView==="cards"||ne(r).mainView==="list"?(de(),we("div",J1,[[...ne(t).selected].length===0?(de(),we(St,{key:0},[Y("span",null,"Count "+vt(ne(t).count),1),Y("span",null,"Value "+vt(ne(t).value),1),Y("span",Y1,[Ze(ne(sn),{modelValue:ne(t).sort.val,"onUpdate:modelValue":u[0]||(u[0]=p=>ne(t).sort.val=p),options:["Mana","Type","Price","Count","Released","Tag","Number"],mode:"single","can-clear":!1},null,8,["modelValue"]),Y("div",X1,[Y("div",{class:ut(["up icon icon-chevron-up",{selected:ne(t).sort.dir==-1}]),onClick:u[1]||(u[1]=p=>ne(t).sort.dir=-1)},null,2),Y("div",{class:ut(["up icon icon-chevron-down",{selected:ne(t).sort.dir==1}]),onClick:u[2]||(u[2]=p=>ne(t).sort.dir=1)},null,2)])]),Y("span",Z1,[Y("span",{class:ut(["cardView icon icon-grid",{selected:ne(r).mainView==="cards"}]),onClick:u[3]||(u[3]=p=>ne(r).mainView="cards")},null,2),Y("span",{class:ut(["cardView icon icon-list",{selected:ne(r).mainView==="list"}]),onClick:u[4]||(u[4]=p=>ne(r).mainView="list")},null,2)])],64)):(de(),we(St,{key:1},[Y("span",null,"Selected: "+vt([...ne(t).selected].length),1),[...ne(t).selected].length>0?(de(),we("div",ex,[Y("a",{onClick:u[5]||(u[5]=()=>{ne(t).selected=new Set})},"Clear"),Y("a",{onClick:o},"Clip"),ne(r).source==="collection"?(de(),we("a",{key:0,onClick:i},"Delete")):Ge("",!0)])):Ge("",!0)],64))])):Ge("",!0)}},nx=Xt(tx,[["__scopeId","data-v-594d137f"]]);const rx={id:"window"},sx=["data-source"],ix={class:"content"},ox={class:"right"},ax={__name:"Page",async setup(e){let t,r;const n=Ei(),s=Po(),i=zn(),o=ar(),l=cr(),u=Ba(),p=ps(),_=rn({view:"",set:"",precons:"",showMenu:!1,dragging:!1,dragY:0});let m=null;tn(o.filters,async()=>{clearTimeout(m),m=setTimeout(async()=>{o.applyFilters()},500)}),tn(o.sort,()=>{o.applyFilters()});const y=async()=>{await i.init(),await l.init();try{const Z=await i.getCards(["clipboard"]);Z&&s.addMany(Z),new BroadcastChannel("clipboard").addEventListener("message",te=>{te.data==="update"&&s.loadCollections(["clipboard"])})}catch(Z){console.error(Z)}u.loadCookie()};[t,r]=Rp(()=>y()),await t,r();let C=null,T=null,L=null,H=null,P=null,w=!1,R=null;const k=Dt(null),B=Z=>{_.dragging=!0,C=Z.touches?Z.touches[0].clientX:Z.clientX,T=Z.touches?Z.touches[0].clientY:Z.clientY,w=k.value.scrollTop===0,L=T,R=Date.now()},M=Z=>{if(!_.dragging)return;let $=Z.touches?Z.touches[0].clientX:Z.clientX,te=Z.touches?Z.touches[0].clientY:Z.clientY;const ue=$-C,ke=te-T;let qe=(te-L)/(Date.now()-R);if(R=Date.now(),L=te,Math.abs(ue)>Math.abs(ke)?H=ue>0?"right":"left":H=ke>0?"down":"up",P===null&&(P=H),P==="left"||P==="right"){Z.preventDefault(),Z.stopPropagation(),P==="left"&&ue<-50?(q(1),_.dragging=!1):P==="right"&&ue>50&&(q(-1),_.dragging=!1);return}!w||H==="up"||(qe>=1.2||ke>200?(p.details.show=!1,k.value.style.transform="",_.dragging=!1):ke>0&&(_.dragY=ke,Z.preventDefault(),Z.stopPropagation(),k.value.style.transform=`translate(0, ${ke}px)`))},J=Z=>{C=T=null,k.value.style.transform="",_.dragging=!1,P=null,L=null,R=null},E=Dt(null),q=Z=>{let $=p.details.index+Z;$<0&&($=o.filtered.length-1),$>=o.filtered.length&&($=0),p.details.index=$;const te=o.filtered[p.details.index];if(n.loadDetails(te),E.value){let ue=E.value.querySelector(".cards");const ke=ue.querySelector(`.card[data-id="${te.id}"]`);if(ke){const qe=ke.offsetTop-ue.offsetHeight/2+ke.offsetHeight/2;ue.scrollTo({top:qe,behavior:"smooth"})}}},N=Z=>{Z.target.id==="details-overlay"&&(p.details.show=!1)};return(Z,$)=>(de(),we("div",rx,[Y("div",{id:"sidebar",class:ut({show:_.showMenu})},[Ze(Nd),Ze(j_)],2),Y("div",{id:"main",class:"main","data-source":ne(p).source},[Ze(Nd,{class:"card-source"}),Ze(I1),Ot(Ze(HS,{onClose:$[0]||($[0]=te=>ne(p).mainView="cards")},null,512),[[Rn,ne(p).mainView==="precon"]]),Y("div",{ref_key:"det",ref:k,id:"details-overlay",class:ut(["details",{show:ne(p).details.show,dragging:_.dragging}]),style:lr({}),onTouchstart:B,onTouchmove:M,onTouchend:J,onWheel:()=>{},onClick:N},[Y("a",{class:"move-card icon icon-chevron-left",onClick:$[1]||($[1]=te=>q(-1))}),Y("div",ix,[Ze(bl,{card:ne(n).card,onClick:$[2]||($[2]=fn(()=>{},["stop"]))},null,8,["card"]),Y("div",ox,[Ze(W_,{card:ne(n).card},null,8,["card"]),Y("a",{class:"close icon icon-chevron-down",onClick:$[3]||($[3]=te=>ne(p).details.show=!1)})])]),Y("a",{class:"move-card icon icon-chevron-right",onClick:$[4]||($[4]=te=>q(1))})],38),Y("div",{ref_key:"cardsWindow",ref:E,class:"card-view",onClick:$[5]||($[5]=te=>ne(p).sidebar.show=!1)},[Ze(nx),ne(p).mainView==="cards"?(de(),mn(V_,{key:0,store:ne(o)},null,8,["store"])):Ge("",!0),ne(p).mainView==="list"?(de(),mn(MS,{key:1,cards:ne(o).filtered},null,8,["cards"])):Ge("",!0)],512)],8,sx)]))}},lx=Xt(ax,[["__scopeId","data-v-003ec418"]]);var Q_=(()=>{var e=import.meta.url;return function(t){var r=t||{},n=typeof r<"u"?r:{},s,i;n.ready=new Promise(function(c,a){s=c,i=a});const o=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,o.debugModule("globalThis.location =",globalThis.location);const l="emscripten-bug-17951";n[l]=function c(a,d){a.env.foo=function(){};const f=n.locateFile(c.uri,typeof y>"u"?"":y);o.debugModule("instantiateWasm() uri =",f);const h=()=>fetch(f,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(h(),a).then(F=>d(F.instance,F.module)):async()=>h().then(F=>F.arrayBuffer()).then(F=>WebAssembly.instantiate(F,a)).then(F=>d(F.instance,F.module)))(),{}},n[l].uri="sqlite3.wasm";var u=Object.assign({},n),p="./this.program",_=typeof window=="object",m=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var y="";function C(c){return n.locateFile?n.locateFile(c,y):y+c}var T,L,H;(_||m)&&(m?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),e&&(y=e),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",T=c=>{var a=new XMLHttpRequest;return a.open("GET",c,!1),a.send(null),a.responseText},m&&(H=c=>{var a=new XMLHttpRequest;return a.open("GET",c,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),L=(c,a,d)=>{var f=new XMLHttpRequest;f.open("GET",c,!0),f.responseType="arraybuffer",f.onload=()=>{if(f.status==200||f.status==0&&f.response){a(f.response);return}d()},f.onerror=d,f.send(null)});var P=n.print||console.log.bind(console),w=n.printErr||console.warn.bind(console);Object.assign(n,u),u=null,n.arguments&&n.arguments,n.thisProgram&&(p=n.thisProgram),n.quit&&n.quit;var R;n.wasmBinary&&(R=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&ee("no native wasm support detected");var k,B=!1;function M(c,a){c||ee(a)}var J=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function E(c,a,d){for(var f=a+d,h=a;c[h]&&!(h>=f);)++h;if(h-a>16&&c.buffer&&J)return J.decode(c.subarray(a,h));for(var v="";a<h;){var F=c[a++];if(!(F&128)){v+=String.fromCharCode(F);continue}var X=c[a++]&63;if((F&224)==192){v+=String.fromCharCode((F&31)<<6|X);continue}var _e=c[a++]&63;if((F&240)==224?F=(F&15)<<12|X<<6|_e:F=(F&7)<<18|X<<12|_e<<6|c[a++]&63,F<65536)v+=String.fromCharCode(F);else{var Ne=F-65536;v+=String.fromCharCode(55296|Ne>>10,56320|Ne&1023)}}return v}function q(c,a){return c?E(ue,c,a):""}function N(c,a,d,f){if(!(f>0))return 0;for(var h=d,v=d+f-1,F=0;F<c.length;++F){var X=c.charCodeAt(F);if(X>=55296&&X<=57343){var _e=c.charCodeAt(++F);X=65536+((X&1023)<<10)|_e&1023}if(X<=127){if(d>=v)break;a[d++]=X}else if(X<=2047){if(d+1>=v)break;a[d++]=192|X>>6,a[d++]=128|X&63}else if(X<=65535){if(d+2>=v)break;a[d++]=224|X>>12,a[d++]=128|X>>6&63,a[d++]=128|X&63}else{if(d+3>=v)break;a[d++]=240|X>>18,a[d++]=128|X>>12&63,a[d++]=128|X>>6&63,a[d++]=128|X&63}}return a[d]=0,d-h}function Z(c,a,d){return N(c,ue,a,d)}function $(c){for(var a=0,d=0;d<c.length;++d){var f=c.charCodeAt(d);f<=127?a++:f<=2047?a+=2:f>=55296&&f<=57343?(a+=4,++d):a+=3}return a}var te,ue,ke,qe,ye;function nt(){var c=k.buffer;n.HEAP8=te=new Int8Array(c),n.HEAP16=ke=new Int16Array(c),n.HEAP32=qe=new Int32Array(c),n.HEAPU8=ue=new Uint8Array(c),n.HEAPU16=new Uint16Array(c),n.HEAPU32=ye=new Uint32Array(c),n.HEAPF32=new Float32Array(c),n.HEAPF64=new Float64Array(c),n.HEAP64=new BigInt64Array(c),n.HEAPU64=new BigUint64Array(c)}var Pe=n.INITIAL_MEMORY||16777216;n.wasmMemory?k=n.wasmMemory:k=new WebAssembly.Memory({initial:Pe/65536,maximum:2147483648/65536}),nt(),Pe=k.buffer.byteLength;var ft=[],lt=[],De=[];function Ct(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)xe(n.preRun.shift());je(ft)}function bt(){!n.noFSInit&&!g.init.initialized&&g.init(),g.ignorePermissions=!1,je(lt)}function it(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Re(n.postRun.shift());je(De)}function xe(c){ft.unshift(c)}function se(c){lt.unshift(c)}function Re(c){De.unshift(c)}var he=0,Ue=null;function dt(c){return c}function D(c){he++,n.monitorRunDependencies&&n.monitorRunDependencies(he)}function j(c){if(he--,n.monitorRunDependencies&&n.monitorRunDependencies(he),he==0&&Ue){var a=Ue;Ue=null,a()}}function ee(c){n.onAbort&&n.onAbort(c),c="Aborted("+c+")",w(c),B=!0,c+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(c);throw i(a),a}var pe="data:application/octet-stream;base64,";function ge(c){return c.startsWith(pe)}var be;n.locateFile?(be="sqlite3.wasm",ge(be)||(be=C(be))):be=new URL("/assets/sqlite3.25c52ce6.wasm",self.location).href;function Me(c){try{if(c==be&&R)return new Uint8Array(R);if(H)return H(c);throw"both async and sync fetching of the wasm failed"}catch(a){ee(a)}}function Fe(){return!R&&(_||m)&&typeof fetch=="function"?fetch(be,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+be+"'";return c.arrayBuffer()}).catch(function(){return Me(be)}):Promise.resolve().then(function(){return Me(be)})}function $e(){var c={env:lf,wasi_snapshot_preview1:lf};function a(F,X){var _e=F.exports;n.asm=_e,n.asm.__indirect_function_table,se(n.asm.__wasm_call_ctors),j()}D();function d(F){a(F.instance)}function f(F){return Fe().then(function(X){return WebAssembly.instantiate(X,c)}).then(function(X){return X}).then(F,function(X){w("failed to asynchronously prepare wasm: "+X),ee(X)})}function h(){return!R&&typeof WebAssembly.instantiateStreaming=="function"&&!ge(be)&&typeof fetch=="function"?fetch(be,{credentials:"same-origin"}).then(function(F){var X=WebAssembly.instantiateStreaming(F,c);return X.then(d,function(_e){return w("wasm streaming compile failed: "+_e),w("falling back to ArrayBuffer instantiation"),f(d)})}):f(d)}if(n.instantiateWasm)try{var v=n.instantiateWasm(c,a);return v}catch(F){w("Module.instantiateWasm callback failed with error: "+F),i(F)}return h().catch(i),{}}var fe,Le;function je(c){for(;c.length>0;)c.shift()(n)}var Be={isAbs:c=>c.charAt(0)==="/",splitPath:c=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(c).slice(1)},normalizeArray:(c,a)=>{for(var d=0,f=c.length-1;f>=0;f--){var h=c[f];h==="."?c.splice(f,1):h===".."?(c.splice(f,1),d++):d&&(c.splice(f,1),d--)}if(a)for(;d;d--)c.unshift("..");return c},normalize:c=>{var a=Be.isAbs(c),d=c.substr(-1)==="/";return c=Be.normalizeArray(c.split("/").filter(f=>!!f),!a).join("/"),!c&&!a&&(c="."),c&&d&&(c+="/"),(a?"/":"")+c},dirname:c=>{var a=Be.splitPath(c),d=a[0],f=a[1];return!d&&!f?".":(f&&(f=f.substr(0,f.length-1)),d+f)},basename:c=>{if(c==="/")return"/";c=Be.normalize(c),c=c.replace(/\/$/,"");var a=c.lastIndexOf("/");return a===-1?c:c.substr(a+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Be.normalize(c.join("/"))},join2:(c,a)=>Be.normalize(c+"/"+a)};function Ye(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}else return()=>ee("randomDevice")}var gt={resolve:function(){for(var c="",a=!1,d=arguments.length-1;d>=-1&&!a;d--){var f=d>=0?arguments[d]:g.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";c=f+"/"+c,a=Be.isAbs(f)}return c=Be.normalizeArray(c.split("/").filter(h=>!!h),!a).join("/"),(a?"/":"")+c||"."},relative:(c,a)=>{c=gt.resolve(c).substr(1),a=gt.resolve(a).substr(1);function d(Ne){for(var Qe=0;Qe<Ne.length&&Ne[Qe]==="";Qe++);for(var pt=Ne.length-1;pt>=0&&Ne[pt]==="";pt--);return Qe>pt?[]:Ne.slice(Qe,pt-Qe+1)}for(var f=d(c.split("/")),h=d(a.split("/")),v=Math.min(f.length,h.length),F=v,X=0;X<v;X++)if(f[X]!==h[X]){F=X;break}for(var _e=[],X=F;X<f.length;X++)_e.push("..");return _e=_e.concat(h.slice(F)),_e.join("/")}};function At(c,a,d){var f=d>0?d:$(c)+1,h=new Array(f),v=N(c,h,0,h.length);return a&&(h.length=v),h}var xt={ttys:[],init:function(){},shutdown:function(){},register:function(c,a){xt.ttys[c]={input:[],output:[],ops:a},g.registerDevice(c,xt.stream_ops)},stream_ops:{open:function(c){var a=xt.ttys[c.node.rdev];if(!a)throw new g.ErrnoError(43);c.tty=a,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,a,d,f,h){if(!c.tty||!c.tty.ops.get_char)throw new g.ErrnoError(60);for(var v=0,F=0;F<f;F++){var X;try{X=c.tty.ops.get_char(c.tty)}catch{throw new g.ErrnoError(29)}if(X===void 0&&v===0)throw new g.ErrnoError(6);if(X==null)break;v++,a[d+F]=X}return v&&(c.node.timestamp=Date.now()),v},write:function(c,a,d,f,h){if(!c.tty||!c.tty.ops.put_char)throw new g.ErrnoError(60);try{for(var v=0;v<f;v++)c.tty.ops.put_char(c.tty,a[d+v])}catch{throw new g.ErrnoError(29)}return f&&(c.node.timestamp=Date.now()),v}},default_tty_ops:{get_char:function(c){if(!c.input.length){var a=null;if(typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`)),!a)return null;c.input=At(a,!0)}return c.input.shift()},put_char:function(c,a){a===null||a===10?(P(E(c.output,0)),c.output=[]):a!=0&&c.output.push(a)},fsync:function(c){c.output&&c.output.length>0&&(P(E(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,a){a===null||a===10?(w(E(c.output,0)),c.output=[]):a!=0&&c.output.push(a)},fsync:function(c){c.output&&c.output.length>0&&(w(E(c.output,0)),c.output=[])}}};function Rt(c,a){return ue.fill(0,c,c+a),c}function Ht(c,a){return Math.ceil(c/a)*a}function on(c){c=Ht(c,65536);var a=ff(65536,c);return a?Rt(a,c):0}var ht={ops_table:null,mount:function(c){return ht.createNode(null,"/",16895,0)},createNode:function(c,a,d,f){if(g.isBlkdev(d)||g.isFIFO(d))throw new g.ErrnoError(63);ht.ops_table||(ht.ops_table={dir:{node:{getattr:ht.node_ops.getattr,setattr:ht.node_ops.setattr,lookup:ht.node_ops.lookup,mknod:ht.node_ops.mknod,rename:ht.node_ops.rename,unlink:ht.node_ops.unlink,rmdir:ht.node_ops.rmdir,readdir:ht.node_ops.readdir,symlink:ht.node_ops.symlink},stream:{llseek:ht.stream_ops.llseek}},file:{node:{getattr:ht.node_ops.getattr,setattr:ht.node_ops.setattr},stream:{llseek:ht.stream_ops.llseek,read:ht.stream_ops.read,write:ht.stream_ops.write,allocate:ht.stream_ops.allocate,mmap:ht.stream_ops.mmap,msync:ht.stream_ops.msync}},link:{node:{getattr:ht.node_ops.getattr,setattr:ht.node_ops.setattr,readlink:ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ht.node_ops.getattr,setattr:ht.node_ops.setattr},stream:g.chrdev_stream_ops}});var h=g.createNode(c,a,d,f);return g.isDir(h.mode)?(h.node_ops=ht.ops_table.dir.node,h.stream_ops=ht.ops_table.dir.stream,h.contents={}):g.isFile(h.mode)?(h.node_ops=ht.ops_table.file.node,h.stream_ops=ht.ops_table.file.stream,h.usedBytes=0,h.contents=null):g.isLink(h.mode)?(h.node_ops=ht.ops_table.link.node,h.stream_ops=ht.ops_table.link.stream):g.isChrdev(h.mode)&&(h.node_ops=ht.ops_table.chrdev.node,h.stream_ops=ht.ops_table.chrdev.stream),h.timestamp=Date.now(),c&&(c.contents[a]=h,c.timestamp=h.timestamp),h},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,a){var d=c.contents?c.contents.length:0;if(!(d>=a)){var f=1024*1024;a=Math.max(a,d*(d<f?2:1.125)>>>0),d!=0&&(a=Math.max(a,256));var h=c.contents;c.contents=new Uint8Array(a),c.usedBytes>0&&c.contents.set(h.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,a){if(c.usedBytes!=a)if(a==0)c.contents=null,c.usedBytes=0;else{var d=c.contents;c.contents=new Uint8Array(a),d&&c.contents.set(d.subarray(0,Math.min(a,c.usedBytes))),c.usedBytes=a}},node_ops:{getattr:function(c){var a={};return a.dev=g.isChrdev(c.mode)?c.id:1,a.ino=c.id,a.mode=c.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=c.rdev,g.isDir(c.mode)?a.size=4096:g.isFile(c.mode)?a.size=c.usedBytes:g.isLink(c.mode)?a.size=c.link.length:a.size=0,a.atime=new Date(c.timestamp),a.mtime=new Date(c.timestamp),a.ctime=new Date(c.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(c,a){a.mode!==void 0&&(c.mode=a.mode),a.timestamp!==void 0&&(c.timestamp=a.timestamp),a.size!==void 0&&ht.resizeFileStorage(c,a.size)},lookup:function(c,a){throw g.genericErrors[44]},mknod:function(c,a,d,f){return ht.createNode(c,a,d,f)},rename:function(c,a,d){if(g.isDir(c.mode)){var f;try{f=g.lookupNode(a,d)}catch{}if(f)for(var h in f.contents)throw new g.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=d,a.contents[d]=c,a.timestamp=c.parent.timestamp,c.parent=a},unlink:function(c,a){delete c.contents[a],c.timestamp=Date.now()},rmdir:function(c,a){var d=g.lookupNode(c,a);for(var f in d.contents)throw new g.ErrnoError(55);delete c.contents[a],c.timestamp=Date.now()},readdir:function(c){var a=[".",".."];for(var d in c.contents)!c.contents.hasOwnProperty(d)||a.push(d);return a},symlink:function(c,a,d){var f=ht.createNode(c,a,41471,0);return f.link=d,f},readlink:function(c){if(!g.isLink(c.mode))throw new g.ErrnoError(28);return c.link}},stream_ops:{read:function(c,a,d,f,h){var v=c.node.contents;if(h>=c.node.usedBytes)return 0;var F=Math.min(c.node.usedBytes-h,f);if(F>8&&v.subarray)a.set(v.subarray(h,h+F),d);else for(var X=0;X<F;X++)a[d+X]=v[h+X];return F},write:function(c,a,d,f,h,v){if(a.buffer===te.buffer&&(v=!1),!f)return 0;var F=c.node;if(F.timestamp=Date.now(),a.subarray&&(!F.contents||F.contents.subarray)){if(v)return F.contents=a.subarray(d,d+f),F.usedBytes=f,f;if(F.usedBytes===0&&h===0)return F.contents=a.slice(d,d+f),F.usedBytes=f,f;if(h+f<=F.usedBytes)return F.contents.set(a.subarray(d,d+f),h),f}if(ht.expandFileStorage(F,h+f),F.contents.subarray&&a.subarray)F.contents.set(a.subarray(d,d+f),h);else for(var X=0;X<f;X++)F.contents[h+X]=a[d+X];return F.usedBytes=Math.max(F.usedBytes,h+f),f},llseek:function(c,a,d){var f=a;if(d===1?f+=c.position:d===2&&g.isFile(c.node.mode)&&(f+=c.node.usedBytes),f<0)throw new g.ErrnoError(28);return f},allocate:function(c,a,d){ht.expandFileStorage(c.node,a+d),c.node.usedBytes=Math.max(c.node.usedBytes,a+d)},mmap:function(c,a,d,f,h){if(!g.isFile(c.node.mode))throw new g.ErrnoError(43);var v,F,X=c.node.contents;if(!(h&2)&&X.buffer===te.buffer)F=!1,v=X.byteOffset;else{if((d>0||d+a<X.length)&&(X.subarray?X=X.subarray(d,d+a):X=Array.prototype.slice.call(X,d,d+a)),F=!0,v=on(a),!v)throw new g.ErrnoError(48);te.set(X,v)}return{ptr:v,allocated:F}},msync:function(c,a,d,f,h){return ht.stream_ops.write(c,a,0,f,d,!1),0}}};function cn(c,a,d,f){var h=f?"":"al "+c;L(c,v=>{M(v,'Loading data file "'+c+'" failed (no arrayBuffer).'),a(new Uint8Array(v)),h&&j()},v=>{if(d)d();else throw'Loading data file "'+c+'" failed.'}),h&&D()}var g={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,a={})=>{if(c=gt.resolve(c),!c)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0};if(a=Object.assign(d,a),a.recurse_count>8)throw new g.ErrnoError(32);for(var f=c.split("/").filter(pt=>!!pt),h=g.root,v="/",F=0;F<f.length;F++){var X=F===f.length-1;if(X&&a.parent)break;if(h=g.lookupNode(h,f[F]),v=Be.join2(v,f[F]),g.isMountpoint(h)&&(!X||X&&a.follow_mount)&&(h=h.mounted.root),!X||a.follow)for(var _e=0;g.isLink(h.mode);){var Ne=g.readlink(v);v=gt.resolve(Be.dirname(v),Ne);var Qe=g.lookupPath(v,{recurse_count:a.recurse_count+1});if(h=Qe.node,_e++>40)throw new g.ErrnoError(32)}}return{path:v,node:h}},getPath:c=>{for(var a;;){if(g.isRoot(c)){var d=c.mount.mountpoint;return a?d[d.length-1]!=="/"?d+"/"+a:d+a:d}a=a?c.name+"/"+a:c.name,c=c.parent}},hashName:(c,a)=>{for(var d=0,f=0;f<a.length;f++)d=(d<<5)-d+a.charCodeAt(f)|0;return(c+d>>>0)%g.nameTable.length},hashAddNode:c=>{var a=g.hashName(c.parent.id,c.name);c.name_next=g.nameTable[a],g.nameTable[a]=c},hashRemoveNode:c=>{var a=g.hashName(c.parent.id,c.name);if(g.nameTable[a]===c)g.nameTable[a]=c.name_next;else for(var d=g.nameTable[a];d;){if(d.name_next===c){d.name_next=c.name_next;break}d=d.name_next}},lookupNode:(c,a)=>{var d=g.mayLookup(c);if(d)throw new g.ErrnoError(d,c);for(var f=g.hashName(c.id,a),h=g.nameTable[f];h;h=h.name_next){var v=h.name;if(h.parent.id===c.id&&v===a)return h}return g.lookup(c,a)},createNode:(c,a,d,f)=>{var h=new g.FSNode(c,a,d,f);return g.hashAddNode(h),h},destroyNode:c=>{g.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>(c&61440)===32768,isDir:c=>(c&61440)===16384,isLink:c=>(c&61440)===40960,isChrdev:c=>(c&61440)===8192,isBlkdev:c=>(c&61440)===24576,isFIFO:c=>(c&61440)===4096,isSocket:c=>(c&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var a=g.flagModes[c];if(typeof a>"u")throw new Error("Unknown file open mode: "+c);return a},flagsToPermissionString:c=>{var a=["r","w","rw"][c&3];return c&512&&(a+="w"),a},nodePermissions:(c,a)=>g.ignorePermissions?0:a.includes("r")&&!(c.mode&292)||a.includes("w")&&!(c.mode&146)||a.includes("x")&&!(c.mode&73)?2:0,mayLookup:c=>{var a=g.nodePermissions(c,"x");return a||(c.node_ops.lookup?0:2)},mayCreate:(c,a)=>{try{var d=g.lookupNode(c,a);return 20}catch{}return g.nodePermissions(c,"wx")},mayDelete:(c,a,d)=>{var f;try{f=g.lookupNode(c,a)}catch(v){return v.errno}var h=g.nodePermissions(c,"wx");if(h)return h;if(d){if(!g.isDir(f.mode))return 54;if(g.isRoot(f)||g.getPath(f)===g.cwd())return 10}else if(g.isDir(f.mode))return 31;return 0},mayOpen:(c,a)=>c?g.isLink(c.mode)?32:g.isDir(c.mode)&&(g.flagsToPermissionString(a)!=="r"||a&512)?31:g.nodePermissions(c,g.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,a=g.MAX_OPEN_FDS)=>{for(var d=c;d<=a;d++)if(!g.streams[d])return d;throw new g.ErrnoError(33)},getStream:c=>g.streams[c],createStream:(c,a,d)=>{g.FSStream||(g.FSStream=function(){this.shared={}},g.FSStream.prototype={},Object.defineProperties(g.FSStream.prototype,{object:{get:function(){return this.node},set:function(h){this.node=h}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(h){this.shared.flags=h}},position:{get:function(){return this.shared.position},set:function(h){this.shared.position=h}}})),c=Object.assign(new g.FSStream,c);var f=g.nextfd(a,d);return c.fd=f,g.streams[f]=c,c},closeStream:c=>{g.streams[c]=null},chrdev_stream_ops:{open:c=>{var a=g.getDevice(c.node.rdev);c.stream_ops=a.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new g.ErrnoError(70)}},major:c=>c>>8,minor:c=>c&255,makedev:(c,a)=>c<<8|a,registerDevice:(c,a)=>{g.devices[c]={stream_ops:a}},getDevice:c=>g.devices[c],getMounts:c=>{for(var a=[],d=[c];d.length;){var f=d.pop();a.push(f),d.push.apply(d,f.mounts)}return a},syncfs:(c,a)=>{typeof c=="function"&&(a=c,c=!1),g.syncFSRequests++,g.syncFSRequests>1&&w("warning: "+g.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var d=g.getMounts(g.root.mount),f=0;function h(F){return g.syncFSRequests--,a(F)}function v(F){if(F)return v.errored?void 0:(v.errored=!0,h(F));++f>=d.length&&h(null)}d.forEach(F=>{if(!F.type.syncfs)return v(null);F.type.syncfs(F,c,v)})},mount:(c,a,d)=>{var f=d==="/",h=!d,v;if(f&&g.root)throw new g.ErrnoError(10);if(!f&&!h){var F=g.lookupPath(d,{follow_mount:!1});if(d=F.path,v=F.node,g.isMountpoint(v))throw new g.ErrnoError(10);if(!g.isDir(v.mode))throw new g.ErrnoError(54)}var X={type:c,opts:a,mountpoint:d,mounts:[]},_e=c.mount(X);return _e.mount=X,X.root=_e,f?g.root=_e:v&&(v.mounted=X,v.mount&&v.mount.mounts.push(X)),_e},unmount:c=>{var a=g.lookupPath(c,{follow_mount:!1});if(!g.isMountpoint(a.node))throw new g.ErrnoError(28);var d=a.node,f=d.mounted,h=g.getMounts(f);Object.keys(g.nameTable).forEach(F=>{for(var X=g.nameTable[F];X;){var _e=X.name_next;h.includes(X.mount)&&g.destroyNode(X),X=_e}}),d.mounted=null;var v=d.mount.mounts.indexOf(f);d.mount.mounts.splice(v,1)},lookup:(c,a)=>c.node_ops.lookup(c,a),mknod:(c,a,d)=>{var f=g.lookupPath(c,{parent:!0}),h=f.node,v=Be.basename(c);if(!v||v==="."||v==="..")throw new g.ErrnoError(28);var F=g.mayCreate(h,v);if(F)throw new g.ErrnoError(F);if(!h.node_ops.mknod)throw new g.ErrnoError(63);return h.node_ops.mknod(h,v,a,d)},create:(c,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,g.mknod(c,a,0)),mkdir:(c,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,g.mknod(c,a,0)),mkdirTree:(c,a)=>{for(var d=c.split("/"),f="",h=0;h<d.length;++h)if(!!d[h]){f+="/"+d[h];try{g.mkdir(f,a)}catch(v){if(v.errno!=20)throw v}}},mkdev:(c,a,d)=>(typeof d>"u"&&(d=a,a=438),a|=8192,g.mknod(c,a,d)),symlink:(c,a)=>{if(!gt.resolve(c))throw new g.ErrnoError(44);var d=g.lookupPath(a,{parent:!0}),f=d.node;if(!f)throw new g.ErrnoError(44);var h=Be.basename(a),v=g.mayCreate(f,h);if(v)throw new g.ErrnoError(v);if(!f.node_ops.symlink)throw new g.ErrnoError(63);return f.node_ops.symlink(f,h,c)},rename:(c,a)=>{var d=Be.dirname(c),f=Be.dirname(a),h=Be.basename(c),v=Be.basename(a),F,X,_e;if(F=g.lookupPath(c,{parent:!0}),X=F.node,F=g.lookupPath(a,{parent:!0}),_e=F.node,!X||!_e)throw new g.ErrnoError(44);if(X.mount!==_e.mount)throw new g.ErrnoError(75);var Ne=g.lookupNode(X,h),Qe=gt.relative(c,f);if(Qe.charAt(0)!==".")throw new g.ErrnoError(28);if(Qe=gt.relative(a,d),Qe.charAt(0)!==".")throw new g.ErrnoError(55);var pt;try{pt=g.lookupNode(_e,v)}catch{}if(Ne!==pt){var oe=g.isDir(Ne.mode),O=g.mayDelete(X,h,oe);if(O)throw new g.ErrnoError(O);if(O=pt?g.mayDelete(_e,v,oe):g.mayCreate(_e,v),O)throw new g.ErrnoError(O);if(!X.node_ops.rename)throw new g.ErrnoError(63);if(g.isMountpoint(Ne)||pt&&g.isMountpoint(pt))throw new g.ErrnoError(10);if(_e!==X&&(O=g.nodePermissions(X,"w"),O))throw new g.ErrnoError(O);g.hashRemoveNode(Ne);try{X.node_ops.rename(Ne,_e,v)}catch(I){throw I}finally{g.hashAddNode(Ne)}}},rmdir:c=>{var a=g.lookupPath(c,{parent:!0}),d=a.node,f=Be.basename(c),h=g.lookupNode(d,f),v=g.mayDelete(d,f,!0);if(v)throw new g.ErrnoError(v);if(!d.node_ops.rmdir)throw new g.ErrnoError(63);if(g.isMountpoint(h))throw new g.ErrnoError(10);d.node_ops.rmdir(d,f),g.destroyNode(h)},readdir:c=>{var a=g.lookupPath(c,{follow:!0}),d=a.node;if(!d.node_ops.readdir)throw new g.ErrnoError(54);return d.node_ops.readdir(d)},unlink:c=>{var a=g.lookupPath(c,{parent:!0}),d=a.node;if(!d)throw new g.ErrnoError(44);var f=Be.basename(c),h=g.lookupNode(d,f),v=g.mayDelete(d,f,!1);if(v)throw new g.ErrnoError(v);if(!d.node_ops.unlink)throw new g.ErrnoError(63);if(g.isMountpoint(h))throw new g.ErrnoError(10);d.node_ops.unlink(d,f),g.destroyNode(h)},readlink:c=>{var a=g.lookupPath(c),d=a.node;if(!d)throw new g.ErrnoError(44);if(!d.node_ops.readlink)throw new g.ErrnoError(28);return gt.resolve(g.getPath(d.parent),d.node_ops.readlink(d))},stat:(c,a)=>{var d=g.lookupPath(c,{follow:!a}),f=d.node;if(!f)throw new g.ErrnoError(44);if(!f.node_ops.getattr)throw new g.ErrnoError(63);return f.node_ops.getattr(f)},lstat:c=>g.stat(c,!0),chmod:(c,a,d)=>{var f;if(typeof c=="string"){var h=g.lookupPath(c,{follow:!d});f=h.node}else f=c;if(!f.node_ops.setattr)throw new g.ErrnoError(63);f.node_ops.setattr(f,{mode:a&4095|f.mode&-4096,timestamp:Date.now()})},lchmod:(c,a)=>{g.chmod(c,a,!0)},fchmod:(c,a)=>{var d=g.getStream(c);if(!d)throw new g.ErrnoError(8);g.chmod(d.node,a)},chown:(c,a,d,f)=>{var h;if(typeof c=="string"){var v=g.lookupPath(c,{follow:!f});h=v.node}else h=c;if(!h.node_ops.setattr)throw new g.ErrnoError(63);h.node_ops.setattr(h,{timestamp:Date.now()})},lchown:(c,a,d)=>{g.chown(c,a,d,!0)},fchown:(c,a,d)=>{var f=g.getStream(c);if(!f)throw new g.ErrnoError(8);g.chown(f.node,a,d)},truncate:(c,a)=>{if(a<0)throw new g.ErrnoError(28);var d;if(typeof c=="string"){var f=g.lookupPath(c,{follow:!0});d=f.node}else d=c;if(!d.node_ops.setattr)throw new g.ErrnoError(63);if(g.isDir(d.mode))throw new g.ErrnoError(31);if(!g.isFile(d.mode))throw new g.ErrnoError(28);var h=g.nodePermissions(d,"w");if(h)throw new g.ErrnoError(h);d.node_ops.setattr(d,{size:a,timestamp:Date.now()})},ftruncate:(c,a)=>{var d=g.getStream(c);if(!d)throw new g.ErrnoError(8);if((d.flags&2097155)===0)throw new g.ErrnoError(28);g.truncate(d.node,a)},utime:(c,a,d)=>{var f=g.lookupPath(c,{follow:!0}),h=f.node;h.node_ops.setattr(h,{timestamp:Math.max(a,d)})},open:(c,a,d)=>{if(c==="")throw new g.ErrnoError(44);a=typeof a=="string"?g.modeStringToFlags(a):a,d=typeof d>"u"?438:d,a&64?d=d&4095|32768:d=0;var f;if(typeof c=="object")f=c;else{c=Be.normalize(c);try{var h=g.lookupPath(c,{follow:!(a&131072)});f=h.node}catch{}}var v=!1;if(a&64)if(f){if(a&128)throw new g.ErrnoError(20)}else f=g.mknod(c,d,0),v=!0;if(!f)throw new g.ErrnoError(44);if(g.isChrdev(f.mode)&&(a&=-513),a&65536&&!g.isDir(f.mode))throw new g.ErrnoError(54);if(!v){var F=g.mayOpen(f,a);if(F)throw new g.ErrnoError(F)}a&512&&!v&&g.truncate(f,0),a&=-131713;var X=g.createStream({node:f,path:g.getPath(f),flags:a,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1});return X.stream_ops.open&&X.stream_ops.open(X),n.logReadFiles&&!(a&1)&&(g.readFiles||(g.readFiles={}),c in g.readFiles||(g.readFiles[c]=1)),X},close:c=>{if(g.isClosed(c))throw new g.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(a){throw a}finally{g.closeStream(c.fd)}c.fd=null},isClosed:c=>c.fd===null,llseek:(c,a,d)=>{if(g.isClosed(c))throw new g.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new g.ErrnoError(70);if(d!=0&&d!=1&&d!=2)throw new g.ErrnoError(28);return c.position=c.stream_ops.llseek(c,a,d),c.ungotten=[],c.position},read:(c,a,d,f,h)=>{if(f<0||h<0)throw new g.ErrnoError(28);if(g.isClosed(c))throw new g.ErrnoError(8);if((c.flags&2097155)===1)throw new g.ErrnoError(8);if(g.isDir(c.node.mode))throw new g.ErrnoError(31);if(!c.stream_ops.read)throw new g.ErrnoError(28);var v=typeof h<"u";if(!v)h=c.position;else if(!c.seekable)throw new g.ErrnoError(70);var F=c.stream_ops.read(c,a,d,f,h);return v||(c.position+=F),F},write:(c,a,d,f,h,v)=>{if(f<0||h<0)throw new g.ErrnoError(28);if(g.isClosed(c))throw new g.ErrnoError(8);if((c.flags&2097155)===0)throw new g.ErrnoError(8);if(g.isDir(c.node.mode))throw new g.ErrnoError(31);if(!c.stream_ops.write)throw new g.ErrnoError(28);c.seekable&&c.flags&1024&&g.llseek(c,0,2);var F=typeof h<"u";if(!F)h=c.position;else if(!c.seekable)throw new g.ErrnoError(70);var X=c.stream_ops.write(c,a,d,f,h,v);return F||(c.position+=X),X},allocate:(c,a,d)=>{if(g.isClosed(c))throw new g.ErrnoError(8);if(a<0||d<=0)throw new g.ErrnoError(28);if((c.flags&2097155)===0)throw new g.ErrnoError(8);if(!g.isFile(c.node.mode)&&!g.isDir(c.node.mode))throw new g.ErrnoError(43);if(!c.stream_ops.allocate)throw new g.ErrnoError(138);c.stream_ops.allocate(c,a,d)},mmap:(c,a,d,f,h)=>{if((f&2)!==0&&(h&2)===0&&(c.flags&2097155)!==2)throw new g.ErrnoError(2);if((c.flags&2097155)===1)throw new g.ErrnoError(2);if(!c.stream_ops.mmap)throw new g.ErrnoError(43);return c.stream_ops.mmap(c,a,d,f,h)},msync:(c,a,d,f,h)=>c.stream_ops.msync?c.stream_ops.msync(c,a,d,f,h):0,munmap:c=>0,ioctl:(c,a,d)=>{if(!c.stream_ops.ioctl)throw new g.ErrnoError(59);return c.stream_ops.ioctl(c,a,d)},readFile:(c,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var d,f=g.open(c,a.flags),h=g.stat(c),v=h.size,F=new Uint8Array(v);return g.read(f,F,0,v,0),a.encoding==="utf8"?d=E(F,0):a.encoding==="binary"&&(d=F),g.close(f),d},writeFile:(c,a,d={})=>{d.flags=d.flags||577;var f=g.open(c,d.flags,d.mode);if(typeof a=="string"){var h=new Uint8Array($(a)+1),v=N(a,h,0,h.length);g.write(f,h,0,v,void 0,d.canOwn)}else if(ArrayBuffer.isView(a))g.write(f,a,0,a.byteLength,void 0,d.canOwn);else throw new Error("Unsupported data type");g.close(f)},cwd:()=>g.currentPath,chdir:c=>{var a=g.lookupPath(c,{follow:!0});if(a.node===null)throw new g.ErrnoError(44);if(!g.isDir(a.node.mode))throw new g.ErrnoError(54);var d=g.nodePermissions(a.node,"x");if(d)throw new g.ErrnoError(d);g.currentPath=a.path},createDefaultDirectories:()=>{g.mkdir("/tmp"),g.mkdir("/home"),g.mkdir("/home/web_user")},createDefaultDevices:()=>{g.mkdir("/dev"),g.registerDevice(g.makedev(1,3),{read:()=>0,write:(a,d,f,h,v)=>h}),g.mkdev("/dev/null",g.makedev(1,3)),xt.register(g.makedev(5,0),xt.default_tty_ops),xt.register(g.makedev(6,0),xt.default_tty1_ops),g.mkdev("/dev/tty",g.makedev(5,0)),g.mkdev("/dev/tty1",g.makedev(6,0));var c=Ye();g.createDevice("/dev","random",c),g.createDevice("/dev","urandom",c),g.mkdir("/dev/shm"),g.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{g.mkdir("/proc");var c=g.mkdir("/proc/self");g.mkdir("/proc/self/fd"),g.mount({mount:()=>{var a=g.createNode(c,"fd",16895,73);return a.node_ops={lookup:(d,f)=>{var h=+f,v=g.getStream(h);if(!v)throw new g.ErrnoError(8);var F={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>v.path}};return F.parent=F,F}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{n.stdin?g.createDevice("/dev","stdin",n.stdin):g.symlink("/dev/tty","/dev/stdin"),n.stdout?g.createDevice("/dev","stdout",null,n.stdout):g.symlink("/dev/tty","/dev/stdout"),n.stderr?g.createDevice("/dev","stderr",null,n.stderr):g.symlink("/dev/tty1","/dev/stderr"),g.open("/dev/stdin",0),g.open("/dev/stdout",1),g.open("/dev/stderr",1)},ensureErrnoError:()=>{g.ErrnoError||(g.ErrnoError=function(a,d){this.node=d,this.setErrno=function(f){this.errno=f},this.setErrno(a),this.message="FS error"},g.ErrnoError.prototype=new Error,g.ErrnoError.prototype.constructor=g.ErrnoError,[44].forEach(c=>{g.genericErrors[c]=new g.ErrnoError(c),g.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{g.ensureErrnoError(),g.nameTable=new Array(4096),g.mount(ht,{},"/"),g.createDefaultDirectories(),g.createDefaultDevices(),g.createSpecialDirectories(),g.filesystems={MEMFS:ht}},init:(c,a,d)=>{g.init.initialized=!0,g.ensureErrnoError(),n.stdin=c||n.stdin,n.stdout=a||n.stdout,n.stderr=d||n.stderr,g.createStandardStreams()},quit:()=>{g.init.initialized=!1;for(var c=0;c<g.streams.length;c++){var a=g.streams[c];!a||g.close(a)}},getMode:(c,a)=>{var d=0;return c&&(d|=365),a&&(d|=146),d},findObject:(c,a)=>{var d=g.analyzePath(c,a);return d.exists?d.object:null},analyzePath:(c,a)=>{try{var d=g.lookupPath(c,{follow:!a});c=d.path}catch{}var f={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var d=g.lookupPath(c,{parent:!0});f.parentExists=!0,f.parentPath=d.path,f.parentObject=d.node,f.name=Be.basename(c),d=g.lookupPath(c,{follow:!a}),f.exists=!0,f.path=d.path,f.object=d.node,f.name=d.node.name,f.isRoot=d.path==="/"}catch(h){f.error=h.errno}return f},createPath:(c,a,d,f)=>{c=typeof c=="string"?c:g.getPath(c);for(var h=a.split("/").reverse();h.length;){var v=h.pop();if(!!v){var F=Be.join2(c,v);try{g.mkdir(F)}catch{}c=F}}return F},createFile:(c,a,d,f,h)=>{var v=Be.join2(typeof c=="string"?c:g.getPath(c),a),F=g.getMode(f,h);return g.create(v,F)},createDataFile:(c,a,d,f,h,v)=>{var F=a;c&&(c=typeof c=="string"?c:g.getPath(c),F=a?Be.join2(c,a):c);var X=g.getMode(f,h),_e=g.create(F,X);if(d){if(typeof d=="string"){for(var Ne=new Array(d.length),Qe=0,pt=d.length;Qe<pt;++Qe)Ne[Qe]=d.charCodeAt(Qe);d=Ne}g.chmod(_e,X|146);var oe=g.open(_e,577);g.write(oe,d,0,d.length,0,v),g.close(oe),g.chmod(_e,X)}return _e},createDevice:(c,a,d,f)=>{var h=Be.join2(typeof c=="string"?c:g.getPath(c),a),v=g.getMode(!!d,!!f);g.createDevice.major||(g.createDevice.major=64);var F=g.makedev(g.createDevice.major++,0);return g.registerDevice(F,{open:X=>{X.seekable=!1},close:X=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(X,_e,Ne,Qe,pt)=>{for(var oe=0,O=0;O<Qe;O++){var I;try{I=d()}catch{throw new g.ErrnoError(29)}if(I===void 0&&oe===0)throw new g.ErrnoError(6);if(I==null)break;oe++,_e[Ne+O]=I}return oe&&(X.node.timestamp=Date.now()),oe},write:(X,_e,Ne,Qe,pt)=>{for(var oe=0;oe<Qe;oe++)try{f(_e[Ne+oe])}catch{throw new g.ErrnoError(29)}return Qe&&(X.node.timestamp=Date.now()),oe}}),g.mkdev(h,v,F)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(T)try{c.contents=At(T(c.url),!0),c.usedBytes=c.contents.length}catch{throw new g.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(c,a,d,f,h)=>{function v(){this.lengthKnown=!1,this.chunks=[]}if(v.prototype.get=function(O){if(!(O>this.length-1||O<0)){var I=O%this.chunkSize,W=O/this.chunkSize|0;return this.getter(W)[I]}},v.prototype.setDataGetter=function(O){this.getter=O},v.prototype.cacheLength=function(){var O=new XMLHttpRequest;if(O.open("HEAD",d,!1),O.send(null),!(O.status>=200&&O.status<300||O.status===304))throw new Error("Couldn't load "+d+". Status: "+O.status);var I=Number(O.getResponseHeader("Content-length")),W,G=(W=O.getResponseHeader("Accept-Ranges"))&&W==="bytes",U=(W=O.getResponseHeader("Content-Encoding"))&&W==="gzip",Ce=1024*1024;G||(Ce=I);var Oe=(Ve,wt)=>{if(Ve>wt)throw new Error("invalid range ("+Ve+", "+wt+") or no bytes requested!");if(wt>I-1)throw new Error("only "+I+" bytes available! programmer error!");var x=new XMLHttpRequest;if(x.open("GET",d,!1),I!==Ce&&x.setRequestHeader("Range","bytes="+Ve+"-"+wt),x.responseType="arraybuffer",x.overrideMimeType&&x.overrideMimeType("text/plain; charset=x-user-defined"),x.send(null),!(x.status>=200&&x.status<300||x.status===304))throw new Error("Couldn't load "+d+". Status: "+x.status);return x.response!==void 0?new Uint8Array(x.response||[]):At(x.responseText||"",!0)},ve=this;ve.setDataGetter(Ve=>{var wt=Ve*Ce,x=(Ve+1)*Ce-1;if(x=Math.min(x,I-1),typeof ve.chunks[Ve]>"u"&&(ve.chunks[Ve]=Oe(wt,x)),typeof ve.chunks[Ve]>"u")throw new Error("doXHR failed!");return ve.chunks[Ve]}),(U||!I)&&(Ce=I=1,I=this.getter(0).length,Ce=I,P("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=I,this._chunkSize=Ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var F=new v;Object.defineProperties(F,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var X={isDevice:!1,contents:F}}else var X={isDevice:!1,url:d};var _e=g.createFile(c,a,X,f,h);X.contents?_e.contents=X.contents:X.url&&(_e.contents=null,_e.url=X.url),Object.defineProperties(_e,{usedBytes:{get:function(){return this.contents.length}}});var Ne={},Qe=Object.keys(_e.stream_ops);Qe.forEach(oe=>{var O=_e.stream_ops[oe];Ne[oe]=function(){return g.forceLoadFile(_e),O.apply(null,arguments)}});function pt(oe,O,I,W,G){var U=oe.node.contents;if(G>=U.length)return 0;var Ce=Math.min(U.length-G,W);if(U.slice)for(var Oe=0;Oe<Ce;Oe++)O[I+Oe]=U[G+Oe];else for(var Oe=0;Oe<Ce;Oe++)O[I+Oe]=U.get(G+Oe);return Ce}return Ne.read=(oe,O,I,W,G)=>(g.forceLoadFile(_e),pt(oe,O,I,W,G)),Ne.mmap=(oe,O,I,W,G)=>{g.forceLoadFile(_e);var U=on(O);if(!U)throw new g.ErrnoError(48);return pt(oe,te,U,O,I),{ptr:U,allocated:!0}},_e.stream_ops=Ne,_e},createPreloadedFile:(c,a,d,f,h,v,F,X,_e,Ne)=>{var Qe=a?gt.resolve(Be.join2(c,a)):c;function pt(oe){function O(I){Ne&&Ne(),X||g.createDataFile(c,a,I,f,h,_e),v&&v(),j()}Browser.handledByPreloadPlugin(oe,Qe,O,()=>{F&&F(),j()})||O(oe)}D(),typeof d=="string"?cn(d,oe=>pt(oe),F):pt(d)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var f=g.indexedDB();try{var h=f.open(g.DB_NAME(),g.DB_VERSION)}catch(v){return d(v)}h.onupgradeneeded=()=>{P("creating db");var v=h.result;v.createObjectStore(g.DB_STORE_NAME)},h.onsuccess=()=>{var v=h.result,F=v.transaction([g.DB_STORE_NAME],"readwrite"),X=F.objectStore(g.DB_STORE_NAME),_e=0,Ne=0,Qe=c.length;function pt(){Ne==0?a():d()}c.forEach(oe=>{var O=X.put(g.analyzePath(oe).object.contents,oe);O.onsuccess=()=>{_e++,_e+Ne==Qe&&pt()},O.onerror=()=>{Ne++,_e+Ne==Qe&&pt()}}),F.onerror=d},h.onerror=d},loadFilesFromDB:(c,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var f=g.indexedDB();try{var h=f.open(g.DB_NAME(),g.DB_VERSION)}catch(v){return d(v)}h.onupgradeneeded=d,h.onsuccess=()=>{var v=h.result;try{var F=v.transaction([g.DB_STORE_NAME],"readonly")}catch(oe){d(oe);return}var X=F.objectStore(g.DB_STORE_NAME),_e=0,Ne=0,Qe=c.length;function pt(){Ne==0?a():d()}c.forEach(oe=>{var O=X.get(oe);O.onsuccess=()=>{g.analyzePath(oe).exists&&g.unlink(oe),g.createDataFile(Be.dirname(oe),Be.basename(oe),O.result,!0,!0,!0),_e++,_e+Ne==Qe&&pt()},O.onerror=()=>{Ne++,_e+Ne==Qe&&pt()}}),F.onerror=d},h.onerror=d}},ot={DEFAULT_POLLMASK:5,calculateAt:function(c,a,d){if(Be.isAbs(a))return a;var f;if(c===-100)f=g.cwd();else{var h=ot.getStreamFromFD(c);f=h.path}if(a.length==0){if(!d)throw new g.ErrnoError(44);return f}return Be.join2(f,a)},doStat:function(c,a,d){try{var f=c(a)}catch(X){if(X&&X.node&&Be.normalize(a)!==Be.normalize(g.getPath(X.node)))return-54;throw X}qe[d>>2]=f.dev,qe[d+8>>2]=f.ino,qe[d+12>>2]=f.mode,ye[d+16>>2]=f.nlink,qe[d+20>>2]=f.uid,qe[d+24>>2]=f.gid,qe[d+28>>2]=f.rdev,Le=[f.size>>>0,(fe=f.size,+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[d+40>>2]=Le[0],qe[d+44>>2]=Le[1],qe[d+48>>2]=4096,qe[d+52>>2]=f.blocks;var h=f.atime.getTime(),v=f.mtime.getTime(),F=f.ctime.getTime();return Le=[Math.floor(h/1e3)>>>0,(fe=Math.floor(h/1e3),+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[d+56>>2]=Le[0],qe[d+60>>2]=Le[1],ye[d+64>>2]=h%1e3*1e3,Le=[Math.floor(v/1e3)>>>0,(fe=Math.floor(v/1e3),+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[d+72>>2]=Le[0],qe[d+76>>2]=Le[1],ye[d+80>>2]=v%1e3*1e3,Le=[Math.floor(F/1e3)>>>0,(fe=Math.floor(F/1e3),+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[d+88>>2]=Le[0],qe[d+92>>2]=Le[1],ye[d+96>>2]=F%1e3*1e3,Le=[f.ino>>>0,(fe=f.ino,+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[d+104>>2]=Le[0],qe[d+108>>2]=Le[1],0},doMsync:function(c,a,d,f,h){if(!g.isFile(a.node.mode))throw new g.ErrnoError(43);if(f&2)return 0;var v=ue.slice(c,c+d);g.msync(a,v,h,d,f)},varargs:void 0,get:function(){ot.varargs+=4;var c=qe[ot.varargs-4>>2];return c},getStr:function(c){var a=q(c);return a},getStreamFromFD:function(c){var a=g.getStream(c);if(!a)throw new g.ErrnoError(8);return a}};function pn(c,a){try{return c=ot.getStr(c),g.chmod(c,a),0}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return-d.errno}}function Jn(c,a,d,f){try{if(a=ot.getStr(a),a=ot.calculateAt(c,a),d&-8)return-28;var h=g.lookupPath(a,{follow:!0}),v=h.node;if(!v)return-44;var F="";return d&4&&(F+="r"),d&2&&(F+="w"),d&1&&(F+="x"),F&&g.nodePermissions(v,F)?-2:0}catch(X){if(typeof g>"u"||!(X instanceof g.ErrnoError))throw X;return-X.errno}}function Ur(c,a){try{return g.fchmod(c,a),0}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return-d.errno}}function Fo(c,a,d){try{return g.fchown(c,a,d),0}catch(f){if(typeof g>"u"||!(f instanceof g.ErrnoError))throw f;return-f.errno}}function Lo(c){return qe[uf()>>2]=c,c}function Sl(c,a,d){ot.varargs=d;try{var f=ot.getStreamFromFD(c);switch(a){case 0:{var h=ot.get();if(h<0)return-28;var v;return v=g.createStream(f,h),v.fd}case 1:case 2:return 0;case 3:return f.flags;case 4:{var h=ot.get();return f.flags|=h,0}case 5:{var h=ot.get(),F=0;return ke[h+F>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Lo(28),-1;default:return-28}}catch(X){if(typeof g>"u"||!(X instanceof g.ErrnoError))throw X;return-X.errno}}function Do(c,a){try{var d=ot.getStreamFromFD(c);return ot.doStat(g.stat,d.path,a)}catch(f){if(typeof g>"u"||!(f instanceof g.ErrnoError))throw f;return-f.errno}}var Yn=9007199254740992,Si=-9007199254740992;function $s(c){return c<Si||c>Yn?NaN:Number(c)}function ql(c,a){try{return a=$s(a),isNaN(a)?-61:(g.ftruncate(c,a),0)}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return-d.errno}}function Mo(c,a){try{if(a===0)return-28;var d=g.cwd(),f=$(d)+1;return a<f?-68:(Z(d,c,a),f)}catch(h){if(typeof g>"u"||!(h instanceof g.ErrnoError))throw h;return-h.errno}}function xl(c,a,d){ot.varargs=d;try{var f=ot.getStreamFromFD(c);switch(a){case 21509:case 21505:return f.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return f.tty?0:-59;case 21519:{if(!f.tty)return-59;var h=ot.get();return qe[h>>2]=0,0}case 21520:return f.tty?-28:-59;case 21531:{var h=ot.get();return g.ioctl(f,a,h)}case 21523:return f.tty?0:-59;case 21524:return f.tty?0:-59;default:return-28}}catch(v){if(typeof g>"u"||!(v instanceof g.ErrnoError))throw v;return-v.errno}}function qi(c,a){try{return c=ot.getStr(c),ot.doStat(g.lstat,c,a)}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return-d.errno}}function kl(c,a,d){try{return a=ot.getStr(a),a=ot.calculateAt(c,a),a=Be.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),g.mkdir(a,d,0),0}catch(f){if(typeof g>"u"||!(f instanceof g.ErrnoError))throw f;return-f.errno}}function Cl(c,a,d,f){try{a=ot.getStr(a);var h=f&256,v=f&4096;return f=f&-6401,a=ot.calculateAt(c,a,v),ot.doStat(h?g.lstat:g.stat,a,d)}catch(F){if(typeof g>"u"||!(F instanceof g.ErrnoError))throw F;return-F.errno}}function Al(c,a,d,f){ot.varargs=f;try{a=ot.getStr(a),a=ot.calculateAt(c,a);var h=f?ot.get():0;return g.open(a,d,h).fd}catch(v){if(typeof g>"u"||!(v instanceof g.ErrnoError))throw v;return-v.errno}}function Xn(c,a,d,f){try{if(a=ot.getStr(a),a=ot.calculateAt(c,a),f<=0)return-28;var h=g.readlink(a),v=Math.min(f,$(h)),F=te[d+v];return Z(h,d,f+1),te[d+v]=F,v}catch(X){if(typeof g>"u"||!(X instanceof g.ErrnoError))throw X;return-X.errno}}function Il(c){try{return c=ot.getStr(c),g.rmdir(c),0}catch(a){if(typeof g>"u"||!(a instanceof g.ErrnoError))throw a;return-a.errno}}function Tl(c,a){try{return c=ot.getStr(c),ot.doStat(g.stat,c,a)}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return-d.errno}}function Ol(c,a,d){try{return a=ot.getStr(a),a=ot.calculateAt(c,a),d===0?g.unlink(a):d===512?g.rmdir(a):ee("Invalid flags passed to unlinkat"),0}catch(f){if(typeof g>"u"||!(f instanceof g.ErrnoError))throw f;return-f.errno}}function xi(c){return ye[c>>2]+qe[c+4>>2]*4294967296}function ki(c,a,d,f){try{if(a=ot.getStr(a),a=ot.calculateAt(c,a,!0),d){var F=xi(d),X=qe[d+8>>2];h=F*1e3+X/(1e3*1e3),d+=16,F=xi(d),X=qe[d+8>>2],v=F*1e3+X/(1e3*1e3)}else var h=Date.now(),v=h;return g.utime(a,h,v),0}catch(_e){if(typeof g>"u"||!(_e instanceof g.ErrnoError))throw _e;return-_e.errno}}var Ci=!0;function Vs(){return Ci}function zs(c){return c%4===0&&(c%100!==0||c%400===0)}var Ai=[0,31,60,91,121,152,182,213,244,274,305,335],Pl=[0,31,59,90,120,151,181,212,243,273,304,334];function Ws(c){var a=zs(c.getFullYear()),d=a?Ai:Pl,f=d[c.getMonth()]+c.getDate()-1;return f}function Bo(c,a){var d=new Date(xi(c)*1e3);qe[a>>2]=d.getSeconds(),qe[a+4>>2]=d.getMinutes(),qe[a+8>>2]=d.getHours(),qe[a+12>>2]=d.getDate(),qe[a+16>>2]=d.getMonth(),qe[a+20>>2]=d.getFullYear()-1900,qe[a+24>>2]=d.getDay();var f=Ws(d)|0;qe[a+28>>2]=f,qe[a+36>>2]=-(d.getTimezoneOffset()*60);var h=new Date(d.getFullYear(),0,1),v=new Date(d.getFullYear(),6,1).getTimezoneOffset(),F=h.getTimezoneOffset(),X=(v!=F&&d.getTimezoneOffset()==Math.min(F,v))|0;qe[a+32>>2]=X}function ae(c,a,d,f,h,v,F){try{var X=ot.getStreamFromFD(f),_e=g.mmap(X,c,h,a,d),Ne=_e.ptr;return qe[v>>2]=_e.allocated,ye[F>>2]=Ne,0}catch(Qe){if(typeof g>"u"||!(Qe instanceof g.ErrnoError))throw Qe;return-Qe.errno}}function Xe(c,a,d,f,h,v){try{var F=ot.getStreamFromFD(h);d&2&&ot.doMsync(c,F,a,f,v),g.munmap(F)}catch(X){if(typeof g>"u"||!(X instanceof g.ErrnoError))throw X;return-X.errno}}function It(c){var a=$(c)+1,d=cf(a);return d&&N(c,te,d,a),d}function Zt(c,a,d){var f=new Date().getFullYear(),h=new Date(f,0,1),v=new Date(f,6,1),F=h.getTimezoneOffset(),X=v.getTimezoneOffset(),_e=Math.max(F,X);ye[c>>2]=_e*60,qe[a>>2]=Number(F!=X);function Ne(I){var W=I.toTimeString().match(/\(([A-Za-z ]+)\)$/);return W?W[1]:"GMT"}var Qe=Ne(h),pt=Ne(v),oe=It(Qe),O=It(pt);X<F?(ye[d>>2]=oe,ye[d+4>>2]=O):(ye[d>>2]=O,ye[d+4>>2]=oe)}function hs(){return Date.now()}var Rl;Rl=()=>performance.now();function No(){return 2147483648}function sm(c){var a=k.buffer;try{return k.grow(c-a.byteLength+65535>>>16),nt(),1}catch{}}function im(c){var a=ue.length;c=c>>>0;var d=No();if(c>d)return!1;let f=(_e,Ne)=>_e+(Ne-_e%Ne)%Ne;for(var h=1;h<=4;h*=2){var v=a*(1+.2/h);v=Math.min(v,c+100663296);var F=Math.min(d,f(Math.max(c,v),65536)),X=sm(F);if(X)return!0}return!1}var Fl={};function om(){return p||"./this.program"}function Ii(){if(!Ii.strings){var c=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:c,_:om()};for(var d in Fl)Fl[d]===void 0?delete a[d]:a[d]=Fl[d];var f=[];for(var d in a)f.push(d+"="+a[d]);Ii.strings=f}return Ii.strings}function am(c,a,d){for(var f=0;f<c.length;++f)te[a++>>0]=c.charCodeAt(f);d||(te[a>>0]=0)}function lm(c,a){var d=0;return Ii().forEach(function(f,h){var v=a+d;ye[c+h*4>>2]=v,am(f,v),d+=f.length+1}),0}function um(c,a){var d=Ii();ye[c>>2]=d.length;var f=0;return d.forEach(function(h){f+=h.length+1}),ye[a>>2]=f,0}function cm(c){try{var a=ot.getStreamFromFD(c);return g.close(a),0}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return d.errno}}function fm(c,a){try{var d=ot.getStreamFromFD(c),f=d.tty?2:g.isDir(d.mode)?3:g.isLink(d.mode)?7:4;return te[a>>0]=f,0}catch(h){if(typeof g>"u"||!(h instanceof g.ErrnoError))throw h;return h.errno}}function dm(c,a,d,f){for(var h=0,v=0;v<d;v++){var F=ye[a>>2],X=ye[a+4>>2];a+=8;var _e=g.read(c,te,F,X,f);if(_e<0)return-1;if(h+=_e,_e<X)break;typeof f<"u"&&(f+=_e)}return h}function pm(c,a,d,f){try{var h=ot.getStreamFromFD(c),v=dm(h,a,d);return ye[f>>2]=v,0}catch(F){if(typeof g>"u"||!(F instanceof g.ErrnoError))throw F;return F.errno}}function hm(c,a,d,f){try{if(a=$s(a),isNaN(a))return 61;var h=ot.getStreamFromFD(c);return g.llseek(h,a,d),Le=[h.position>>>0,(fe=h.position,+Math.abs(fe)>=1?fe>0?(Math.min(+Math.floor(fe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],qe[f>>2]=Le[0],qe[f+4>>2]=Le[1],h.getdents&&a===0&&d===0&&(h.getdents=null),0}catch(v){if(typeof g>"u"||!(v instanceof g.ErrnoError))throw v;return v.errno}}function _m(c){try{var a=ot.getStreamFromFD(c);return a.stream_ops&&a.stream_ops.fsync?a.stream_ops.fsync(a):0}catch(d){if(typeof g>"u"||!(d instanceof g.ErrnoError))throw d;return d.errno}}function mm(c,a,d,f){for(var h=0,v=0;v<d;v++){var F=ye[a>>2],X=ye[a+4>>2];a+=8;var _e=g.write(c,te,F,X,f);if(_e<0)return-1;h+=_e,typeof f<"u"&&(f+=_e)}return h}function gm(c,a,d,f){try{var h=ot.getStreamFromFD(c),v=mm(h,a,d);return ye[f>>2]=v,0}catch(F){if(typeof g>"u"||!(F instanceof g.ErrnoError))throw F;return F.errno}}var af=function(c,a,d,f){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=g.nextInode++,this.name=a,this.mode=d,this.node_ops={},this.stream_ops={},this.rdev=f},jo=365,Uo=146;Object.defineProperties(af.prototype,{read:{get:function(){return(this.mode&jo)===jo},set:function(c){c?this.mode|=jo:this.mode&=~jo}},write:{get:function(){return(this.mode&Uo)===Uo},set:function(c){c?this.mode|=Uo:this.mode&=~Uo}},isFolder:{get:function(){return g.isDir(this.mode)}},isDevice:{get:function(){return g.isChrdev(this.mode)}}}),g.FSNode=af,g.staticInit();var lf={__syscall_chmod:pn,__syscall_faccessat:Jn,__syscall_fchmod:Ur,__syscall_fchown32:Fo,__syscall_fcntl64:Sl,__syscall_fstat64:Do,__syscall_ftruncate64:ql,__syscall_getcwd:Mo,__syscall_ioctl:xl,__syscall_lstat64:qi,__syscall_mkdirat:kl,__syscall_newfstatat:Cl,__syscall_openat:Al,__syscall_readlinkat:Xn,__syscall_rmdir:Il,__syscall_stat64:Tl,__syscall_unlinkat:Ol,__syscall_utimensat:ki,_emscripten_get_now_is_monotonic:Vs,_localtime_js:Bo,_mmap_js:ae,_munmap_js:Xe,_tzset_js:Zt,emscripten_date_now:hs,emscripten_get_now:Rl,emscripten_resize_heap:im,environ_get:lm,environ_sizes_get:um,fd_close:cm,fd_fdstat_get:fm,fd_read:pm,fd_seek:hm,fd_sync:_m,fd_write:gm,memory:k};$e(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)},n._sqlite3_status64=function(){return(n._sqlite3_status64=n.asm.sqlite3_status64).apply(null,arguments)},n._sqlite3_status=function(){return(n._sqlite3_status=n.asm.sqlite3_status).apply(null,arguments)},n._sqlite3_db_status=function(){return(n._sqlite3_db_status=n.asm.sqlite3_db_status).apply(null,arguments)},n._sqlite3_msize=function(){return(n._sqlite3_msize=n.asm.sqlite3_msize).apply(null,arguments)},n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.sqlite3_vfs_find).apply(null,arguments)},n._sqlite3_initialize=function(){return(n._sqlite3_initialize=n.asm.sqlite3_initialize).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.sqlite3_malloc).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.sqlite3_free).apply(null,arguments)},n._sqlite3_vfs_register=function(){return(n._sqlite3_vfs_register=n.asm.sqlite3_vfs_register).apply(null,arguments)},n._sqlite3_vfs_unregister=function(){return(n._sqlite3_vfs_unregister=n.asm.sqlite3_vfs_unregister).apply(null,arguments)},n._sqlite3_malloc64=function(){return(n._sqlite3_malloc64=n.asm.sqlite3_malloc64).apply(null,arguments)},n._sqlite3_realloc=function(){return(n._sqlite3_realloc=n.asm.sqlite3_realloc).apply(null,arguments)},n._sqlite3_realloc64=function(){return(n._sqlite3_realloc64=n.asm.sqlite3_realloc64).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.sqlite3_value_text).apply(null,arguments)},n._sqlite3_randomness=function(){return(n._sqlite3_randomness=n.asm.sqlite3_randomness).apply(null,arguments)},n._sqlite3_stricmp=function(){return(n._sqlite3_stricmp=n.asm.sqlite3_stricmp).apply(null,arguments)},n._sqlite3_strnicmp=function(){return(n._sqlite3_strnicmp=n.asm.sqlite3_strnicmp).apply(null,arguments)},n._sqlite3_uri_parameter=function(){return(n._sqlite3_uri_parameter=n.asm.sqlite3_uri_parameter).apply(null,arguments)};var uf=n.___errno_location=function(){return(uf=n.___errno_location=n.asm.__errno_location).apply(null,arguments)};n._sqlite3_uri_boolean=function(){return(n._sqlite3_uri_boolean=n.asm.sqlite3_uri_boolean).apply(null,arguments)},n._sqlite3_serialize=function(){return(n._sqlite3_serialize=n.asm.sqlite3_serialize).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.sqlite3_prepare_v2).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.sqlite3_step).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.sqlite3_column_int64).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.sqlite3_column_int).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.sqlite3_finalize).apply(null,arguments)},n._sqlite3_file_control=function(){return(n._sqlite3_file_control=n.asm.sqlite3_file_control).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.sqlite3_reset).apply(null,arguments)},n._sqlite3_deserialize=function(){return(n._sqlite3_deserialize=n.asm.sqlite3_deserialize).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.sqlite3_clear_bindings).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.sqlite3_value_blob).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.sqlite3_value_bytes).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.sqlite3_value_double).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.sqlite3_value_int).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.sqlite3_value_int64).apply(null,arguments)},n._sqlite3_value_subtype=function(){return(n._sqlite3_value_subtype=n.asm.sqlite3_value_subtype).apply(null,arguments)},n._sqlite3_value_pointer=function(){return(n._sqlite3_value_pointer=n.asm.sqlite3_value_pointer).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.sqlite3_value_type).apply(null,arguments)},n._sqlite3_value_nochange=function(){return(n._sqlite3_value_nochange=n.asm.sqlite3_value_nochange).apply(null,arguments)},n._sqlite3_value_frombind=function(){return(n._sqlite3_value_frombind=n.asm.sqlite3_value_frombind).apply(null,arguments)},n._sqlite3_value_dup=function(){return(n._sqlite3_value_dup=n.asm.sqlite3_value_dup).apply(null,arguments)},n._sqlite3_value_free=function(){return(n._sqlite3_value_free=n.asm.sqlite3_value_free).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.sqlite3_result_blob).apply(null,arguments)},n._sqlite3_result_error_nomem=function(){return(n._sqlite3_result_error_nomem=n.asm.sqlite3_result_error_nomem).apply(null,arguments)},n._sqlite3_result_error_toobig=function(){return(n._sqlite3_result_error_toobig=n.asm.sqlite3_result_error_toobig).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.sqlite3_result_double).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.sqlite3_result_error).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.sqlite3_result_int).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.sqlite3_result_int64).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.sqlite3_result_null).apply(null,arguments)},n._sqlite3_result_pointer=function(){return(n._sqlite3_result_pointer=n.asm.sqlite3_result_pointer).apply(null,arguments)},n._sqlite3_result_subtype=function(){return(n._sqlite3_result_subtype=n.asm.sqlite3_result_subtype).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.sqlite3_result_text).apply(null,arguments)},n._sqlite3_result_zeroblob=function(){return(n._sqlite3_result_zeroblob=n.asm.sqlite3_result_zeroblob).apply(null,arguments)},n._sqlite3_result_zeroblob64=function(){return(n._sqlite3_result_zeroblob64=n.asm.sqlite3_result_zeroblob64).apply(null,arguments)},n._sqlite3_result_error_code=function(){return(n._sqlite3_result_error_code=n.asm.sqlite3_result_error_code).apply(null,arguments)},n._sqlite3_user_data=function(){return(n._sqlite3_user_data=n.asm.sqlite3_user_data).apply(null,arguments)},n._sqlite3_context_db_handle=function(){return(n._sqlite3_context_db_handle=n.asm.sqlite3_context_db_handle).apply(null,arguments)},n._sqlite3_vtab_nochange=function(){return(n._sqlite3_vtab_nochange=n.asm.sqlite3_vtab_nochange).apply(null,arguments)},n._sqlite3_vtab_in_first=function(){return(n._sqlite3_vtab_in_first=n.asm.sqlite3_vtab_in_first).apply(null,arguments)},n._sqlite3_vtab_in_next=function(){return(n._sqlite3_vtab_in_next=n.asm.sqlite3_vtab_in_next).apply(null,arguments)},n._sqlite3_aggregate_context=function(){return(n._sqlite3_aggregate_context=n.asm.sqlite3_aggregate_context).apply(null,arguments)},n._sqlite3_get_auxdata=function(){return(n._sqlite3_get_auxdata=n.asm.sqlite3_get_auxdata).apply(null,arguments)},n._sqlite3_set_auxdata=function(){return(n._sqlite3_set_auxdata=n.asm.sqlite3_set_auxdata).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.sqlite3_column_count).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.sqlite3_data_count).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.sqlite3_column_blob).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.sqlite3_column_bytes).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.sqlite3_column_double).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.sqlite3_column_text).apply(null,arguments)},n._sqlite3_column_value=function(){return(n._sqlite3_column_value=n.asm.sqlite3_column_value).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.sqlite3_column_type).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.sqlite3_column_name).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm.sqlite3_bind_blob).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.sqlite3_bind_double).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.sqlite3_bind_int).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.sqlite3_bind_int64).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.sqlite3_bind_null).apply(null,arguments)},n._sqlite3_bind_pointer=function(){return(n._sqlite3_bind_pointer=n.asm.sqlite3_bind_pointer).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.sqlite3_bind_text).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.sqlite3_bind_parameter_count).apply(null,arguments)},n._sqlite3_bind_parameter_index=function(){return(n._sqlite3_bind_parameter_index=n.asm.sqlite3_bind_parameter_index).apply(null,arguments)},n._sqlite3_db_handle=function(){return(n._sqlite3_db_handle=n.asm.sqlite3_db_handle).apply(null,arguments)},n._sqlite3_stmt_readonly=function(){return(n._sqlite3_stmt_readonly=n.asm.sqlite3_stmt_readonly).apply(null,arguments)},n._sqlite3_stmt_isexplain=function(){return(n._sqlite3_stmt_isexplain=n.asm.sqlite3_stmt_isexplain).apply(null,arguments)},n._sqlite3_stmt_status=function(){return(n._sqlite3_stmt_status=n.asm.sqlite3_stmt_status).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.sqlite3_sql).apply(null,arguments)},n._sqlite3_expanded_sql=function(){return(n._sqlite3_expanded_sql=n.asm.sqlite3_expanded_sql).apply(null,arguments)},n._sqlite3_preupdate_old=function(){return(n._sqlite3_preupdate_old=n.asm.sqlite3_preupdate_old).apply(null,arguments)},n._sqlite3_preupdate_count=function(){return(n._sqlite3_preupdate_count=n.asm.sqlite3_preupdate_count).apply(null,arguments)},n._sqlite3_preupdate_depth=function(){return(n._sqlite3_preupdate_depth=n.asm.sqlite3_preupdate_depth).apply(null,arguments)},n._sqlite3_preupdate_blobwrite=function(){return(n._sqlite3_preupdate_blobwrite=n.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},n._sqlite3_preupdate_new=function(){return(n._sqlite3_preupdate_new=n.asm.sqlite3_preupdate_new).apply(null,arguments)},n._sqlite3_value_numeric_type=function(){return(n._sqlite3_value_numeric_type=n.asm.sqlite3_value_numeric_type).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.sqlite3_errmsg).apply(null,arguments)},n._sqlite3_set_authorizer=function(){return(n._sqlite3_set_authorizer=n.asm.sqlite3_set_authorizer).apply(null,arguments)},n._sqlite3_strglob=function(){return(n._sqlite3_strglob=n.asm.sqlite3_strglob).apply(null,arguments)},n._sqlite3_strlike=function(){return(n._sqlite3_strlike=n.asm.sqlite3_strlike).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.sqlite3_exec).apply(null,arguments)},n._sqlite3_auto_extension=function(){return(n._sqlite3_auto_extension=n.asm.sqlite3_auto_extension).apply(null,arguments)},n._sqlite3_cancel_auto_extension=function(){return(n._sqlite3_cancel_auto_extension=n.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},n._sqlite3_reset_auto_extension=function(){return(n._sqlite3_reset_auto_extension=n.asm.sqlite3_reset_auto_extension).apply(null,arguments)},n._sqlite3_prepare_v3=function(){return(n._sqlite3_prepare_v3=n.asm.sqlite3_prepare_v3).apply(null,arguments)},n._sqlite3_create_module=function(){return(n._sqlite3_create_module=n.asm.sqlite3_create_module).apply(null,arguments)},n._sqlite3_create_module_v2=function(){return(n._sqlite3_create_module_v2=n.asm.sqlite3_create_module_v2).apply(null,arguments)},n._sqlite3_drop_modules=function(){return(n._sqlite3_drop_modules=n.asm.sqlite3_drop_modules).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.sqlite3_declare_vtab).apply(null,arguments)},n._sqlite3_vtab_on_conflict=function(){return(n._sqlite3_vtab_on_conflict=n.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},n._sqlite3_vtab_collation=function(){return(n._sqlite3_vtab_collation=n.asm.sqlite3_vtab_collation).apply(null,arguments)},n._sqlite3_vtab_in=function(){return(n._sqlite3_vtab_in=n.asm.sqlite3_vtab_in).apply(null,arguments)},n._sqlite3_vtab_rhs_value=function(){return(n._sqlite3_vtab_rhs_value=n.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},n._sqlite3_vtab_distinct=function(){return(n._sqlite3_vtab_distinct=n.asm.sqlite3_vtab_distinct).apply(null,arguments)},n._sqlite3_keyword_name=function(){return(n._sqlite3_keyword_name=n.asm.sqlite3_keyword_name).apply(null,arguments)},n._sqlite3_keyword_count=function(){return(n._sqlite3_keyword_count=n.asm.sqlite3_keyword_count).apply(null,arguments)},n._sqlite3_keyword_check=function(){return(n._sqlite3_keyword_check=n.asm.sqlite3_keyword_check).apply(null,arguments)},n._sqlite3_complete=function(){return(n._sqlite3_complete=n.asm.sqlite3_complete).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.sqlite3_libversion).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.sqlite3_libversion_number).apply(null,arguments)},n._sqlite3_shutdown=function(){return(n._sqlite3_shutdown=n.asm.sqlite3_shutdown).apply(null,arguments)},n._sqlite3_last_insert_rowid=function(){return(n._sqlite3_last_insert_rowid=n.asm.sqlite3_last_insert_rowid).apply(null,arguments)},n._sqlite3_set_last_insert_rowid=function(){return(n._sqlite3_set_last_insert_rowid=n.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},n._sqlite3_changes64=function(){return(n._sqlite3_changes64=n.asm.sqlite3_changes64).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.sqlite3_changes).apply(null,arguments)},n._sqlite3_total_changes64=function(){return(n._sqlite3_total_changes64=n.asm.sqlite3_total_changes64).apply(null,arguments)},n._sqlite3_total_changes=function(){return(n._sqlite3_total_changes=n.asm.sqlite3_total_changes).apply(null,arguments)},n._sqlite3_txn_state=function(){return(n._sqlite3_txn_state=n.asm.sqlite3_txn_state).apply(null,arguments)},n._sqlite3_close_v2=function(){return(n._sqlite3_close_v2=n.asm.sqlite3_close_v2).apply(null,arguments)},n._sqlite3_busy_handler=function(){return(n._sqlite3_busy_handler=n.asm.sqlite3_busy_handler).apply(null,arguments)},n._sqlite3_progress_handler=function(){return(n._sqlite3_progress_handler=n.asm.sqlite3_progress_handler).apply(null,arguments)},n._sqlite3_busy_timeout=function(){return(n._sqlite3_busy_timeout=n.asm.sqlite3_busy_timeout).apply(null,arguments)},n._sqlite3_create_function=function(){return(n._sqlite3_create_function=n.asm.sqlite3_create_function).apply(null,arguments)},n._sqlite3_create_function_v2=function(){return(n._sqlite3_create_function_v2=n.asm.sqlite3_create_function_v2).apply(null,arguments)},n._sqlite3_create_window_function=function(){return(n._sqlite3_create_window_function=n.asm.sqlite3_create_window_function).apply(null,arguments)},n._sqlite3_overload_function=function(){return(n._sqlite3_overload_function=n.asm.sqlite3_overload_function).apply(null,arguments)},n._sqlite3_trace_v2=function(){return(n._sqlite3_trace_v2=n.asm.sqlite3_trace_v2).apply(null,arguments)},n._sqlite3_commit_hook=function(){return(n._sqlite3_commit_hook=n.asm.sqlite3_commit_hook).apply(null,arguments)},n._sqlite3_update_hook=function(){return(n._sqlite3_update_hook=n.asm.sqlite3_update_hook).apply(null,arguments)},n._sqlite3_rollback_hook=function(){return(n._sqlite3_rollback_hook=n.asm.sqlite3_rollback_hook).apply(null,arguments)},n._sqlite3_preupdate_hook=function(){return(n._sqlite3_preupdate_hook=n.asm.sqlite3_preupdate_hook).apply(null,arguments)},n._sqlite3_error_offset=function(){return(n._sqlite3_error_offset=n.asm.sqlite3_error_offset).apply(null,arguments)},n._sqlite3_errcode=function(){return(n._sqlite3_errcode=n.asm.sqlite3_errcode).apply(null,arguments)},n._sqlite3_extended_errcode=function(){return(n._sqlite3_extended_errcode=n.asm.sqlite3_extended_errcode).apply(null,arguments)},n._sqlite3_errstr=function(){return(n._sqlite3_errstr=n.asm.sqlite3_errstr).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.sqlite3_limit).apply(null,arguments)},n._sqlite3_open=function(){return(n._sqlite3_open=n.asm.sqlite3_open).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.sqlite3_open_v2).apply(null,arguments)},n._sqlite3_create_collation=function(){return(n._sqlite3_create_collation=n.asm.sqlite3_create_collation).apply(null,arguments)},n._sqlite3_create_collation_v2=function(){return(n._sqlite3_create_collation_v2=n.asm.sqlite3_create_collation_v2).apply(null,arguments)},n._sqlite3_collation_needed=function(){return(n._sqlite3_collation_needed=n.asm.sqlite3_collation_needed).apply(null,arguments)},n._sqlite3_table_column_metadata=function(){return(n._sqlite3_table_column_metadata=n.asm.sqlite3_table_column_metadata).apply(null,arguments)},n._sqlite3_extended_result_codes=function(){return(n._sqlite3_extended_result_codes=n.asm.sqlite3_extended_result_codes).apply(null,arguments)},n._sqlite3_uri_key=function(){return(n._sqlite3_uri_key=n.asm.sqlite3_uri_key).apply(null,arguments)},n._sqlite3_uri_int64=function(){return(n._sqlite3_uri_int64=n.asm.sqlite3_uri_int64).apply(null,arguments)},n._sqlite3_db_name=function(){return(n._sqlite3_db_name=n.asm.sqlite3_db_name).apply(null,arguments)},n._sqlite3_db_filename=function(){return(n._sqlite3_db_filename=n.asm.sqlite3_db_filename).apply(null,arguments)},n._sqlite3_compileoption_used=function(){return(n._sqlite3_compileoption_used=n.asm.sqlite3_compileoption_used).apply(null,arguments)},n._sqlite3_compileoption_get=function(){return(n._sqlite3_compileoption_get=n.asm.sqlite3_compileoption_get).apply(null,arguments)},n._sqlite3session_diff=function(){return(n._sqlite3session_diff=n.asm.sqlite3session_diff).apply(null,arguments)},n._sqlite3session_attach=function(){return(n._sqlite3session_attach=n.asm.sqlite3session_attach).apply(null,arguments)},n._sqlite3session_create=function(){return(n._sqlite3session_create=n.asm.sqlite3session_create).apply(null,arguments)},n._sqlite3session_delete=function(){return(n._sqlite3session_delete=n.asm.sqlite3session_delete).apply(null,arguments)},n._sqlite3session_table_filter=function(){return(n._sqlite3session_table_filter=n.asm.sqlite3session_table_filter).apply(null,arguments)},n._sqlite3session_changeset=function(){return(n._sqlite3session_changeset=n.asm.sqlite3session_changeset).apply(null,arguments)},n._sqlite3session_changeset_strm=function(){return(n._sqlite3session_changeset_strm=n.asm.sqlite3session_changeset_strm).apply(null,arguments)},n._sqlite3session_patchset_strm=function(){return(n._sqlite3session_patchset_strm=n.asm.sqlite3session_patchset_strm).apply(null,arguments)},n._sqlite3session_patchset=function(){return(n._sqlite3session_patchset=n.asm.sqlite3session_patchset).apply(null,arguments)},n._sqlite3session_enable=function(){return(n._sqlite3session_enable=n.asm.sqlite3session_enable).apply(null,arguments)},n._sqlite3session_indirect=function(){return(n._sqlite3session_indirect=n.asm.sqlite3session_indirect).apply(null,arguments)},n._sqlite3session_isempty=function(){return(n._sqlite3session_isempty=n.asm.sqlite3session_isempty).apply(null,arguments)},n._sqlite3session_memory_used=function(){return(n._sqlite3session_memory_used=n.asm.sqlite3session_memory_used).apply(null,arguments)},n._sqlite3session_object_config=function(){return(n._sqlite3session_object_config=n.asm.sqlite3session_object_config).apply(null,arguments)},n._sqlite3session_changeset_size=function(){return(n._sqlite3session_changeset_size=n.asm.sqlite3session_changeset_size).apply(null,arguments)},n._sqlite3changeset_start=function(){return(n._sqlite3changeset_start=n.asm.sqlite3changeset_start).apply(null,arguments)},n._sqlite3changeset_start_v2=function(){return(n._sqlite3changeset_start_v2=n.asm.sqlite3changeset_start_v2).apply(null,arguments)},n._sqlite3changeset_start_strm=function(){return(n._sqlite3changeset_start_strm=n.asm.sqlite3changeset_start_strm).apply(null,arguments)},n._sqlite3changeset_start_v2_strm=function(){return(n._sqlite3changeset_start_v2_strm=n.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},n._sqlite3changeset_next=function(){return(n._sqlite3changeset_next=n.asm.sqlite3changeset_next).apply(null,arguments)},n._sqlite3changeset_op=function(){return(n._sqlite3changeset_op=n.asm.sqlite3changeset_op).apply(null,arguments)},n._sqlite3changeset_pk=function(){return(n._sqlite3changeset_pk=n.asm.sqlite3changeset_pk).apply(null,arguments)},n._sqlite3changeset_old=function(){return(n._sqlite3changeset_old=n.asm.sqlite3changeset_old).apply(null,arguments)},n._sqlite3changeset_new=function(){return(n._sqlite3changeset_new=n.asm.sqlite3changeset_new).apply(null,arguments)},n._sqlite3changeset_conflict=function(){return(n._sqlite3changeset_conflict=n.asm.sqlite3changeset_conflict).apply(null,arguments)},n._sqlite3changeset_fk_conflicts=function(){return(n._sqlite3changeset_fk_conflicts=n.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},n._sqlite3changeset_finalize=function(){return(n._sqlite3changeset_finalize=n.asm.sqlite3changeset_finalize).apply(null,arguments)},n._sqlite3changeset_invert=function(){return(n._sqlite3changeset_invert=n.asm.sqlite3changeset_invert).apply(null,arguments)},n._sqlite3changeset_invert_strm=function(){return(n._sqlite3changeset_invert_strm=n.asm.sqlite3changeset_invert_strm).apply(null,arguments)},n._sqlite3changeset_apply_v2=function(){return(n._sqlite3changeset_apply_v2=n.asm.sqlite3changeset_apply_v2).apply(null,arguments)},n._sqlite3changeset_apply=function(){return(n._sqlite3changeset_apply=n.asm.sqlite3changeset_apply).apply(null,arguments)},n._sqlite3changeset_apply_v2_strm=function(){return(n._sqlite3changeset_apply_v2_strm=n.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},n._sqlite3changeset_apply_strm=function(){return(n._sqlite3changeset_apply_strm=n.asm.sqlite3changeset_apply_strm).apply(null,arguments)},n._sqlite3changegroup_new=function(){return(n._sqlite3changegroup_new=n.asm.sqlite3changegroup_new).apply(null,arguments)},n._sqlite3changegroup_add=function(){return(n._sqlite3changegroup_add=n.asm.sqlite3changegroup_add).apply(null,arguments)},n._sqlite3changegroup_output=function(){return(n._sqlite3changegroup_output=n.asm.sqlite3changegroup_output).apply(null,arguments)},n._sqlite3changegroup_add_strm=function(){return(n._sqlite3changegroup_add_strm=n.asm.sqlite3changegroup_add_strm).apply(null,arguments)},n._sqlite3changegroup_output_strm=function(){return(n._sqlite3changegroup_output_strm=n.asm.sqlite3changegroup_output_strm).apply(null,arguments)},n._sqlite3changegroup_delete=function(){return(n._sqlite3changegroup_delete=n.asm.sqlite3changegroup_delete).apply(null,arguments)},n._sqlite3changeset_concat=function(){return(n._sqlite3changeset_concat=n.asm.sqlite3changeset_concat).apply(null,arguments)},n._sqlite3changeset_concat_strm=function(){return(n._sqlite3changeset_concat_strm=n.asm.sqlite3changeset_concat_strm).apply(null,arguments)},n._sqlite3session_config=function(){return(n._sqlite3session_config=n.asm.sqlite3session_config).apply(null,arguments)},n._sqlite3_sourceid=function(){return(n._sqlite3_sourceid=n.asm.sqlite3_sourceid).apply(null,arguments)},n._sqlite3_wasm_pstack_ptr=function(){return(n._sqlite3_wasm_pstack_ptr=n.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},n._sqlite3_wasm_pstack_restore=function(){return(n._sqlite3_wasm_pstack_restore=n.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},n._sqlite3_wasm_pstack_alloc=function(){return(n._sqlite3_wasm_pstack_alloc=n.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},n._sqlite3_wasm_pstack_remaining=function(){return(n._sqlite3_wasm_pstack_remaining=n.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},n._sqlite3_wasm_pstack_quota=function(){return(n._sqlite3_wasm_pstack_quota=n.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},n._sqlite3_wasm_db_error=function(){return(n._sqlite3_wasm_db_error=n.asm.sqlite3_wasm_db_error).apply(null,arguments)},n._sqlite3_wasm_test_struct=function(){return(n._sqlite3_wasm_test_struct=n.asm.sqlite3_wasm_test_struct).apply(null,arguments)},n._sqlite3_wasm_enum_json=function(){return(n._sqlite3_wasm_enum_json=n.asm.sqlite3_wasm_enum_json).apply(null,arguments)},n._sqlite3_wasm_vfs_unlink=function(){return(n._sqlite3_wasm_vfs_unlink=n.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},n._sqlite3_wasm_db_vfs=function(){return(n._sqlite3_wasm_db_vfs=n.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},n._sqlite3_wasm_db_reset=function(){return(n._sqlite3_wasm_db_reset=n.asm.sqlite3_wasm_db_reset).apply(null,arguments)},n._sqlite3_wasm_db_export_chunked=function(){return(n._sqlite3_wasm_db_export_chunked=n.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},n._sqlite3_wasm_db_serialize=function(){return(n._sqlite3_wasm_db_serialize=n.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},n._sqlite3_wasm_vfs_create_file=function(){return(n._sqlite3_wasm_vfs_create_file=n.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},n._sqlite3_wasm_posix_create_file=function(){return(n._sqlite3_wasm_posix_create_file=n.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},n._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(n._sqlite3_wasm_kvvfsMakeKeyOnPstack=n.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},n._sqlite3_wasm_kvvfs_methods=function(){return(n._sqlite3_wasm_kvvfs_methods=n.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},n._sqlite3_wasm_vtab_config=function(){return(n._sqlite3_wasm_vtab_config=n.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},n._sqlite3_wasm_db_config_ip=function(){return(n._sqlite3_wasm_db_config_ip=n.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},n._sqlite3_wasm_db_config_pii=function(){return(n._sqlite3_wasm_db_config_pii=n.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},n._sqlite3_wasm_db_config_s=function(){return(n._sqlite3_wasm_db_config_s=n.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},n._sqlite3_wasm_config_i=function(){return(n._sqlite3_wasm_config_i=n.asm.sqlite3_wasm_config_i).apply(null,arguments)},n._sqlite3_wasm_config_ii=function(){return(n._sqlite3_wasm_config_ii=n.asm.sqlite3_wasm_config_ii).apply(null,arguments)},n._sqlite3_wasm_config_j=function(){return(n._sqlite3_wasm_config_j=n.asm.sqlite3_wasm_config_j).apply(null,arguments)},n._sqlite3_wasm_init_wasmfs=function(){return(n._sqlite3_wasm_init_wasmfs=n.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},n._sqlite3_wasm_test_intptr=function(){return(n._sqlite3_wasm_test_intptr=n.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},n._sqlite3_wasm_test_voidptr=function(){return(n._sqlite3_wasm_test_voidptr=n.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},n._sqlite3_wasm_test_int64_max=function(){return(n._sqlite3_wasm_test_int64_max=n.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},n._sqlite3_wasm_test_int64_min=function(){return(n._sqlite3_wasm_test_int64_min=n.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},n._sqlite3_wasm_test_int64_times2=function(){return(n._sqlite3_wasm_test_int64_times2=n.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},n._sqlite3_wasm_test_int64_minmax=function(){return(n._sqlite3_wasm_test_int64_minmax=n.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},n._sqlite3_wasm_test_int64ptr=function(){return(n._sqlite3_wasm_test_int64ptr=n.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},n._sqlite3_wasm_test_stack_overflow=function(){return(n._sqlite3_wasm_test_stack_overflow=n.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},n._sqlite3_wasm_test_str_hello=function(){return(n._sqlite3_wasm_test_str_hello=n.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var cf=n._malloc=function(){return(cf=n._malloc=n.asm.malloc).apply(null,arguments)};n._free=function(){return(n._free=n.asm.free).apply(null,arguments)},n._realloc=function(){return(n._realloc=n.asm.realloc).apply(null,arguments)};var ff=n._emscripten_builtin_memalign=function(){return(ff=n._emscripten_builtin_memalign=n.asm.emscripten_builtin_memalign).apply(null,arguments)};n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.wasmMemory=k;var $o;Ue=function c(){$o||df(),$o||(Ue=c)};function df(c){if(he>0||(Ct(),he>0))return;function a(){$o||($o=!0,n.calledRun=!0,!B&&(bt(),s(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),it()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return df(),n.postRun||(n.postRun=[]),n.postRun.push(function(c){if(globalThis.sqlite3ApiBootstrap=function a(d=globalThis.sqlite3ApiConfig||a.defaultConfig){if(a.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),a.sqlite3;const f=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof c<"u"?!!c.HEAPU64:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},d||{});Object.assign(f,{allocExportName:f.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:f.useStdAlloc?"free":"sqlite3_free",reallocExportName:f.useStdAlloc?"realloc":"sqlite3_realloc"},f),["exports","memory","wasmfsOpfsDir"].forEach(S=>{typeof f[S]=="function"&&(f[S]=f[S]())});const h=Object.create(null),v=Object.create(null),F=S=>h.sqlite3_js_rc_str&&h.sqlite3_js_rc_str(S)||"Unknown result code #"+S,X=S=>typeof S=="number"&&S===(S|0);class _e extends Error{constructor(...b){let V;if(b.length)if(X(b[0]))if(V=b[0],b.length===1)super(F(b[0]));else{const ce=F(V);typeof b[1]=="object"?super(ce,b[1]):(b[0]=ce+":",super(b.join(" ")))}else b.length===2&&typeof b[1]=="object"?super(...b):super(b.join(" "));this.resultCode=V||h.SQLITE_ERROR,this.name="SQLite3Error"}}_e.toss=(...S)=>{throw new _e(...S)};const Ne=_e.toss;f.wasmfsOpfsDir&&!/^\/[^/]+$/.test(f.wasmfsOpfsDir)&&Ne("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Qe=S=>typeof S!="bigint"&&S===(S|0)&&S<=2147483647&&S>=-2147483648,pt=function S(b){return S._max||(S._max=BigInt("0x7fffffffffffffff"),S._min=~S._max),b>=S._min&&b<=S._max},oe=S=>S>=-0x7fffffffn-1n&&S<=0x7fffffffn,O=function S(b){return S._min||(S._min=Number.MIN_SAFE_INTEGER,S._max=Number.MAX_SAFE_INTEGER),b>=S._min&&b<=S._max},I=S=>S&&S.constructor&&Qe(S.constructor.BYTES_PER_ELEMENT)?S:!1,W=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,G=S=>S.buffer instanceof W,U=(S,b,V)=>G(S)?S.slice(b,V):S.subarray(b,V),Ce=S=>S&&(S instanceof Uint8Array||S instanceof Int8Array||S instanceof ArrayBuffer),Oe=S=>S&&(S instanceof Uint8Array||S instanceof Int8Array||S instanceof ArrayBuffer),ve=S=>Ce(S)||Ne("Value is not of a supported TypedArray type."),Ve=new TextDecoder("utf-8"),wt=function(S,b,V){return Ve.decode(U(S,b,V))},x=function(S){return Oe(S)?wt(S instanceof ArrayBuffer?new Uint8Array(S):S):Array.isArray(S)?S.join(""):(v.isPtr(S)&&(S=v.cstrToJs(S)),S)};class K extends Error{constructor(...b){b.length===2&&typeof b[1]=="object"?super(...b):b.length?super(b.join(" ")):super("Allocation failed."),this.resultCode=h.SQLITE_NOMEM,this.name="WasmAllocError"}}K.toss=(...S)=>{throw new K(...S)},Object.assign(h,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(S,b,V,ce,ze,ct,_t,Ie,Q)=>{},sqlite3_create_function:(S,b,V,ce,ze,ct,_t,Ie)=>{},sqlite3_create_window_function:(S,b,V,ce,ze,ct,_t,Ie,Q,le)=>{},sqlite3_prepare_v3:(S,b,V,ce,ze,ct)=>{},sqlite3_prepare_v2:(S,b,V,ce,ze)=>{},sqlite3_exec:(S,b,V,ce,ze)=>{},sqlite3_randomness:(S,b)=>{}});const re={affirmBindableTypedArray:ve,flexibleString:x,bigIntFits32:oe,bigIntFits64:pt,bigIntFitsDouble:O,isBindableTypedArray:Ce,isInt32:Qe,isSQLableTypedArray:Oe,isTypedArray:I,typedArrayToString:wt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:G,toss:function(...S){throw new Error(S.join(" "))},toss3:Ne,typedArrayPart:U};Object.assign(v,{ptrSizeof:f.wasmPtrSizeof||4,ptrIR:f.wasmPtrIR||"i32",bigIntEnabled:!!f.bigIntEnabled,exports:f.exports||Ne("Missing API config.exports (WASM module exports)."),memory:f.memory||f.exports.memory||Ne("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),v.allocFromTypedArray=function(S){S instanceof ArrayBuffer&&(S=new Uint8Array(S)),ve(S);const b=v.alloc(S.byteLength||1);return v.heapForSize(S.constructor).set(S.byteLength?S:[0],b),b};{const S=f.allocExportName,b=f.deallocExportName,V=f.reallocExportName;for(const ce of[S,b,V])v.exports[ce]instanceof Function||Ne("Missing required exports[",ce,"] function.");v.alloc=function ce(ze){return ce.impl(ze)||K.toss("Failed to allocate",ze," bytes.")},v.alloc.impl=v.exports[S],v.realloc=function ce(ze,ct){const _t=ce.impl(ze,ct);return ct?_t||K.toss("Failed to reallocate",ct," bytes."):0},v.realloc.impl=v.exports[V],v.dealloc=v.exports[b]}v.compileOptionUsed=function S(b){if(arguments.length){if(Array.isArray(b)){const V={};return b.forEach(ce=>{V[ce]=h.sqlite3_compileoption_used(ce)}),V}else if(typeof b=="object")return Object.keys(b).forEach(V=>{b[V]=h.sqlite3_compileoption_used(V)}),b}else{if(S._result)return S._result;S._opt||(S._rx=/^([^=]+)=(.+)/,S._rxInt=/^-?\d+$/,S._opt=function(_t,Ie){const Q=S._rx.exec(_t);Ie[0]=Q?Q[1]:_t,Ie[1]=Q?S._rxInt.test(Q[2])?+Q[2]:Q[2]:!0});const V={},ce=[0,0];let ze=0,ct;for(;ct=h.sqlite3_compileoption_get(ze++);)S._opt(ct,ce),V[ce[0]]=ce[1];return S._result=V}return typeof b=="string"?!!h.sqlite3_compileoption_used(b):!1},v.pstack=Object.assign(Object.create(null),{restore:v.exports.sqlite3_wasm_pstack_restore,alloc:function(S){return typeof S=="string"&&!(S=v.sizeofIR(S))&&K.toss("Invalid value for pstack.alloc(",arguments[0],")"),v.exports.sqlite3_wasm_pstack_alloc(S)||K.toss("Could not allocate",S,"bytes from the pstack.")},allocChunks:function(S,b){typeof b=="string"&&!(b=v.sizeofIR(b))&&K.toss("Invalid size value for allocChunks(",arguments[1],")");const V=v.pstack.alloc(S*b),ce=[];let ze=0,ct=0;for(;ze<S;++ze,ct+=b)ce.push(V+ct);return ce},allocPtr:(S=1,b=!0)=>S===1?v.pstack.alloc(b?8:v.ptrSizeof):v.pstack.allocChunks(S,b?8:v.ptrSizeof)}),Object.defineProperties(v.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:v.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:v.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:v.exports.sqlite3_wasm_pstack_remaining}}),h.sqlite3_randomness=(...S)=>{if(S.length===1&&re.isTypedArray(S[0])&&S[0].BYTES_PER_ELEMENT===1){const b=S[0];if(b.byteLength===0)return v.exports.sqlite3_randomness(0,0),b;const V=v.pstack.pointer;try{let ce=b.byteLength,ze=0;const ct=v.exports.sqlite3_randomness,_t=v.heap8u(),Ie=ce<512?ce:512,Q=v.pstack.alloc(Ie);do{const le=ce>Ie?Ie:ce;ct(le,Q),b.set(U(_t,Q,Q+le),ze),ce-=le,ze+=le}while(ce>0)}catch(ce){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",ce)}finally{v.pstack.restore(V)}return b}v.exports.sqlite3_randomness(...S)};let Te;if(h.sqlite3_wasmfs_opfs_dir=function(){if(Te!==void 0)return Te;const S=f.wasmfsOpfsDir;if(!S||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Te="";try{return S&&v.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],S)===0?Te=S:Te=""}catch{return Te=""}},h.sqlite3_wasmfs_filename_is_persistent=function(S){const b=h.sqlite3_wasmfs_opfs_dir();return b&&S?S.startsWith(b+"/"):!1},h.sqlite3_js_db_uses_vfs=function(S,b,V=0){try{const ce=h.sqlite3_vfs_find(b);return ce?S?ce===h.sqlite3_js_db_vfs(S,V)?ce:!1:ce===h.sqlite3_vfs_find(0)?ce:!1:!1}catch{return!1}},h.sqlite3_js_vfs_list=function(){const S=[];let b=h.sqlite3_vfs_find(0);for(;b;){const V=new h.sqlite3_vfs(b);S.push(v.cstrToJs(V.$zName)),b=V.$pNext,V.dispose()}return S},h.sqlite3_js_db_export=function(S,b=0){S=v.xWrap.testConvertArg("sqlite3*",S),S||Ne("Invalid sqlite3* argument."),v.bigIntEnabled||Ne("BigInt64 support is not enabled.");const V=v.scopedAllocPush();let ce;try{const ze=v.scopedAlloc(8+v.ptrSizeof),ct=ze+8,_t=b?v.isPtr(b)?b:v.scopedAllocCString(""+b):0;let Ie=v.exports.sqlite3_wasm_db_serialize(S,_t,ct,ze,0);Ie&&Ne("Database serialization failed with code",z.capi.sqlite3_js_rc_str(Ie)),ce=v.peekPtr(ct);const Q=v.peek(ze,"i64");return Ie=Q?v.heap8u().slice(ce,ce+Number(Q)):new Uint8Array,Ie}finally{ce&&v.exports.sqlite3_free(ce),v.scopedAllocPop(V)}},h.sqlite3_js_db_vfs=(S,b=0)=>v.sqlite3_wasm_db_vfs(S,b),h.sqlite3_js_aggregate_context=(S,b)=>h.sqlite3_aggregate_context(S,b)||(b?K.toss("Cannot allocate",b,"bytes for sqlite3_aggregate_context()"):0),h.sqlite3_js_posix_create_file=function(S,b,V){let ce;b&&v.isPtr(b)?ce=b:b instanceof ArrayBuffer||b instanceof Uint8Array?(ce=v.allocFromTypedArray(b),(arguments.length<3||!re.isInt32(V)||V<0)&&(V=b.byteLength)):_e.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!re.isInt32(V)||V<0)&&_e.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const ze=v.sqlite3_wasm_posix_create_file(S,ce,V);ze&&_e.toss("Creation of file failed with sqlite3 result code",h.sqlite3_js_rc_str(ze))}finally{v.dealloc(ce)}},h.sqlite3_js_vfs_create_file=function(S,b,V,ce){f.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let ze;V?(v.isPtr(V)?ze=V:V instanceof ArrayBuffer&&(V=new Uint8Array(V)),V instanceof Uint8Array?(ze=v.allocFromTypedArray(V),(arguments.length<4||!re.isInt32(ce)||ce<0)&&(ce=V.byteLength)):_e.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):ze=0,(!re.isInt32(ce)||ce<0)&&(v.dealloc(ze),_e.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const ct=v.sqlite3_wasm_vfs_create_file(S,b,ze,ce);ct&&_e.toss("Creation of file failed with sqlite3 result code",h.sqlite3_js_rc_str(ct))}finally{v.dealloc(ze)}},re.isUIThread()){const S=function(b){const V=Object.create(null);return V.prefix="kvvfs-"+b,V.stores=[],(b==="session"||b==="")&&V.stores.push(globalThis.sessionStorage),(b==="local"||b==="")&&V.stores.push(globalThis.localStorage),V};h.sqlite3_js_kvvfs_clear=function(b=""){let V=0;const ce=S(b);return ce.stores.forEach(ze=>{const ct=[];let _t;for(_t=0;_t<ze.length;++_t){const Ie=ze.key(_t);Ie.startsWith(ce.prefix)&&ct.push(Ie)}ct.forEach(Ie=>ze.removeItem(Ie)),V+=ct.length}),V},h.sqlite3_js_kvvfs_size=function(b=""){let V=0;const ce=S(b);return ce.stores.forEach(ze=>{let ct;for(ct=0;ct<ze.length;++ct){const _t=ze.key(ct);_t.startsWith(ce.prefix)&&(V+=_t.length,V+=ze.getItem(_t).length)}}),V*2}}h.sqlite3_db_config=function(S,b,...V){switch(this.s||(this.s=v.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=v.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=v.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),b){case h.SQLITE_DBCONFIG_ENABLE_FKEY:case h.SQLITE_DBCONFIG_ENABLE_TRIGGER:case h.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case h.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case h.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case h.SQLITE_DBCONFIG_ENABLE_QPSG:case h.SQLITE_DBCONFIG_TRIGGER_EQP:case h.SQLITE_DBCONFIG_RESET_DATABASE:case h.SQLITE_DBCONFIG_DEFENSIVE:case h.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case h.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case h.SQLITE_DBCONFIG_DQS_DML:case h.SQLITE_DBCONFIG_DQS_DDL:case h.SQLITE_DBCONFIG_ENABLE_VIEW:case h.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case h.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case h.SQLITE_DBCONFIG_STMT_SCANSTATUS:case h.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(S,b,V[0],V[1]||0);case h.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(S,b,V[0],V[1],V[2]);case h.SQLITE_DBCONFIG_MAINDBNAME:return this.s(S,b,V[0]);default:return h.SQLITE_MISUSE}}.bind(Object.create(null)),h.sqlite3_value_to_js=function(S,b=!0){let V;const ce=h.sqlite3_value_type(S);switch(ce){case h.SQLITE_INTEGER:v.bigIntEnabled?(V=h.sqlite3_value_int64(S),re.bigIntFitsDouble(V)&&(V=Number(V))):V=h.sqlite3_value_double(S);break;case h.SQLITE_FLOAT:V=h.sqlite3_value_double(S);break;case h.SQLITE_TEXT:V=h.sqlite3_value_text(S);break;case h.SQLITE_BLOB:{const ze=h.sqlite3_value_bytes(S),ct=h.sqlite3_value_blob(S);ze&&!ct&&z.WasmAllocError.toss("Cannot allocate memory for blob argument of",ze,"byte(s)"),V=ze?v.heap8u().slice(ct,ct+Number(ze)):null;break}case h.SQLITE_NULL:V=null;break;default:b&&Ne(h.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",ce),V=void 0}return V},h.sqlite3_values_to_js=function(S,b,V=!0){let ce;const ze=[];for(ce=0;ce<S;++ce)ze.push(h.sqlite3_value_to_js(v.peekPtr(b+v.ptrSizeof*ce),V));return ze},h.sqlite3_result_error_js=function(S,b){b instanceof K?h.sqlite3_result_error_nomem(S):h.sqlite3_result_error(S,""+b,-1)},h.sqlite3_result_js=function(S,b){if(b instanceof Error){h.sqlite3_result_error_js(S,b);return}try{switch(typeof b){case"undefined":break;case"boolean":h.sqlite3_result_int(S,b?1:0);break;case"bigint":re.bigIntFits32(b)?h.sqlite3_result_int(S,Number(b)):re.bigIntFitsDouble(b)?h.sqlite3_result_double(S,Number(b)):v.bigIntEnabled?re.bigIntFits64(b)?h.sqlite3_result_int64(S,b):Ne("BigInt value",b.toString(),"is too BigInt for int64."):Ne("BigInt value",b.toString(),"is too BigInt.");break;case"number":{let V;re.isInt32(b)?V=h.sqlite3_result_int:v.bigIntEnabled&&Number.isInteger(b)&&re.bigIntFits64(BigInt(b))?V=h.sqlite3_result_int64:V=h.sqlite3_result_double,V(S,b);break}case"string":{const[V,ce]=v.allocCString(b,!0);h.sqlite3_result_text(S,V,ce,h.SQLITE_WASM_DEALLOC);break}case"object":if(b===null){h.sqlite3_result_null(S);break}else if(re.isBindableTypedArray(b)){const V=v.allocFromTypedArray(b);h.sqlite3_result_blob(S,V,b.byteLength,h.SQLITE_WASM_DEALLOC);break}default:Ne("Don't not how to handle this UDF result value:",typeof b,b)}}catch(V){h.sqlite3_result_error_js(S,V)}},h.sqlite3_column_js=function(S,b,V=!0){const ce=h.sqlite3_column_value(S,b);return ce===0?void 0:h.sqlite3_value_to_js(ce,V)};const A=function(S,b,V){V=h[V],this.ptr?v.pokePtr(this.ptr,0):this.ptr=v.allocPtr();const ce=V(S,b,this.ptr);if(ce)return _e.toss(ce,arguments[2]+"() failed with code "+ce);const ze=v.peekPtr(this.ptr);return ze?h.sqlite3_value_to_js(ze,!0):void 0}.bind(Object.create(null));h.sqlite3_preupdate_new_js=(S,b)=>A(S,b,"sqlite3_preupdate_new"),h.sqlite3_preupdate_old_js=(S,b)=>A(S,b,"sqlite3_preupdate_old"),h.sqlite3changeset_new_js=(S,b)=>A(S,b,"sqlite3changeset_new"),h.sqlite3changeset_old_js=(S,b)=>A(S,b,"sqlite3changeset_old");const z={WasmAllocError:K,SQLite3Error:_e,capi:h,util:re,wasm:v,config:f,version:Object.create(null),client:void 0,asyncPostInit:async function S(){if(S.isReady instanceof Promise)return S.isReady;let b=a.initializersAsync;delete a.initializersAsync;const V=async()=>(z.__isUnderTest||(delete z.util,delete z.StructBinder),z),ce=ct=>{throw f.error("an async sqlite3 initializer failed:",ct),ct};if(!b||!b.length)return S.isReady=V().catch(ce);b=b.map(ct=>ct instanceof Function?async _t=>ct(z):ct),b.push(V);let ze=Promise.resolve(z);for(;b.length;)ze=ze.then(b.shift());return S.isReady=ze.catch(ce)},scriptInfo:void 0};try{a.initializers.forEach(S=>{S(z)})}catch(S){throw console.error("sqlite3 bootstrap initializer threw:",S),S}return delete a.initializers,a.sqlite3=z,z},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(a){a.bigIntEnabled===void 0&&(a.bigIntEnabled=!!globalThis.BigInt64Array);const d=(...x)=>{throw new Error(x.join(" "))};a.exports||Object.defineProperty(a,"exports",{enumerable:!0,configurable:!0,get:()=>a.instance&&a.instance.exports});const f=a.pointerIR||"i32",h=a.ptrSizeof=f==="i32"?4:f==="i64"?8:d("Unhandled ptrSizeof:",f),v=Object.create(null);v.heapSize=0,v.memory=null,v.freeFuncIndexes=[],v.scopedAlloc=[],v.utf8Decoder=new TextDecoder,v.utf8Encoder=new TextEncoder("utf-8"),a.sizeofIR=x=>{switch(x){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return h;default:return(""+x).endsWith("*")?h:void 0}};const F=function(){if(!v.memory)v.memory=a.memory instanceof WebAssembly.Memory?a.memory:a.exports.memory;else if(v.heapSize===v.memory.buffer.byteLength)return v;const x=v.memory.buffer;return v.HEAP8=new Int8Array(x),v.HEAP8U=new Uint8Array(x),v.HEAP16=new Int16Array(x),v.HEAP16U=new Uint16Array(x),v.HEAP32=new Int32Array(x),v.HEAP32U=new Uint32Array(x),a.bigIntEnabled&&(v.HEAP64=new BigInt64Array(x),v.HEAP64U=new BigUint64Array(x)),v.HEAP32F=new Float32Array(x),v.HEAP64F=new Float64Array(x),v.heapSize=x.byteLength,v};a.heap8=()=>F().HEAP8,a.heap8u=()=>F().HEAP8U,a.heap16=()=>F().HEAP16,a.heap16u=()=>F().HEAP16U,a.heap32=()=>F().HEAP32,a.heap32u=()=>F().HEAP32U,a.heapForSize=function(x,K=!0){const re=v.memory&&v.heapSize===v.memory.buffer.byteLength?v:F();switch(x){case Int8Array:return re.HEAP8;case Uint8Array:return re.HEAP8U;case Int16Array:return re.HEAP16;case Uint16Array:return re.HEAP16U;case Int32Array:return re.HEAP32;case Uint32Array:return re.HEAP32U;case 8:return K?re.HEAP8U:re.HEAP8;case 16:return K?re.HEAP16U:re.HEAP16;case 32:return K?re.HEAP32U:re.HEAP32;case 64:if(re.HEAP64)return K?re.HEAP64U:re.HEAP64;break;default:if(a.bigIntEnabled){if(x===globalThis.BigUint64Array)return re.HEAP64U;if(x===globalThis.BigInt64Array)return re.HEAP64;break}}d("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},a.functionTable=function(){return a.exports.__indirect_function_table},a.functionEntry=function(x){const K=a.functionTable();return x<K.length?K.get(x):void 0},a.jsFuncToWasm=function x(K,re){if(x._||(x._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(z,S,b){b<128?z[S](b):z[S](b%128|128,b>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(z){const S=x._.rxJSig.exec(z);return S?S[2]:z.substr(1)},letterType:z=>x._.sigTypes[z]||d("Invalid signature letter:",z),pushSigType:(z,S)=>z.push(x._.typeCodes[x._.letterType(S)])}),typeof K=="string"){const z=re;re=K,K=z}const Te=x._.sigParams(re),A=[1,96];x._.uleb128Encode(A,"push",Te.length);for(const z of Te)x._.pushSigType(A,z);return re[0]==="v"?A.push(0):(A.push(1),x._.pushSigType(A,re[0])),x._.uleb128Encode(A,"unshift",A.length),A.unshift(0,97,115,109,1,0,0,0,1),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(A)),{e:{f:K}}).exports.f};const X=function(K,re,Te){if(Te&&!v.scopedAlloc.length&&d("No scopedAllocPush() scope is active."),typeof K=="string"){const b=re;re=K,K=b}(typeof re!="string"||!(K instanceof Function))&&d("Invalid arguments: expecting (function,signature) or (signature,function).");const A=a.functionTable(),z=A.length;let S;for(;v.freeFuncIndexes.length&&(S=v.freeFuncIndexes.pop(),A.get(S));){S=null;continue}S||(S=z,A.grow(1));try{return A.set(S,K),Te&&v.scopedAlloc[v.scopedAlloc.length-1].push(S),S}catch(b){if(!(b instanceof TypeError))throw S===z&&v.freeFuncIndexes.push(z),b}try{const b=a.jsFuncToWasm(K,re);A.set(S,b),Te&&v.scopedAlloc[v.scopedAlloc.length-1].push(S)}catch(b){throw S===z&&v.freeFuncIndexes.push(z),b}return S};a.installFunction=(x,K)=>X(x,K,!1),a.scopedInstallFunction=(x,K)=>X(x,K,!0),a.uninstallFunction=function(x){if(!x&&x!==0)return;const K=v.freeFuncIndexes,re=a.functionTable();K.push(x);const Te=re.get(x);return re.set(x,null),Te},a.peek=function(K,re="i8"){re.endsWith("*")&&(re=f);const Te=v.memory&&v.heapSize===v.memory.buffer.byteLength?v:F(),A=Array.isArray(K)?[]:void 0;let z;do{switch(A&&(K=arguments[0].shift()),re){case"i1":case"i8":z=Te.HEAP8[K>>0];break;case"i16":z=Te.HEAP16[K>>1];break;case"i32":z=Te.HEAP32[K>>2];break;case"float":case"f32":z=Te.HEAP32F[K>>2];break;case"double":case"f64":z=Number(Te.HEAP64F[K>>3]);break;case"i64":if(a.bigIntEnabled){z=BigInt(Te.HEAP64[K>>3]);break}default:d("Invalid type for peek():",re)}A&&A.push(z)}while(A&&arguments[0].length);return A||z},a.poke=function(x,K,re="i8"){re.endsWith("*")&&(re=f);const Te=v.memory&&v.heapSize===v.memory.buffer.byteLength?v:F();for(const A of Array.isArray(x)?x:[x])switch(re){case"i1":case"i8":Te.HEAP8[A>>0]=K;continue;case"i16":Te.HEAP16[A>>1]=K;continue;case"i32":Te.HEAP32[A>>2]=K;continue;case"float":case"f32":Te.HEAP32F[A>>2]=K;continue;case"double":case"f64":Te.HEAP64F[A>>3]=K;continue;case"i64":if(Te.HEAP64){Te.HEAP64[A>>3]=BigInt(K);continue}default:d("Invalid type for poke(): "+re)}return this},a.peekPtr=(...x)=>a.peek(x.length===1?x[0]:x,f),a.pokePtr=(x,K=0)=>a.poke(x,K,f),a.peek8=(...x)=>a.peek(x.length===1?x[0]:x,"i8"),a.poke8=(x,K)=>a.poke(x,K,"i8"),a.peek16=(...x)=>a.peek(x.length===1?x[0]:x,"i16"),a.poke16=(x,K)=>a.poke(x,K,"i16"),a.peek32=(...x)=>a.peek(x.length===1?x[0]:x,"i32"),a.poke32=(x,K)=>a.poke(x,K,"i32"),a.peek64=(...x)=>a.peek(x.length===1?x[0]:x,"i64"),a.poke64=(x,K)=>a.poke(x,K,"i64"),a.peek32f=(...x)=>a.peek(x.length===1?x[0]:x,"f32"),a.poke32f=(x,K)=>a.poke(x,K,"f32"),a.peek64f=(...x)=>a.peek(x.length===1?x[0]:x,"f64"),a.poke64f=(x,K)=>a.poke(x,K,"f64"),a.getMemValue=a.peek,a.getPtrValue=a.peekPtr,a.setMemValue=a.poke,a.setPtrValue=a.pokePtr,a.isPtr32=x=>typeof x=="number"&&x===(x|0)&&x>=0,a.isPtr=a.isPtr32,a.cstrlen=function(x){if(!x||!a.isPtr(x))return null;const K=F().HEAP8U;let re=x;for(;K[re]!==0;++re);return re-x};const _e=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ne=function(x,K,re){return v.utf8Decoder.decode(x.buffer instanceof _e?x.slice(K,re):x.subarray(K,re))};a.cstrToJs=function(x){const K=a.cstrlen(x);return K?Ne(F().HEAP8U,x,x+K):K===null?K:""},a.jstrlen=function(x){if(typeof x!="string")return null;const K=x.length;let re=0;for(let Te=0;Te<K;++Te){let A=x.charCodeAt(Te);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|x.charCodeAt(++Te)&1023),A<=127?++re:A<=2047?re+=2:A<=65535?re+=3:re+=4}return re},a.jstrcpy=function(x,K,re=0,Te=-1,A=!0){if((!K||!(K instanceof Int8Array)&&!(K instanceof Uint8Array))&&d("jstrcpy() target must be an Int8Array or Uint8Array."),Te<0&&(Te=K.length-re),!(Te>0)||!(re>=0))return 0;let z=0,S=x.length;const b=re,V=re+Te-(A?1:0);for(;z<S&&re<V;++z){let ce=x.charCodeAt(z);if(ce>=55296&&ce<=57343&&(ce=65536+((ce&1023)<<10)|x.charCodeAt(++z)&1023),ce<=127){if(re>=V)break;K[re++]=ce}else if(ce<=2047){if(re+1>=V)break;K[re++]=192|ce>>6,K[re++]=128|ce&63}else if(ce<=65535){if(re+2>=V)break;K[re++]=224|ce>>12,K[re++]=128|ce>>6&63,K[re++]=128|ce&63}else{if(re+3>=V)break;K[re++]=240|ce>>18,K[re++]=128|ce>>12&63,K[re++]=128|ce>>6&63,K[re++]=128|ce&63}}return A&&(K[re++]=0),re-b},a.cstrncpy=function(x,K,re){if((!x||!K)&&d("cstrncpy() does not accept NULL strings."),re<0)re=a.cstrlen(strPtr)+1;else if(!(re>0))return 0;const Te=a.heap8u();let A=0,z;for(;A<re&&(z=Te[K+A]);++A)Te[x+A]=z;return A<re&&(Te[x+A++]=0),A},a.jstrToUintArray=(x,K=!1)=>v.utf8Encoder.encode(K?x+"\0":x);const Qe=(x,K)=>{(!(x.alloc instanceof Function)||!(x.dealloc instanceof Function))&&d("Object is missing alloc() and/or dealloc() function(s)","required by",K+"().")},pt=function(x,K,re,Te){if(Qe(a,Te),typeof x!="string")return null;{const A=v.utf8Encoder.encode(x),z=re(A.length+1),S=F().HEAP8U;return S.set(A,z),S[z+A.length]=0,K?[z,A.length]:z}};a.allocCString=(x,K=!1)=>pt(x,K,a.alloc,"allocCString()"),a.scopedAllocPush=function(){Qe(a,"scopedAllocPush");const x=[];return v.scopedAlloc.push(x),x},a.scopedAllocPop=function(x){Qe(a,"scopedAllocPop");const K=arguments.length?v.scopedAlloc.indexOf(x):v.scopedAlloc.length-1;K<0&&d("Invalid state object for scopedAllocPop()."),arguments.length===0&&(x=v.scopedAlloc[K]),v.scopedAlloc.splice(K,1);for(let re;re=x.pop();)a.functionEntry(re)?a.uninstallFunction(re):a.dealloc(re)},a.scopedAlloc=function(x){v.scopedAlloc.length||d("No scopedAllocPush() scope is active.");const K=a.alloc(x);return v.scopedAlloc[v.scopedAlloc.length-1].push(K),K},Object.defineProperty(a.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>v.scopedAlloc.length,set:()=>d("The 'active' property is read-only.")}),a.scopedAllocCString=(x,K=!1)=>pt(x,K,a.scopedAlloc,"scopedAllocCString()");const oe=function(x,K){const re=a[x?"scopedAlloc":"alloc"]((K.length+1)*a.ptrSizeof);let Te=0;return K.forEach(A=>{a.pokePtr(re+a.ptrSizeof*Te++,a[x?"scopedAllocCString":"allocCString"](""+A))}),a.pokePtr(re+a.ptrSizeof*Te,0),re};a.scopedAllocMainArgv=x=>oe(!0,x),a.allocMainArgv=x=>oe(!1,x),a.cArgvToJs=(x,K)=>{const re=[];for(let Te=0;Te<x;++Te){const A=a.peekPtr(K+a.ptrSizeof*Te);re.push(A?a.cstrToJs(A):null)}return re},a.scopedAllocCall=function(x){a.scopedAllocPush();try{return x()}finally{a.scopedAllocPop()}};const O=function(x,K,re){Qe(a,re);const Te=K?"i64":f;let A=a[re](x*(K?8:h));if(a.poke(A,0,Te),x===1)return A;const z=[A];for(let S=1;S<x;++S)A+=K?8:h,z[S]=A,a.poke(A,0,Te);return z};a.allocPtr=(x=1,K=!0)=>O(x,K,"alloc"),a.scopedAllocPtr=(x=1,K=!0)=>O(x,K,"scopedAlloc"),a.xGet=function(x){return a.exports[x]||d("Cannot find exported symbol:",x)};const I=(x,K)=>d(x+"() requires",K,"argument(s).");a.xCall=function(x,...K){const re=a.xGet(x);return re instanceof Function||d("Exported symbol",x,"is not a function."),re.length!==K.length&&I(x,re.length),arguments.length===2&&Array.isArray(arguments[1])?re.apply(null,arguments[1]):re.apply(null,K)},v.xWrap=Object.create(null),v.xWrap.convert=Object.create(null),v.xWrap.convert.arg=new Map,v.xWrap.convert.result=new Map;const W=v.xWrap.convert.arg,G=v.xWrap.convert.result;a.bigIntEnabled&&W.set("i64",x=>BigInt(x));const U=f==="i32"?x=>x|0:x=>BigInt(x)|BigInt(0);W.set("i32",U).set("i16",x=>(x|0)&65535).set("i8",x=>(x|0)&255).set("f32",x=>Number(x).valueOf()).set("float",W.get("f32")).set("f64",W.get("f32")).set("double",W.get("f64")).set("int",W.get("i32")).set("null",x=>x).set(null,W.get("null")).set("**",U).set("*",U),G.set("*",U).set("pointer",U).set("number",x=>Number(x)).set("void",x=>{}).set("null",x=>x).set(null,G.get("null"));{const x=["i8","i16","i32","int","f32","float","f64","double"];a.bigIntEnabled&&x.push("i64");const K=W.get(f);for(const re of x)W.set(re+"*",K),G.set(re+"*",K),G.set(re,W.get(re)||d("Missing arg converter:",re))}const Ce=function(x){return typeof x=="string"?a.scopedAllocCString(x):x?U(x):null};W.set("string",Ce).set("utf8",Ce).set("pointer",Ce),G.set("string",x=>a.cstrToJs(x)).set("utf8",G.get("string")).set("string:dealloc",x=>{try{return x?a.cstrToJs(x):null}finally{a.dealloc(x)}}).set("utf8:dealloc",G.get("string:dealloc")).set("json",x=>JSON.parse(a.cstrToJs(x))).set("json:dealloc",x=>{try{return x?JSON.parse(a.cstrToJs(x)):null}finally{a.dealloc(x)}});const Oe=class{constructor(x){this.name=x.name||"unnamed adapter"}convertArg(x,K,re){d("AbstractArgAdapter must be subclassed.")}};W.FuncPtrAdapter=class xr extends Oe{constructor(K){super(K),W.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",K),this.name=K.name||"unnamed",this.signature=K.signature,K.contextKey instanceof Function&&(this.contextKey=K.contextKey,K.bindScope||(K.bindScope="context")),this.bindScope=K.bindScope||d("FuncPtrAdapter options requires a bindScope (explicit or implied)."),xr.bindScopes.indexOf(K.bindScope)<0&&d("Invalid options.bindScope ("+K.bindMod+") for FuncPtrAdapter. Expecting one of: ("+xr.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=K.callProxy instanceof Function?K.callProxy:void 0}contextKey(K,re){return this}contextMap(K){const re=this.__cmap||(this.__cmap=new Map);let Te=re.get(K);return Te===void 0&&re.set(K,Te=[]),Te}convertArg(K,re,Te){let A=this.singleton;if(!A&&this.isContext&&(A=this.contextMap(this.contextKey(re,Te))),A&&A[0]===K)return A[1];if(K instanceof Function){this.callProxy&&(K=this.callProxy(K));const z=X(K,this.signature,this.isTransient);if(xr.debugFuncInstall&&xr.debugOut("FuncPtrAdapter installed",this,this.contextKey(re,Te),"@"+z,K),A){if(A[1]){xr.debugFuncInstall&&xr.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(re,Te),"@"+A[1],K);try{v.scopedAlloc[v.scopedAlloc.length-1].push(A[1])}catch{}}A[0]=K,A[1]=z}return z}else if(a.isPtr(K)||K===null||K===void 0){if(A&&A[1]&&A[1]!==K){xr.debugFuncInstall&&xr.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(re,Te),"@"+A[1],K);try{v.scopedAlloc[v.scopedAlloc.length-1].push(A[1])}catch{}A[0]=A[1]=K|0}return K||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},W.FuncPtrAdapter.warnOnUse=!1,W.FuncPtrAdapter.debugFuncInstall=!1,W.FuncPtrAdapter.debugOut=console.debug.bind(console),W.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const ve=x=>W.get(x)||d("Argument adapter not found:",x),Ve=x=>G.get(x)||d("Result adapter not found:",x);v.xWrap.convertArg=(x,...K)=>ve(x)(...K),v.xWrap.convertArgNoCheck=(x,...K)=>W.get(x)(...K),v.xWrap.convertResult=(x,K)=>x===null?K:x?Ve(x)(K):void 0,v.xWrap.convertResultNoCheck=(x,K)=>x===null?K:x?G.get(x)(K):void 0,a.xWrap=function(x,K,...re){arguments.length===3&&Array.isArray(arguments[2])&&(re=arguments[2]),a.isPtr(x)&&(x=a.functionEntry(x)||d("Function pointer not found in WASM function table."));const Te=x instanceof Function,A=Te?x:a.xGet(x);if(Te&&(x=A.name||"unnamed function"),re.length!==A.length&&I(x,A.length),K===null&&A.length===0)return A;K!=null&&Ve(K);for(const S of re)S instanceof Oe?W.set(S,(...b)=>S.convertArg(...b)):ve(S);const z=v.xWrap;return A.length===0?(...S)=>S.length?I(x,A.length):z.convertResult(K,A.call(null)):function(...S){S.length!==A.length&&I(x,A.length);const b=a.scopedAllocPush();try{for(const V in S)S[V]=z.convertArgNoCheck(re[V],S[V],S,V);return z.convertResultNoCheck(K,A.apply(null,S))}finally{a.scopedAllocPop(b)}}};const wt=function(x,K,re,Te,A,z){if(typeof re=="string"){if(K===1)return z.get(re);if(K===2){if(Te)Te instanceof Function||d(A,"requires a function argument.");else return delete z.get(re),x;return z.set(re,Te),x}}d("Invalid arguments to",A)};return a.xWrap.resultAdapter=function x(K,re){return wt(x,arguments.length,K,re,"resultAdapter()",G)},a.xWrap.argAdapter=function x(K,re){return wt(x,arguments.length,K,re,"argAdapter()",W)},a.xWrap.FuncPtrAdapter=W.FuncPtrAdapter,a.xCallWrapped=function(x,K,re,...Te){return Array.isArray(arguments[3])&&(Te=arguments[3]),a.xWrap(x,K,re||[]).apply(null,Te||[])},a.xWrap.testConvertArg=v.xWrap.convertArg,a.xWrap.testConvertResult=v.xWrap.convertResult,a},globalThis.WhWasmUtilInstaller.yawl=function(a){const d=()=>fetch(a.uri,{credentials:"same-origin"}),f=this,h=function(F){if(a.wasmUtilTarget){const X=(...Ne)=>{throw new Error(Ne.join(" "))},_e=a.wasmUtilTarget;if(_e.module=F.module,_e.instance=F.instance,_e.instance.exports.memory||(_e.memory=a.imports&&a.imports.env&&a.imports.env.memory||X("Missing 'memory' object!")),!_e.alloc&&F.instance.exports.malloc){const Ne=F.instance.exports;_e.alloc=function(Qe){return Ne.malloc(Qe)||X("Allocation of",Qe,"bytes failed.")},_e.dealloc=function(Qe){Ne.free(Qe)}}f(_e)}return a.onload&&a.onload(F,a),F};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(d(),a.imports||{}).then(h)}:function(){return d().then(X=>X.arrayBuffer()).then(X=>WebAssembly.instantiate(X,a.imports||{})).then(h)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function a(d){const f=(...me)=>{throw new Error(me.join(" "))};!(d.heap instanceof WebAssembly.Memory)&&!(d.heap instanceof Function)&&f("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(me){d[me]instanceof Function||f("Config option '"+me+"' must be a function.")});const h=a,v=d.heap instanceof Function?d.heap:()=>new Uint8Array(d.heap.buffer),F=d.alloc,X=d.dealloc,_e=d.log||console.log.bind(console),Ne=d.memberPrefix||"",Qe=d.memberSuffix||"",pt=d.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!d.bigIntEnabled,oe=globalThis.BigInt,O=globalThis.BigInt64Array,I=d.ptrSizeof||4,W=d.ptrIR||"i32";h.debugFlags||(h.__makeDebugFlags=function(me=null){me&&me.__flags&&(me=me.__flags);const Ke=function Je(rt){return arguments.length===0?Je.__flags:(rt<0?(delete Je.__flags.getter,delete Je.__flags.setter,delete Je.__flags.alloc,delete Je.__flags.dealloc):(Je.__flags.getter=(1&rt)!==0,Je.__flags.setter=(2&rt)!==0,Je.__flags.alloc=(4&rt)!==0,Je.__flags.dealloc=(8&rt)!==0),Je._flags)};return Object.defineProperty(Ke,"__flags",{iterable:!1,writable:!1,value:Object.create(me)}),me||Ke(0),Ke},h.debugFlags=h.__makeDebugFlags());const G=function(){const me=new ArrayBuffer(2);return new DataView(me).setInt16(0,256,!0),new Int16Array(me)[0]===256}(),U=me=>me[1]==="(",Ce=me=>me==="P",Oe=me=>U(me)?"p":me[0],ve=function(me){switch(Oe(me)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return W;case"j":return"i64";case"f":return"float";case"d":return"double"}f("Unhandled signature IR:",me)},Ve=O?()=>!0:()=>f("BigInt64Array is not available."),wt=function(me){switch(Oe(me)){case"p":case"P":case"s":{switch(I){case 4:return"getInt32";case 8:return Ve()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ve()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}f("Unhandled DataView getter for signature:",me)},x=function(me){switch(Oe(me)){case"p":case"P":case"s":{switch(I){case 4:return"setInt32";case 8:return Ve()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ve()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}f("Unhandled DataView setter for signature:",me)},K=function(me){switch(Oe(me)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ve()&&oe;case"p":case"P":case"s":switch(I){case 4:return Number;case 8:return Ve()&&oe}break}f("Unhandled DataView set wrapper for signature:",me)},re=(me,Ke)=>me+"::"+Ke,Te=function(me,Ke){return()=>f(re(me,Ke),"is read-only.")},A=new WeakMap,z="(pointer-is-external)",S=function(me,Ke,Je){if(Je||(Je=A.get(Ke)),Je){if(A.delete(Ke),Array.isArray(Ke.ondispose)){let rt;for(;rt=Ke.ondispose.shift();)try{rt instanceof Function?rt.call(Ke):rt instanceof et?rt.dispose():typeof rt=="number"&&X(rt)}catch(Bt){console.warn("ondispose() for",me.structName,"@",Je,"threw. NOT propagating it.",Bt)}}else if(Ke.ondispose instanceof Function)try{Ke.ondispose()}catch(rt){console.warn("ondispose() for",me.structName,"@",Je,"threw. NOT propagating it.",rt)}delete Ke.ondispose,me.debugFlags.__flags.dealloc&&_e("debug.dealloc:",Ke[z]?"EXTERNAL":"",me.structName,"instance:",me.structInfo.sizeof,"bytes @"+Je),Ke[z]||X(Je)}},b=me=>({configurable:!1,writable:!1,iterable:!1,value:me}),V=function(me,Ke,Je){let rt=!Je;Je?Object.defineProperty(Ke,z,b(Je)):(Je=F(me.structInfo.sizeof),Je||f("Allocation of",me.structName,"structure failed."));try{me.debugFlags.__flags.alloc&&_e("debug.alloc:",rt?"":"EXTERNAL",me.structName,"instance:",me.structInfo.sizeof,"bytes @"+Je),rt&&v().fill(0,Je,Je+me.structInfo.sizeof),A.set(Ke,Je)}catch(Bt){throw S(me,Ke,Je),Bt}},ce=function(){const me=this.pointer;return me?new Uint8Array(v().slice(me,me+this.structInfo.sizeof)):null},ct=b(me=>Ne+me+Qe),_t=function(me,Ke,Je=!0){let rt=me.members[Ke];if(!rt&&(Ne||Qe)){for(const Bt of Object.values(me.members))if(Bt.key===Ke){rt=Bt;break}!rt&&Je&&f(re(me.name,Ke),"is not a mapped struct member.")}return rt},Ie=function me(Ke,Je,rt=!1){me._||(me._=Vt=>Vt.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const Bt=_t(Ke.structInfo,Je,!0);return rt?me._(Bt.signature):Bt.signature},Q={configurable:!1,enumerable:!1,get:function(){return A.get(this)},set:()=>f("Cannot assign the 'pointer' property of a struct.")},le=b(function(){const me=[];for(const Ke of Object.keys(this.structInfo.members))me.push(this.memberKey(Ke));return me}),Ae=new TextDecoder("utf-8"),We=new TextEncoder,yt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ie=function(me,Ke,Je){return Ae.decode(me.buffer instanceof yt?me.slice(Ke,Je):me.subarray(Ke,Je))},Ee=function(me,Ke,Je=!1){const rt=_t(me.structInfo,Ke,Je);return rt&&rt.signature.length===1&&rt.signature[0]==="s"?rt:!1},Se=function(me){me.signature!=="s"&&f("Invalid member type signature for C-string value:",JSON.stringify(me))},tt=function(Ke,Je){const rt=_t(Ke.structInfo,Je,!0);Se(rt);const Bt=Ke[rt.key];if(!Bt)return null;let Vt=Bt;const Qt=v();for(;Qt[Vt]!==0;++Vt);return Bt===Vt?"":ie(Qt,Bt,Vt)},He=function(me,...Ke){me.ondispose?Array.isArray(me.ondispose)||(me.ondispose=[me.ondispose]):me.ondispose=[],me.ondispose.push(...Ke)},Tt=function(me){const Ke=We.encode(me),Je=F(Ke.length+1);Je||f("Allocation error while duplicating string:",me);const rt=v();return rt.set(Ke,Je),rt[Je+Ke.length]=0,Je},Mt=function(me,Ke,Je){const rt=_t(me.structInfo,Ke,!0);Se(rt);const Bt=Tt(Je);return me[rt.key]=Bt,He(me,Bt),me},et=function(Ke,Je){arguments[2]!==b&&f("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:b(Ke),structInfo:b(Je)})};et.prototype=Object.create(null,{dispose:b(function(){S(this.constructor,this)}),lookupMember:b(function(me,Ke=!0){return _t(this.structInfo,me,Ke)}),memberToJsString:b(function(me){return tt(this,me)}),memberIsString:b(function(me,Ke=!0){return Ee(this,me,Ke)}),memberKey:ct,memberKeys:le,memberSignature:b(function(me,Ke=!1){return Ie(this,me,Ke)}),memoryDump:b(ce),pointer:Q,setMemberCString:b(function(me,Ke){return Mt(this,me,Ke)})}),Object.assign(et.prototype,{addOnDispose:function(...me){return He(this,...me),this}}),Object.defineProperties(et,{allocCString:b(Tt),isA:b(me=>me instanceof et),hasExternalPointer:b(me=>me instanceof et&&!!me[z]),memberKey:ct});const vn=me=>Number.isFinite(me)||me instanceof(oe||Number),Mn=function me(Ke,Je,rt){if(!me._){me._={getters:{},setters:{},sw:{}};const xn=["i","c","C","p","P","s","f","d","v()"];pt&&xn.push("j"),xn.forEach(function(fr){me._.getters[fr]=wt(fr),me._.setters[fr]=x(fr),me._.sw[fr]=K(fr)});const ym=/^[ipPsjfdcC]$/,vm=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;me.sigCheck=function(fr,bm,pf,Ll){Object.prototype.hasOwnProperty.call(fr,pf)&&f(fr.structName,"already has a property named",pf+"."),ym.test(Ll)||vm.test(Ll)||f("Malformed signature for",re(fr.structName,bm)+":",Ll)}}const Bt=Ke.memberKey(Je);me.sigCheck(Ke.prototype,Je,Bt,rt.signature),rt.key=Bt,rt.name=Je;const Vt=Oe(rt.signature),Qt=re(Ke.prototype.structName,Bt),en=Ke.prototype.debugFlags.__flags,Ks=Object.create(null);Ks.configurable=!1,Ks.enumerable=!1,Ks.get=function(){en.getter&&_e("debug.getter:",me._.getters[Vt],"for",ve(Vt),Qt,"@",this.pointer,"+",rt.offset,"sz",rt.sizeof);let xn=new DataView(v().buffer,this.pointer+rt.offset,rt.sizeof)[me._.getters[Vt]](0,G);return en.getter&&_e("debug.getter:",Qt,"result =",xn),xn},rt.readOnly?Ks.set=Te(Ke.prototype.structName,Bt):Ks.set=function(xn){if(en.setter&&_e("debug.setter:",me._.setters[Vt],"for",ve(Vt),Qt,"@",this.pointer,"+",rt.offset,"sz",rt.sizeof,xn),this.pointer||f("Cannot set struct property on disposed instance."),xn===null)xn=0;else for(;!vn(xn);){if(Ce(rt.signature)&&xn instanceof et){xn=xn.pointer||0,en.setter&&_e("debug.setter:",Qt,"resolved to",xn);break}f("Invalid value for pointer-type",Qt+".")}new DataView(v().buffer,this.pointer+rt.offset,rt.sizeof)[me._.setters[Vt]](0,me._.sw[Vt](xn),G)},Object.defineProperty(Ke.prototype,Bt,Ks)},an=function me(Ke,Je){arguments.length===1?(Je=Ke,Ke=Je.name):Je.name||(Je.name=Ke),Ke||f("Struct name is required.");let rt=!1;Object.keys(Je.members).forEach(Qt=>{const en=Je.members[Qt];en.sizeof?en.sizeof===1?en.signature==="c"||en.signature==="C"||f("Unexpected sizeof==1 member",re(Je.name,Qt),"with signature",en.signature):(en.sizeof%4!==0&&(console.warn("Invalid struct member description =",en,"from",Je),f(Ke,"member",Qt,"sizeof is not aligned. sizeof="+en.sizeof)),en.offset%4!==0&&(console.warn("Invalid struct member description =",en,"from",Je),f(Ke,"member",Qt,"offset is not aligned. offset="+en.offset))):f(Ke,"member",Qt,"is missing sizeof."),(!rt||rt.offset<en.offset)&&(rt=en)}),rt?Je.sizeof<rt.offset+rt.sizeof&&f("Invalid struct config:",Ke,"max member offset ("+rt.offset+") ","extends past end of struct (sizeof="+Je.sizeof+")."):f("No member property descriptions found.");const Bt=b(h.__makeDebugFlags(me.debugFlags)),Vt=function Qt(en){this instanceof Qt?arguments.length?((en!==(en|0)||en<=0)&&f("Invalid pointer value for",Ke,"constructor."),V(Qt,this,en)):V(Qt,this):f("The",Ke,"constructor may only be called via 'new'.")};return Object.defineProperties(Vt,{debugFlags:Bt,isA:b(Qt=>Qt instanceof Vt),memberKey:ct,memberKeys:le,methodInfoForKey:b(function(Qt){}),structInfo:b(Je),structName:b(Ke)}),Vt.prototype=new et(Ke,Je,b),Object.defineProperties(Vt.prototype,{debugFlags:Bt,constructor:b(Vt)}),Object.keys(Je.members).forEach(Qt=>Mn(Vt,Qt,Je.members[Qt])),Vt};return an.StructType=et,an.config=d,an.allocCString=Tt,an.debugFlags||(an.debugFlags=h.__makeDebugFlags(h.debugFlags)),an},globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=(...oe)=>{throw new Error(oe.join(" "))};a.SQLite3Error.toss;const f=a.capi,h=a.wasm,v=a.util;if(globalThis.WhWasmUtilInstaller(h),delete globalThis.WhWasmUtilInstaller,h.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new h.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(oe,O)=>oe[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new h.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:oe=>{let O;return(I,W,G,U)=>{try{const Ce=h.cArgvToJs(W,G);return O||(O=h.cArgvToJs(W,U)),oe(Ce,O)|0}catch(Ce){return Ce.resultCode||f.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new h.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(oe,O)=>oe[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(oe,O)=>oe[0],callProxy:oe=>(O,I,W,G,U,Ce)=>{try{return W=W&&h.cstrToJs(W),G=G&&h.cstrToJs(G),U=U&&h.cstrToJs(U),Ce=Ce&&h.cstrToJs(Ce),oe(O,I,W,G,U,Ce)||0}catch(Oe){return Oe.resultCode||f.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new h.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(oe,O)=>oe[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new h.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(oe,O)=>oe[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],h.exports.sqlite3_activate_see instanceof Function&&h.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),h.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:oe=>oe[0],callProxy:oe=>(O,I,W,G,U,Ce,Oe)=>{oe(O,I,W,h.cstrToJs(G),h.cstrToJs(U),Ce,Oe)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:oe=>oe[0],callProxy:oe=>(O,I,W,G,U)=>{oe(O,I,h.cstrToJs(W),h.cstrToJs(G),U)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],h.bigIntEnabled&&!!h.exports.sqlite3changegroup_add){const oe={signature:"i(ps)",callProxy:O=>(I,W)=>{try{return O(I,h.cstrToJs(W))|0}catch(G){return G.resultCode||f.SQLITE_ERROR}}};h.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new h.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new h.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new h.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new h.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new h.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new h.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new h.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new h.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new h.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new h.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new h.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new h.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new h.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new h.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new h.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new h.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new h.xWrap.FuncPtrAdapter({name:"xFilter",...oe,contextKey:(O,I)=>O[0]}),"*"]])}h.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],a.StructBinder=globalThis.Jaccwabyt({heap:h.heap8u,alloc:h.alloc,dealloc:h.dealloc,bigIntEnabled:h.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const oe=h.xWrap.argAdapter("string");h.xWrap.argAdapter("string:flexible",U=>oe(v.flexibleString(U))),h.xWrap.argAdapter("string:static",function(U){return h.isPtr(U)?U:(U=""+U,this[U]||(this[U]=h.allocCString(U)))}.bind(Object.create(null)));const O=h.xWrap.argAdapter("*"),I=function(){};h.xWrap.argAdapter("sqlite3_filename",O)("sqlite3_context*",O)("sqlite3_value*",O)("void*",O)("sqlite3_changegroup*",O)("sqlite3_changeset_iter*",O)("sqlite3_session*",O)("sqlite3_stmt*",U=>O(U instanceof(a?.oo1?.Stmt||I)?U.pointer:U))("sqlite3*",U=>O(U instanceof(a?.oo1?.DB||I)?U.pointer:U))("sqlite3_index_info*",U=>O(U instanceof(f.sqlite3_index_info||I)?U.pointer:U))("sqlite3_module*",U=>O(U instanceof(f.sqlite3_module||I)?U.pointer:U))("sqlite3_vfs*",U=>typeof U=="string"?f.sqlite3_vfs_find(U)||a.SQLite3Error.toss(f.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",U):O(U instanceof(f.sqlite3_vfs||I)?U.pointer:U));const W=h.xWrap.resultAdapter("*");h.xWrap.resultAdapter("sqlite3*",W)("sqlite3_context*",W)("sqlite3_stmt*",W)("sqlite3_value*",W)("sqlite3_vfs*",W)("void*",W),h.exports.sqlite3_step.length===0&&(h.xWrap.doArgcCheck=!1,a.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const U of h.bindingSignatures)f[U[0]]=h.xWrap.apply(null,U);for(const U of h.bindingSignatures.wasm)h[U[0]]=h.xWrap.apply(null,U);const G=function(U){return()=>d(U+"() is unavailable due to lack","of BigInt support in this build.")};for(const U of h.bindingSignatures.int64)f[U[0]]=h.bigIntEnabled?h.xWrap.apply(null,U):G(U[0]);if(delete h.bindingSignatures,h.exports.sqlite3_wasm_db_error){const U=h.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");v.sqlite3_wasm_db_error=function(Ce,Oe,ve){return Oe instanceof a.WasmAllocError?(Oe=f.SQLITE_NOMEM,ve=0):Oe instanceof Error&&(ve=ve||""+Oe,Oe=Oe.resultCode||f.SQLITE_ERROR),Ce?U(Ce,Oe,ve):Oe}}else v.sqlite3_wasm_db_error=function(U,Ce,Oe){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),Ce}}{const oe=h.xCall("sqlite3_wasm_enum_json");oe||d("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),h.ctype=JSON.parse(h.cstrToJs(oe));const O=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];h.bigIntEnabled&&O.push("serialize","session","vtab");for(const G of O)for(const U of Object.entries(h.ctype[G]))f[U[0]]=U[1];h.functionEntry(f.SQLITE_WASM_DEALLOC)||d("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+f.SQLITE_WASM_DEALLOC+").");const I=Object.create(null);for(const G of["resultCodes"])for(const U of Object.entries(h.ctype[G]))I[U[1]]=U[0];f.sqlite3_js_rc_str=G=>I[G];const W=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!v.isUIThread(),sqlite3_index_info:!h.bigIntEnabled,sqlite3_index_constraint:!h.bigIntEnabled,sqlite3_index_orderby:!h.bigIntEnabled,sqlite3_index_constraint_usage:!h.bigIntEnabled});for(const G of h.ctype.structs)W[G.name]||(f[G.name]=a.StructBinder(G));if(f.sqlite3_index_info){for(const G of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])f.sqlite3_index_info[G]=f[G],delete f[G];f.sqlite3_vtab_config=h.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const F=(oe,O,I)=>a.util.sqlite3_wasm_db_error(oe,f.SQLITE_MISUSE,O+"() requires "+I+" argument"+(I===1?"":"s")+"."),X=oe=>v.sqlite3_wasm_db_error(oe,f.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),_e=oe=>h.xWrap.argAdapter("sqlite3*")(oe),Ne=oe=>h.isPtr(oe)?h.cstrToJs(oe):oe,Qe=function(oe,O){oe=_e(oe);let I=this.dbMap.get(oe);if(O)!I&&O>0&&this.dbMap.set(oe,I=Object.create(null));else return this.dbMap.delete(oe),I;return I}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Qe.addCollation=function(oe,O){const I=Qe(oe,1);I.collation||(I.collation=new Set),I.collation.add(Ne(O).toLowerCase())},Qe._addUDF=function(oe,O,I,W){O=Ne(O).toLowerCase();let G=W.get(O);G||W.set(O,G=new Set),G.add(I<0?-1:I)},Qe.addFunction=function(oe,O,I){const W=Qe(oe,1);W.udf||(W.udf=new Map),this._addUDF(oe,O,I,W.udf)},Qe.addWindowFunc=function(oe,O,I){const W=Qe(oe,1);W.wudf||(W.wudf=new Map),this._addUDF(oe,O,I,W.wudf)},Qe.cleanup=function(oe){oe=_e(oe);const O=[oe];for(const G of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const U=h.exports[G];O.length=U.length;try{f[G](...O)}catch(Ce){console.warn("close-time call of",G+"(",O,") threw:",Ce)}}const I=Qe(oe,0);if(!I)return;if(I.collation){for(const G of I.collation)try{f.sqlite3_create_collation_v2(oe,G,f.SQLITE_UTF8,0,0,0)}catch{}delete I.collation}let W;for(W=0;W<2;++W){const G=W?I.wudf:I.udf;if(!G)continue;const U=W?f.sqlite3_create_window_function:f.sqlite3_create_function_v2;for(const Ce of G){const Oe=Ce[0],ve=Ce[1],Ve=[oe,Oe,0,f.SQLITE_UTF8,0,0,0,0,0];W&&Ve.push(0);for(const wt of ve)try{Ve[2]=wt,U.apply(null,Ve)}catch{}ve.clear()}G.clear()}delete I.udf,delete I.wudf};{const oe=h.xWrap("sqlite3_close_v2","int","sqlite3*");f.sqlite3_close_v2=function(O){if(arguments.length!==1)return F(O,"sqlite3_close_v2",1);if(O)try{Qe.cleanup(O)}catch{}return oe(O)}}if(f.sqlite3session_table_filter){const oe=h.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);f.sqlite3session_delete=function(O){if(arguments.length!==1)return F(pDb,"sqlite3session_delete",1);O&&f.sqlite3session_table_filter(O,0,0),oe(O)}}{const oe=(I,W)=>"argv["+W+"]:"+I[0]+":"+h.cstrToJs(I[1]).toLowerCase(),O=h.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new h.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:oe}),new h.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:oe})]);f.sqlite3_create_collation_v2=function(I,W,G,U,Ce,Oe){if(arguments.length!==6)return F(I,"sqlite3_create_collation_v2",6);if((G&15)===0)G|=f.SQLITE_UTF8;else if(f.SQLITE_UTF8!==(G&15))return X(I);try{const ve=O(I,W,G,U,Ce,Oe);return ve===0&&Ce instanceof Function&&Qe.addCollation(I,W),ve}catch(ve){return v.sqlite3_wasm_db_error(I,ve)}},f.sqlite3_create_collation=(I,W,G,U,Ce)=>arguments.length===5?f.sqlite3_create_collation_v2(I,W,G,U,Ce,0):F(I,"sqlite3_create_collation",5)}{const oe=function(G,U){return G[0]+":"+(G[2]<0?-1:G[2])+":"+U+":"+h.cstrToJs(G[1]).toLowerCase()},O=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:oe,callProxy:G=>(U,Ce,Oe)=>{try{G(U,...f.sqlite3_values_to_js(Ce,Oe))}catch(ve){f.sqlite3_result_error_js(U,ve)}}},xFinalAndValue:{signature:"v(p)",contextKey:oe,callProxy:G=>U=>{try{f.sqlite3_result_js(U,G(U))}catch(Ce){f.sqlite3_result_error_js(U,Ce)}}},xFunc:{signature:"v(pip)",contextKey:oe,callProxy:G=>(U,Ce,Oe)=>{try{f.sqlite3_result_js(U,G(U,...f.sqlite3_values_to_js(Ce,Oe)))}catch(ve){f.sqlite3_result_error_js(U,ve)}}},xDestroy:{signature:"v(p)",contextKey:oe,callProxy:G=>U=>{try{G(U)}catch(Ce){console.error("UDF xDestroy method threw:",Ce)}}}}),I=h.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new h.xWrap.FuncPtrAdapter({name:"xFunc",...O.xFunc}),new h.xWrap.FuncPtrAdapter({name:"xStep",...O.xInverseAndStep}),new h.xWrap.FuncPtrAdapter({name:"xFinal",...O.xFinalAndValue}),new h.xWrap.FuncPtrAdapter({name:"xDestroy",...O.xDestroy})]),W=h.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new h.xWrap.FuncPtrAdapter({name:"xStep",...O.xInverseAndStep}),new h.xWrap.FuncPtrAdapter({name:"xFinal",...O.xFinalAndValue}),new h.xWrap.FuncPtrAdapter({name:"xValue",...O.xFinalAndValue}),new h.xWrap.FuncPtrAdapter({name:"xInverse",...O.xInverseAndStep}),new h.xWrap.FuncPtrAdapter({name:"xDestroy",...O.xDestroy})]);f.sqlite3_create_function_v2=function G(U,Ce,Oe,ve,Ve,wt,x,K,re){if(G.length!==arguments.length)return F(U,"sqlite3_create_function_v2",G.length);if((ve&15)===0)ve|=f.SQLITE_UTF8;else if(f.SQLITE_UTF8!==(ve&15))return X(U);try{const Te=I(U,Ce,Oe,ve,Ve,wt,x,K,re);return Te===0&&(wt instanceof Function||x instanceof Function||K instanceof Function||re instanceof Function)&&Qe.addFunction(U,Ce,Oe),Te}catch(Te){return console.error("sqlite3_create_function_v2() setup threw:",Te),v.sqlite3_wasm_db_error(U,Te,"Creation of UDF threw: "+Te)}},f.sqlite3_create_function=function G(U,Ce,Oe,ve,Ve,wt,x,K){return G.length===arguments.length?f.sqlite3_create_function_v2(U,Ce,Oe,ve,Ve,wt,x,K,0):F(U,"sqlite3_create_function",G.length)},f.sqlite3_create_window_function=function G(U,Ce,Oe,ve,Ve,wt,x,K,re,Te){if(G.length!==arguments.length)return F(U,"sqlite3_create_window_function",G.length);if((ve&15)===0)ve|=f.SQLITE_UTF8;else if(f.SQLITE_UTF8!==(ve&15))return X(U);try{const A=W(U,Ce,Oe,ve,Ve,wt,x,K,re,Te);return A===0&&(wt instanceof Function||x instanceof Function||K instanceof Function||re instanceof Function||Te instanceof Function)&&Qe.addWindowFunc(U,Ce,Oe),A}catch(A){return console.error("sqlite3_create_window_function() setup threw:",A),v.sqlite3_wasm_db_error(U,A,"Creation of UDF threw: "+A)}},f.sqlite3_create_function_v2.udfSetResult=f.sqlite3_create_function.udfSetResult=f.sqlite3_create_window_function.udfSetResult=f.sqlite3_result_js,f.sqlite3_create_function_v2.udfConvertArgs=f.sqlite3_create_function.udfConvertArgs=f.sqlite3_create_window_function.udfConvertArgs=f.sqlite3_values_to_js,f.sqlite3_create_function_v2.udfSetError=f.sqlite3_create_function.udfSetError=f.sqlite3_create_window_function.udfSetError=f.sqlite3_result_error_js}{const oe=(I,W)=>(typeof I=="string"?W=-1:v.isSQLableTypedArray(I)?(W=I.byteLength,I=v.typedArrayToString(I instanceof ArrayBuffer?new Uint8Array(I):I)):Array.isArray(I)&&(I=I.join(""),W=-1),[I,W]),O={basic:h.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:h.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};f.sqlite3_prepare_v3=function I(W,G,U,Ce,Oe,ve){if(I.length!==arguments.length)return F(W,"sqlite3_prepare_v3",I.length);const[Ve,wt]=oe(G,U);switch(typeof Ve){case"string":return O.basic(W,Ve,wt,Ce,Oe,null);case"number":return O.full(W,Ve,wt,Ce,Oe,ve);default:return v.sqlite3_wasm_db_error(W,f.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},f.sqlite3_prepare_v2=function I(W,G,U,Ce,Oe){return I.length===arguments.length?f.sqlite3_prepare_v3(W,G,U,0,Ce,Oe):F(W,"sqlite3_prepare_v2",I.length)}}{const oe=h.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),O=h.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);f.sqlite3_bind_text=function I(W,G,U,Ce,Oe){if(I.length!==arguments.length)return F(f.sqlite3_db_handle(W),"sqlite3_bind_text",I.length);if(h.isPtr(U)||U===null)return oe(W,G,U,Ce,Oe);U instanceof ArrayBuffer?U=new Uint8Array(U):Array.isArray(pMem)&&(U=pMem.join(""));let ve,Ve;try{if(v.isSQLableTypedArray(U))ve=h.allocFromTypedArray(U),Ve=U.byteLength;else if(typeof U=="string")[ve,Ve]=h.allocCString(U);else return v.sqlite3_wasm_db_error(f.sqlite3_db_handle(W),f.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return oe(W,G,ve,Ve,f.SQLITE_WASM_DEALLOC)}catch(wt){return h.dealloc(ve),v.sqlite3_wasm_db_error(f.sqlite3_db_handle(W),wt)}},f.sqlite3_bind_blob=function I(W,G,U,Ce,Oe){if(I.length!==arguments.length)return F(f.sqlite3_db_handle(W),"sqlite3_bind_blob",I.length);if(h.isPtr(U)||U===null)return O(W,G,U,Ce,Oe);U instanceof ArrayBuffer?U=new Uint8Array(U):Array.isArray(U)&&(U=U.join(""));let ve,Ve;try{if(v.isBindableTypedArray(U))ve=h.allocFromTypedArray(U),Ve=Ce>=0?Ce:U.byteLength;else if(typeof U=="string")[ve,Ve]=h.allocCString(U);else return v.sqlite3_wasm_db_error(f.sqlite3_db_handle(W),f.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return O(W,G,ve,Ve,f.SQLITE_WASM_DEALLOC)}catch(wt){return h.dealloc(ve),v.sqlite3_wasm_db_error(f.sqlite3_db_handle(W),wt)}}}f.sqlite3_config=function(oe,...O){if(arguments.length<2)return f.SQLITE_MISUSE;switch(oe){case f.SQLITE_CONFIG_COVERING_INDEX_SCAN:case f.SQLITE_CONFIG_MEMSTATUS:case f.SQLITE_CONFIG_SMALL_MALLOC:case f.SQLITE_CONFIG_SORTERREF_SIZE:case f.SQLITE_CONFIG_STMTJRNL_SPILL:case f.SQLITE_CONFIG_URI:return h.exports.sqlite3_wasm_config_i(oe,O[0]);case f.SQLITE_CONFIG_LOOKASIDE:return h.exports.sqlite3_wasm_config_ii(oe,O[0],O[1]);case f.SQLITE_CONFIG_MEMDB_MAXSIZE:return h.exports.sqlite3_wasm_config_j(oe,O[0]);case f.SQLITE_CONFIG_GETMALLOC:case f.SQLITE_CONFIG_GETMUTEX:case f.SQLITE_CONFIG_GETPCACHE2:case f.SQLITE_CONFIG_GETPCACHE:case f.SQLITE_CONFIG_HEAP:case f.SQLITE_CONFIG_LOG:case f.SQLITE_CONFIG_MALLOC:case f.SQLITE_CONFIG_MMAP_SIZE:case f.SQLITE_CONFIG_MULTITHREAD:case f.SQLITE_CONFIG_MUTEX:case f.SQLITE_CONFIG_PAGECACHE:case f.SQLITE_CONFIG_PCACHE2:case f.SQLITE_CONFIG_PCACHE:case f.SQLITE_CONFIG_PCACHE_HDRSZ:case f.SQLITE_CONFIG_PMASZ:case f.SQLITE_CONFIG_SERIALIZED:case f.SQLITE_CONFIG_SINGLETHREAD:case f.SQLITE_CONFIG_SQLLOG:case f.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return f.SQLITE_NOTFOUND}};{const oe=new Set;f.sqlite3_auto_extension=function(O){if(O instanceof Function)O=h.installFunction("i(ppp)",O);else if(arguments.length!==1||!h.isPtr(O))return f.SQLITE_MISUSE;const I=h.exports.sqlite3_auto_extension(O);return O!==arguments[0]&&(I===0?oe.add(O):h.uninstallFunction(O)),I},f.sqlite3_cancel_auto_extension=function(O){return!O||arguments.length!==1||!h.isPtr(O)?0:h.exports.sqlite3_cancel_auto_extension(O)},f.sqlite3_reset_auto_extension=function(){h.exports.sqlite3_reset_auto_extension();for(const O of oe)h.uninstallFunction(O);oe.clear()}}const pt=f.sqlite3_vfs_find("kvvfs");if(pt)if(v.isUIThread()){const oe=new f.sqlite3_kvvfs_methods(h.exports.sqlite3_wasm_kvvfs_methods());delete f.sqlite3_kvvfs_methods;const O=h.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,I=h.pstack,W=U=>h.peek(U)===115?sessionStorage:localStorage,G={xRead:(U,Ce,Oe,ve)=>{const Ve=I.pointer,wt=h.scopedAllocPush();try{const x=O(U,Ce);if(!x)return-3;const K=h.cstrToJs(x),re=W(U).getItem(K);if(!re)return-1;const Te=re.length;if(ve<=0)return Te;if(ve===1)return h.poke(Oe,0),Te;const A=h.scopedAllocCString(re);return ve>Te+1&&(ve=Te+1),h.heap8u().copyWithin(Oe,A,A+ve-1),h.poke(Oe+ve-1,0),ve-1}catch(x){return console.error("kvstorageRead()",x),-2}finally{I.restore(Ve),h.scopedAllocPop(wt)}},xWrite:(U,Ce,Oe)=>{const ve=I.pointer;try{const Ve=O(U,Ce);if(!Ve)return 1;const wt=h.cstrToJs(Ve);return W(U).setItem(wt,h.cstrToJs(Oe)),0}catch(Ve){return console.error("kvstorageWrite()",Ve),f.SQLITE_IOERR}finally{I.restore(ve)}},xDelete:(U,Ce)=>{const Oe=I.pointer;try{const ve=O(U,Ce);return ve?(W(U).removeItem(h.cstrToJs(ve)),0):1}catch(ve){return console.error("kvstorageDelete()",ve),f.SQLITE_IOERR}finally{I.restore(Oe)}}};for(const U of Object.keys(G))oe[oe.memberKey(U)]=h.installFunction(oe.memberSignature(U),G[U])}else f.sqlite3_vfs_unregister(pt);h.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){a.version={libVersion:"3.43.1",libVersionNumber:3043001,sourceId:"2023-09-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0",downloadVersion:3430100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=(...A)=>{throw new a.SQLite3Error(...A)},f=a.capi,h=a.wasm,v=a.util,F=new WeakMap,X=new WeakMap,_e=(A,z,S)=>{const b=Object.getOwnPropertyDescriptor(A,z);return b?b.value:S},Ne=function(A,z){return z&&(A instanceof O&&(A=A.pointer),d(z,"sqlite3 result code",z+":",A?f.sqlite3_errmsg(A):f.sqlite3_errstr(z))),arguments[0]},Qe=h.installFunction("i(ippp)",function(A,z,S,b){f.SQLITE_TRACE_STMT===A&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+z+":",h.cstrToJs(b))}.bind({counter:0})),pt=Object.create(null),oe=function A(...z){if(!A._name2vfs){A._name2vfs=Object.create(null);const le=typeof importScripts=="function"?Ae=>d("The VFS for",Ae,"is only available in the main window thread."):!1;A._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:le||(()=>"local")},A._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:le||(()=>"session")}}const S=A.normalizeArgs(...z);let b=S.filename,V=S.vfs,ce=S.flags;(typeof b!="string"&&typeof b!="number"||typeof ce!="string"||V&&typeof V!="string"&&typeof V!="number")&&(a.config.error("Invalid DB ctor args",S,arguments),d("Invalid arguments for DB constructor."));let ze=typeof b=="number"?h.cstrToJs(b):b;const ct=A._name2vfs[ze];ct&&(V=ct.vfs,b=ze=ct.filename(ze));let _t,Ie=0;ce.indexOf("c")>=0&&(Ie|=f.SQLITE_OPEN_CREATE|f.SQLITE_OPEN_READWRITE),ce.indexOf("w")>=0&&(Ie|=f.SQLITE_OPEN_READWRITE),Ie===0&&(Ie|=f.SQLITE_OPEN_READONLY),Ie|=f.SQLITE_OPEN_EXRESCODE;const Q=h.pstack.pointer;try{const le=h.pstack.allocPtr();let Ae=f.sqlite3_open_v2(b,le,Ie,V||0);_t=h.peekPtr(le),Ne(_t,Ae),f.sqlite3_extended_result_codes(_t,1),ce.indexOf("t")>=0&&f.sqlite3_trace_v2(_t,f.SQLITE_TRACE_STMT,Qe,_t)}catch(le){throw _t&&f.sqlite3_close_v2(_t),le}finally{h.pstack.restore(Q)}this.filename=ze,F.set(this,_t),X.set(this,Object.create(null));try{const le=f.sqlite3_js_db_vfs(_t);le||d("Internal error: cannot get VFS for new db handle.");const Ae=pt[le];Ae instanceof Function?Ae(this,a):Ae&&Ne(_t,f.sqlite3_exec(_t,Ae,0,0,0))}catch(le){throw this.close(),le}};oe.setVfsPostOpenSql=function(A,z){pt[A]=z},oe.normalizeArgs=function(A=":memory:",z="c",S=null){const b={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(b,arguments[0]),b.flags===void 0&&(b.flags="c"),b.vfs===void 0&&(b.vfs=null),b.filename===void 0&&(b.filename=":memory:")):(b.filename=A,b.flags=z,b.vfs=S),b};const O=function(...A){oe.apply(this,A)};O.dbCtorHelper=oe;const I={null:1,number:2,string:3,boolean:4,blob:5};I.undefined==I.null,h.bigIntEnabled&&(I.bigint=I.number);const W=function(){I!==arguments[2]&&d(f.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],F.set(this,arguments[1]),this.parameterCount=f.sqlite3_bind_parameter_count(this.pointer)},G=function(A){return A.pointer||d("DB has been closed."),A},U=function(A,z){return(z!==(z|0)||z<0||z>=A.columnCount)&&d("Column index",z,"is out of range."),A},Ce=function(A,z){const S=Object.create(null);switch(S.opt=Object.create(null),z.length){case 1:typeof z[0]=="string"||v.isSQLableTypedArray(z[0])||Array.isArray(z[0])?S.sql=z[0]:z[0]&&typeof z[0]=="object"&&(S.opt=z[0],S.sql=S.opt.sql);break;case 2:S.sql=z[0],S.opt=z[1];break;default:d("Invalid argument count for exec().")}S.sql=v.flexibleString(S.sql),typeof S.sql!="string"&&d("Missing SQL argument or unsupported SQL value type.");const b=S.opt;switch(b.returnValue){case"resultRows":b.resultRows||(b.resultRows=[]),S.returnVal=()=>b.resultRows;break;case"saveSql":b.saveSql||(b.saveSql=[]),S.returnVal=()=>b.saveSql;break;case void 0:case"this":S.returnVal=()=>A;break;default:d("Invalid returnValue value:",b.returnValue)}if(!b.callback&&!b.returnValue&&b.rowMode!==void 0&&(b.resultRows||(b.resultRows=[]),S.returnVal=()=>b.resultRows),b.callback||b.resultRows)switch(b.rowMode===void 0?"array":b.rowMode){case"object":S.cbArg=V=>V.get(Object.create(null));break;case"array":S.cbArg=V=>V.get([]);break;case"stmt":Array.isArray(b.resultRows)&&d("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),S.cbArg=V=>V;break;default:if(v.isInt32(b.rowMode)){S.cbArg=V=>V.get(b.rowMode);break}else if(typeof b.rowMode=="string"&&b.rowMode.length>1&&b.rowMode[0]==="$"){const V=b.rowMode.substr(1);S.cbArg=ce=>{const ze=ce.get(Object.create(null))[V];return ze===void 0?d(f.SQLITE_NOTFOUND,"exec(): unknown result column:",V):ze};break}d("Invalid rowMode:",b.rowMode)}return S},Oe=(A,z,S,...b)=>{const V=A.prepare(z);try{const ce=V.bind(S).step()?V.get(...b):void 0;return V.reset(),ce}finally{V.finalize()}},ve=(A,z,S,b)=>A.exec({sql:z,bind:S,rowMode:b,returnValue:"resultRows"});O.checkRc=(A,z)=>Ne(A,z),O.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return G(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const A=this.pointer;if(Object.keys(X.get(this)).forEach((z,S)=>{if(S&&S.pointer)try{S.finalize()}catch{}}),F.delete(this),X.delete(this),f.sqlite3_close_v2(A),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(A=!1,z=!1){const S=G(this).pointer;return A?z?f.sqlite3_total_changes64(S):f.sqlite3_total_changes(S):z?f.sqlite3_changes64(S):f.sqlite3_changes(S)},dbFilename:function(A="main"){return f.sqlite3_db_filename(G(this).pointer,A)},dbName:function(A=0){return f.sqlite3_db_name(G(this).pointer,A)},dbVfsName:function(A=0){let z;const S=f.sqlite3_js_db_vfs(G(this).pointer,A);if(S){const b=new f.sqlite3_vfs(S);try{z=h.cstrToJs(b.$zName)}finally{b.dispose()}}return z},prepare:function(A){G(this);const z=h.pstack.pointer;let S,b;try{S=h.pstack.alloc(8),O.checkRc(this,f.sqlite3_prepare_v2(this.pointer,A,-1,S,null)),b=h.peekPtr(S)}finally{h.pstack.restore(z)}b||d("Cannot prepare empty SQL.");const V=new W(this,b,I);return X.get(this)[b]=V,V},exec:function(){G(this);const A=Ce(this,arguments);if(!A.sql)return d("exec() requires an SQL string.");const z=A.opt,S=z.callback,b=Array.isArray(z.resultRows)?z.resultRows:void 0;let V,ce=z.bind,ze=!!(A.cbArg||z.columnNames||b);const ct=h.scopedAllocPush(),_t=Array.isArray(z.saveSql)?z.saveSql:void 0;try{const Ie=v.isSQLableTypedArray(A.sql);let Q=Ie?A.sql.byteLength:h.jstrlen(A.sql);const le=h.scopedAlloc(2*h.ptrSizeof+(Q+1)),Ae=le+h.ptrSizeof;let We=Ae+h.ptrSizeof;const yt=We+Q;for(Ie?h.heap8().set(A.sql,We):h.jstrcpy(A.sql,h.heap8(),We,Q,!1),h.poke(We+Q,0);We&&h.peek(We,"i8");){h.pokePtr([le,Ae],0),O.checkRc(this,f.sqlite3_prepare_v3(this.pointer,We,Q,0,le,Ae));const ie=h.peekPtr(le);if(We=h.peekPtr(Ae),Q=yt-We,!!ie){if(_t&&_t.push(f.sqlite3_sql(ie).trim()),V=new W(this,ie,I),ce&&V.parameterCount&&(V.bind(ce),ce=null),ze&&V.columnCount){let Ee=Array.isArray(z.columnNames)?0:1;if(ze=!1,A.cbArg||b){for(;V.step();V._lockedByExec=!1){Ee++===0&&V.getColumnNames(z.columnNames),V._lockedByExec=!0;const Se=A.cbArg(V);if(b&&b.push(Se),S&&S.call(z,Se,V)===!1)break}V._lockedByExec=!1}Ee===0&&V.getColumnNames(z.columnNames)}else V.step();V.reset().finalize(),V=null}}}finally{h.scopedAllocPop(ct),V&&(delete V._lockedByExec,V.finalize())}return A.returnVal()},createFunction:function(z,S,b){const V=Se=>Se instanceof Function;switch(arguments.length){case 1:b=z,z=b.name,S=b.xFunc||0;break;case 2:V(S)||(b=S,S=b.xFunc||0);break}b||(b={}),typeof z!="string"&&d("Invalid arguments: missing function name.");let ce=b.xStep||0,ze=b.xFinal||0;const ct=b.xValue||0,_t=b.xInverse||0;let Ie;V(S)?(Ie=!1,(V(ce)||V(ze))&&d("Ambiguous arguments: scalar or aggregate?"),ce=ze=null):V(ce)?(V(ze)||d("Missing xFinal() callback for aggregate or window UDF."),S=null):V(ze)?d("Missing xStep() callback for aggregate or window UDF."):d("Missing function-type properties."),Ie===!1?(V(ct)||V(_t))&&d("xValue and xInverse are not permitted for non-window UDFs."):V(ct)?(V(_t)||d("xInverse must be provided if xValue is."),Ie=!0):V(_t)&&d("xValue must be provided if xInverse is.");const Q=b.pApp;Q!=null&&(typeof Q!="number"||!v.isInt32(Q))&&d("Invalid value for pApp property. Must be a legal WASM pointer value.");const le=b.xDestroy||0;le&&!V(le)&&d("xDestroy property must be a function.");let Ae=0;_e(b,"deterministic")&&(Ae|=f.SQLITE_DETERMINISTIC),_e(b,"directOnly")&&(Ae|=f.SQLITE_DIRECTONLY),_e(b,"innocuous")&&(Ae|=f.SQLITE_INNOCUOUS),z=z.toLowerCase();const We=S||ce,yt=_e(b,"arity"),ie=typeof yt=="number"?yt:We.length?We.length-1:0;let Ee;return Ie?Ee=f.sqlite3_create_window_function(this.pointer,z,ie,f.SQLITE_UTF8|Ae,Q||0,ce,ze,ct,_t,le):Ee=f.sqlite3_create_function_v2(this.pointer,z,ie,f.SQLITE_UTF8|Ae,Q||0,S,ce,ze,le),O.checkRc(this,Ee),this},selectValue:function(A,z,S){return Oe(this,A,z,0,S)},selectValues:function(A,z,S){const b=this.prepare(A),V=[];try{for(b.bind(z);b.step();)V.push(b.get(0,S));b.reset()}finally{b.finalize()}return V},selectArray:function(A,z){return Oe(this,A,z,[])},selectObject:function(A,z){return Oe(this,A,z,{})},selectArrays:function(A,z){return ve(this,A,z,"array")},selectObjects:function(A,z){return ve(this,A,z,"object")},openStatementCount:function(){return this.pointer?Object.keys(X.get(this)).length:0},transaction:function(A){let z="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&d(f.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),z+=" "+arguments[0],A=arguments[1]),G(this).exec(z);try{const S=A(this);return this.exec("COMMIT"),S}catch(S){throw this.exec("ROLLBACK"),S}},savepoint:function(A){G(this).exec("SAVEPOINT oo1");try{const z=A(this);return this.exec("RELEASE oo1"),z}catch(z){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),z}},checkRc:function(A){return Ne(this,A)}};const Ve=function(A){return A.pointer||d("Stmt has been closed."),A},wt=function(A){let z=I[A==null?"null":typeof A];switch(z){case I.boolean:case I.null:case I.number:case I.string:return z;case I.bigint:if(h.bigIntEnabled)return z;default:return v.isBindableTypedArray(A)?I.blob:void 0}},x=function(A){return wt(A)||d("Unsupported bind() argument type:",typeof A)},K=function(A,z){const S=typeof z=="number"?z:f.sqlite3_bind_parameter_index(A.pointer,z);return S===0||!v.isInt32(S)?d("Invalid bind() parameter name: "+z):(S<1||S>A.parameterCount)&&d("Bind index",z,"is out of range."),S},re=function(A,z){return A._lockedByExec&&d("Operation is illegal when statement is locked:",z),A},Te=function A(z,S,b,V){re(Ve(z),"bind()"),A._||(A._tooBigInt=ze=>d("BigInt value is too big to store without precision loss:",ze),A._={string:function(ze,ct,_t,Ie){const[Q,le]=h.allocCString(_t,!0);return(Ie?f.sqlite3_bind_blob:f.sqlite3_bind_text)(ze.pointer,ct,Q,le,f.SQLITE_WASM_DEALLOC)}}),x(V),S=K(z,S);let ce=0;switch(V==null?I.null:b){case I.null:ce=f.sqlite3_bind_null(z.pointer,S);break;case I.string:ce=A._.string(z,S,V,!1);break;case I.number:{let ze;v.isInt32(V)?ze=f.sqlite3_bind_int:typeof V=="bigint"?v.bigIntFits64(V)?h.bigIntEnabled?ze=f.sqlite3_bind_int64:v.bigIntFitsDouble(V)?(V=Number(V),ze=f.sqlite3_bind_double):A._tooBigInt(V):A._tooBigInt(V):(V=Number(V),h.bigIntEnabled&&Number.isInteger(V)?ze=f.sqlite3_bind_int64:ze=f.sqlite3_bind_double),ce=ze(z.pointer,S,V);break}case I.boolean:ce=f.sqlite3_bind_int(z.pointer,S,V?1:0);break;case I.blob:{if(typeof V=="string"){ce=A._.string(z,S,V,!0);break}else V instanceof ArrayBuffer?V=new Uint8Array(V):v.isBindableTypedArray(V)||d("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const ze=h.alloc(V.byteLength||1);h.heap8().set(V.byteLength?V:[0],ze),ce=f.sqlite3_bind_blob(z.pointer,S,ze,V.byteLength,f.SQLITE_WASM_DEALLOC);break}default:a.config.warn("Unsupported bind() argument type:",V),d("Unsupported bind() argument type: "+typeof V)}return ce&&O.checkRc(z.db.pointer,ce),z._mayGet=!1,z};W.prototype={finalize:function(){if(this.pointer){re(this,"finalize()");const A=f.sqlite3_finalize(this.pointer);return delete X.get(this.db)[this.pointer],F.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,A}},clearBindings:function(){return re(Ve(this),"clearBindings()"),f.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(A){re(this,"reset()"),A&&this.clearBindings();const z=f.sqlite3_reset(Ve(this).pointer);return this._mayGet=!1,Ne(this.db,z),this},bind:function(){Ve(this);let A,z;switch(arguments.length){case 1:A=1,z=arguments[0];break;case 2:A=arguments[0],z=arguments[1];break;default:d("Invalid bind() arguments.")}return z===void 0?this:(this.parameterCount||d("This statement has no bindable parameters."),this._mayGet=!1,z===null?Te(this,A,I.null,z):Array.isArray(z)?(arguments.length!==1&&d("When binding an array, an index argument is not permitted."),z.forEach((S,b)=>Te(this,b+1,x(S),S)),this):(z instanceof ArrayBuffer&&(z=new Uint8Array(z)),typeof z=="object"&&!v.isBindableTypedArray(z)?(arguments.length!==1&&d("When binding an object, an index argument is not permitted."),Object.keys(z).forEach(S=>Te(this,S,x(z[S]),z[S])),this):Te(this,A,x(z),z)))},bindAsBlob:function(A,z){Ve(this),arguments.length===1&&(z=A,A=1);const S=x(z);return I.string!==S&&I.blob!==S&&I.null!==S&&d("Invalid value type for bindAsBlob()"),Te(this,A,I.blob,z)},step:function(){re(this,"step()");const A=f.sqlite3_step(Ve(this).pointer);switch(A){case f.SQLITE_DONE:return this._mayGet=!1;case f.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,a.config.warn("sqlite3_step() rc=",A,f.sqlite3_js_rc_str(A),"SQL =",f.sqlite3_sql(this.pointer)),O.checkRc(this.db.pointer,A)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const A=this.step();return this.reset(),A}finally{try{this.finalize()}catch{}}},get:function(A,z){if(Ve(this)._mayGet||d("Stmt.step() has not (recently) returned true."),Array.isArray(A)){let S=0;const b=this.columnCount;for(;S<b;)A[S]=this.get(S++);return A}else if(A&&typeof A=="object"){let S=0;const b=this.columnCount;for(;S<b;)A[f.sqlite3_column_name(this.pointer,S)]=this.get(S++);return A}switch(U(this,A),z===void 0?f.sqlite3_column_type(this.pointer,A):z){case f.SQLITE_NULL:return null;case f.SQLITE_INTEGER:if(h.bigIntEnabled){const S=f.sqlite3_column_int64(this.pointer,A);return S>=Number.MIN_SAFE_INTEGER&&S<=Number.MAX_SAFE_INTEGER?Number(S).valueOf():S}else{const S=f.sqlite3_column_double(this.pointer,A);return(S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)&&d("Integer is out of range for JS integer range: "+S),v.isInt32(S)?S|0:S}case f.SQLITE_FLOAT:return f.sqlite3_column_double(this.pointer,A);case f.SQLITE_TEXT:return f.sqlite3_column_text(this.pointer,A);case f.SQLITE_BLOB:{const S=f.sqlite3_column_bytes(this.pointer,A),b=f.sqlite3_column_blob(this.pointer,A),V=new Uint8Array(S);return S&&V.set(h.heap8u().slice(b,b+S),0),S&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(V.buffer),V}default:d("Don't know how to translate","type of result column #"+A+".")}d("Not reached.")},getInt:function(A){return this.get(A,f.SQLITE_INTEGER)},getFloat:function(A){return this.get(A,f.SQLITE_FLOAT)},getString:function(A){return this.get(A,f.SQLITE_TEXT)},getBlob:function(A){return this.get(A,f.SQLITE_BLOB)},getJSON:function(A){const z=this.get(A,f.SQLITE_STRING);return z===null?z:JSON.parse(z)},getColumnName:function(A){return f.sqlite3_column_name(U(Ve(this),A).pointer,A)},getColumnNames:function(A=[]){U(Ve(this),0);const z=this.columnCount;for(let S=0;S<z;++S)A.push(f.sqlite3_column_name(this.pointer,S));return A},getParamIndex:function(A){return Ve(this).parameterCount?f.sqlite3_bind_parameter_index(this.pointer,A):void 0}};{const A={enumerable:!0,get:function(){return F.get(this)},set:()=>d("The pointer property is read-only.")};Object.defineProperty(W.prototype,"pointer",A),Object.defineProperty(O.prototype,"pointer",A)}if(Object.defineProperty(W.prototype,"columnCount",{enumerable:!1,get:function(){return f.sqlite3_column_count(this.pointer)},set:()=>d("The columnCount property is read-only.")}),a.oo1={DB:O,Stmt:W},v.isUIThread()){a.oo1.JsStorageDb=function(z="session"){z!=="session"&&z!=="local"&&d("JsStorageDb db name must be one of 'session' or 'local'."),oe.call(this,{filename:z,flags:"c",vfs:"kvvfs"})};const A=a.oo1.JsStorageDb;A.prototype=Object.create(O.prototype),A.clearStorage=f.sqlite3_js_kvvfs_clear,A.prototype.clearStorage=function(){return A.clearStorage(G(this).filename)},A.storageSize=f.sqlite3_js_kvvfs_size,A.prototype.storageSize=function(){return A.storageSize(G(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){a.initWorker1API=function(){const d=(...O)=>{throw new Error(O.join(" "))};globalThis.WorkerGlobalScope instanceof Function||d("initWorker1API() must be run from a Worker thread."),this.self;const f=this.sqlite3||d("Missing this.sqlite3 object."),h=f.oo1.DB,v=function(O){let I=F.idMap.get(O);return I||(I="db#"+ ++F.idSeq+"@"+O.pointer,F.idMap.set(O,I),I)},F={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(O){const I=new h(O);return this.dbs[v(I)]=I,this.dbList.indexOf(I)<0&&this.dbList.push(I),I},close:function(O,I){if(O){delete this.dbs[v(O)];const W=O.filename,G=f.wasm.sqlite3_wasm_db_vfs(O.pointer,0);O.close();const U=this.dbList.indexOf(O);U>=0&&this.dbList.splice(U,1),I&&W&&G&&f.wasm.sqlite3_wasm_vfs_unlink(G,W)}},post:function(O,I){I&&I.length?(globalThis.postMessage(O,Array.from(I)),I.length=0):globalThis.postMessage(O)},dbs:Object.create(null),getDb:function(O,I=!0){return this.dbs[O]||(I?d("Unknown (or closed) DB ID:",O):void 0)}},X=function(O=F.dbList[0]){return O&&O.pointer?O:d("DB is not opened.")},_e=function(O,I=!0){const W=F.getDb(O.dbId,!1)||F.dbList[0];return I?X(W):W},Ne=function(){return F.dbList[0]},Qe=function(O){const I=/^file:.+(vfs=(\w+))/.exec(O);return f.capi.sqlite3_vfs_find(I?I[2]:0)},pt=O=>O===""||O[0]===":",oe={open:function(O){const I=Object.create(null),W=O.args||Object.create(null);W.simulateError&&d("Throwing because of simulateError flag.");const G=Object.create(null);let U,Ce;if(I.vfs=W.vfs,pt(W.filename)?I.filename=W.filename||"":(I.filename=W.filename,U=W.byteArray,U&&(Ce=Qe(W.filename))),Ce){let ve;try{ve=f.wasm.allocFromTypedArray(U);const Ve=f.wasm.sqlite3_wasm_vfs_create_file(Ce,I.filename,ve,U.byteLength);Ve&&f.SQLite3Error.toss(Ve)}catch(Ve){throw new f.SQLite3Error(Ve.name+" creating "+W.filename+": "+Ve.message,{cause:Ve})}finally{ve&&f.wasm.dealloc(ve)}}const Oe=F.open(I);return G.filename=Oe.filename,G.persistent=!!f.capi.sqlite3_js_db_uses_vfs(Oe.pointer,"opfs"),G.dbId=v(Oe),G.vfs=Oe.dbVfsName(),G},close:function(O){const I=_e(O,!1),W={filename:I&&I.filename};if(I){const G=O.args&&typeof O.args=="object"?!!O.args.unlink:!1;F.close(I,G)}return W},exec:function(O){const I=typeof O.args=="string"?{sql:O.args}:O.args||Object.create(null);I.rowMode==="stmt"?d("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):I.sql||d("'exec' requires input SQL.");const W=_e(O);(I.callback||Array.isArray(I.resultRows))&&(W._blobXfer=F.xfer);const G=I.callback;let U=0;const Ce=!!I.columnNames;typeof G=="string"&&(Ce||(I.columnNames=[]),I.callback=function(Oe,ve){F.post({type:G,columnNames:I.columnNames,rowNumber:++U,row:Oe},F.xfer)});try{const Oe=I.countChanges?W.changes(!0,I.countChanges===64):void 0;W.exec(I),Oe!==void 0&&(I.changeCount=W.changes(!0,I.countChanges===64)-Oe),I.callback instanceof Function&&(I.callback=G,F.post({type:G,columnNames:I.columnNames,rowNumber:null,row:void 0}))}finally{delete W._blobXfer,I.callback&&(I.callback=G)}return I},"config-get":function(){const O=Object.create(null),I=f.config;return["bigIntEnabled"].forEach(function(W){Object.getOwnPropertyDescriptor(I,W)&&(O[W]=I[W])}),O.version=f.version,O.vfsList=f.capi.sqlite3_js_vfs_list(),O.opfsEnabled=!!f.opfs,O},export:function(O){const I=_e(O),W={byteArray:f.capi.sqlite3_js_db_export(I.pointer),filename:I.filename,mimetype:"application/x-sqlite3"};return F.xfer.push(W.byteArray.buffer),W},toss:function(O){d("Testing worker exception")},"opfs-tree":async function(O){return f.opfs||d("OPFS support is unavailable."),await f.opfs.treeList()}};globalThis.onmessage=async function(O){O=O.data;let I,W=O.dbId,G=O.type;const U=performance.now();try{oe.hasOwnProperty(G)&&oe[G]instanceof Function?I=await oe[G](O):d("Unknown db worker message type:",O.type)}catch(Ce){G="error",I={operation:O.type,message:Ce.message,errorClass:Ce.name,input:O},Ce.stack&&(I.stack=typeof Ce.stack=="string"?Ce.stack.split(/\n\s*/):Ce.stack)}W||(W=I.dbId||Ne()),F.post({type:G,dbId:W,messageId:O.messageId,workerReceivedTime:U,workerRespondTime:performance.now(),departureTime:O.departureTime,result:I},F.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:a})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=a.wasm,f=a.capi,h=a.util.toss3,v=Object.create(null),F=Object.create(null),X=a.StructBinder;a.vfs=v,a.vtab=F;const _e=f.sqlite3_index_info;_e.prototype.nthConstraint=function(O,I=!1){if(O<0||O>=this.$nConstraint)return!1;const W=this.$aConstraint+_e.sqlite3_index_constraint.structInfo.sizeof*O;return I?W:new _e.sqlite3_index_constraint(W)},_e.prototype.nthConstraintUsage=function(O,I=!1){if(O<0||O>=this.$nConstraint)return!1;const W=this.$aConstraintUsage+_e.sqlite3_index_constraint_usage.structInfo.sizeof*O;return I?W:new _e.sqlite3_index_constraint_usage(W)},_e.prototype.nthOrderBy=function(O,I=!1){if(O<0||O>=this.$nOrderBy)return!1;const W=this.$aOrderBy+_e.sqlite3_index_orderby.structInfo.sizeof*O;return I?W:new _e.sqlite3_index_orderby(W)};const Ne=function O(I,W,G,U=O.installMethodArgcCheck){if(I instanceof X.StructType?!(G instanceof Function)&&!d.isPtr(G)&&h("Usage errror: expecting a Function or WASM pointer to one."):h("Usage error: target object is-not-a StructType."),arguments.length===1)return(Ve,wt)=>O(I,Ve,wt,U);O.argcProxy||(O.argcProxy=function(Ve,wt,x,K){return function(...re){return x.length!==arguments.length&&h("Argument mismatch for",Ve.structInfo.name+"::"+wt+": Native signature is:",K),x.apply(this,re)}},O.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Ve,wt)=>{if(typeof Ve=="number")try{d.uninstallFunction(Ve)}catch{}}),delete this.ondispose.__removeFuncList)});const Ce=I.memberSignature(W);Ce.length<2&&h("Member",W,"does not have a function pointer signature:",Ce);const Oe=I.memberKey(W),ve=U&&!d.isPtr(G)?O.argcProxy(I,Oe,G,Ce):G;if(d.isPtr(ve))ve&&!d.functionEntry(ve)&&h("Pointer",ve,"is not a WASM function table entry."),I[Oe]=ve;else{const Ve=d.installFunction(ve,I.memberSignature(W,!0));I[Oe]=Ve,(!I.ondispose||!I.ondispose.__removeFuncList)&&(I.addOnDispose("ondispose.__removeFuncList handler",O.removeFuncList),I.ondispose.__removeFuncList=[]),I.ondispose.__removeFuncList.push(Oe,Ve)}return(Ve,wt)=>O(I,Ve,wt,U)};Ne.installMethodArgcCheck=!1;const Qe=function(O,I,W=Ne.installMethodArgcCheck){const G=new Map;for(const U of Object.keys(I)){const Ce=I[U],Oe=G.get(Ce);if(Oe){const ve=O.memberKey(U);O[ve]=O[O.memberKey(Oe)]}else Ne(O,U,Ce,W),G.set(Ce,U)}return O};X.StructType.prototype.installMethod=function(I,W,G=Ne.installMethodArgcCheck){return arguments.length<3&&I&&typeof I=="object"?Qe(this,...arguments):Ne(this,...arguments)},X.StructType.prototype.installMethods=function(O,I=Ne.installMethodArgcCheck){return Qe(this,O,I)},f.sqlite3_vfs.prototype.registerVfs=function(O=!1){this instanceof a.capi.sqlite3_vfs||h("Expecting a sqlite3_vfs-type argument.");const I=f.sqlite3_vfs_register(this,O?1:0);return I&&h("sqlite3_vfs_register(",this,") failed with rc",I),this.pointer!==f.sqlite3_vfs_find(this.$zName)&&h("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},v.installVfs=function(O){let I=0;const W=["io","vfs"];for(const G of W){const U=O[G];U&&(++I,Qe(U.struct,U.methods,!!U.applyArgcCheck),G==="vfs"&&(!U.struct.$zName&&typeof U.name=="string"&&U.struct.addOnDispose(U.struct.$zName=d.allocCString(U.name)),U.struct.registerVfs(!!U.asDefault)))}return I||h("Misuse: installVfs() options object requires at least","one of:",W),this};const pt=function(O,I){return function(W,G=!1){if(arguments.length===0&&(W=new I),W instanceof I)return this.set(W.pointer,W),W;d.isPtr(W)||a.SQLite3Error.toss("Invalid argument to",O+"()");let U=this.get(W);return G&&this.delete(W),U}.bind(new Map)},oe=function(O,I){const W=pt(O,I);return Object.assign(Object.create(null),{StructType:I,create:G=>{const U=W();return d.pokePtr(G,U.pointer),U},get:G=>W(G),unget:G=>W(G,!0),dispose:G=>{const U=W(G,!0);U&&U.dispose()}})};F.xVtab=oe("xVtab",f.sqlite3_vtab),F.xCursor=oe("xCursor",f.sqlite3_vtab_cursor),F.xIndexInfo=O=>new f.sqlite3_index_info(O),F.xError=function O(I,W,G){if(O.errorReporter instanceof Function)try{O.errorReporter("sqlite3_module::"+I+"(): "+W.message)}catch{}let U;return W instanceof a.WasmAllocError?U=f.SQLITE_NOMEM:arguments.length>2?U=G:W instanceof a.SQLite3Error&&(U=W.resultCode),U||f.SQLITE_ERROR},F.xError.errorReporter=console.error.bind(console),F.xRowid=(O,I)=>d.poke(O,I,"i64"),F.setupModule=function(O){let I=!1;const W=this instanceof f.sqlite3_module?this:O.struct||(I=new f.sqlite3_module);try{const G=O.methods||h("Missing 'methods' object.");for(const U of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ce=U[0],Oe=U[1];G[Ce]===!0?G[Ce]=G[Oe]:G[Oe]===!0&&(G[Oe]=G[Ce])}if(O.catchExceptions){const U=function(ve,Ve){return["xConnect","xCreate"].indexOf(ve)>=0?function(wt,x,K,re,Te,A){try{return Ve(...arguments)||0}catch(z){return z instanceof a.WasmAllocError||(d.dealloc(d.peekPtr(A)),d.pokePtr(A,d.allocCString(z.message))),F.xError(ve,z)}}:function(...wt){try{return Ve(...wt)||0}catch(x){return F.xError(ve,x)}}},Ce=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],Oe=Object.create(null);for(const ve of Ce){const Ve=G[ve];if(Ve instanceof Function)ve==="xConnect"&&G.xCreate===Ve?Oe[ve]=G.xCreate:ve==="xCreate"&&G.xConnect===Ve?Oe[ve]=G.xConnect:Oe[ve]=U(ve,Ve);else continue}Qe(W,Oe,!1)}else Qe(W,G,!!O.applyArgcCheck);if(W.$iVersion===0){let U;typeof O.iVersion=="number"?U=O.iVersion:W.$xShadowName?U=3:W.$xSavePoint||W.$xRelease||W.$xRollbackTo?U=2:U=1,W.$iVersion=U}}catch(G){throw I&&I.dispose(),G}return W},f.sqlite3_module.prototype.setupModule=function(O){return F.setupModule.call(this,O)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=function f(h){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!h||typeof h!="object")&&(h=Object.create(null));const v=new URL(globalThis.location.href).searchParams;return v.has("opfs-disable")?Promise.resolve(a):(h.verbose===void 0&&(h.verbose=v.has("opfs-verbose")?+v.get("opfs-verbose")||2:1),h.sanityChecks===void 0&&(h.sanityChecks=v.has("opfs-sanity-check")),h.proxyUri===void 0&&(h.proxyUri=f.defaultProxyUri),typeof h.proxyUri=="function"&&(h.proxyUri=h.proxyUri()),new Promise(function(X,_e){const Ne=[a.config.error,a.config.warn,a.config.log],Qe=(ie,...Ee)=>{h.verbose>ie&&Ne[ie]("OPFS syncer:",...Ee)},pt=(...ie)=>Qe(2,...ie),oe=(...ie)=>Qe(1,...ie),O=(...ie)=>Qe(0,...ie),I=a.util.toss,W=a.capi,G=a.wasm,U=W.sqlite3_vfs,Ce=W.sqlite3_file,Oe=W.sqlite3_io_methods,ve=Object.create(null),Ve=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;ve.metrics={dump:function(){let ie,Ee=0,Se=0,tt=0;for(ie in b.opIds){const He=V[ie];Ee+=He.count,Se+=He.time,tt+=He.wait,He.avgTime=He.count&&He.time?He.time/He.count:0,He.avgWait=He.count&&He.wait?He.wait/He.count:0}a.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",V,`
Total of`,Ee,"op(s) for",Se,"ms (incl. "+tt+" ms of waiting on the async side)"),a.config.log("Serialization metrics:",V.s11n),A.postMessage({type:"opfs-async-metrics"})},reset:function(){let ie;const Ee=tt=>tt.count=tt.time=tt.wait=0;for(ie in b.opIds)Ee(V[ie]=Object.create(null));let Se=V.s11n=Object.create(null);Se=Se.serialize=Object.create(null),Se.count=Se.time=0,Se=V.s11n.deserialize=Object.create(null),Se.count=Se.time=0}};const wt=new Oe,x=new U().addOnDispose(()=>wt.dispose());let K;const re=ie=>(K=!0,x.dispose(),_e(ie)),Te=()=>(K=!1,X(a)),A=new Worker(new URL("/assets/sqlite3-opfs-async-proxy.88374fec.js",self.location));setTimeout(()=>{K===void 0&&re(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),A._originalOnError=A.onerror,A.onerror=function(ie){O("Error initializing OPFS asyncer:",ie),re(new Error("Loading OPFS async Worker failed for unknown reasons."))};const z=W.sqlite3_vfs_find(null),S=z?new U(z):null;wt.$iVersion=1,x.$iVersion=2,x.$szOsFile=W.sqlite3_file.structInfo.sizeof,x.$mxPathname=1024,x.$zName=G.allocCString("opfs"),x.$xDlOpen=x.$xDlError=x.$xDlSym=x.$xDlClose=null,x.addOnDispose("$zName",x.$zName,"cleanup default VFS wrapper",()=>S?S.dispose():null);const b=Object.create(null);b.verbose=h.verbose,b.littleEndian=(()=>{const ie=new ArrayBuffer(2);return new DataView(ie).setInt16(0,256,!0),new Int16Array(ie)[0]===256})(),b.asyncIdleWaitTime=150,b.asyncS11nExceptions=1,b.fileBufferSize=1024*64,b.sabS11nOffset=b.fileBufferSize,b.sabS11nSize=x.$mxPathname*2,b.sabIO=new SharedArrayBuffer(b.fileBufferSize+b.sabS11nSize),b.opIds=Object.create(null);const V=Object.create(null);{let ie=0;b.opIds.whichOp=ie++,b.opIds.rc=ie++,b.opIds.xAccess=ie++,b.opIds.xClose=ie++,b.opIds.xDelete=ie++,b.opIds.xDeleteNoWait=ie++,b.opIds.xFileSize=ie++,b.opIds.xLock=ie++,b.opIds.xOpen=ie++,b.opIds.xRead=ie++,b.opIds.xSleep=ie++,b.opIds.xSync=ie++,b.opIds.xTruncate=ie++,b.opIds.xUnlock=ie++,b.opIds.xWrite=ie++,b.opIds.mkdir=ie++,b.opIds["opfs-async-metrics"]=ie++,b.opIds["opfs-async-shutdown"]=ie++,b.opIds.retry=ie++,b.sabOP=new SharedArrayBuffer(ie*4),ve.metrics.reset()}b.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(ie=>{(b.sq3Codes[ie]=W[ie])===void 0&&I("Maintenance required: not found:",ie)}),b.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const ce=(ie,...Ee)=>{const Se=b.opIds[ie]||I("Invalid op ID:",ie);b.s11n.serialize(...Ee),Atomics.store(b.sabOPView,b.opIds.rc,-1),Atomics.store(b.sabOPView,b.opIds.whichOp,Se),Atomics.notify(b.sabOPView,b.opIds.whichOp);const tt=performance.now();Atomics.wait(b.sabOPView,b.opIds.rc,-1);const He=Atomics.load(b.sabOPView,b.opIds.rc);if(V[ie].wait+=performance.now()-tt,He&&b.asyncS11nExceptions){const Tt=b.s11n.deserialize();Tt&&O(ie+"() async error:",...Tt)}return He};ve.debug={asyncShutdown:()=>{oe("Shutting down OPFS async listener. The OPFS VFS will no longer work."),ce("opfs-async-shutdown")},asyncRestart:()=>{oe("Attempting to restart OPFS VFS async listener. Might work, might not."),A.postMessage({type:"opfs-async-restart"})}};const ze=()=>{if(b.s11n)return b.s11n;const ie=new TextDecoder,Ee=new TextEncoder("utf-8"),Se=new Uint8Array(b.sabIO,b.sabS11nOffset,b.sabS11nSize),tt=new DataView(b.sabIO,b.sabS11nOffset,b.sabS11nSize);b.s11n=Object.create(null);const He=Object.create(null);He.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},He.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},He.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},He.string={id:4};const Tt=et=>He[typeof et]||I("Maintenance required: this value type cannot be serialized.",et),Mt=et=>{switch(et){case He.number.id:return He.number;case He.bigint.id:return He.bigint;case He.boolean.id:return He.boolean;case He.string.id:return He.string;default:I("Invalid type ID:",et)}};return b.s11n.deserialize=function(et=!1){++V.s11n.deserialize.count;const vn=performance.now(),Mn=Se[0],an=Mn?[]:null;if(Mn){const me=[];let Ke=1,Je,rt,Bt;for(Je=0;Je<Mn;++Je,++Ke)me.push(Mt(Se[Ke]));for(Je=0;Je<Mn;++Je){const Vt=me[Je];Vt.getter?(Bt=tt[Vt.getter](Ke,b.littleEndian),Ke+=Vt.size):(rt=tt.getInt32(Ke,b.littleEndian),Ke+=4,Bt=ie.decode(Se.slice(Ke,Ke+rt)),Ke+=rt),an.push(Bt)}}return et&&(Se[0]=0),V.s11n.deserialize.time+=performance.now()-vn,an},b.s11n.serialize=function(...et){const vn=performance.now();if(++V.s11n.serialize.count,et.length){const Mn=[];let an=0,me=1;for(Se[0]=et.length&255;an<et.length;++an,++me)Mn.push(Tt(et[an])),Se[me]=Mn[an].id;for(an=0;an<et.length;++an){const Ke=Mn[an];if(Ke.setter)tt[Ke.setter](me,et[an],b.littleEndian),me+=Ke.size;else{const Je=Ee.encode(et[an]);tt.setInt32(me,Je.byteLength,b.littleEndian),me+=4,Se.set(Je,me),me+=Je.byteLength}}}else Se[0]=0;V.s11n.serialize.time+=performance.now()-vn},b.s11n},ct=function ie(Ee=16){ie._chars||(ie._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",ie._n=ie._chars.length);const Se=[];let tt=0;for(;tt<Ee;++tt){const He=Math.random()*(ie._n*64)%ie._n|0;Se[tt]=ie._chars[He]}return Se.join("")},_t=Object.create(null),Ie=Object.create(null);Ie.op=void 0,Ie.start=void 0;const Q=ie=>{Ie.start=performance.now(),Ie.op=ie,++V[ie].count},le=()=>V[Ie.op].time+=performance.now()-Ie.start,Ae={xCheckReservedLock:function(ie,Ee){const Se=_t[ie];return G.poke(Ee,Se.lockType?1:0,"i32"),0},xClose:function(ie){Q("xClose");let Ee=0;const Se=_t[ie];return Se&&(delete _t[ie],Ee=ce("xClose",ie),Se.sq3File&&Se.sq3File.dispose()),le(),Ee},xDeviceCharacteristics:function(ie){return W.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(ie,Ee,Se){return W.SQLITE_NOTFOUND},xFileSize:function(ie,Ee){Q("xFileSize");let Se=ce("xFileSize",ie);if(Se==0)try{const tt=b.s11n.deserialize()[0];G.poke(Ee,tt,"i64")}catch(tt){O("Unexpected error reading xFileSize() result:",tt),Se=b.sq3Codes.SQLITE_IOERR}return le(),Se},xLock:function(ie,Ee){Q("xLock");const Se=_t[ie];let tt=0;return Se.lockType?Se.lockType=Ee:(tt=ce("xLock",ie,Ee),tt===0&&(Se.lockType=Ee)),le(),tt},xRead:function(ie,Ee,Se,tt){Q("xRead");const He=_t[ie];let Tt;try{Tt=ce("xRead",ie,Se,Number(tt)),(Tt===0||W.SQLITE_IOERR_SHORT_READ===Tt)&&G.heap8u().set(He.sabView.subarray(0,Se),Ee)}catch(Mt){O("xRead(",arguments,") failed:",Mt,He),Tt=W.SQLITE_IOERR_READ}return le(),Tt},xSync:function(ie,Ee){Q("xSync"),++V.xSync.count;const Se=ce("xSync",ie,Ee);return le(),Se},xTruncate:function(ie,Ee){Q("xTruncate");const Se=ce("xTruncate",ie,Number(Ee));return le(),Se},xUnlock:function(ie,Ee){Q("xUnlock");const Se=_t[ie];let tt=0;return W.SQLITE_LOCK_NONE===Ee&&Se.lockType&&(tt=ce("xUnlock",ie,Ee)),tt===0&&(Se.lockType=Ee),le(),tt},xWrite:function(ie,Ee,Se,tt){Q("xWrite");const He=_t[ie];let Tt;try{He.sabView.set(G.heap8u().subarray(Ee,Ee+Se)),Tt=ce("xWrite",ie,Se,Number(tt))}catch(Mt){O("xWrite(",arguments,") failed:",Mt,He),Tt=W.SQLITE_IOERR_WRITE}return le(),Tt}},We={xAccess:function(ie,Ee,Se,tt){Q("xAccess");const He=ce("xAccess",G.cstrToJs(Ee));return G.poke(tt,He?0:1,"i32"),le(),0},xCurrentTime:function(ie,Ee){return G.poke(Ee,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(ie,Ee){return G.poke(Ee,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(ie,Ee,Se){Q("xDelete");const tt=ce("xDelete",G.cstrToJs(Ee),Se,!1);return le(),tt},xFullPathname:function(ie,Ee,Se,tt){return G.cstrncpy(tt,Ee,Se)<Se?0:W.SQLITE_CANTOPEN},xGetLastError:function(ie,Ee,Se){return oe("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ee,Se,tt,He,Tt){Q("xOpen");let Mt=0;Se===0?Se=ct():typeof Se=="number"&&(W.sqlite3_uri_boolean(Se,"opfs-unlock-asap",0)&&(Mt|=b.opfsFlags.OPFS_UNLOCK_ASAP),Se=G.cstrToJs(Se));const et=Object.create(null);et.fid=tt,et.filename=Se,et.sab=new SharedArrayBuffer(b.fileBufferSize),et.flags=He;const vn=ce("xOpen",tt,Se,He,Mt);return vn||(et.readOnly&&G.poke(Tt,W.SQLITE_OPEN_READONLY,"i32"),_t[tt]=et,et.sabView=b.sabFileBufView,et.sq3File=new Ce(tt),et.sq3File.$pMethods=wt.pointer,et.lockType=W.SQLITE_LOCK_NONE),le(),vn}};if(S&&(x.$xRandomness=S.$xRandomness,x.$xSleep=S.$xSleep),x.$xRandomness||(We.xRandomness=function(ie,Ee,Se){const tt=G.heap8u();let He=0;for(;He<Ee;++He)tt[Se+He]=Math.random()*255e3&255;return He}),x.$xSleep||(We.xSleep=function(ie,Ee){return Atomics.wait(b.sabOPView,b.opIds.xSleep,0,Ee),0}),ve.getResolvedPath=function(ie,Ee){const Se=new URL(ie,"file://irrelevant").pathname;return Ee?Se.split("/").filter(tt=>!!tt):Se},ve.getDirForFilename=async function(Ee,Se=!1){const tt=ve.getResolvedPath(Ee,!0),He=tt.pop();let Tt=ve.rootDirectory;for(const Mt of tt)Mt&&(Tt=await Tt.getDirectoryHandle(Mt,{create:!!Se}));return[Tt,He]},ve.mkdir=async function(ie){try{return await ve.getDirForFilename(ie+"/filepart",!0),!0}catch{return!1}},ve.entryExists=async function(ie){try{const[Ee,Se]=await ve.getDirForFilename(ie);return await Ee.getFileHandle(Se),!0}catch{return!1}},ve.randomFilename=ct,ve.registerVfs=(ie=!1)=>G.exports.sqlite3_vfs_register(x.pointer,ie?1:0),ve.treeList=async function(){const ie=async function Se(tt,He){He.name=tt.name,He.dirs=[],He.files=[];for await(const Tt of tt.values())if(Tt.kind==="directory"){const Mt=Object.create(null);He.dirs.push(Mt),await Se(Tt,Mt)}else He.files.push(Tt.name)},Ee=Object.create(null);return await ie(ve.rootDirectory,Ee),Ee},ve.rmfr=async function(){const ie=ve.rootDirectory,Ee={recurse:!0};for await(const Se of ie.values())ie.removeEntry(Se.name,Ee)},ve.unlink=async function(ie,Ee=!1,Se=!1){try{const[tt,He]=await ve.getDirForFilename(ie,!1);return await tt.removeEntry(He,{recursive:Ee}),!0}catch(tt){if(Se)throw new Error("unlink(",arguments[0],") failed: "+tt.message,{cause:tt});return!1}},ve.traverse=async function(ie){const Ee={recursive:!0,directory:ve.rootDirectory};typeof ie=="function"&&(ie={callback:ie}),ie=Object.assign(Ee,ie||{}),async function tt(He,Tt){for await(const Mt of He.values()){if(ie.callback(Mt,He,Tt)===!1)return!1;if(ie.recursive&&Mt.kind==="directory"&&await tt(Mt,Tt+1)===!1)break}}(ie.directory,0)},ve.importDb=async function(ie,Ee){Ee instanceof ArrayBuffer&&(Ee=new Uint8Array(Ee));const Se=Ee.byteLength;(Se<512||Se%512!=0)&&I("Byte array size is invalid for an SQLite db.");const tt="SQLite format 3";for(let et=0;et<tt.length;++et)tt.charCodeAt(et)!==Ee[et]&&I("Input does not contain an SQLite database header.");let He;const[Tt,Mt]=await ve.getDirForFilename(ie,!0);try{He=await(await Tt.getFileHandle(Mt,{create:!0})).createSyncAccessHandle(),He.truncate(0);const vn=He.write(Ee,{at:0});return vn!=Se&&I("Expected to write "+Se+" bytes but wrote "+vn+"."),He.write(new Uint8Array([1,1]),{at:18}),vn}catch(et){throw He&&(await He.close(),He=void 0),await Tt.removeEntry(Mt).catch(()=>{}),et}finally{He&&await He.close()}},a.oo1){const ie=function(...Ee){const Se=a.oo1.DB.dbCtorHelper.normalizeArgs(...Ee);Se.vfs=x.$zName,a.oo1.DB.dbCtorHelper.call(this,Se)};ie.prototype=Object.create(a.oo1.DB.prototype),a.oo1.OpfsDb=ie,ie.importDb=ve.importDb,a.oo1.DB.dbCtorHelper.setVfsPostOpenSql(x.pointer,function(Ee,Se){Se.capi.sqlite3_busy_timeout(Ee,1e4),Se.capi.sqlite3_exec(Ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}const yt=function(){const ie=G.scopedAllocPush(),Ee=new Ce;try{const Se=Ee.pointer,tt=W.SQLITE_OPEN_CREATE|W.SQLITE_OPEN_READWRITE|W.SQLITE_OPEN_MAIN_DB,He=G.scopedAlloc(8),Tt="/sanity/check/file"+ct(8),Mt=G.scopedAllocCString(Tt);let et;if(b.s11n.serialize("This is \xE4 string."),et=b.s11n.deserialize(),pt("deserialize() says:",et),et[0]!=="This is \xE4 string."&&I("String d13n error."),We.xAccess(x.pointer,Mt,0,He),et=G.peek(He,"i32"),pt("xAccess(",Tt,") exists ?=",et),et=We.xOpen(x.pointer,Mt,Se,tt,He),pt("open rc =",et,"state.sabOPView[xOpen] =",b.sabOPView[b.opIds.xOpen]),et!==0){O("open failed with code",et);return}We.xAccess(x.pointer,Mt,0,He),et=G.peek(He,"i32"),et||I("xAccess() failed to detect file."),et=Ae.xSync(Ee.pointer,0),et&&I("sync failed w/ rc",et),et=Ae.xTruncate(Ee.pointer,1024),et&&I("truncate failed w/ rc",et),G.poke(He,0,"i64"),et=Ae.xFileSize(Ee.pointer,He),et&&I("xFileSize failed w/ rc",et),pt("xFileSize says:",G.peek(He,"i64")),et=Ae.xWrite(Ee.pointer,Mt,10,1),et&&I("xWrite() failed!");const vn=G.scopedAlloc(16);et=Ae.xRead(Ee.pointer,vn,6,2),G.poke(vn+6,0);let Mn=G.cstrToJs(vn);pt("xRead() got:",Mn),Mn!=="sanity"&&I("Unexpected xRead() value."),We.xSleep&&(pt("xSleep()ing before close()ing..."),We.xSleep(x.pointer,2e3),pt("waking up from xSleep()")),et=Ae.xClose(Se),pt("xClose rc =",et,"sabOPView =",b.sabOPView),pt("Deleting file:",Tt),We.xDelete(x.pointer,Mt,4660),We.xAccess(x.pointer,Mt,0,He),et=G.peek(He,"i32"),et&&I("Expecting 0 from xAccess(",Tt,") after xDelete()."),oe("End of OPFS sanity checks.")}finally{Ee.dispose(),G.scopedAllocPop(ie)}};A.onmessage=function({data:ie}){switch(ie.type){case"opfs-unavailable":re(new Error(ie.payload.join(" ")));break;case"opfs-async-loaded":A.postMessage({type:"opfs-async-init",args:b});break;case"opfs-async-inited":{if(K===!0)break;try{a.vfs.installVfs({io:{struct:wt,methods:Ae},vfs:{struct:x,methods:We}}),b.sabOPView=new Int32Array(b.sabOP),b.sabFileBufView=new Uint8Array(b.sabIO,0,b.fileBufferSize),b.sabS11nView=new Uint8Array(b.sabIO,b.sabS11nOffset,b.sabS11nSize),ze(),h.sanityChecks&&(oe("Running sanity checks because of opfs-sanity-check URL arg..."),yt()),Ve()?navigator.storage.getDirectory().then(Ee=>{A.onerror=A._originalOnError,delete A._originalOnError,a.opfs=ve,ve.rootDirectory=Ee,pt("End of OPFS sqlite3_vfs setup.",x),Te()}).catch(re):Te()}catch(Ee){O(Ee),re(Ee)}break}default:{const Ee="Unexpected message from the OPFS async worker: "+JSON.stringify(ie);O(Ee),re(new Error(Ee));break}}}}))};d.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async f=>{try{let h=d.defaultProxyUri;return f.scriptInfo.sqlite3Dir&&(d.defaultProxyUri=f.scriptInfo.sqlite3Dir+h),d().catch(v=>{f.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",v.message)})}catch(h){return f.config.error("installOpfsVfs() exception:",h),Promise.reject(h)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=a.util.toss,f=a.util.toss3,h=Object.create(null),v=a.capi,F=a.wasm,X=4096,_e=512,Ne=4,Qe=8,pt=_e+Ne,oe=_e,O=pt,I=X,W=v.SQLITE_OPEN_MAIN_DB|v.SQLITE_OPEN_MAIN_JOURNAL|v.SQLITE_OPEN_SUPER_JOURNAL|v.SQLITE_OPEN_WAL,G=".opaque",U=()=>Math.random().toString(36).slice(2),Ce=new TextDecoder,Oe=new TextEncoder,ve=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),Ve=[a.config.error,a.config.warn,a.config.log];a.config.log;const wt=a.config.warn;a.config.error;const x=new Map,K=Ie=>x.get(Ie),re=(Ie,Q)=>{Q?x.set(Ie,Q):x.delete(Ie)},Te=new Map,A=Ie=>Te.get(Ie),z=(Ie,Q)=>{Q?Te.set(Ie,Q):Te.delete(Ie)},S={xCheckReservedLock:function(Ie,Q){const le=A(Ie);return le.log("xCheckReservedLock"),le.storeErr(),F.poke32(Q,1),0},xClose:function(Ie){const Q=A(Ie);Q.storeErr();const le=Q.getOFileForS3File(Ie);if(le)try{Q.log(`xClose ${le.path}`),Q.mapS3FileToOFile(Ie,!1),le.sah.flush(),le.flags&v.SQLITE_OPEN_DELETEONCLOSE&&Q.deletePath(le.path)}catch(Ae){return Q.storeErr(Ae),v.SQLITE_IOERR}return 0},xDeviceCharacteristics:function(Ie){return v.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ie,Q,le){return v.SQLITE_NOTFOUND},xFileSize:function(Ie,Q){const le=A(Ie);le.log("xFileSize");const We=le.getOFileForS3File(Ie).sah.getSize()-I;return F.poke64(Q,BigInt(We)),0},xLock:function(Ie,Q){const le=A(Ie);le.log(`xLock ${Q}`),le.storeErr();const Ae=le.getOFileForS3File(Ie);return Ae.lockType=Q,0},xRead:function(Ie,Q,le,Ae){const We=A(Ie);We.storeErr();const yt=We.getOFileForS3File(Ie);We.log(`xRead ${yt.path} ${le} @ ${Ae}`);try{const ie=yt.sah.read(F.heap8u().subarray(Q,Q+le),{at:I+Number(Ae)});return ie<le?(F.heap8u().fill(0,Q+ie,Q+le),v.SQLITE_IOERR_SHORT_READ):0}catch(ie){return We.storeErr(ie),v.SQLITE_IOERR}},xSectorSize:function(Ie){return X},xSync:function(Ie,Q){const le=A(Ie);le.log(`xSync ${Q}`),le.storeErr();const Ae=le.getOFileForS3File(Ie);try{return Ae.sah.flush(),0}catch(We){return le.storeErr(We),v.SQLITE_IOERR}},xTruncate:function(Ie,Q){const le=A(Ie);le.log(`xTruncate ${Q}`),le.storeErr();const Ae=le.getOFileForS3File(Ie);try{return Ae.sah.truncate(I+Number(Q)),0}catch(We){return le.storeErr(We),v.SQLITE_IOERR}},xUnlock:function(Ie,Q){const le=A(Ie);le.log("xUnlock");const Ae=le.getOFileForS3File(Ie);return Ae.lockType=Q,0},xWrite:function(Ie,Q,le,Ae){const We=A(Ie);We.storeErr();const yt=We.getOFileForS3File(Ie);We.log(`xWrite ${yt.path} ${le} ${Ae}`);try{return yt.sah.write(F.heap8u().subarray(Q,Q+le),{at:I+Number(Ae)})===le?0:v.SQLITE_IOERR}catch(ie){return We.storeErr(ie),v.SQLITE_IOERR}}},b=new v.sqlite3_io_methods;b.$iVersion=1,a.vfs.installVfs({io:{struct:b,methods:S}});const V={xAccess:function(Ie,Q,le,Ae){const We=K(Ie);We.storeErr();try{const yt=We.getPath(Q);F.poke32(Ae,We.hasFilename(yt)?1:0)}catch{F.poke32(Ae,0)}return 0},xCurrentTime:function(Ie,Q){return F.poke(Q,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ie,Q){return F.poke(Q,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ie,Q,le){const Ae=K(Ie);Ae.log(`xDelete ${F.cstrToJs(Q)}`),Ae.storeErr();try{return Ae.deletePath(Ae.getPath(Q)),0}catch(We){return Ae.storeErr(We),v.SQLITE_IOERR_DELETE}},xFullPathname:function(Ie,Q,le,Ae){return F.cstrncpy(Ae,Q,le)<le?0:v.SQLITE_CANTOPEN},xGetLastError:function(Ie,Q,le){const Ae=K(Ie);Ae.log(`xGetLastError ${Q}`);const We=Ae.popErr();if(We){const yt=F.scopedAllocPush();try{const[ie,Ee]=F.scopedAllocCString(We.message,!0);F.cstrncpy(le,ie,Q),Ee>Q&&F.poke8(le+Q-1,0)}catch{return v.SQLITE_NOMEM}finally{F.scopedAllocPop(yt)}}return 0},xOpen:function(Q,le,Ae,We,yt){const ie=K(Q);try{ie.log(`xOpen ${F.cstrToJs(le)} ${We}`);const Ee=le&&F.peek8(le)?ie.getPath(le):U();let Se=ie.getSAHForPath(Ee);!Se&&We&v.SQLITE_OPEN_CREATE&&(ie.getFileCount()<ie.getCapacity()?(Se=ie.nextAvailableSAH(),ie.setAssociatedPath(Se,Ee,We)):d("SAH pool is full. Cannot create file",Ee)),Se||d("file not found:",Ee);const tt={path:Ee,flags:We,sah:Se};ie.mapS3FileToOFile(Ae,tt),tt.lockType=v.SQLITE_LOCK_NONE;const He=new v.sqlite3_file(Ae);return He.$pMethods=b.pointer,He.dispose(),F.poke32(yt,We),0}catch(Ee){return ie.storeErr(Ee),v.SQLITE_CANTOPEN}}},ce=function(Ie){a.capi.sqlite3_vfs_find(Ie)&&f("VFS name is already registered:",Ie);const Q=new v.sqlite3_vfs,le=v.sqlite3_vfs_find(null),Ae=le?new v.sqlite3_vfs(le):null;return Q.$iVersion=2,Q.$szOsFile=v.sqlite3_file.structInfo.sizeof,Q.$mxPathname=_e,Q.addOnDispose(Q.$zName=F.allocCString(Ie),()=>re(Q.pointer,0)),Ae&&(Q.$xRandomness=Ae.$xRandomness,Q.$xSleep=Ae.$xSleep,Ae.dispose()),!Q.$xRandomness&&!V.xRandomness&&(V.xRandomness=function(We,yt,ie){const Ee=F.heap8u();let Se=0;for(;Se<yt;++Se)Ee[ie+Se]=Math.random()*255e3&255;return Se}),!Q.$xSleep&&!V.xSleep&&(V.xSleep=(We,yt)=>0),a.vfs.installVfs({vfs:{struct:Q,methods:V}}),Q};class ze{vfsDir;#e;#i;#a;#r=new Map;#n=new Map;#s=new Set;#l=new Map;#t=new Uint8Array(pt);#u;#o;#f;constructor(Q=Object.create(null)){this.#f=Q.verbosity??ve.verbosity,this.vfsName=Q.name||ve.name,this.#o=ce(this.vfsName),re(this.#o.pointer,this),this.vfsDir=Q.directory||"."+this.vfsName,this.#u=new DataView(this.#t.buffer,this.#t.byteOffset),this.isReady=this.reset(!!(Q.clearOnInit??ve.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(Q.initialCapacity||ve.initialCapacity)})}#c(Q,...le){this.#f>Q&&Ve[Q](this.vfsName+":",...le)}log(...Q){this.#c(2,...Q)}warn(...Q){this.#c(1,...Q)}error(...Q){this.#c(0,...Q)}getVfs(){return this.#o}getCapacity(){return this.#r.size}getFileCount(){return this.#n.size}getFileNames(){const Q=[],le=this.#n.keys();for(const Ae of le)Q.push(Ae);return Q}async addCapacity(Q){for(let le=0;le<Q;++le){const Ae=U(),yt=await(await this.#i.getFileHandle(Ae,{create:!0})).createSyncAccessHandle();this.#r.set(yt,Ae),this.setAssociatedPath(yt,"",0)}return this.getCapacity()}async reduceCapacity(Q){let le=0;for(const Ae of Array.from(this.#s)){if(le===Q||this.getFileCount()===this.getCapacity())break;const We=this.#r.get(Ae);Ae.close(),await this.#i.removeEntry(We),this.#r.delete(Ae),this.#s.delete(Ae),++le}return le}releaseAccessHandles(){for(const Q of this.#r.keys())Q.close();this.#r.clear(),this.#n.clear(),this.#s.clear()}async acquireAccessHandles(Q){const le=[];for await(const[Ae,We]of this.#i)We.kind==="file"&&le.push([Ae,We]);return Promise.all(le.map(async([Ae,We])=>{try{const yt=await We.createSyncAccessHandle();if(this.#r.set(yt,Ae),Q)yt.truncate(I),this.setAssociatedPath(yt,"",0);else{const ie=this.getAssociatedPath(yt);ie?this.#n.set(ie,yt):this.#s.add(yt)}}catch(yt){throw this.storeErr(yt),this.releaseAccessHandles(),yt}}))}getAssociatedPath(Q){Q.read(this.#t,{at:0});const le=this.#u.getUint32(oe);if(this.#t[0]&&(le&v.SQLITE_OPEN_DELETEONCLOSE||(le&W)===0))return wt(`Removing file with unexpected flags ${le.toString(16)}`,this.#t),this.setAssociatedPath(Q,"",0),"";const Ae=new Uint32Array(Qe/4);Q.read(Ae,{at:O});const We=this.computeDigest(this.#t);if(Ae.every((yt,ie)=>yt===We[ie])){const yt=this.#t.findIndex(ie=>ie===0);return yt===0&&Q.truncate(I),yt?Ce.decode(this.#t.subarray(0,yt)):""}else return wt("Disassociating file with bad digest."),this.setAssociatedPath(Q,"",0),""}setAssociatedPath(Q,le,Ae){const We=Oe.encodeInto(le,this.#t);_e<=We.written+1&&d("Path too long:",le),this.#t.fill(0,We.written,_e),this.#u.setUint32(oe,Ae);const yt=this.computeDigest(this.#t);Q.write(this.#t,{at:0}),Q.write(yt,{at:O}),Q.flush(),le?(this.#n.set(le,Q),this.#s.delete(Q)):(Q.truncate(I),this.#s.add(Q))}computeDigest(Q){let le=3735928559,Ae=1103547991;for(const We of Q)le=31*le+We*307,Ae=31*Ae+We*307;return new Uint32Array([le>>>0,Ae>>>0])}async reset(Q){await this.isReady;let le=await navigator.storage.getDirectory(),Ae;for(const We of this.vfsDir.split("/"))We&&(Ae=le,le=await le.getDirectoryHandle(We,{create:!0}));return this.#e=le,this.#a=Ae,this.#i=await this.#e.getDirectoryHandle(G,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(Q)}getPath(Q){return F.isPtr(Q)&&(Q=F.cstrToJs(Q)),(Q instanceof URL?Q:new URL(Q,"file://localhost/")).pathname}deletePath(Q){const le=this.#n.get(Q);return le&&(this.#n.delete(Q),this.setAssociatedPath(le,"",0)),!!le}storeErr(Q){return Q&&this.error(Q),this.$error=Q}popErr(){const Q=this.$error;return this.$error=void 0,Q}nextAvailableSAH(){const[Q]=this.#s.keys();return Q}getOFileForS3File(Q){return this.#l.get(Q)}mapS3FileToOFile(Q,le){le?(this.#l.set(Q,le),z(Q,this)):(this.#l.delete(Q),z(Q,!1))}hasFilename(Q){return this.#n.has(Q)}getSAHForPath(Q){return this.#n.get(Q)}async removeVfs(){if(!this.#o.pointer||!this.#i)return!1;v.sqlite3_vfs_unregister(this.#o.pointer),this.#o.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(G,{recursive:!0}),this.#i=void 0,await this.#a.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#a=void 0}catch(Q){a.config.error(this.vfsName,"removeVfs() failed:",Q)}return!0}exportFile(Q){const le=this.#n.get(Q)||d("File not found:",Q),Ae=le.getSize()-I,We=new Uint8Array(Ae>0?Ae:0);if(Ae>0){const yt=le.read(We,{at:I});yt!=Ae&&d("Expected to read "+Ae+" bytes but read "+yt+".")}return We}importDb(Q,le){le instanceof ArrayBuffer&&(le=new Uint8Array(le));const Ae=le.byteLength;(Ae<512||Ae%512!=0)&&d("Byte array size is invalid for an SQLite db.");const We="SQLite format 3";for(let Ee=0;Ee<We.length;++Ee)We.charCodeAt(Ee)!==le[Ee]&&d("Input does not contain an SQLite database header.");const yt=this.#n.get(Q)||this.nextAvailableSAH()||d("No available handles to import to."),ie=yt.write(le,{at:I});ie!=Ae?(this.setAssociatedPath(yt,"",0),d("Expected to write "+Ae+" bytes but wrote "+ie+".")):(yt.write(new Uint8Array([1,1]),{at:I+18}),this.setAssociatedPath(yt,Q,v.SQLITE_OPEN_MAIN_DB))}}class ct{#e;constructor(Q){this.#e=Q,this.vfsName=Q.vfsName}async addCapacity(Q){return this.#e.addCapacity(Q)}async reduceCapacity(Q){return this.#e.reduceCapacity(Q)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(Q){const le=this.#e.getCapacity();return le<Q?this.#e.addCapacity(Q-le):le}exportFile(Q){return this.#e.exportFile(Q)}importDb(Q,le){return this.#e.importDb(Q,le)}async wipeFiles(){return this.#e.reset(!0)}unlink(Q){return this.#e.deletePath(Q)}async removeVfs(){return this.#e.removeVfs()}}const _t=async()=>{const Ie=await navigator.storage.getDirectory(),Q=".opfs-sahpool-sync-check-"+U(),We=(await(await Ie.getFileHandle(Q,{create:!0})).createSyncAccessHandle()).close();return await We,await Ie.removeEntry(Q),We?.then&&d("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};a.installOpfsSAHPoolVfs=async function(Ie=Object.create(null)){const Q=Ie.name||ve.name;return h[Q]?h[Q]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?h[Q]=Promise.reject(new Error("Missing required OPFS APIs.")):h[Q]=_t().then(async function(){if(Ie.$testThrowInInit)throw Ie.$testThrowInInit;const le=new ze(Ie);return le.isReady.then(async()=>{const Ae=new ct(le);if(a.oo1){const We=a.oo1,yt=le.getVfs(),ie=function(...Ee){const Se=We.DB.dbCtorHelper.normalizeArgs(...Ee);Se.vfs=yt.$zName,We.DB.dbCtorHelper.call(this,Se)};ie.prototype=Object.create(We.DB.prototype),Ae.OpfsSAHPoolDb=ie,We.DB.dbCtorHelper.setVfsPostOpenSql(yt.pointer,function(Ee,Se){Se.capi.sqlite3_exec(Ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return le.log("VFS initialized."),Ae}).catch(async Ae=>(await le.removeVfs().catch(()=>{}),Ae))}).catch(le=>h[Q]=Promise.reject(le))}}),typeof c<"u"){const a=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?c.asm:wasmExports,memory:c.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=a;let d;try{d=globalThis.sqlite3ApiBootstrap()}catch(f){throw console.error("sqlite3ApiBootstrap() error:",f),f}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}c.sqlite3=d}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r.ready}})();const ux=function(){const e=Q_;if(!e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const t=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(t.debugModule=t.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},t.urlParams.has("sqlite3.dir"))t.sqlite3Dir=t.urlParams.get("sqlite3.dir")+"/";else if(t.moduleScript){const r=t.moduleScript.src.split("/");r.pop(),t.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return e(...n).then(s=>{const i=s.sqlite3;i.scriptInfo=t,r.__isUnderTest&&(i.__isUnderTest=!0);const o=i.asyncPostInit;return delete i.asyncPostInit,o()}).catch(s=>{throw console.error("Exception loading sqlite3 module:",s),s})},globalThis.sqlite3InitModule.ready=e.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return t.debugModule("sqlite3InitModuleState =",t),globalThis.sqlite3InitModule}();Q_=ux;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_=Symbol("Comlink.proxy"),cx=Symbol("Comlink.endpoint"),fx=Symbol("Comlink.releaseProxy"),iu=Symbol("Comlink.finalizer"),ya=Symbol("Comlink.thrown"),J_=e=>typeof e=="object"&&e!==null||typeof e=="function",dx={canHandle:e=>J_(e)&&e[G_],serialize(e){const{port1:t,port2:r}=new MessageChannel;return X_(e,t),[r,[r]]},deserialize(e){return e.start(),em(e)}},px={canHandle:e=>J_(e)&&ya in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Y_=new Map([["proxy",dx],["throw",px]]);function hx(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function X_(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(s){if(!s||!s.data)return;if(!hx(r,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}const{id:i,type:o,path:l}=Object.assign({path:[]},s.data),u=(s.data.argumentList||[]).map(bs);let p;try{const _=l.slice(0,-1).reduce((y,C)=>y[C],e),m=l.reduce((y,C)=>y[C],e);switch(o){case"GET":p=m;break;case"SET":_[l.slice(-1)[0]]=bs(s.data.value),p=!0;break;case"APPLY":p=m.apply(_,u);break;case"CONSTRUCT":{const y=new m(...u);p=rm(y)}break;case"ENDPOINT":{const{port1:y,port2:C}=new MessageChannel;X_(e,C),p=vx(y,[y])}break;case"RELEASE":p=void 0;break;default:return}}catch(_){p={value:_,[ya]:0}}Promise.resolve(p).catch(_=>({value:_,[ya]:0})).then(_=>{const[m,y]=Ua(_);t.postMessage(Object.assign(Object.assign({},m),{id:i}),y),o==="RELEASE"&&(t.removeEventListener("message",n),Z_(t),iu in e&&typeof e[iu]=="function"&&e[iu]())}).catch(_=>{const[m,y]=Ua({value:new TypeError("Unserializable return value"),[ya]:0});t.postMessage(Object.assign(Object.assign({},m),{id:i}),y)})}),t.start&&t.start()}function _x(e){return e.constructor.name==="MessagePort"}function Z_(e){_x(e)&&e.close()}function em(e,t){return sc(e,[],t)}function la(e){if(e)throw new Error("Proxy has been released and is not useable")}function tm(e){return ei(e,{type:"RELEASE"}).then(()=>{Z_(e)})}const Na=new WeakMap,ja="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Na.get(e)||0)-1;Na.set(e,t),t===0&&tm(e)});function mx(e,t){const r=(Na.get(t)||0)+1;Na.set(t,r),ja&&ja.register(e,t,e)}function gx(e){ja&&ja.unregister(e)}function sc(e,t=[],r=function(){}){let n=!1;const s=new Proxy(r,{get(i,o){if(la(n),o===fx)return()=>{gx(s),tm(e),n=!0};if(o==="then"){if(t.length===0)return{then:()=>s};const l=ei(e,{type:"GET",path:t.map(u=>u.toString())}).then(bs);return l.then.bind(l)}return sc(e,[...t,o])},set(i,o,l){la(n);const[u,p]=Ua(l);return ei(e,{type:"SET",path:[...t,o].map(_=>_.toString()),value:u},p).then(bs)},apply(i,o,l){la(n);const u=t[t.length-1];if(u===cx)return ei(e,{type:"ENDPOINT"}).then(bs);if(u==="bind")return sc(e,t.slice(0,-1));const[p,_]=jd(l);return ei(e,{type:"APPLY",path:t.map(m=>m.toString()),argumentList:p},_).then(bs)},construct(i,o){la(n);const[l,u]=jd(o);return ei(e,{type:"CONSTRUCT",path:t.map(p=>p.toString()),argumentList:l},u).then(bs)}});return mx(s,e),s}function yx(e){return Array.prototype.concat.apply([],e)}function jd(e){const t=e.map(Ua);return[t.map(r=>r[0]),yx(t.map(r=>r[1]))]}const nm=new WeakMap;function vx(e,t){return nm.set(e,t),e}function rm(e){return Object.assign(e,{[G_]:!0})}function Ua(e){for(const[t,r]of Y_)if(r.canHandle(e)){const[n,s]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},s]}return[{type:"RAW",value:e},nm.get(e)||[]]}function bs(e){switch(e.type){case"HANDLER":return Y_.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ei(e,t,r){return new Promise(n=>{const s=bx();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==s||(e.removeEventListener("message",i),n(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),r)})}function bx(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class wx{sqliteWorker;dbFile="";sqliteWorkerPath="";rowMode="object";constructor(t,r,n){if(typeof t!="string")throw new Error(`The 'dbFile' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof t}'.`);if(typeof r!="string")throw new Error(`The 'sqliteWorkerPath' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof r}'.`);if(this.dbFile=t,this.sqliteWorkerPath=r,n&&n!=="array"&&n!=="object")throw new Error("Invalid rowMode");this.rowMode=n||this.rowMode}async init(){const t=em(new Worker(this.sqliteWorkerPath,{type:"module"}));this.sqliteWorker=await new t,await this.sqliteWorker.init(this.dbFile,this.rowMode)}async executeSql(t,r=[]){if(typeof t!="string")throw new Error(`The 'sqlStatement' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'string'. Instead, you passed: '${typeof t}'.`);if(!Array.isArray(r))throw new Error(`The 'bindParameters' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'array'. Instead, you passed: '${typeof r}'.`);return new Promise(async n=>{await this.sqliteWorker.executeSql(t,r,rm(s=>n(s)))})}}const Ex=Rv(),Sx=[{path:"/:view?",component:lx,props:!0}],qx=jw({history:tw(),routes:Sx}),Ro=Dc(jv);Ro.use(Ex);Ro.use(qx);Ro.use(Db,{position:ao.BOTTOM_CENTER,closeButton:!1,hideProgressBar:!0,toastClassName:"toast",icon:!1,pauseOnHover:!1,timeout:4e3,maxToasts:4,transition:{enter:"fade-enter-active",leave:"fade-leave-active",move:"fade-move"}});Ro.use(q3,{clientId:"348408322067-4t4ks9d03r9gfp84c54kk18l0d0gv1ev.apps.googleusercontent.com"});Ro.mount("#app");const xx=new URL("data:application/javascript;base64,aW1wb3J0IHNxbGl0ZTNJbml0TW9kdWxlIGZyb20gJ0BzcWxpdGUub3JnL3NxbGl0ZS13YXNtJzsKY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHBvc3RNZXNzYWdlKHsgdHlwZTogJ2xvZycsIHBheWxvYWQ6IGFyZ3Muam9pbignICcpIH0pOwpjb25zdCBlcnJvciA9ICguLi5hcmdzKSA9PiBwb3N0TWVzc2FnZSh7IHR5cGU6ICdlcnJvcicsIHBheWxvYWQ6IGFyZ3Muam9pbignICcpIH0pOwoKY29uc3QgU0NIRU1BID0gYAogIENSRUFURSBUQUJMRSBjb2xsZWN0aW9ucwogICgKICAgIG5hbWUgVEVYVCBbIE5PVCBOVUxMIF0sCiAgKTsKCiAgQ1JFQVRFIFRBQkxFIGNvbGxlY3Rpb25fY2FyZAogICgKICAgIGNvbGxlY3Rpb25fbmFtZSBURVhUIFsgTk9UIE5VTEwgXSwKICAgIGNhcmRfaWQgVEVYVCBbIE5PVCBOVUxMIF0sCgogICAgQ09OU1RSQUlOVCBma19jb2xsZWN0aW9uX25hbWUKICAgICAgRk9SRUlHTiBLRVkgKGNvbGxlY3Rpb25fbmFtZSkKICAgICAgUkVGRVJFTkNFUyBjb2xsZWN0aW9ucyAobmFtZSkKICApOwpgOwoKY29uc3Qgc3RhcnQgPSBmdW5jdGlvbiAoc3FsaXRlMykgewogIGxvZygnUnVubmluZyBTUUxpdGUzIHZlcnNpb24nLCBzcWxpdGUzLnZlcnNpb24ubGliVmVyc2lvbik7CiAgbGV0IGRiOwogIGlmICgnb3BmcycgaW4gc3FsaXRlMykgewogICAgZGIgPSBuZXcgc3FsaXRlMy5vbzEuT3Bmc0RiKCcvbXlkYi5zcWxpdGUzJyk7CiAgICBsb2coJ09QRlMgaXMgYXZhaWxhYmxlLCBjcmVhdGVkIHBlcnNpc3RlZCBkYXRhYmFzZSBhdCcsIGRiLmZpbGVuYW1lKTsKICB9CiAgZWxzZSB7CiAgICBsb2coJ09QRlMgaXMgbm90IGF2YWlsYWJsZScpOwogIH0KICAvLyBZb3VyIFNRTGl0ZSBjb2RlIGhlcmUuCiAgdHJ5IHsKICAgIGRiLmV4ZWMoImRyb3AgdGFibGUgaWYgZXhpc3RzIGNvbGxlY3Rpb25zOyBkcm9wIHRhYmxlIGlmIGV4aXN0cyBjb2xsZWN0aW9uX2NhcmQ7IikKICAgIGRiLmV4ZWMoU0NIRU1BKTsKICB9CiAgY2F0Y2ggKGUpIHsKICAgIGxvZyhlKTsKICB9Cn07Cgpsb2coJ0xvYWRpbmcgYW5kIGluaXRpYWxpemluZyBTUUxpdGUzIG1vZHVsZS4uLicpOwpzcWxpdGUzSW5pdE1vZHVsZSh7CiAgcHJpbnQ6IGxvZywKICBwcmludEVycjogZXJyb3IsCn0pLnRoZW4oKHNxbGl0ZTMpID0+IHsKICBsb2coJ0RvbmUgaW5pdGlhbGl6aW5nLiBSdW5uaW5nIGRlbW8uLi4nKTsKICB0cnkgewogICAgc3RhcnQoc3FsaXRlMyk7CiAgfQogIGNhdGNoIChlcnIpIHsKICAgIGVycm9yKGVyci5uYW1lLCBlcnIubWVzc2FnZSk7CiAgfQp9KTsKCgpzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIGhhbmRsZU1lc3NhZ2VGcm9tTWFpbihtc2cpIHsKICBjb25zb2xlLmxvZygibWVzc2FnZSBmcm9tIG1haW4gcmVjZWl2ZWQgaW4gd29ya2VyOiIsIG1zZyk7Cn0K",self.location).href,kx="/test.sqlite3",El=new wx(kx,xx);await El.init();await El.executeSql("CREATE TABLE IF NOT EXISTS test(a,b)");await El.executeSql("INSERT INTO test VALUES(?, ?)",[6,7]);const Cx=await El.executeSql("SELECT * FROM test");console.log(Cx);
