(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fo(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const xp="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Tp=fo(xp);function Gt(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=He(r)?Ap(r):Gt(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(He(e))return e;if(Ne(e))return e}}const Op=/;(?![^(]*\))/g,Ip=/:([^]+)/,Rp=/\/\*.*?\*\//gs;function Ap(e){const t={};return e.replace(Rp,"").split(Op).forEach(n=>{if(n){const r=n.split(Ip);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function de(e){let t="";if(He(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const r=de(e[n]);r&&(t+=r+" ")}else if(Ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Pp(e){if(!e)return null;let{class:t,style:n}=e;return t&&!He(t)&&(e.class=de(t)),n&&(e.style=Gt(n)),e}const Mp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$p=fo(Mp);function nf(e){return!!e||e===""}function Lp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gn(e[r],t[r]);return n}function Gn(e,t){if(e===t)return!0;let n=Tu(e),r=Tu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Rs(e),r=Rs(t),n||r)return e===t;if(n=pe(e),r=pe(t),n||r)return n&&r?Lp(e,t):!1;if(n=Ne(e),r=Ne(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Gn(e[o],t[o]))return!1}}return String(e)===String(t)}function ho(e,t){return e.findIndex(n=>Gn(n,t))}const _e=e=>He(e)?e:e==null?"":pe(e)||Ne(e)&&(e.toString===sf||!xe(e.toString))?JSON.stringify(e,rf,2):String(e),rf=(e,t)=>t&&t.__v_isRef?rf(e,t.value):jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Or(t)?{[`Set(${t.size})`]:[...t.values()]}:Ne(t)&&!pe(t)&&!of(t)?String(t):t,Be={},Kr=[],Ht=()=>{},Dp=()=>!1,Bp=/^on[^a-z]/,Gs=e=>Bp.test(e),El=e=>e.startsWith("onUpdate:"),Ye=Object.assign,Sl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Fp=Object.prototype.hasOwnProperty,Me=(e,t)=>Fp.call(e,t),pe=Array.isArray,jr=e=>es(e)==="[object Map]",Or=e=>es(e)==="[object Set]",Tu=e=>es(e)==="[object Date]",Np=e=>es(e)==="[object RegExp]",xe=e=>typeof e=="function",He=e=>typeof e=="string",Rs=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",kl=e=>Ne(e)&&xe(e.then)&&xe(e.catch),sf=Object.prototype.toString,es=e=>sf.call(e),Kp=e=>es(e).slice(8,-1),of=e=>es(e)==="[object Object]",xl=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vs=fo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),po=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},jp=/-(\w)/g,St=po(e=>e.replace(jp,(t,n)=>n?n.toUpperCase():"")),Vp=/\B([A-Z])/g,Ft=po(e=>e.replace(Vp,"-$1").toLowerCase()),Ys=po(e=>e.charAt(0).toUpperCase()+e.slice(1)),ys=po(e=>e?`on${Ys(e)}`:""),zr=(e,t)=>!Object.is(e,t),Vr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Hi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},qi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zi=e=>{const t=He(e)?Number(e):NaN;return isNaN(t)?e:t};let Ou;const Up=()=>Ou||(Ou=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ot;class Tl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ot,!t&&Ot&&(this.index=(Ot.scopes||(Ot.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ot;try{return Ot=this,t()}finally{Ot=n}}}on(){Ot=this}off(){Ot=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ol(e){return new Tl(e)}function af(e,t=Ot){t&&t.active&&t.effects.push(e)}function Il(){return Ot}function lf(e){Ot&&Ot.cleanups.push(e)}const Rl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},uf=e=>(e.w&Yn)>0,cf=e=>(e.n&Yn)>0,Hp=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Yn},qp=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];uf(s)&&!cf(s)?s.delete(e):t[n++]=s,s.w&=~Yn,s.n&=~Yn}t.length=n}},Wi=new WeakMap;let hs=0,Yn=1;const ba=30;let jt;const pr=Symbol(""),wa=Symbol("");class Xs{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,af(this,r)}run(){if(!this.active)return this.fn();let t=jt,n=Hn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=jt,jt=this,Hn=!0,Yn=1<<++hs,hs<=ba?Hp(this):Iu(this),this.fn()}finally{hs<=ba&&qp(this),Yn=1<<--hs,jt=this.parent,Hn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jt===this?this.deferStop=!0:this.active&&(Iu(this),this.onStop&&this.onStop(),this.active=!1)}}function Iu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function zp(e,t){e.effect&&(e=e.effect.fn);const n=new Xs(e);t&&(Ye(n,t),t.scope&&af(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function Wp(e){e.effect.stop()}let Hn=!0;const ff=[];function ts(){ff.push(Hn),Hn=!1}function ns(){const e=ff.pop();Hn=e===void 0?!0:e}function kt(e,t,n){if(Hn&&jt){let r=Wi.get(e);r||Wi.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Rl()),df(s)}}function df(e,t){let n=!1;hs<=ba?cf(e)||(e.n|=Yn,n=!uf(e)):n=!e.has(jt),n&&(e.add(jt),jt.deps.push(e))}function En(e,t,n,r,s,i){const o=Wi.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&pe(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":pe(e)?xl(n)&&a.push(o.get("length")):(a.push(o.get(pr)),jr(e)&&a.push(o.get(wa)));break;case"delete":pe(e)||(a.push(o.get(pr)),jr(e)&&a.push(o.get(wa)));break;case"set":jr(e)&&a.push(o.get(pr));break}if(a.length===1)a[0]&&Ca(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Ca(Rl(l))}}function Ca(e,t){const n=pe(e)?e:[...e];for(const r of n)r.computed&&Ru(r);for(const r of n)r.computed||Ru(r)}function Ru(e,t){(e!==jt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Gp(e,t){var n;return(n=Wi.get(e))===null||n===void 0?void 0:n.get(t)}const Yp=fo("__proto__,__v_isRef,__isVue"),hf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rs)),Xp=go(),Qp=go(!1,!0),Jp=go(!0),Zp=go(!0,!0),Au=eg();function eg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Re(this);for(let i=0,o=this.length;i<o;i++)kt(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Re)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ts();const r=Re(this)[t].apply(this,n);return ns(),r}}),e}function tg(e){const t=Re(this);return kt(t,"has",e),t.hasOwnProperty(e)}function go(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?bf:_f:t?yf:vf).get(r))return r;const o=pe(r);if(!e){if(o&&Me(Au,s))return Reflect.get(Au,s,i);if(s==="hasOwnProperty")return tg}const a=Reflect.get(r,s,i);return(Rs(s)?hf.has(s):Yp(s))||(e||kt(r,"get",s),t)?a:Ge(a)?o&&xl(s)?a:a.value:Ne(a)?e?Pl(a):Xe(a):a}}const ng=pf(),rg=pf(!0);function pf(e=!1){return function(n,r,s,i){let o=n[r];if(br(o)&&Ge(o)&&!Ge(s))return!1;if(!e&&(!As(s)&&!br(s)&&(o=Re(o),s=Re(s)),!pe(n)&&Ge(o)&&!Ge(s)))return o.value=s,!0;const a=pe(n)&&xl(r)?Number(r)<n.length:Me(n,r),l=Reflect.set(n,r,s,i);return n===Re(i)&&(a?zr(s,o)&&En(n,"set",r,s):En(n,"add",r,s)),l}}function sg(e,t){const n=Me(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&En(e,"delete",t,void 0),r}function ig(e,t){const n=Reflect.has(e,t);return(!Rs(t)||!hf.has(t))&&kt(e,"has",t),n}function og(e){return kt(e,"iterate",pe(e)?"length":pr),Reflect.ownKeys(e)}const gf={get:Xp,set:ng,deleteProperty:sg,has:ig,ownKeys:og},mf={get:Jp,set(e,t){return!0},deleteProperty(e,t){return!0}},ag=Ye({},gf,{get:Qp,set:rg}),lg=Ye({},mf,{get:Zp}),Al=e=>e,mo=e=>Reflect.getPrototypeOf(e);function pi(e,t,n=!1,r=!1){e=e.__v_raw;const s=Re(e),i=Re(t);n||(t!==i&&kt(s,"get",t),kt(s,"get",i));const{has:o}=mo(s),a=r?Al:n?$l:Ps;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function gi(e,t=!1){const n=this.__v_raw,r=Re(n),s=Re(e);return t||(e!==s&&kt(r,"has",e),kt(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function mi(e,t=!1){return e=e.__v_raw,!t&&kt(Re(e),"iterate",pr),Reflect.get(e,"size",e)}function Pu(e){e=Re(e);const t=Re(this);return mo(t).has.call(t,e)||(t.add(e),En(t,"add",e,e)),this}function Mu(e,t){t=Re(t);const n=Re(this),{has:r,get:s}=mo(n);let i=r.call(n,e);i||(e=Re(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?zr(t,o)&&En(n,"set",e,t):En(n,"add",e,t),this}function $u(e){const t=Re(this),{has:n,get:r}=mo(t);let s=n.call(t,e);s||(e=Re(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&En(t,"delete",e,void 0),i}function Lu(){const e=Re(this),t=e.size!==0,n=e.clear();return t&&En(e,"clear",void 0,void 0),n}function vi(e,t){return function(r,s){const i=this,o=i.__v_raw,a=Re(o),l=t?Al:e?$l:Ps;return!e&&kt(a,"iterate",pr),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function yi(e,t,n){return function(...r){const s=this.__v_raw,i=Re(s),o=jr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=s[e](...r),c=n?Al:t?$l:Ps;return!t&&kt(i,"iterate",l?wa:pr),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function An(e){return function(...t){return e==="delete"?!1:this}}function ug(){const e={get(i){return pi(this,i)},get size(){return mi(this)},has:gi,add:Pu,set:Mu,delete:$u,clear:Lu,forEach:vi(!1,!1)},t={get(i){return pi(this,i,!1,!0)},get size(){return mi(this)},has:gi,add:Pu,set:Mu,delete:$u,clear:Lu,forEach:vi(!1,!0)},n={get(i){return pi(this,i,!0)},get size(){return mi(this,!0)},has(i){return gi.call(this,i,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:vi(!0,!1)},r={get(i){return pi(this,i,!0,!0)},get size(){return mi(this,!0)},has(i){return gi.call(this,i,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:vi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=yi(i,!1,!1),n[i]=yi(i,!0,!1),t[i]=yi(i,!1,!0),r[i]=yi(i,!0,!0)}),[e,n,t,r]}const[cg,fg,dg,hg]=ug();function vo(e,t){const n=t?e?hg:dg:e?fg:cg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Me(n,s)&&s in r?n:r,s,i)}const pg={get:vo(!1,!1)},gg={get:vo(!1,!0)},mg={get:vo(!0,!1)},vg={get:vo(!0,!0)},vf=new WeakMap,yf=new WeakMap,_f=new WeakMap,bf=new WeakMap;function yg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _g(e){return e.__v_skip||!Object.isExtensible(e)?0:yg(Kp(e))}function Xe(e){return br(e)?e:yo(e,!1,gf,pg,vf)}function wf(e){return yo(e,!1,ag,gg,yf)}function Pl(e){return yo(e,!0,mf,mg,_f)}function bg(e){return yo(e,!0,lg,vg,bf)}function yo(e,t,n,r,s){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=_g(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function _n(e){return br(e)?_n(e.__v_raw):!!(e&&e.__v_isReactive)}function br(e){return!!(e&&e.__v_isReadonly)}function As(e){return!!(e&&e.__v_isShallow)}function Ml(e){return _n(e)||br(e)}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function wr(e){return Hi(e,"__v_skip",!0),e}const Ps=e=>Ne(e)?Xe(e):e,$l=e=>Ne(e)?Pl(e):e;function Ll(e){Hn&&jt&&(e=Re(e),df(e.dep||(e.dep=Rl())))}function _o(e,t){e=Re(e);const n=e.dep;n&&Ca(n)}function Ge(e){return!!(e&&e.__v_isRef===!0)}function $e(e){return Ef(e,!1)}function Cf(e){return Ef(e,!0)}function Ef(e,t){return Ge(e)?e:new wg(e,t)}class wg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Re(t),this._value=n?t:Ps(t)}get value(){return Ll(this),this._value}set value(t){const n=this.__v_isShallow||As(t)||br(t);t=n?t:Re(t),zr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ps(t),_o(this))}}function Cg(e){_o(e)}function P(e){return Ge(e)?e.value:e}const Eg={get:(e,t,n)=>P(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ge(s)&&!Ge(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Dl(e){return _n(e)?e:new Proxy(e,Eg)}class Sg{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Ll(this),()=>_o(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function kg(e){return new Sg(e)}function xt(e){const t=pe(e)?new Array(e.length):{};for(const n in e)t[n]=Sf(e,n);return t}class xg{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Gp(Re(this._object),this._key)}}function Sf(e,t,n){const r=e[t];return Ge(r)?r:new xg(e,t,n)}var kf;class Tg{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[kf]=!1,this._dirty=!0,this.effect=new Xs(t,()=>{this._dirty||(this._dirty=!0,_o(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Re(this);return Ll(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}kf="__v_isReadonly";function Og(e,t,n=!1){let r,s;const i=xe(e);return i?(r=e,s=Ht):(r=e.get,s=e.set),new Tg(r,s,i||!s,n)}function Ig(e,...t){}function Rg(e,t){}function bn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Ir(i,t,n)}return s}function Mt(e,t,n,r){if(xe(e)){const i=bn(e,t,n,r);return i&&kl(i)&&i.catch(o=>{Ir(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Mt(e[i],t,n,r));return s}function Ir(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){bn(l,null,10,[e,o,a]);return}}Ag(e,n,s,r)}function Ag(e,t,n,r=!0){console.error(e)}let Ms=!1,Ea=!1;const ft=[];let Zt=0;const Ur=[];let pn=null,ar=0;const xf=Promise.resolve();let Bl=null;function tn(e){const t=Bl||xf;return e?t.then(this?e.bind(this):e):t}function Pg(e){let t=Zt+1,n=ft.length;for(;t<n;){const r=t+n>>>1;$s(ft[r])<e?t=r+1:n=r}return t}function bo(e){(!ft.length||!ft.includes(e,Ms&&e.allowRecurse?Zt+1:Zt))&&(e.id==null?ft.push(e):ft.splice(Pg(e.id),0,e),Tf())}function Tf(){!Ms&&!Ea&&(Ea=!0,Bl=xf.then(Of))}function Mg(e){const t=ft.indexOf(e);t>Zt&&ft.splice(t,1)}function Fl(e){pe(e)?Ur.push(...e):(!pn||!pn.includes(e,e.allowRecurse?ar+1:ar))&&Ur.push(e),Tf()}function Du(e,t=Ms?Zt+1:0){for(;t<ft.length;t++){const n=ft[t];n&&n.pre&&(ft.splice(t,1),t--,n())}}function Gi(e){if(Ur.length){const t=[...new Set(Ur)];if(Ur.length=0,pn){pn.push(...t);return}for(pn=t,pn.sort((n,r)=>$s(n)-$s(r)),ar=0;ar<pn.length;ar++)pn[ar]();pn=null,ar=0}}const $s=e=>e.id==null?1/0:e.id,$g=(e,t)=>{const n=$s(e)-$s(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Of(e){Ea=!1,Ms=!0,ft.sort($g);const t=Ht;try{for(Zt=0;Zt<ft.length;Zt++){const n=ft[Zt];n&&n.active!==!1&&bn(n,null,14)}}finally{Zt=0,ft.length=0,Gi(),Ms=!1,Bl=null,(ft.length||Ur.length)&&Of()}}let Br,_i=[];function If(e,t){var n,r;Br=e,Br?(Br.enabled=!0,_i.forEach(({event:s,args:i})=>Br.emit(s,...i)),_i=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{If(i,t)}),setTimeout(()=>{Br||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,_i=[])},3e3)):_i=[]}function Lg(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Be;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Be;d&&(s=n.map(y=>He(y)?y.trim():y)),f&&(s=n.map(qi))}let a,l=r[a=ys(t)]||r[a=ys(St(t))];!l&&i&&(l=r[a=ys(Ft(t))]),l&&Mt(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Mt(u,e,6,s)}}function Rf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!xe(e)){const l=u=>{const c=Rf(u,t,!0);c&&(a=!0,Ye(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Ne(e)&&r.set(e,null),null):(pe(i)?i.forEach(l=>o[l]=null):Ye(o,i),Ne(e)&&r.set(e,o),o)}function wo(e,t){return!e||!Gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Me(e,t[0].toLowerCase()+t.slice(1))||Me(e,Ft(t))||Me(e,t))}let ut=null,Co=null;function Ls(e){const t=ut;return ut=e,Co=e&&e.type.__scopeId||null,t}function on(e){Co=e}function an(){Co=null}const Dg=e=>nn;function nn(e,t=ut,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Ra(-1);const i=Ls(t);let o;try{o=e(...s)}finally{Ls(i),r._d&&Ra(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Li(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:y,ctx:v,inheritAttrs:w}=e;let T,_;const p=Ls(e);try{if(n.shapeFlag&4){const C=s||r;T=It(c.call(C,C,f,i,y,d,v)),_=l}else{const C=t;T=It(C.length>1?C(i,{attrs:l,slots:a,emit:u}):C(i,null)),_=t.props?l:Fg(l)}}catch(C){Cs.length=0,Ir(C,e,1),T=ie(pt)}let m=T;if(_&&w!==!1){const C=Object.keys(_),{shapeFlag:S}=m;C.length&&S&7&&(o&&C.some(El)&&(_=Ng(_,o)),m=sn(m,_))}return n.dirs&&(m=sn(m),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),T=m,Ls(p),T}function Bg(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Xn(r)){if(r.type!==pt||r.children==="v-if"){if(t)return;t=r}}else return}return t}const Fg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gs(n))&&((t||(t={}))[n]=e[n]);return t},Ng=(e,t)=>{const n={};for(const r in e)(!El(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Kg(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Bu(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!wo(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Bu(r,o,u):!0:!!o;return!1}function Bu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!wo(n,i))return!0}return!1}function Nl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Af=e=>e.__isSuspense,jg={name:"Suspense",__isSuspense:!0,process(e,t,n,r,s,i,o,a,l,u){e==null?Ug(t,n,r,s,i,o,a,l,u):Hg(e,t,n,r,s,o,a,l,u)},hydrate:qg,create:Kl,normalize:zg},Vg=jg;function Ds(e,t){const n=e.props&&e.props[t];xe(n)&&n()}function Ug(e,t,n,r,s,i,o,a,l){const{p:u,o:{createElement:c}}=l,f=c("div"),d=e.suspense=Kl(e,s,r,t,f,n,i,o,a,l);u(null,d.pendingBranch=e.ssContent,f,null,r,d,i,o),d.deps>0?(Ds(e,"onPending"),Ds(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,i,o),Hr(d,e.ssFallback)):d.resolve()}function Hg(e,t,n,r,s,i,o,a,{p:l,um:u,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:w,isInFallback:T,isHydrating:_}=f;if(w)f.pendingBranch=d,Vt(d,w)?(l(w,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():T&&(l(v,y,n,r,s,null,i,o,a),Hr(f,y))):(f.pendingId++,_?(f.isHydrating=!1,f.activeBranch=w):u(w,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),T?(l(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(v,y,n,r,s,null,i,o,a),Hr(f,y))):v&&Vt(d,v)?(l(v,d,n,r,s,f,i,o,a),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(v&&Vt(d,v))l(v,d,n,r,s,f,i,o,a),Hr(f,d);else if(Ds(t,"onPending"),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:p,pendingId:m}=f;p>0?setTimeout(()=>{f.pendingId===m&&f.fallback(y)},p):p===0&&f.fallback(y)}}function Kl(e,t,n,r,s,i,o,a,l,u,c=!1){const{p:f,m:d,um:y,n:v,o:{parentNode:w,remove:T}}=u,_=e.props?zi(e.props.timeout):void 0,p={vnode:e,parent:t,parentComponent:n,isSVG:o,container:r,hiddenContainer:s,anchor:i,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(m=!1){const{vnode:C,activeBranch:S,pendingBranch:E,pendingId:I,effects:h,parentComponent:g,container:k}=p;if(p.isHydrating)p.isHydrating=!1;else if(!m){const L=S&&E.transition&&E.transition.mode==="out-in";L&&(S.transition.afterLeave=()=>{I===p.pendingId&&d(E,k,B,0)});let{anchor:B}=p;S&&(B=v(S),y(S,g,p,!0)),L||d(E,k,B,0)}Hr(p,E),p.pendingBranch=null,p.isInFallback=!1;let M=p.parent,O=!1;for(;M;){if(M.pendingBranch){M.effects.push(...h),O=!0;break}M=M.parent}O||Fl(h),p.effects=[],Ds(C,"onResolve")},fallback(m){if(!p.pendingBranch)return;const{vnode:C,activeBranch:S,parentComponent:E,container:I,isSVG:h}=p;Ds(C,"onFallback");const g=v(S),k=()=>{!p.isInFallback||(f(null,m,I,g,E,null,h,a,l),Hr(p,m))},M=m.transition&&m.transition.mode==="out-in";M&&(S.transition.afterLeave=k),p.isInFallback=!0,y(S,E,null,!0),M||k()},move(m,C,S){p.activeBranch&&d(p.activeBranch,m,C,S),p.container=m},next(){return p.activeBranch&&v(p.activeBranch)},registerDep(m,C){const S=!!p.pendingBranch;S&&p.deps++;const E=m.vnode.el;m.asyncDep.catch(I=>{Ir(I,m,0)}).then(I=>{if(m.isUnmounted||p.isUnmounted||p.pendingId!==m.suspenseId)return;m.asyncResolved=!0;const{vnode:h}=m;Aa(m,I,!1),E&&(h.el=E);const g=!E&&m.subTree.el;C(m,h,w(E||m.subTree.el),E?null:v(m.subTree),p,o,l),g&&T(g),Nl(m,h.el),S&&--p.deps===0&&p.resolve()})},unmount(m,C){p.isUnmounted=!0,p.activeBranch&&y(p.activeBranch,n,m,C),p.pendingBranch&&y(p.pendingBranch,n,m,C)}};return p}function qg(e,t,n,r,s,i,o,a,l){const u=t.suspense=Kl(t,r,n,e.parentNode,document.createElement("div"),null,s,i,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,i,o);return u.deps===0&&u.resolve(),c}function zg(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Fu(r?n.default:n),e.ssFallback=r?Fu(n.fallback):ie(pt)}function Fu(e){let t;if(xe(e)){const n=kr&&e._c;n&&(e._d=!1,N()),e=e(),n&&(e._d=!0,t=Et,nd())}return pe(e)&&(e=Bg(e)),e=It(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Pf(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Fl(e)}function Hr(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,s=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=s,Nl(r,s))}function _s(e,t){if(We){let n=We.provides;const r=We.parent&&We.parent.provides;r===n&&(n=We.provides=Object.create(r)),n[e]=t}}function yt(e,t,n=!1){const r=We||ut;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&xe(t)?t.call(r.proxy):t}}function Cr(e,t){return Qs(e,null,t)}function Mf(e,t){return Qs(e,null,{flush:"post"})}function Wg(e,t){return Qs(e,null,{flush:"sync"})}const bi={};function Ze(e,t,n){return Qs(e,t,n)}function Qs(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Be){const a=Il()===(We==null?void 0:We.scope)?We:null;let l,u=!1,c=!1;if(Ge(e)?(l=()=>e.value,u=As(e)):_n(e)?(l=()=>e,r=!0):pe(e)?(c=!0,u=e.some(m=>_n(m)||As(m)),l=()=>e.map(m=>{if(Ge(m))return m.value;if(_n(m))return fr(m);if(xe(m))return bn(m,a,2)})):xe(e)?t?l=()=>bn(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Mt(e,a,3,[d])}:l=Ht,t&&r){const m=l;l=()=>fr(m())}let f,d=m=>{f=_.onStop=()=>{bn(m,a,4)}},y;if(Gr)if(d=Ht,t?n&&Mt(t,a,3,[l(),c?[]:void 0,d]):l(),s==="sync"){const m=pd();y=m.__watcherHandles||(m.__watcherHandles=[])}else return Ht;let v=c?new Array(e.length).fill(bi):bi;const w=()=>{if(!!_.active)if(t){const m=_.run();(r||u||(c?m.some((C,S)=>zr(C,v[S])):zr(m,v)))&&(f&&f(),Mt(t,a,3,[m,v===bi?void 0:c&&v[0]===bi?[]:v,d]),v=m)}else _.run()};w.allowRecurse=!!t;let T;s==="sync"?T=w:s==="post"?T=()=>lt(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),T=()=>bo(w));const _=new Xs(l,T);t?n?w():v=_.run():s==="post"?lt(_.run.bind(_),a&&a.suspense):_.run();const p=()=>{_.stop(),a&&a.scope&&Sl(a.scope.effects,_)};return y&&y.push(p),p}function Gg(e,t,n){const r=this.proxy,s=He(e)?e.includes(".")?$f(r,e):()=>r[e]:e.bind(r,r);let i;xe(t)?i=t:(i=t.handler,n=t);const o=We;Qn(this);const a=Qs(s,i.bind(r),n);return o?Qn(o):Wn(),a}function $f(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function fr(e,t){if(!Ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ge(e))fr(e.value,t);else if(pe(e))for(let n=0;n<e.length;n++)fr(e[n],t);else if(Or(e)||jr(e))e.forEach(n=>{fr(n,t)});else if(of(e))for(const n in e)fr(e[n],t);return e}function jl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{e.isMounted=!0}),xo(()=>{e.isUnmounting=!0}),e}const Bt=[Function,Array],Yg={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},setup(e,{slots:t}){const n=bt(),r=jl();let s;return()=>{const i=t.default&&Eo(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const w of i)if(w.type!==pt){o=w;break}}const a=Re(e),{mode:l}=a;if(r.isLeaving)return Qo(o);const u=Nu(o);if(!u)return Qo(o);const c=Wr(u,a,r,n);Er(u,c);const f=n.subTree,d=f&&Nu(f);let y=!1;const{getTransitionKey:v}=u.type;if(v){const w=v();s===void 0?s=w:w!==s&&(s=w,y=!0)}if(d&&d.type!==pt&&(!Vt(u,d)||y)){const w=Wr(d,a,r,n);if(Er(d,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Qo(o);l==="in-out"&&u.type!==pt&&(w.delayLeave=(T,_,p)=>{const m=Lf(r,d);m[String(d.key)]=d,T._leaveCb=()=>{_(),T._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=p})}return o}}},Vl=Yg;function Lf(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Wr(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:w,onAppear:T,onAfterAppear:_,onAppearCancelled:p}=t,m=String(e.key),C=Lf(n,e),S=(h,g)=>{h&&Mt(h,r,9,g)},E=(h,g)=>{const k=g[1];S(h,g),pe(h)?h.every(M=>M.length<=1)&&k():h.length<=1&&k()},I={mode:i,persisted:o,beforeEnter(h){let g=a;if(!n.isMounted)if(s)g=w||a;else return;h._leaveCb&&h._leaveCb(!0);const k=C[m];k&&Vt(e,k)&&k.el._leaveCb&&k.el._leaveCb(),S(g,[h])},enter(h){let g=l,k=u,M=c;if(!n.isMounted)if(s)g=T||l,k=_||u,M=p||c;else return;let O=!1;const L=h._enterCb=B=>{O||(O=!0,B?S(M,[h]):S(k,[h]),I.delayedLeave&&I.delayedLeave(),h._enterCb=void 0)};g?E(g,[h,L]):L()},leave(h,g){const k=String(e.key);if(h._enterCb&&h._enterCb(!0),n.isUnmounting)return g();S(f,[h]);let M=!1;const O=h._leaveCb=L=>{M||(M=!0,g(),L?S(v,[h]):S(y,[h]),h._leaveCb=void 0,C[k]===e&&delete C[k])};C[k]=e,d?E(d,[h,O]):O()},clone(h){return Wr(h,t,n,r)}};return I}function Qo(e){if(Js(e))return e=sn(e),e.children=null,e}function Nu(e){return Js(e)?e.children?e.children[0]:void 0:e}function Er(e,t){e.shapeFlag&6&&e.component?Er(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Eo(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===we?(o.patchFlag&128&&s++,r=r.concat(Eo(o.children,t,a))):(t||o.type!==pt)&&r.push(a!=null?sn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Dt(e){return xe(e)?{setup:e,name:e.name}:e}const gr=e=>!!e.type.__asyncLoader;function Xg(e){xe(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:s=200,timeout:i,suspensible:o=!0,onError:a}=e;let l=null,u,c=0;const f=()=>(c++,l=null,d()),d=()=>{let y;return l||(y=l=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),a)return new Promise((w,T)=>{a(v,()=>w(f()),()=>T(v),c+1)});throw v}).then(v=>y!==l&&l?l:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return Dt({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return u},setup(){const y=We;if(u)return()=>Jo(u,y);const v=p=>{l=null,Ir(p,y,13,!r)};if(o&&y.suspense||Gr)return d().then(p=>()=>Jo(p,y)).catch(p=>(v(p),()=>r?ie(r,{error:p}):null));const w=$e(!1),T=$e(),_=$e(!!s);return s&&setTimeout(()=>{_.value=!1},s),i!=null&&setTimeout(()=>{if(!w.value&&!T.value){const p=new Error(`Async component timed out after ${i}ms.`);v(p),T.value=p}},i),d().then(()=>{w.value=!0,y.parent&&Js(y.parent.vnode)&&bo(y.parent.update)}).catch(p=>{v(p),T.value=p}),()=>{if(w.value&&u)return Jo(u,y);if(T.value&&r)return ie(r,{error:T.value});if(n&&!_.value)return ie(n)}}})}function Jo(e,t){const{ref:n,props:r,children:s,ce:i}=t.vnode,o=ie(e,r,s);return o.ref=n,o.ce=i,delete t.vnode.ce,o}const Js=e=>e.type.__isKeepAlive,Qg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=bt(),r=n.ctx;if(!r.renderer)return()=>{const p=t.default&&t.default();return p&&p.length===1?p[0]:p};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(p,m,C,S,E)=>{const I=p.component;u(p,m,C,0,a),l(I.vnode,p,m,C,I,a,S,p.slotScopeIds,E),lt(()=>{I.isDeactivated=!1,I.a&&Vr(I.a);const h=p.props&&p.props.onVnodeMounted;h&&wt(h,I.parent,p)},a)},r.deactivate=p=>{const m=p.component;u(p,d,null,1,a),lt(()=>{m.da&&Vr(m.da);const C=p.props&&p.props.onVnodeUnmounted;C&&wt(C,m.parent,p),m.isDeactivated=!0},a)};function y(p){Zo(p),c(p,n,a,!0)}function v(p){s.forEach((m,C)=>{const S=Ma(m.type);S&&(!p||!p(S))&&w(C)})}function w(p){const m=s.get(p);!o||!Vt(m,o)?y(m):o&&Zo(o),s.delete(p),i.delete(p)}Ze(()=>[e.include,e.exclude],([p,m])=>{p&&v(C=>ps(p,C)),m&&v(C=>!ps(m,C))},{flush:"post",deep:!0});let T=null;const _=()=>{T!=null&&s.set(T,ea(n.subTree))};return On(_),ko(_),xo(()=>{s.forEach(p=>{const{subTree:m,suspense:C}=n,S=ea(m);if(p.type===S.type&&p.key===S.key){Zo(S);const E=S.component.da;E&&lt(E,C);return}y(p)})}),()=>{if(T=null,!t.default)return null;const p=t.default(),m=p[0];if(p.length>1)return o=null,p;if(!Xn(m)||!(m.shapeFlag&4)&&!(m.shapeFlag&128))return o=null,m;let C=ea(m);const S=C.type,E=Ma(gr(C)?C.type.__asyncResolved||{}:S),{include:I,exclude:h,max:g}=e;if(I&&(!E||!ps(I,E))||h&&E&&ps(h,E))return o=C,m;const k=C.key==null?S:C.key,M=s.get(k);return C.el&&(C=sn(C),m.shapeFlag&128&&(m.ssContent=C)),T=k,M?(C.el=M.el,C.component=M.component,C.transition&&Er(C,C.transition),C.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),g&&i.size>parseInt(g,10)&&w(i.values().next().value)),C.shapeFlag|=256,o=C,Af(m.type)?m:C}}},Jg=Qg;function ps(e,t){return pe(e)?e.some(n=>ps(n,t)):He(e)?e.split(",").includes(t):Np(e)?e.test(t):!1}function Ul(e,t){Df(e,"a",t)}function Hl(e,t){Df(e,"da",t)}function Df(e,t,n=We){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(So(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Js(s.parent.vnode)&&Zg(r,t,n,s),s=s.parent}}function Zg(e,t,n,r){const s=So(t,e,r,!0);Zs(()=>{Sl(r[t],s)},n)}function Zo(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ea(e){return e.shapeFlag&128?e.ssContent:e}function So(e,t,n=We,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ts(),Qn(n);const a=Mt(t,n,e,o);return Wn(),ns(),a});return r?s.unshift(i):s.push(i),i}}const Tn=e=>(t,n=We)=>(!Gr||e==="sp")&&So(e,(...r)=>t(...r),n),ql=Tn("bm"),On=Tn("m"),Bf=Tn("bu"),ko=Tn("u"),xo=Tn("bum"),Zs=Tn("um"),Ff=Tn("sp"),Nf=Tn("rtg"),Kf=Tn("rtc");function jf(e,t=We){So("ec",e,t)}function Oe(e,t){const n=ut;if(n===null)return e;const r=Io(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,u=Be]=t[i];o&&(xe(o)&&(o={mounted:o,updated:o}),o.deep&&fr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Qt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ts(),Mt(l,n,8,[e.el,a,e,t]),ns())}}const zl="components",em="directives";function qn(e,t){return Wl(zl,e,!0,t)||e}const Vf=Symbol();function To(e){return He(e)?Wl(zl,e,!1)||e:e||Vf}function tm(e){return Wl(em,e)}function Wl(e,t,n=!0,r=!1){const s=ut||We;if(s){const i=s.type;if(e===zl){const a=Ma(i,!1);if(a&&(a===t||a===St(t)||a===Ys(St(t))))return i}const o=Ku(s[e]||i[e],t)||Ku(s.appContext[e],t);return!o&&r?i:o}}function Ku(e,t){return e&&(e[t]||e[St(t)]||e[Ys(St(t))])}function je(e,t,n,r){let s;const i=n&&n[r];if(pe(e)||He(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Ne(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=t(e[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function nm(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(pe(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return e}function it(e,t,n={},r,s){if(ut.isCE||ut.parent&&gr(ut.parent)&&ut.parent.isCE)return t!=="default"&&(n.name=t),ie("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),N();const o=i&&Uf(i(n)),a=ot(we,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Uf(e){return e.some(t=>Xn(t)?!(t.type===pt||t.type===we&&!Uf(t.children)):!0)?e:null}function Hf(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:ys(r)]=e[r];return n}const Sa=e=>e?ad(e)?Io(e)||e.proxy:Sa(e.parent):null,bs=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sa(e.parent),$root:e=>Sa(e.root),$emit:e=>e.emit,$options:e=>Gl(e),$forceUpdate:e=>e.f||(e.f=()=>bo(e.update)),$nextTick:e=>e.n||(e.n=tn.bind(e.proxy)),$watch:e=>Gg.bind(e)}),ta=(e,t)=>e!==Be&&!e.__isScriptSetup&&Me(e,t),ka={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(ta(r,t))return o[t]=1,r[t];if(s!==Be&&Me(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Me(u,t))return o[t]=3,i[t];if(n!==Be&&Me(n,t))return o[t]=4,n[t];xa&&(o[t]=0)}}const c=bs[t];let f,d;if(c)return t==="$attrs"&&kt(e,"get",t),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Be&&Me(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Me(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return ta(s,t)?(s[t]=n,!0):r!==Be&&Me(r,t)?(r[t]=n,!0):Me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Be&&Me(e,o)||ta(t,o)||(a=i[0])&&Me(a,o)||Me(r,o)||Me(bs,o)||Me(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Me(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},rm=Ye({},ka,{get(e,t){if(t!==Symbol.unscopables)return ka.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Tp(t)}});let xa=!0;function sm(e){const t=Gl(e),n=e.proxy,r=e.ctx;xa=!1,t.beforeCreate&&ju(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:y,updated:v,activated:w,deactivated:T,beforeDestroy:_,beforeUnmount:p,destroyed:m,unmounted:C,render:S,renderTracked:E,renderTriggered:I,errorCaptured:h,serverPrefetch:g,expose:k,inheritAttrs:M,components:O,directives:L,filters:B}=t;if(u&&im(u,r,null,e.appContext.config.unwrapInjectedRef),o)for(const z in o){const X=o[z];xe(X)&&(r[z]=X.bind(n))}if(s){const z=s.call(n,n);Ne(z)&&(e.data=Xe(z))}if(xa=!0,i)for(const z in i){const X=i[z],ee=xe(X)?X.bind(n,n):xe(X.get)?X.get.bind(n,n):Ht,me=!xe(X)&&xe(X.set)?X.set.bind(n):Ht,oe=ye({get:ee,set:me});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>oe.value,set:G=>oe.value=G})}if(a)for(const z in a)qf(a[z],r,n,z);if(l){const z=xe(l)?l.call(n):l;Reflect.ownKeys(z).forEach(X=>{_s(X,z[X])})}c&&ju(c,e,"c");function re(z,X){pe(X)?X.forEach(ee=>z(ee.bind(n))):X&&z(X.bind(n))}if(re(ql,f),re(On,d),re(Bf,y),re(ko,v),re(Ul,w),re(Hl,T),re(jf,h),re(Kf,E),re(Nf,I),re(xo,p),re(Zs,C),re(Ff,g),pe(k))if(k.length){const z=e.exposed||(e.exposed={});k.forEach(X=>{Object.defineProperty(z,X,{get:()=>n[X],set:ee=>n[X]=ee})})}else e.exposed||(e.exposed={});S&&e.render===Ht&&(e.render=S),M!=null&&(e.inheritAttrs=M),O&&(e.components=O),L&&(e.directives=L)}function im(e,t,n=Ht,r=!1){pe(e)&&(e=Ta(e));for(const s in e){const i=e[s];let o;Ne(i)?"default"in i?o=yt(i.from||s,i.default,!0):o=yt(i.from||s):o=yt(i),Ge(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function ju(e,t,n){Mt(pe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function qf(e,t,n,r){const s=r.includes(".")?$f(n,r):()=>n[r];if(He(e)){const i=t[e];xe(i)&&Ze(s,i)}else if(xe(e))Ze(s,e.bind(n));else if(Ne(e))if(pe(e))e.forEach(i=>qf(i,t,n,r));else{const i=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(i)&&Ze(s,i,e)}}function Gl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>Yi(l,u,o,!0)),Yi(l,t,o)),Ne(t)&&i.set(t,l),l}function Yi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Yi(e,i,n,!0),s&&s.forEach(o=>Yi(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=om[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const om={data:Vu,props:or,emits:or,methods:or,computed:or,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:or,directives:or,watch:lm,provide:Vu,inject:am};function Vu(e,t){return t?e?function(){return Ye(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function am(e,t){return or(Ta(e),Ta(t))}function Ta(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gt(e,t){return e?[...new Set([].concat(e,t))]:t}function or(e,t){return e?Ye(Ye(Object.create(null),e),t):t}function lm(e,t){if(!e)return t;if(!t)return e;const n=Ye(Object.create(null),e);for(const r in t)n[r]=gt(e[r],t[r]);return n}function um(e,t,n,r=!1){const s={},i={};Hi(i,Oo,1),e.propsDefaults=Object.create(null),zf(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:wf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function cm(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Re(s),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(wo(e.emitsOptions,d))continue;const y=t[d];if(l)if(Me(i,d))y!==i[d]&&(i[d]=y,u=!0);else{const v=St(d);s[v]=Oa(l,a,v,y,e,!1)}else y!==i[d]&&(i[d]=y,u=!0)}}}else{zf(e,t,s,i)&&(u=!0);let c;for(const f in a)(!t||!Me(t,f)&&((c=Ft(f))===f||!Me(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=Oa(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!Me(t,f)&&!0)&&(delete i[f],u=!0)}u&&En(e,"set","$attrs")}function zf(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(vs(l))continue;const u=t[l];let c;s&&Me(s,c=St(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:wo(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Re(n),u=a||Be;for(let c=0;c<i.length;c++){const f=i[c];n[f]=Oa(s,l,f,u[f],e,!Me(u,f))}}return o}function Oa(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=Me(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&xe(l)){const{propsDefaults:u}=s;n in u?r=u[n]:(Qn(s),r=u[n]=l.call(null,t),Wn())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ft(n))&&(r=!0))}return r}function Wf(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!xe(e)){const c=f=>{l=!0;const[d,y]=Wf(f,t,!0);Ye(o,d),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Ne(e)&&r.set(e,Kr),Kr;if(pe(i))for(let c=0;c<i.length;c++){const f=St(i[c]);Uu(f)&&(o[f]=Be)}else if(i)for(const c in i){const f=St(c);if(Uu(f)){const d=i[c],y=o[f]=pe(d)||xe(d)?{type:d}:Object.assign({},d);if(y){const v=zu(Boolean,y.type),w=zu(String,y.type);y[0]=v>-1,y[1]=w<0||v<w,(v>-1||Me(y,"default"))&&a.push(f)}}}const u=[o,a];return Ne(e)&&r.set(e,u),u}function Uu(e){return e[0]!=="$"}function Hu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function qu(e,t){return Hu(e)===Hu(t)}function zu(e,t){return pe(t)?t.findIndex(n=>qu(n,e)):xe(t)&&qu(t,e)?0:-1}const Gf=e=>e[0]==="_"||e==="$stable",Yl=e=>pe(e)?e.map(It):[It(e)],fm=(e,t,n)=>{if(t._n)return t;const r=nn((...s)=>Yl(t(...s)),n);return r._c=!1,r},Yf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Gf(s))continue;const i=e[s];if(xe(i))t[s]=fm(s,i,r);else if(i!=null){const o=Yl(i);t[s]=()=>o}}},Xf=(e,t)=>{const n=Yl(t);e.slots.default=()=>n},dm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Re(t),Hi(t,"_",n)):Yf(t,e.slots={})}else e.slots={},t&&Xf(e,t);Hi(e.slots,Oo,1)},hm=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Be;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ye(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Yf(t,s)),o=t}else t&&(Xf(e,t),o={default:1});if(i)for(const a in s)!Gf(a)&&!(a in o)&&delete s[a]};function Qf(){return{app:null,config:{isNativeTag:Dp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pm=0;function gm(e,t){return function(r,s=null){xe(r)||(r=Object.assign({},r)),s!=null&&!Ne(s)&&(s=null);const i=Qf(),o=new Set;let a=!1;const l=i.app={_uid:pm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:md,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&xe(u.install)?(o.add(u),u.install(l,...c)):xe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!a){const d=ie(r,s);return d.appContext=i,c&&t?t(d,u):e(d,u,f),a=!0,l._container=u,u.__vue_app__=l,Io(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l}};return l}}function Xi(e,t,n,r,s=!1){if(pe(e)){e.forEach((d,y)=>Xi(d,t&&(pe(t)?t[y]:t),n,r,s));return}if(gr(r)&&!s)return;const i=r.shapeFlag&4?Io(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Be?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(He(u)?(c[u]=null,Me(f,u)&&(f[u]=null)):Ge(u)&&(u.value=null)),xe(l))bn(l,a,12,[o,c]);else{const d=He(l),y=Ge(l);if(d||y){const v=()=>{if(e.f){const w=d?Me(f,l)?f[l]:c[l]:l.value;s?pe(w)&&Sl(w,i):pe(w)?w.includes(i)||w.push(i):d?(c[l]=[i],Me(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Me(f,l)&&(f[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,lt(v,n)):v()}}}let Pn=!1;const wi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Ci=e=>e.nodeType===8;function mm(e){const{mt:t,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=e,c=(_,p)=>{if(!p.hasChildNodes()){n(null,_,p),Gi(),p._vnode=_;return}Pn=!1,f(p.firstChild,_,null,null,null),Gi(),p._vnode=_,Pn&&console.error("Hydration completed but contains mismatches.")},f=(_,p,m,C,S,E=!1)=>{const I=Ci(_)&&_.data==="[",h=()=>w(_,p,m,C,S,I),{type:g,ref:k,shapeFlag:M,patchFlag:O}=p;let L=_.nodeType;p.el=_,O===-2&&(E=!1,p.dynamicChildren=null);let B=null;switch(g){case Sr:L!==3?p.children===""?(l(p.el=s(""),o(_),_),B=_):B=h():(_.data!==p.children&&(Pn=!0,_.data=p.children),B=i(_));break;case pt:L!==8||I?B=h():B=i(_);break;case mr:if(I&&(_=i(_),L=_.nodeType),L===1||L===3){B=_;const H=!p.children.length;for(let re=0;re<p.staticCount;re++)H&&(p.children+=B.nodeType===1?B.outerHTML:B.data),re===p.staticCount-1&&(p.anchor=B),B=i(B);return I?i(B):B}else h();break;case we:I?B=v(_,p,m,C,S,E):B=h();break;default:if(M&1)L!==1||p.type.toLowerCase()!==_.tagName.toLowerCase()?B=h():B=d(_,p,m,C,S,E);else if(M&6){p.slotScopeIds=S;const H=o(_);if(t(p,H,null,m,C,wi(H),E),B=I?T(_):i(_),B&&Ci(B)&&B.data==="teleport end"&&(B=i(B)),gr(p)){let re;I?(re=ie(we),re.anchor=B?B.previousSibling:H.lastChild):re=_.nodeType===3?ln(""):ie("div"),re.el=_,p.component.subTree=re}}else M&64?L!==8?B=h():B=p.type.hydrate(_,p,m,C,S,E,e,y):M&128&&(B=p.type.hydrate(_,p,m,C,wi(o(_)),S,E,e,f))}return k!=null&&Xi(k,null,C,p),B},d=(_,p,m,C,S,E)=>{E=E||!!p.dynamicChildren;const{type:I,props:h,patchFlag:g,shapeFlag:k,dirs:M}=p,O=I==="input"&&M||I==="option";if(O||g!==-1){if(M&&Qt(p,null,m,"created"),h)if(O||!E||g&48)for(const B in h)(O&&B.endsWith("value")||Gs(B)&&!vs(B))&&r(_,B,null,h[B],!1,void 0,m);else h.onClick&&r(_,"onClick",null,h.onClick,!1,void 0,m);let L;if((L=h&&h.onVnodeBeforeMount)&&wt(L,m,p),M&&Qt(p,null,m,"beforeMount"),((L=h&&h.onVnodeMounted)||M)&&Pf(()=>{L&&wt(L,m,p),M&&Qt(p,null,m,"mounted")},C),k&16&&!(h&&(h.innerHTML||h.textContent))){let B=y(_.firstChild,p,_,m,C,S,E);for(;B;){Pn=!0;const H=B;B=B.nextSibling,a(H)}}else k&8&&_.textContent!==p.children&&(Pn=!0,_.textContent=p.children)}return _.nextSibling},y=(_,p,m,C,S,E,I)=>{I=I||!!p.dynamicChildren;const h=p.children,g=h.length;for(let k=0;k<g;k++){const M=I?h[k]:h[k]=It(h[k]);if(_)_=f(_,M,C,S,E,I);else{if(M.type===Sr&&!M.children)continue;Pn=!0,n(null,M,m,null,C,S,wi(m),E)}}return _},v=(_,p,m,C,S,E)=>{const{slotScopeIds:I}=p;I&&(S=S?S.concat(I):I);const h=o(_),g=y(i(_),p,h,m,C,S,E);return g&&Ci(g)&&g.data==="]"?i(p.anchor=g):(Pn=!0,l(p.anchor=u("]"),h,g),g)},w=(_,p,m,C,S,E)=>{if(Pn=!0,p.el=null,E){const g=T(_);for(;;){const k=i(_);if(k&&k!==g)a(k);else break}}const I=i(_),h=o(_);return a(_),n(null,p,h,I,m,C,wi(h),S),I},T=_=>{let p=0;for(;_;)if(_=i(_),_&&Ci(_)&&(_.data==="["&&p++,_.data==="]")){if(p===0)return i(_);p--}return _};return[c,f]}const lt=Pf;function Jf(e){return ed(e)}function Zf(e){return ed(e,mm)}function ed(e,t){const n=Up();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:y=Ht,insertStaticContent:v}=e,w=(b,x,$,K=null,F=null,Y=null,Q=!1,W=null,J=!!x.dynamicChildren)=>{if(b===x)return;b&&!Vt(b,x)&&(K=q(b),G(b,F,Y,!0),b=null),x.patchFlag===-2&&(J=!1,x.dynamicChildren=null);const{type:U,ref:ae,shapeFlag:ne}=x;switch(U){case Sr:T(b,x,$,K);break;case pt:_(b,x,$,K);break;case mr:b==null&&p(x,$,K,Q);break;case we:O(b,x,$,K,F,Y,Q,W,J);break;default:ne&1?S(b,x,$,K,F,Y,Q,W,J):ne&6?L(b,x,$,K,F,Y,Q,W,J):(ne&64||ne&128)&&U.process(b,x,$,K,F,Y,Q,W,J,Z)}ae!=null&&F&&Xi(ae,b&&b.ref,Y,x||b,!x)},T=(b,x,$,K)=>{if(b==null)r(x.el=a(x.children),$,K);else{const F=x.el=b.el;x.children!==b.children&&u(F,x.children)}},_=(b,x,$,K)=>{b==null?r(x.el=l(x.children||""),$,K):x.el=b.el},p=(b,x,$,K)=>{[b.el,b.anchor]=v(b.children,x,$,K,b.el,b.anchor)},m=({el:b,anchor:x},$,K)=>{let F;for(;b&&b!==x;)F=d(b),r(b,$,K),b=F;r(x,$,K)},C=({el:b,anchor:x})=>{let $;for(;b&&b!==x;)$=d(b),s(b),b=$;s(x)},S=(b,x,$,K,F,Y,Q,W,J)=>{Q=Q||x.type==="svg",b==null?E(x,$,K,F,Y,Q,W,J):g(b,x,F,Y,Q,W,J)},E=(b,x,$,K,F,Y,Q,W)=>{let J,U;const{type:ae,props:ne,shapeFlag:fe,transition:he,dirs:Ee}=b;if(J=b.el=o(b.type,Y,ne&&ne.is,ne),fe&8?c(J,b.children):fe&16&&h(b.children,J,null,K,F,Y&&ae!=="foreignObject",Q,W),Ee&&Qt(b,null,K,"created"),I(J,b,b.scopeId,Q,K),ne){for(const Pe in ne)Pe!=="value"&&!vs(Pe)&&i(J,Pe,null,ne[Pe],Y,b.children,K,F,V);"value"in ne&&i(J,"value",null,ne.value),(U=ne.onVnodeBeforeMount)&&wt(U,K,b)}Ee&&Qt(b,null,K,"beforeMount");const Se=(!F||F&&!F.pendingBranch)&&he&&!he.persisted;Se&&he.beforeEnter(J),r(J,x,$),((U=ne&&ne.onVnodeMounted)||Se||Ee)&&lt(()=>{U&&wt(U,K,b),Se&&he.enter(J),Ee&&Qt(b,null,K,"mounted")},F)},I=(b,x,$,K,F)=>{if($&&y(b,$),K)for(let Y=0;Y<K.length;Y++)y(b,K[Y]);if(F){let Y=F.subTree;if(x===Y){const Q=F.vnode;I(b,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},h=(b,x,$,K,F,Y,Q,W,J=0)=>{for(let U=J;U<b.length;U++){const ae=b[U]=W?Bn(b[U]):It(b[U]);w(null,ae,x,$,K,F,Y,Q,W)}},g=(b,x,$,K,F,Y,Q)=>{const W=x.el=b.el;let{patchFlag:J,dynamicChildren:U,dirs:ae}=x;J|=b.patchFlag&16;const ne=b.props||Be,fe=x.props||Be;let he;$&&sr($,!1),(he=fe.onVnodeBeforeUpdate)&&wt(he,$,x,b),ae&&Qt(x,b,$,"beforeUpdate"),$&&sr($,!0);const Ee=F&&x.type!=="foreignObject";if(U?k(b.dynamicChildren,U,W,$,K,Ee,Y):Q||X(b,x,W,null,$,K,Ee,Y,!1),J>0){if(J&16)M(W,x,ne,fe,$,K,F);else if(J&2&&ne.class!==fe.class&&i(W,"class",null,fe.class,F),J&4&&i(W,"style",ne.style,fe.style,F),J&8){const Se=x.dynamicProps;for(let Pe=0;Pe<Se.length;Pe++){const De=Se[Pe],ze=ne[De],tt=fe[De];(tt!==ze||De==="value")&&i(W,De,ze,tt,F,b.children,$,K,V)}}J&1&&b.children!==x.children&&c(W,x.children)}else!Q&&U==null&&M(W,x,ne,fe,$,K,F);((he=fe.onVnodeUpdated)||ae)&&lt(()=>{he&&wt(he,$,x,b),ae&&Qt(x,b,$,"updated")},K)},k=(b,x,$,K,F,Y,Q)=>{for(let W=0;W<x.length;W++){const J=b[W],U=x[W],ae=J.el&&(J.type===we||!Vt(J,U)||J.shapeFlag&70)?f(J.el):$;w(J,U,ae,null,K,F,Y,Q,!0)}},M=(b,x,$,K,F,Y,Q)=>{if($!==K){if($!==Be)for(const W in $)!vs(W)&&!(W in K)&&i(b,W,$[W],null,Q,x.children,F,Y,V);for(const W in K){if(vs(W))continue;const J=K[W],U=$[W];J!==U&&W!=="value"&&i(b,W,U,J,Q,x.children,F,Y,V)}"value"in K&&i(b,"value",$.value,K.value)}},O=(b,x,$,K,F,Y,Q,W,J)=>{const U=x.el=b?b.el:a(""),ae=x.anchor=b?b.anchor:a("");let{patchFlag:ne,dynamicChildren:fe,slotScopeIds:he}=x;he&&(W=W?W.concat(he):he),b==null?(r(U,$,K),r(ae,$,K),h(x.children,$,ae,F,Y,Q,W,J)):ne>0&&ne&64&&fe&&b.dynamicChildren?(k(b.dynamicChildren,fe,$,F,Y,Q,W),(x.key!=null||F&&x===F.subTree)&&Xl(b,x,!0)):X(b,x,$,ae,F,Y,Q,W,J)},L=(b,x,$,K,F,Y,Q,W,J)=>{x.slotScopeIds=W,b==null?x.shapeFlag&512?F.ctx.activate(x,$,K,Q,J):B(x,$,K,F,Y,Q,J):H(b,x,J)},B=(b,x,$,K,F,Y,Q)=>{const W=b.component=od(b,K,F);if(Js(b)&&(W.ctx.renderer=Z),ld(W),W.asyncDep){if(F&&F.registerDep(W,re),!b.el){const J=W.subTree=ie(pt);_(null,J,x,$)}return}re(W,b,x,$,F,Y,Q)},H=(b,x,$)=>{const K=x.component=b.component;if(Kg(b,x,$))if(K.asyncDep&&!K.asyncResolved){z(K,x,$);return}else K.next=x,Mg(K.update),K.update();else x.el=b.el,K.vnode=x},re=(b,x,$,K,F,Y,Q)=>{const W=()=>{if(b.isMounted){let{next:ae,bu:ne,u:fe,parent:he,vnode:Ee}=b,Se=ae,Pe;sr(b,!1),ae?(ae.el=Ee.el,z(b,ae,Q)):ae=Ee,ne&&Vr(ne),(Pe=ae.props&&ae.props.onVnodeBeforeUpdate)&&wt(Pe,he,ae,Ee),sr(b,!0);const De=Li(b),ze=b.subTree;b.subTree=De,w(ze,De,f(ze.el),q(ze),b,F,Y),ae.el=De.el,Se===null&&Nl(b,De.el),fe&&lt(fe,F),(Pe=ae.props&&ae.props.onVnodeUpdated)&&lt(()=>wt(Pe,he,ae,Ee),F)}else{let ae;const{el:ne,props:fe}=x,{bm:he,m:Ee,parent:Se}=b,Pe=gr(x);if(sr(b,!1),he&&Vr(he),!Pe&&(ae=fe&&fe.onVnodeBeforeMount)&&wt(ae,Se,x),sr(b,!0),ne&&ue){const De=()=>{b.subTree=Li(b),ue(ne,b.subTree,b,F,null)};Pe?x.type.__asyncLoader().then(()=>!b.isUnmounted&&De()):De()}else{const De=b.subTree=Li(b);w(null,De,$,K,b,F,Y),x.el=De.el}if(Ee&&lt(Ee,F),!Pe&&(ae=fe&&fe.onVnodeMounted)){const De=x;lt(()=>wt(ae,Se,De),F)}(x.shapeFlag&256||Se&&gr(Se.vnode)&&Se.vnode.shapeFlag&256)&&b.a&&lt(b.a,F),b.isMounted=!0,x=$=K=null}},J=b.effect=new Xs(W,()=>bo(U),b.scope),U=b.update=()=>J.run();U.id=b.uid,sr(b,!0),U()},z=(b,x,$)=>{x.component=b;const K=b.vnode.props;b.vnode=x,b.next=null,cm(b,x.props,K,$),hm(b,x.children,$),ts(),Du(),ns()},X=(b,x,$,K,F,Y,Q,W,J=!1)=>{const U=b&&b.children,ae=b?b.shapeFlag:0,ne=x.children,{patchFlag:fe,shapeFlag:he}=x;if(fe>0){if(fe&128){me(U,ne,$,K,F,Y,Q,W,J);return}else if(fe&256){ee(U,ne,$,K,F,Y,Q,W,J);return}}he&8?(ae&16&&V(U,F,Y),ne!==U&&c($,ne)):ae&16?he&16?me(U,ne,$,K,F,Y,Q,W,J):V(U,F,Y,!0):(ae&8&&c($,""),he&16&&h(ne,$,K,F,Y,Q,W,J))},ee=(b,x,$,K,F,Y,Q,W,J)=>{b=b||Kr,x=x||Kr;const U=b.length,ae=x.length,ne=Math.min(U,ae);let fe;for(fe=0;fe<ne;fe++){const he=x[fe]=J?Bn(x[fe]):It(x[fe]);w(b[fe],he,$,null,F,Y,Q,W,J)}U>ae?V(b,F,Y,!0,!1,ne):h(x,$,K,F,Y,Q,W,J,ne)},me=(b,x,$,K,F,Y,Q,W,J)=>{let U=0;const ae=x.length;let ne=b.length-1,fe=ae-1;for(;U<=ne&&U<=fe;){const he=b[U],Ee=x[U]=J?Bn(x[U]):It(x[U]);if(Vt(he,Ee))w(he,Ee,$,null,F,Y,Q,W,J);else break;U++}for(;U<=ne&&U<=fe;){const he=b[ne],Ee=x[fe]=J?Bn(x[fe]):It(x[fe]);if(Vt(he,Ee))w(he,Ee,$,null,F,Y,Q,W,J);else break;ne--,fe--}if(U>ne){if(U<=fe){const he=fe+1,Ee=he<ae?x[he].el:K;for(;U<=fe;)w(null,x[U]=J?Bn(x[U]):It(x[U]),$,Ee,F,Y,Q,W,J),U++}}else if(U>fe)for(;U<=ne;)G(b[U],F,Y,!0),U++;else{const he=U,Ee=U,Se=new Map;for(U=Ee;U<=fe;U++){const ct=x[U]=J?Bn(x[U]):It(x[U]);ct.key!=null&&Se.set(ct.key,U)}let Pe,De=0;const ze=fe-Ee+1;let tt=!1,us=0;const Rn=new Array(ze);for(U=0;U<ze;U++)Rn[U]=0;for(U=he;U<=ne;U++){const ct=b[U];if(De>=ze){G(ct,F,Y,!0);continue}let nt;if(ct.key!=null)nt=Se.get(ct.key);else for(Pe=Ee;Pe<=fe;Pe++)if(Rn[Pe-Ee]===0&&Vt(ct,x[Pe])){nt=Pe;break}nt===void 0?G(ct,F,Y,!0):(Rn[nt-Ee]=U+1,nt>=us?us=nt:tt=!0,w(ct,x[nt],$,null,F,Y,Q,W,J),De++)}const ci=tt?vm(Rn):Kr;for(Pe=ci.length-1,U=ze-1;U>=0;U--){const ct=Ee+U,nt=x[ct],Pr=ct+1<ae?x[ct+1].el:K;Rn[U]===0?w(null,nt,$,Pr,F,Y,Q,W,J):tt&&(Pe<0||U!==ci[Pe]?oe(nt,$,Pr,2):Pe--)}}},oe=(b,x,$,K,F=null)=>{const{el:Y,type:Q,transition:W,children:J,shapeFlag:U}=b;if(U&6){oe(b.component.subTree,x,$,K);return}if(U&128){b.suspense.move(x,$,K);return}if(U&64){Q.move(b,x,$,Z);return}if(Q===we){r(Y,x,$);for(let ne=0;ne<J.length;ne++)oe(J[ne],x,$,K);r(b.anchor,x,$);return}if(Q===mr){m(b,x,$);return}if(K!==2&&U&1&&W)if(K===0)W.beforeEnter(Y),r(Y,x,$),lt(()=>W.enter(Y),F);else{const{leave:ne,delayLeave:fe,afterLeave:he}=W,Ee=()=>r(Y,x,$),Se=()=>{ne(Y,()=>{Ee(),he&&he()})};fe?fe(Y,Ee,Se):Se()}else r(Y,x,$)},G=(b,x,$,K=!1,F=!1)=>{const{type:Y,props:Q,ref:W,children:J,dynamicChildren:U,shapeFlag:ae,patchFlag:ne,dirs:fe}=b;if(W!=null&&Xi(W,null,$,b,!0),ae&256){x.ctx.deactivate(b);return}const he=ae&1&&fe,Ee=!gr(b);let Se;if(Ee&&(Se=Q&&Q.onVnodeBeforeUnmount)&&wt(Se,x,b),ae&6)A(b.component,$,K);else{if(ae&128){b.suspense.unmount($,K);return}he&&Qt(b,null,x,"beforeUnmount"),ae&64?b.type.remove(b,x,$,F,Z,K):U&&(Y!==we||ne>0&&ne&64)?V(U,x,$,!1,!0):(Y===we&&ne&384||!F&&ae&16)&&V(J,x,$),K&&ge(b)}(Ee&&(Se=Q&&Q.onVnodeUnmounted)||he)&&lt(()=>{Se&&wt(Se,x,b),he&&Qt(b,null,x,"unmounted")},$)},ge=b=>{const{type:x,el:$,anchor:K,transition:F}=b;if(x===we){Te($,K);return}if(x===mr){C(b);return}const Y=()=>{s($),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(b.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:W}=F,J=()=>Q($,Y);W?W(b.el,Y,J):J()}else Y()},Te=(b,x)=>{let $;for(;b!==x;)$=d(b),s(b),b=$;s(x)},A=(b,x,$)=>{const{bum:K,scope:F,update:Y,subTree:Q,um:W}=b;K&&Vr(K),F.stop(),Y&&(Y.active=!1,G(Q,b,x,$)),W&&lt(W,x),lt(()=>{b.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},V=(b,x,$,K=!1,F=!1,Y=0)=>{for(let Q=Y;Q<b.length;Q++)G(b[Q],x,$,K,F)},q=b=>b.shapeFlag&6?q(b.component.subTree):b.shapeFlag&128?b.suspense.next():d(b.anchor||b.el),se=(b,x,$)=>{b==null?x._vnode&&G(x._vnode,null,null,!0):w(x._vnode||null,b,x,null,null,null,$),Du(),Gi(),x._vnode=b},Z={p:w,um:G,m:oe,r:ge,mt:B,mc:h,pc:X,pbc:k,n:q,o:e};let ve,ue;return t&&([ve,ue]=t(Z)),{render:se,hydrate:ve,createApp:gm(se,ve)}}function sr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Xl(e,t,n=!1){const r=e.children,s=t.children;if(pe(r)&&pe(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Bn(s[i]),a.el=o.el),n||Xl(o,a)),a.type===Sr&&(a.el=o.el)}}function vm(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const ym=e=>e.__isTeleport,ws=e=>e&&(e.disabled||e.disabled===""),Wu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ia=(e,t)=>{const n=e&&e.to;return He(n)?t?t(n):null:n},_m={__isTeleport:!0,process(e,t,n,r,s,i,o,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:y,querySelector:v,createText:w,createComment:T}}=u,_=ws(t.props);let{shapeFlag:p,children:m,dynamicChildren:C}=t;if(e==null){const S=t.el=w(""),E=t.anchor=w("");y(S,n,r),y(E,n,r);const I=t.target=Ia(t.props,v),h=t.targetAnchor=w("");I&&(y(h,I),o=o||Wu(I));const g=(k,M)=>{p&16&&c(m,k,M,s,i,o,a,l)};_?g(n,E):I&&g(I,h)}else{t.el=e.el;const S=t.anchor=e.anchor,E=t.target=e.target,I=t.targetAnchor=e.targetAnchor,h=ws(e.props),g=h?n:E,k=h?S:I;if(o=o||Wu(E),C?(d(e.dynamicChildren,C,g,s,i,o,a),Xl(e,t,!0)):l||f(e,t,g,k,s,i,o,a,!1),_)h||Ei(t,n,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const M=t.target=Ia(t.props,v);M&&Ei(t,M,null,u,0)}else h&&Ei(t,E,I,u,1)}td(t)},remove(e,t,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&i(c),(o||!ws(d))&&(i(u),a&16))for(let y=0;y<l.length;y++){const v=l[y];s(v,t,n,!0,!!v.dynamicChildren)}},move:Ei,hydrate:bm};function Ei(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||ws(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],t,n,2);f&&r(a,t,n)}function bm(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=Ia(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(ws(t.props))t.anchor=u(o(e),t,a(e),n,r,s,i),t.targetAnchor=f;else{t.anchor=o(e);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(f,t,c,n,r,s,i)}td(t)}return t.anchor&&o(t.anchor)}const wm=_m;function td(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const we=Symbol(void 0),Sr=Symbol(void 0),pt=Symbol(void 0),mr=Symbol(void 0),Cs=[];let Et=null;function N(e=!1){Cs.push(Et=e?null:[])}function nd(){Cs.pop(),Et=Cs[Cs.length-1]||null}let kr=1;function Ra(e){kr+=e}function rd(e){return e.dynamicChildren=kr>0?Et||Kr:null,nd(),kr>0&&Et&&Et.push(e),e}function j(e,t,n,r,s,i){return rd(R(e,t,n,r,s,i,!0))}function ot(e,t,n,r,s){return rd(ie(e,t,n,r,s,!0))}function Xn(e){return e?e.__v_isVNode===!0:!1}function Vt(e,t){return e.type===t.type&&e.key===t.key}function Cm(e){}const Oo="__vInternal",sd=({key:e})=>e!=null?e:null,Di=({ref:e,ref_key:t,ref_for:n})=>e!=null?He(e)||Ge(e)||xe(e)?{i:ut,r:e,k:t,f:!!n}:e:null;function R(e,t=null,n=null,r=0,s=null,i=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sd(t),ref:t&&Di(t),scopeId:Co,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return a?(Ql(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),kr>0&&!o&&Et&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Et.push(l),l}const ie=Em;function Em(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Vf)&&(e=pt),Xn(e)){const a=sn(e,t,!0);return n&&Ql(a,n),kr>0&&!i&&Et&&(a.shapeFlag&6?Et[Et.indexOf(e)]=a:Et.push(a)),a.patchFlag|=-2,a}if(Am(e)&&(e=e.__vccOpts),t){t=id(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=de(a)),Ne(l)&&(Ml(l)&&!pe(l)&&(l=Ye({},l)),t.style=Gt(l))}const o=He(e)?1:Af(e)?128:ym(e)?64:Ne(e)?4:xe(e)?2:0;return R(e,t,n,r,s,o,i,!0)}function id(e){return e?Ml(e)||Oo in e?Ye({},e):e:null}function sn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?zn(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&sd(a),ref:t&&t.ref?n&&s?pe(s)?s.concat(Di(t)):[s,Di(t)]:Di(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sn(e.ssContent),ssFallback:e.ssFallback&&sn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ln(e=" ",t=0){return ie(Sr,null,e,t)}function Sm(e,t){const n=ie(mr,null,e);return n.staticCount=t,n}function te(e="",t=!1){return t?(N(),ot(pt,null,e)):ie(pt,null,e)}function It(e){return e==null||typeof e=="boolean"?ie(pt):pe(e)?ie(we,null,e.slice()):typeof e=="object"?Bn(e):ie(Sr,null,String(e))}function Bn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:sn(e)}function Ql(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ql(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Oo in t)?t._ctx=ut:s===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),r&64?(n=16,t=[ln(t)]):n=8);e.children=t,e.shapeFlag|=n}function zn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=de([t.class,r.class]));else if(s==="style")t.style=Gt([t.style,r.style]);else if(Gs(s)){const i=t[s],o=r[s];o&&i!==o&&!(pe(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function wt(e,t,n,r=null){Mt(e,t,7,[n,r])}const km=Qf();let xm=0;function od(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||km,i={uid:xm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wf(r,s),emitsOptions:Rf(r,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Lg.bind(null,i),e.ce&&e.ce(i),i}let We=null;const bt=()=>We||ut,Qn=e=>{We=e,e.scope.on()},Wn=()=>{We&&We.scope.off(),We=null};function ad(e){return e.vnode.shapeFlag&4}let Gr=!1;function ld(e,t=!1){Gr=t;const{props:n,children:r}=e.vnode,s=ad(e);um(e,n,s,t),dm(e,r);const i=s?Tm(e,t):void 0;return Gr=!1,i}function Tm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wr(new Proxy(e.ctx,ka));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?cd(e):null;Qn(e),ts();const i=bn(r,e,0,[e.props,s]);if(ns(),Wn(),kl(i)){if(i.then(Wn,Wn),t)return i.then(o=>{Aa(e,o,t)}).catch(o=>{Ir(o,e,0)});e.asyncDep=i}else Aa(e,i,t)}else ud(e,t)}function Aa(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Dl(t)),ud(e,n)}let Qi,Pa;function Om(e){Qi=e,Pa=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,rm))}}const Im=()=>!Qi;function ud(e,t,n){const r=e.type;if(!e.render){if(!t&&Qi&&!r.render){const s=r.template||Gl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Ye(Ye({isCustomElement:i,delimiters:a},o),l);r.render=Qi(s,u)}}e.render=r.render||Ht,Pa&&Pa(e)}Qn(e),ts(),sm(e),ns(),Wn()}function Rm(e){return new Proxy(e.attrs,{get(t,n){return kt(e,"get","$attrs"),t[n]}})}function cd(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=Rm(e))},slots:e.slots,emit:e.emit,expose:t}}function Io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dl(wr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in bs)return bs[n](e)},has(t,n){return n in t||n in bs}}))}function Ma(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function Am(e){return xe(e)&&"__vccOpts"in e}const ye=(e,t)=>Og(e,t,Gr);function Pm(){return null}function Mm(){return null}function $m(e){}function Lm(e,t){return null}function fd(){return dd().slots}function Dm(){return dd().attrs}function dd(){const e=bt();return e.setupContext||(e.setupContext=cd(e))}function Bm(e,t){const n=pe(e)?e.reduce((r,s)=>(r[s]={},r),{}):e;for(const r in t){const s=n[r];s?pe(s)||xe(s)?n[r]={type:s,default:t[r]}:s.default=t[r]:s===null&&(n[r]={default:t[r]})}return n}function Fm(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Nm(e){const t=bt();let n=e();return Wn(),kl(n)&&(n=n.catch(r=>{throw Qn(t),r})),[n,()=>Qn(t)]}function Ro(e,t,n){const r=arguments.length;return r===2?Ne(t)&&!pe(t)?Xn(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Xn(n)&&(n=[n]),ie(e,t,n))}const hd=Symbol(""),pd=()=>yt(hd);function Km(){}function jm(e,t,n,r){const s=n[r];if(s&&gd(s,e))return s;const i=t();return i.memo=e.slice(),n[r]=i}function gd(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(zr(n[r],t[r]))return!1;return kr>0&&Et&&Et.push(e),!0}const md="3.2.47",Vm={createComponentInstance:od,setupComponent:ld,renderComponentRoot:Li,setCurrentRenderingInstance:Ls,isVNode:Xn,normalizeVNode:It},Um=Vm,Hm=null,qm=null,zm="http://www.w3.org/2000/svg",lr=typeof document<"u"?document:null,Gu=lr&&lr.createElement("template"),Wm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?lr.createElementNS(zm,e):lr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>lr.createTextNode(e),createComment:e=>lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Gu.innerHTML=r?`<svg>${e}</svg>`:e;const a=Gu.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Gm(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ym(e,t,n){const r=e.style,s=He(n);if(n&&!s){if(t&&!He(t))for(const i in t)n[i]==null&&$a(r,i,"");for(const i in n)$a(r,i,n[i])}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const Yu=/\s*!important$/;function $a(e,t,n){if(pe(n))n.forEach(r=>$a(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Xm(e,t);Yu.test(n)?e.setProperty(Ft(r),n.replace(Yu,""),"important"):e[r]=n}}const Xu=["Webkit","Moz","ms"],na={};function Xm(e,t){const n=na[t];if(n)return n;let r=St(t);if(r!=="filter"&&r in e)return na[t]=r;r=Ys(r);for(let s=0;s<Xu.length;s++){const i=Xu[s]+r;if(i in e)return na[t]=i}return t}const Qu="http://www.w3.org/1999/xlink";function Qm(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Qu,t.slice(6,t.length)):e.setAttributeNS(Qu,t,n);else{const i=$p(t);n==null||i&&!nf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Jm(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=nf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function mn(e,t,n,r){e.addEventListener(t,n,r)}function Zm(e,t,n,r){e.removeEventListener(t,n,r)}function ev(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=tv(t);if(r){const u=i[t]=sv(r,s);mn(e,a,u,l)}else o&&(Zm(e,a,o,l),i[t]=void 0)}}const Ju=/(?:Once|Passive|Capture)$/;function tv(e){let t;if(Ju.test(e)){t={};let r;for(;r=e.match(Ju);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let ra=0;const nv=Promise.resolve(),rv=()=>ra||(nv.then(()=>ra=0),ra=Date.now());function sv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mt(iv(r,n.value),t,5,[r])};return n.value=e,n.attached=rv(),n}function iv(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Zu=/^on[a-z]/,ov=(e,t,n,r,s=!1,i,o,a,l)=>{t==="class"?Gm(e,r,s):t==="style"?Ym(e,n,r):Gs(t)?El(t)||ev(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):av(e,t,r,s))?Jm(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Qm(e,t,r,s))};function av(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Zu.test(t)&&xe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zu.test(t)&&He(n)?!1:t in e}function vd(e,t){const n=Dt(e);class r extends Ao{constructor(i){super(n,i,t)}}return r.def=n,r}const lv=e=>vd(e,Md),uv=typeof HTMLElement<"u"?HTMLElement:class{};class Ao extends uv{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,tn(()=>{this._connected||(Ba(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=(r,s=!1)=>{const{props:i,styles:o}=r;let a;if(i&&!pe(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=zi(this._props[l])),(a||(a=Object.create(null)))[St(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=pe(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of r.map(St))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i)}})}_setAttr(t){let n=this.getAttribute(t);const r=St(t);this._numberProps&&this._numberProps[r]&&(n=zi(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,s=!0){n!==this._props[t]&&(this._props[t]=n,s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ft(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ft(t),n+""):n||this.removeAttribute(Ft(t))))}_update(){Ba(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ie(this._def,Ye({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};n.emit=(i,...o)=>{r(i,o),Ft(i)!==i&&r(Ft(i),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Ao){n.parent=s._instance,n.provides=s._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function cv(e="$style"){{const t=bt();if(!t)return Be;const n=t.type.__cssModules;if(!n)return Be;const r=n[e];return r||Be}}function fv(e){const t=bt();if(!t)return;const n=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Da(i,s))},r=()=>{const s=e(t.proxy);La(t.subTree,s),n(s)};Mf(r),On(()=>{const s=new MutationObserver(r);s.observe(t.subTree.el.parentNode,{childList:!0}),Zs(()=>s.disconnect())})}function La(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{La(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Da(e.el,t);else if(e.type===we)e.children.forEach(n=>La(n,t));else if(e.type===mr){let{el:n,anchor:r}=e;for(;n&&(Da(n,t),n!==r);)n=n.nextSibling}}function Da(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Mn="transition",cs="animation",Jl=(e,{slots:t})=>Ro(Vl,_d(e),t);Jl.displayName="Transition";const yd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dv=Jl.props=Ye({},Vl.props,yd),ir=(e,t=[])=>{pe(e)?e.forEach(n=>n(...t)):e&&e(...t)},ec=e=>e?pe(e)?e.some(t=>t.length>1):e.length>1:!1;function _d(e){const t={};for(const O in e)O in yd||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,v=hv(s),w=v&&v[0],T=v&&v[1],{onBeforeEnter:_,onEnter:p,onEnterCancelled:m,onLeave:C,onLeaveCancelled:S,onBeforeAppear:E=_,onAppear:I=p,onAppearCancelled:h=m}=t,g=(O,L,B)=>{Ln(O,L?c:a),Ln(O,L?u:o),B&&B()},k=(O,L)=>{O._isLeaving=!1,Ln(O,f),Ln(O,y),Ln(O,d),L&&L()},M=O=>(L,B)=>{const H=O?I:p,re=()=>g(L,O,B);ir(H,[L,re]),tc(()=>{Ln(L,O?l:i),hn(L,O?c:a),ec(H)||nc(L,r,w,re)})};return Ye(t,{onBeforeEnter(O){ir(_,[O]),hn(O,i),hn(O,o)},onBeforeAppear(O){ir(E,[O]),hn(O,l),hn(O,u)},onEnter:M(!1),onAppear:M(!0),onLeave(O,L){O._isLeaving=!0;const B=()=>k(O,L);hn(O,f),wd(),hn(O,d),tc(()=>{!O._isLeaving||(Ln(O,f),hn(O,y),ec(C)||nc(O,r,T,B))}),ir(C,[O,B])},onEnterCancelled(O){g(O,!1),ir(m,[O])},onAppearCancelled(O){g(O,!0),ir(h,[O])},onLeaveCancelled(O){k(O),ir(S,[O])}})}function hv(e){if(e==null)return null;if(Ne(e))return[sa(e.enter),sa(e.leave)];{const t=sa(e);return[t,t]}}function sa(e){return zi(e)}function hn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ln(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function tc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pv=0;function nc(e,t,n,r){const s=e._endId=++pv,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=bd(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=y=>{y.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,d)}function bd(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),s=r(`${Mn}Delay`),i=r(`${Mn}Duration`),o=rc(s,i),a=r(`${cs}Delay`),l=r(`${cs}Duration`),u=rc(a,l);let c=null,f=0,d=0;t===Mn?o>0&&(c=Mn,f=o,d=i.length):t===cs?u>0&&(c=cs,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?Mn:cs:null,d=c?c===Mn?i.length:l.length:0);const y=c===Mn&&/\b(transform|all)(,|$)/.test(r(`${Mn}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:y}}function rc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>sc(n)+sc(e[r])))}function sc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function wd(){return document.body.offsetHeight}const Cd=new WeakMap,Ed=new WeakMap,Sd={name:"TransitionGroup",props:Ye({},dv,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=bt(),r=jl();let s,i;return ko(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!_v(s[0].el,n.vnode.el,o))return;s.forEach(mv),s.forEach(vv);const a=s.filter(yv);wd(),a.forEach(l=>{const u=l.el,c=u.style;hn(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,Ln(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Re(e),a=_d(o);let l=o.tag||we;s=i,i=t.default?Eo(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Er(c,Wr(c,a,r,n))}if(s)for(let u=0;u<s.length;u++){const c=s[u];Er(c,Wr(c,a,r,n)),Cd.set(c,c.el.getBoundingClientRect())}return ie(l,null,i)}}},gv=e=>delete e.mode;Sd.props;const kd=Sd;function mv(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function vv(e){Ed.set(e,e.el.getBoundingClientRect())}function yv(e){const t=Cd.get(e),n=Ed.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",e}}function _v(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:i}=bd(r);return s.removeChild(r),i}const Jn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>Vr(t,n):t};function bv(e){e.target.composing=!0}function ic(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ue={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=Jn(s);const i=r||s.props&&s.props.type==="number";mn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=qi(a)),e._assign(a)}),n&&mn(e,"change",()=>{e.value=e.value.trim()}),t||(mn(e,"compositionstart",bv),mn(e,"compositionend",ic),mn(e,"change",ic))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=Jn(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&qi(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},jn={deep:!0,created(e,t,n){e._assign=Jn(n),mn(e,"change",()=>{const r=e._modelValue,s=Yr(e),i=e.checked,o=e._assign;if(pe(r)){const a=ho(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Or(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Td(e,i))})},mounted:oc,beforeUpdate(e,t,n){e._assign=Jn(n),oc(e,t,n)}};function oc(e,{value:t,oldValue:n},r){e._modelValue=t,pe(t)?e.checked=ho(t,r.props.value)>-1:Or(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Gn(t,Td(e,!0)))}const Zl={created(e,{value:t},n){e.checked=Gn(t,n.props.value),e._assign=Jn(n),mn(e,"change",()=>{e._assign(Yr(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Jn(r),t!==n&&(e.checked=Gn(t,r.props.value))}},xd={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Or(t);mn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?qi(Yr(o)):Yr(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Jn(r)},mounted(e,{value:t}){ac(e,t)},beforeUpdate(e,t,n){e._assign=Jn(n)},updated(e,{value:t}){ac(e,t)}};function ac(e,t){const n=e.multiple;if(!(n&&!pe(t)&&!Or(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=Yr(i);if(n)pe(t)?i.selected=ho(t,o)>-1:i.selected=t.has(o);else if(Gn(Yr(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Yr(e){return"_value"in e?e._value:e.value}function Td(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Od={created(e,t,n){Si(e,t,n,null,"created")},mounted(e,t,n){Si(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Si(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Si(e,t,n,r,"updated")}};function Id(e,t){switch(e){case"SELECT":return xd;case"TEXTAREA":return Ue;default:switch(t){case"checkbox":return jn;case"radio":return Zl;default:return Ue}}}function Si(e,t,n,r,s){const o=Id(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,r)}function wv(){Ue.getSSRProps=({value:e})=>({value:e}),Zl.getSSRProps=({value:e},t)=>{if(t.props&&Gn(t.props.value,e))return{checked:!0}},jn.getSSRProps=({value:e},t)=>{if(pe(e)){if(t.props&&ho(e,t.props.value)>-1)return{checked:!0}}else if(Or(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Od.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Id(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Cv=["ctrl","shift","alt","meta"],Ev={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Cv.some(n=>e[`${n}Key`]&&!t.includes(n))},rt=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=Ev[t[s]];if(i&&i(n,t))return}return e(n,...r)},Sv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xr=(e,t)=>n=>{if(!("key"in n))return;const r=Ft(n.key);if(t.some(s=>s===r||Sv[s]===r))return e(n)},Ct={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):fs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),fs(e,!0),r.enter(e)):r.leave(e,()=>{fs(e,!1)}):fs(e,t))},beforeUnmount(e,{value:t}){fs(e,t)}};function fs(e,t){e.style.display=t?e._vod:"none"}function kv(){Ct.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Rd=Ye({patchProp:ov},Wm);let Es,lc=!1;function Ad(){return Es||(Es=Jf(Rd))}function Pd(){return Es=lc?Es:Zf(Rd),lc=!0,Es}const Ba=(...e)=>{Ad().render(...e)},Md=(...e)=>{Pd().hydrate(...e)},eu=(...e)=>{const t=Ad().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=$d(r);if(!s)return;const i=t._component;!xe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},xv=(...e)=>{const t=Pd().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=$d(r);if(s)return n(s,!0,s instanceof SVGElement)},t};function $d(e){return He(e)?document.querySelector(e):e}let uc=!1;const Tv=()=>{uc||(uc=!0,wv(),kv())},Ov=()=>{},Iv=Object.freeze(Object.defineProperty({__proto__:null,compile:Ov,EffectScope:Tl,ReactiveEffect:Xs,customRef:kg,effect:zp,effectScope:Ol,getCurrentScope:Il,isProxy:Ml,isReactive:_n,isReadonly:br,isRef:Ge,isShallow:As,markRaw:wr,onScopeDispose:lf,proxyRefs:Dl,reactive:Xe,readonly:Pl,ref:$e,shallowReactive:wf,shallowReadonly:bg,shallowRef:Cf,stop:Wp,toRaw:Re,toRef:Sf,toRefs:xt,triggerRef:Cg,unref:P,camelize:St,capitalize:Ys,normalizeClass:de,normalizeProps:Pp,normalizeStyle:Gt,toDisplayString:_e,toHandlerKey:ys,BaseTransition:Vl,Comment:pt,Fragment:we,KeepAlive:Jg,Static:mr,Suspense:Vg,Teleport:wm,Text:Sr,assertNumber:Rg,callWithAsyncErrorHandling:Mt,callWithErrorHandling:bn,cloneVNode:sn,compatUtils:qm,computed:ye,createBlock:ot,createCommentVNode:te,createElementBlock:j,createElementVNode:R,createHydrationRenderer:Zf,createPropsRestProxy:Fm,createRenderer:Jf,createSlots:nm,createStaticVNode:Sm,createTextVNode:ln,createVNode:ie,defineAsyncComponent:Xg,defineComponent:Dt,defineEmits:Mm,defineExpose:$m,defineProps:Pm,get devtools(){return Br},getCurrentInstance:bt,getTransitionRawChildren:Eo,guardReactiveProps:id,h:Ro,handleError:Ir,initCustomFormatter:Km,inject:yt,isMemoSame:gd,isRuntimeOnly:Im,isVNode:Xn,mergeDefaults:Bm,mergeProps:zn,nextTick:tn,onActivated:Ul,onBeforeMount:ql,onBeforeUnmount:xo,onBeforeUpdate:Bf,onDeactivated:Hl,onErrorCaptured:jf,onMounted:On,onRenderTracked:Kf,onRenderTriggered:Nf,onServerPrefetch:Ff,onUnmounted:Zs,onUpdated:ko,openBlock:N,popScopeId:an,provide:_s,pushScopeId:on,queuePostFlushCb:Fl,registerRuntimeCompiler:Om,renderList:je,renderSlot:it,resolveComponent:qn,resolveDirective:tm,resolveDynamicComponent:To,resolveFilter:Hm,resolveTransitionHooks:Wr,setBlockTracking:Ra,setDevtoolsHook:If,setTransitionHooks:Er,ssrContextKey:hd,ssrUtils:Um,toHandlers:Hf,transformVNodeArgs:Cm,useAttrs:Dm,useSSRContext:pd,useSlots:fd,useTransitionState:jl,version:md,warn:Ig,watch:Ze,watchEffect:Cr,watchPostEffect:Mf,watchSyncEffect:Wg,withAsyncContext:Nm,withCtx:nn,withDefaults:Lm,withDirectives:Oe,withMemo:jm,withScopeId:Dg,Transition:Jl,TransitionGroup:kd,VueElement:Ao,createApp:eu,createSSRApp:xv,defineCustomElement:vd,defineSSRCustomElement:lv,hydrate:Md,initDirectivesForSSR:Tv,render:Ba,useCssModule:cv,useCssVars:fv,vModelCheckbox:jn,vModelDynamic:Od,vModelRadio:Zl,vModelSelect:xd,vModelText:Ue,vShow:Ct,withKeys:Xr,withModifiers:rt},Symbol.toStringTag,{value:"Module"}));var Rv=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Ld;const Po=e=>Ld=e,Dd=Symbol();function Fa(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ss;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ss||(Ss={}));function Av(){const e=Ol(!0),t=e.run(()=>$e({}));let n=[],r=[];const s=wr({install(i){Po(s),s._a=i,i.provide(Dd,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Rv?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Bd=()=>{};function cc(e,t,n,r=Bd){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Il()&&lf(s),s}function Mr(e,...t){e.slice().forEach(n=>{n(...t)})}function Na(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Fa(s)&&Fa(r)&&e.hasOwnProperty(n)&&!Ge(r)&&!_n(r)?e[n]=Na(s,r):e[n]=r}return e}const Pv=Symbol();function Mv(e){return!Fa(e)||!e.hasOwnProperty(Pv)}const{assign:Fn}=Object;function $v(e){return!!(Ge(e)&&e.effect)}function Lv(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=s?s():{});const c=xt(n.state.value[e]);return Fn(c,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=wr(ye(()=>{Po(n);const y=n._s.get(e);return o[d].call(y,y)})),f),{}))}return l=Fd(e,u,t,n,r,!0),l.$reset=function(){const f=s?s():{};this.$patch(d=>{Fn(d,f)})},l}function Fd(e,t,n={},r,s,i){let o;const a=Fn({actions:{}},n),l={deep:!0};let u,c,f=wr([]),d=wr([]),y;const v=r.state.value[e];!i&&!v&&(r.state.value[e]={}),$e({});let w;function T(I){let h;u=c=!1,typeof I=="function"?(I(r.state.value[e]),h={type:Ss.patchFunction,storeId:e,events:y}):(Na(r.state.value[e],I),h={type:Ss.patchObject,payload:I,storeId:e,events:y});const g=w=Symbol();tn().then(()=>{w===g&&(u=!0)}),c=!0,Mr(f,h,r.state.value[e])}const _=Bd;function p(){o.stop(),f=[],d=[],r._s.delete(e)}function m(I,h){return function(){Po(r);const g=Array.from(arguments),k=[],M=[];function O(H){k.push(H)}function L(H){M.push(H)}Mr(d,{args:g,name:I,store:S,after:O,onError:L});let B;try{B=h.apply(this&&this.$id===e?this:S,g)}catch(H){throw Mr(M,H),H}return B instanceof Promise?B.then(H=>(Mr(k,H),H)).catch(H=>(Mr(M,H),Promise.reject(H))):(Mr(k,B),B)}}const C={_p:r,$id:e,$onAction:cc.bind(null,d),$patch:T,$reset:_,$subscribe(I,h={}){const g=cc(f,I,h.detached,()=>k()),k=o.run(()=>Ze(()=>r.state.value[e],M=>{(h.flush==="sync"?c:u)&&I({storeId:e,type:Ss.direct,events:y},M)},Fn({},l,h)));return g},$dispose:p},S=Xe(C);r._s.set(e,S);const E=r._e.run(()=>(o=Ol(),o.run(()=>t())));for(const I in E){const h=E[I];if(Ge(h)&&!$v(h)||_n(h))i||(v&&Mv(h)&&(Ge(h)?h.value=v[I]:Na(h,v[I])),r.state.value[e][I]=h);else if(typeof h=="function"){const g=m(I,h);E[I]=g,a.actions[I]=h}}return Fn(S,E),Fn(Re(S),E),Object.defineProperty(S,"$state",{get:()=>r.state.value[e],set:I=>{T(h=>{Fn(h,I)})}}),r._p.forEach(I=>{Fn(S,o.run(()=>I({store:S,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(S.$state,v),u=!0,c=!0,S}function In(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,l){const u=bt();return a=a||u&&yt(Dd,null),a&&Po(a),a=Ld,a._s.has(r)||(i?Fd(r,t,s,a):Lv(r,s,a)),a._s.get(r)}return o.$id=r,o}const qe=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Dv={};function Bv(e,t){const n=qn("router-view");return N(),ot(n)}const Fv=qe(Dv,[["render",Bv]]);var Nv=Object.defineProperty,fc=Object.getOwnPropertySymbols,Kv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,dc=(e,t,n)=>t in e?Nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nd=(e,t)=>{for(var n in t||(t={}))Kv.call(t,n)&&dc(e,n,t[n]);if(fc)for(var n of fc(t))jv.call(t,n)&&dc(e,n,t[n]);return e},Mo=e=>typeof e=="function",$o=e=>typeof e=="string",Kd=e=>$o(e)&&e.trim().length>0,Vv=e=>typeof e=="number",dr=e=>typeof e>"u",Bs=e=>typeof e=="object"&&e!==null,Uv=e=>rn(e,"tag")&&Kd(e.tag),jd=e=>window.TouchEvent&&e instanceof TouchEvent,Vd=e=>rn(e,"component")&&Ud(e.component),Hv=e=>Mo(e)||Bs(e),Ud=e=>!dr(e)&&($o(e)||Hv(e)||Vd(e)),hc=e=>Bs(e)&&["height","width","right","left","top","bottom"].every(t=>Vv(e[t])),rn=(e,t)=>(Bs(e)||Mo(e))&&t in e,qv=(e=>()=>e++)(0);function ia(e){return jd(e)?e.targetTouches[0].clientX:e.clientX}function pc(e){return jd(e)?e.targetTouches[0].clientY:e.clientY}var zv=e=>{dr(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},ei=e=>Vd(e)?ei(e.component):Uv(e)?Dt({render(){return e}}):typeof e=="string"?e:Re(P(e)),Wv=e=>{if(typeof e=="string")return e;const t=rn(e,"props")&&Bs(e.props)?e.props:{},n=rn(e,"listeners")&&Bs(e.listeners)?e.listeners:{};return{component:ei(e),props:t,listeners:n}},Gv=()=>typeof window<"u",tu=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(r=>r(t))}},Yv=e=>["on","off","emit"].every(t=>rn(e,t)&&Mo(e[t])),At;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(At||(At={}));var Fs;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(Fs||(Fs={}));var Pt;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Pt||(Pt={}));var Ut="Vue-Toastification",Kt={type:{type:String,default:At.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Hd={type:Kt.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Bi={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Kt.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Ka={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},qd={transition:{type:[Object,String],default:`${Ut}__bounce`}},Xv={position:{type:String,default:Fs.TOP_RIGHT},draggable:Kt.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Kt.trueBoolean,pauseOnHover:Kt.trueBoolean,closeOnClick:Kt.trueBoolean,timeout:Ka.timeout,hideProgressBar:Ka.hideProgressBar,toastClassName:Kt.classNames,bodyClassName:Kt.classNames,icon:Hd.customIcon,closeButton:Bi.component,closeButtonClassName:Bi.classNames,showCloseButtonOnHover:Bi.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new tu}},Qv={id:{type:[String,Number],required:!0,default:0},type:Kt.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Jv={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Kt.trueBoolean,maxToasts:{type:Number,default:20},transition:qd.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Kt.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},wn={CORE_TOAST:Xv,TOAST:Qv,CONTAINER:Jv,PROGRESS_BAR:Ka,ICON:Hd,TRANSITION:qd,CLOSE_BUTTON:Bi},zd=Dt({name:"VtProgressBar",props:wn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Ut}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Zv(e,t){return N(),j("div",{style:Gt(e.style),class:de(e.cpClass)},null,6)}zd.render=Zv;var ey=zd,Wd=Dt({name:"VtCloseButton",props:wn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?ei(this.component):"button"},classes(){const e=[`${Ut}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),ty=ln(" \xD7 ");function ny(e,t){return N(),ot(To(e.buttonComponent),zn({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:nn(()=>[ty]),_:1},16,["aria-label","class"])}Wd.render=ny;var ry=Wd,Gd={},sy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},iy=R("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),oy=[iy];function ay(e,t){return N(),j("svg",sy,oy)}Gd.render=ay;var ly=Gd,Yd={},uy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},cy=R("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),fy=[cy];function dy(e,t){return N(),j("svg",uy,fy)}Yd.render=dy;var gc=Yd,Xd={},hy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},py=R("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),gy=[py];function my(e,t){return N(),j("svg",hy,gy)}Xd.render=my;var vy=Xd,Qd={},yy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},_y=R("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),by=[_y];function wy(e,t){return N(),j("svg",yy,by)}Qd.render=wy;var Cy=Qd,Jd=Dt({name:"VtIcon",props:wn.ICON,computed:{customIconChildren(){return rn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return $o(this.customIcon)?this.trimValue(this.customIcon):rn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return rn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Ud(this.customIcon)?ei(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[At.DEFAULT]:gc,[At.INFO]:gc,[At.SUCCESS]:ly,[At.ERROR]:Cy,[At.WARNING]:vy}[this.type]},iconClasses(){const e=[`${Ut}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Kd(e)?e.trim():t}}});function Ey(e,t){return N(),ot(To(e.component),{class:de(e.iconClasses)},{default:nn(()=>[ln(_e(e.customIconChildren),1)]),_:1},8,["class"])}Jd.render=Ey;var Sy=Jd,Zd=Dt({name:"VtToast",components:{ProgressBar:ey,CloseButton:ry,Icon:Sy},inheritAttrs:!1,props:Object.assign({},wn.CORE_TOAST,wn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Ut}__toast`,`${Ut}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Ut}__toast--rtl`),e},bodyClasses(){return[`${Ut}__toast-${$o(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return hc(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:rn,getVueComponentFromObj:ei,closeToast(){this.eventBus.emit(Pt.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:ia(e),y:pc(e)},this.dragStart=ia(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:ia(e),y:pc(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,hc(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),ky=["role"];function xy(e,t){const n=qn("Icon"),r=qn("CloseButton"),s=qn("ProgressBar");return N(),j("div",{class:de(e.classes),style:Gt(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(N(),ot(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):te("v-if",!0),R("div",{role:e.accessibility.toastRole||"alert",class:de(e.bodyClasses)},[typeof e.content=="string"?(N(),j(we,{key:0},[ln(_e(e.content),1)],2112)):(N(),ot(To(e.getVueComponentFromObj(e.content)),zn({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Hf(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ky),e.closeButton?(N(),ot(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:rt(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):te("v-if",!0),e.timeout?(N(),ot(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):te("v-if",!0)],38)}Zd.render=xy;var Ty=Zd,eh=Dt({name:"VtTransition",props:wn.TRANSITION,emits:["leave"],methods:{hasProp:rn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Oy(e,t){return N(),ot(kd,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:nn(()=>[it(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}eh.render=Oy;var Iy=eh,th=Dt({name:"VueToastification",devtools:{hide:!0},components:{Toast:Ty,VtTransition:Iy},props:Object.assign({},wn.CORE_TOAST,wn.CONTAINER,wn.TRANSITION),data(){return{count:0,positions:Object.values(Fs),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Pt.ADD,this.addToast),e.on(Pt.CLEAR,this.clearToasts),e.on(Pt.DISMISS,this.dismissToast),e.on(Pt.UPDATE,this.updateToast),e.on(Pt.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Mo(e)&&(e=await e()),zv(this.$el),e.appendChild(this.$el)},setToast(e){dr(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Wv(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!dr(t)&&!dr(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){dr(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Ut}__container`,e].concat(this.defaults.containerClassName)}}});function Ry(e,t){const n=qn("Toast"),r=qn("VtTransition");return N(),j("div",null,[(N(!0),j(we,null,je(e.positions,s=>(N(),j("div",{key:s},[ie(r,{transition:e.defaults.transition,class:de(e.getClasses(s))},{default:nn(()=>[(N(!0),j(we,null,je(e.getPositionToasts(s),i=>(N(),ot(n,zn({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}th.render=Ry;var Ay=th,mc=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new tu;t&&tn(()=>{const i=eu(Ay,Nd({},e)),o=i.mount(document.createElement("div")),a=e.onMounted;if(dr(a)||a(o,i),e.shareAppContext){const l=e.shareAppContext;l===!0?console.warn(`[${Ut}] App to share context with was not provided.`):(i._context.components=l._context.components,i._context.directives=l._context.directives,i._context.mixins=l._context.mixins,i._context.provides=l._context.provides,i.config.globalProperties=l.config.globalProperties)}});const r=(i,o)=>{const a=Object.assign({},{id:qv(),type:At.DEFAULT},o,{content:i});return n.emit(Pt.ADD,a),a.id};r.clear=()=>n.emit(Pt.CLEAR,void 0),r.updateDefaults=i=>{n.emit(Pt.UPDATE_DEFAULTS,i)},r.dismiss=i=>{n.emit(Pt.DISMISS,i)};function s(i,{content:o,options:a},l=!1){const u=Object.assign({},a,{content:o});n.emit(Pt.UPDATE,{id:i,options:u,create:l})}return r.update=s,r.success=(i,o)=>r(i,Object.assign({},o,{type:At.SUCCESS})),r.info=(i,o)=>r(i,Object.assign({},o,{type:At.INFO})),r.error=(i,o)=>r(i,Object.assign({},o,{type:At.ERROR})),r.warning=(i,o)=>r(i,Object.assign({},o,{type:At.WARNING})),r},Py=()=>{const e=()=>console.warn(`[${Ut}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function ja(e){return Gv()?Yv(e)?mc({eventBus:e},!1):mc(e,!0):Py()}var nh=Symbol("VueToastification"),rh=new tu,My=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=ja(Nd({eventBus:rh},t));e.provide(nh,n)},ti=e=>{if(e)return ja(e);const t=bt()?yt(nh,void 0):void 0;return t||ja(rh)},$y=My;/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Fr=typeof window<"u";function Ly(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Le=Object.assign;function oa(e,t){const n={};for(const r in t){const s=t[r];n[r]=zt(s)?s.map(e):e(s)}return n}const ks=()=>{},zt=Array.isArray,Dy=/\/$/,By=e=>e.replace(Dy,"");function aa(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=jy(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function Fy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ny(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Qr(t.matched[r],n.matched[s])&&sh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ky(e[n],t[n]))return!1;return!0}function Ky(e,t){return zt(e)?yc(e,t):zt(t)?yc(t,e):e===t}function yc(e,t){return zt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function jy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Ns;(function(e){e.pop="pop",e.push="push"})(Ns||(Ns={}));var xs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xs||(xs={}));function Vy(e){if(!e)if(Fr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),By(e)}const Uy=/^[^#]+#/;function Hy(e,t){return e.replace(Uy,"#")+t}function qy(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Lo=()=>({left:window.pageXOffset,top:window.pageYOffset});function zy(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=qy(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function _c(e,t){return(history.state?history.state.position-t:-1)+e}const Va=new Map;function Wy(e,t){Va.set(e,t)}function Gy(e){const t=Va.get(e);return Va.delete(e),t}let Yy=()=>location.protocol+"//"+location.host;function ih(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),vc(l,"")}return vc(n,e)+r+s}function Xy(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const y=ih(e,location),v=n.value,w=t.value;let T=0;if(d){if(n.value=y,t.value=d,o&&o===v){o=null;return}T=w?d.position-w.position:0}else r(y);s.forEach(_=>{_(n.value,v,{delta:T,type:Ns.pop,direction:T?T>0?xs.forward:xs.back:xs.unknown})})};function l(){o=n.value}function u(d){s.push(d);const y=()=>{const v=s.indexOf(d);v>-1&&s.splice(v,1)};return i.push(y),y}function c(){const{history:d}=window;!d.state||d.replaceState(Le({},d.state,{scroll:Lo()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function bc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Lo():null}}function Qy(e){const{history:t,location:n}=window,r={value:ih(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Yy()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(y){console.error(y),n[c?"replace":"assign"](d)}}function o(l,u){const c=Le({},t.state,bc(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Le({},s.value,t.state,{forward:l,scroll:Lo()});i(c.current,c,!0);const f=Le({},bc(r.value,l,null),{position:c.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function Jy(e){e=Vy(e);const t=Qy(e),n=Xy(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Le({location:"",base:e,go:r,createHref:Hy.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Zy(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Jy(e)}function e_(e){return typeof e=="string"||e&&typeof e=="object"}function oh(e){return typeof e=="string"||typeof e=="symbol"}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ah=Symbol("");var wc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wc||(wc={}));function Jr(e,t){return Le(new Error,{type:e,[ah]:!0},t)}function fn(e,t){return e instanceof Error&&ah in e&&(t==null||!!(e.type&t))}const Cc="[^/]+?",t_={sensitive:!1,strict:!1,start:!0,end:!0},n_=/[.+*?^${}()[\]/\\]/g;function r_(e,t){const n=Le({},t_,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const d=u[f];let y=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(n_,"\\$&"),y+=40;else if(d.type===1){const{value:v,repeatable:w,optional:T,regexp:_}=d;i.push({name:v,repeatable:w,optional:T});const p=_||Cc;if(p!==Cc){y+=10;try{new RegExp(`(${p})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${p}): `+C.message)}}let m=w?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;f||(m=T&&u.length<2?`(?:/${m})`:"/"+m),T&&(m+="?"),s+=m,y+=20,T&&(y+=-8),w&&(y+=-20),p===".*"&&(y+=-50)}c.push(y)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const y=c[d]||"",v=i[d-1];f[v.name]=y&&v.repeatable?y.split("/"):y}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const y of d)if(y.type===0)c+=y.value;else if(y.type===1){const{value:v,repeatable:w,optional:T}=y,_=v in u?u[v]:"";if(zt(_)&&!w)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const p=zt(_)?_.join("/"):_;if(!p)if(T)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=p}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function s_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function i_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=s_(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Ec(r))return 1;if(Ec(s))return-1}return s.length-r.length}function Ec(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const o_={type:0,value:""},a_=/[a-zA-Z0-9_]/;function l_(e){if(!e)return[[]];if(e==="/")return[[o_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${u}": ${y}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function f(){!u||(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:a_.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function u_(e,t,n){const r=r_(l_(e.path),n),s=Le(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function c_(e,t){const n=[],r=new Map;t=xc({strict:!1,end:!0,sensitive:!1},t);function s(c){return r.get(c)}function i(c,f,d){const y=!d,v=f_(c);v.aliasOf=d&&d.record;const w=xc(t,c),T=[v];if("alias"in c){const m=typeof c.alias=="string"?[c.alias]:c.alias;for(const C of m)T.push(Le({},v,{components:d?d.record.components:v.components,path:C,aliasOf:d?d.record:v}))}let _,p;for(const m of T){const{path:C}=m;if(f&&C[0]!=="/"){const S=f.record.path,E=S[S.length-1]==="/"?"":"/";m.path=f.record.path+(C&&E+C)}if(_=u_(m,f,w),d?d.alias.push(_):(p=p||_,p!==_&&p.alias.push(_),y&&c.name&&!kc(_)&&o(c.name)),v.children){const S=v.children;for(let E=0;E<S.length;E++)i(S[E],_,d&&d.children[E])}d=d||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return p?()=>{o(p)}:ks}function o(c){if(oh(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let f=0;for(;f<n.length&&i_(c,n[f])>=0&&(c.record.path!==n[f].record.path||!lh(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!kc(c)&&r.set(c.record.name,c)}function u(c,f){let d,y={},v,w;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw Jr(1,{location:c});w=d.record.name,y=Le(Sc(f.params,d.keys.filter(p=>!p.optional).map(p=>p.name)),c.params&&Sc(c.params,d.keys.map(p=>p.name))),v=d.stringify(y)}else if("path"in c)v=c.path,d=n.find(p=>p.re.test(v)),d&&(y=d.parse(v),w=d.record.name);else{if(d=f.name?r.get(f.name):n.find(p=>p.re.test(f.path)),!d)throw Jr(1,{location:c,currentLocation:f});w=d.record.name,y=Le({},f.params,c.params),v=d.stringify(y)}const T=[];let _=d;for(;_;)T.unshift(_.record),_=_.parent;return{name:w,path:v,params:y,matched:T,meta:h_(T)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Sc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function f_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:d_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function d_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function kc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function h_(e){return e.reduce((t,n)=>Le(t,n.meta),{})}function xc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function lh(e,t){return t.children.some(n=>n===e||lh(e,n))}const uh=/#/g,p_=/&/g,g_=/\//g,m_=/=/g,v_=/\?/g,ch=/\+/g,y_=/%5B/g,__=/%5D/g,fh=/%5E/g,b_=/%60/g,dh=/%7B/g,w_=/%7C/g,hh=/%7D/g,C_=/%20/g;function nu(e){return encodeURI(""+e).replace(w_,"|").replace(y_,"[").replace(__,"]")}function E_(e){return nu(e).replace(dh,"{").replace(hh,"}").replace(fh,"^")}function Ua(e){return nu(e).replace(ch,"%2B").replace(C_,"+").replace(uh,"%23").replace(p_,"%26").replace(b_,"`").replace(dh,"{").replace(hh,"}").replace(fh,"^")}function S_(e){return Ua(e).replace(m_,"%3D")}function k_(e){return nu(e).replace(uh,"%23").replace(v_,"%3F")}function x_(e){return e==null?"":k_(e).replace(g_,"%2F")}function Ji(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function T_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(ch," "),o=i.indexOf("="),a=Ji(o<0?i:i.slice(0,o)),l=o<0?null:Ji(i.slice(o+1));if(a in t){let u=t[a];zt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Tc(e){let t="";for(let n in e){const r=e[n];if(n=S_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(zt(r)?r.map(i=>i&&Ua(i)):[r&&Ua(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function O_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=zt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const ph=Symbol(""),Oc=Symbol(""),Do=Symbol(""),ru=Symbol(""),Ha=Symbol("");function ds(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function I_(e,t,n){const r=()=>{e[t].delete(n)};Zs(r),Hl(r),Ul(()=>{e[t].add(n)}),e[t].add(n)}function R_(e){const t=yt(ph,{}).value;!t||I_(t,"updateGuards",e)}function Nn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(Jr(4,{from:n,to:t})):f instanceof Error?a(f):e_(f)?a(Jr(2,{from:t,to:f})):(i&&r.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),o())},u=e.call(r&&r.instances[s],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>a(f))})}function la(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(A_(a)){const u=(a.__vccOpts||a)[t];u&&s.push(Nn(u,n,r,i,o))}else{let l=a();s.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=Ly(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Nn(d,n,r,i,o)()}))}}return s}function A_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ic(e){const t=yt(Do),n=yt(ru),r=ye(()=>t.resolve(P(e.to))),s=ye(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(Qr.bind(null,c));if(d>-1)return d;const y=Rc(l[u-2]);return u>1&&Rc(c)===y&&f[f.length-1].path!==y?f.findIndex(Qr.bind(null,l[u-2])):d}),i=ye(()=>s.value>-1&&L_(n.params,r.value.params)),o=ye(()=>s.value>-1&&s.value===n.matched.length-1&&sh(n.params,r.value.params));function a(l={}){return $_(l)?t[P(e.replace)?"replace":"push"](P(e.to)).catch(ks):Promise.resolve()}return{route:r,href:ye(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const P_=Dt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ic,setup(e,{slots:t}){const n=Xe(Ic(e)),{options:r}=yt(Do),s=ye(()=>({[Ac(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ac(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Ro("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),M_=P_;function $_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function L_(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!zt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Rc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ac=(e,t,n)=>e!=null?e:t!=null?t:n,D_=Dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=yt(Ha),s=ye(()=>e.route||r.value),i=yt(Oc,0),o=ye(()=>{let u=P(i);const{matched:c}=s.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=ye(()=>s.value.matched[o.value]);_s(Oc,ye(()=>o.value+1)),_s(ph,a),_s(Ha,s);const l=$e();return Ze(()=>[l.value,a.value,e.name],([u,c,f],[d,y,v])=>{c&&(c.instances[f]=u,y&&y!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=y.leaveGuards),c.updateGuards.size||(c.updateGuards=y.updateGuards))),u&&c&&(!y||!Qr(c,y)||!d)&&(c.enterCallbacks[f]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=s.value,c=e.name,f=a.value,d=f&&f.components[c];if(!d)return Pc(n.default,{Component:d,route:u});const y=f.props[c],v=y?y===!0?u.params:typeof y=="function"?y(u):y:null,T=Ro(d,Le({},v,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Pc(n.default,{Component:T,route:u})||T}}});function Pc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const B_=D_;function F_(e){const t=c_(e.routes,e),n=e.parseQuery||T_,r=e.stringifyQuery||Tc,s=e.history,i=ds(),o=ds(),a=ds(),l=Cf($n);let u=$n;Fr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=oa.bind(null,A=>""+A),f=oa.bind(null,x_),d=oa.bind(null,Ji);function y(A,V){let q,se;return oh(A)?(q=t.getRecordMatcher(A),se=V):se=A,t.addRoute(se,q)}function v(A){const V=t.getRecordMatcher(A);V&&t.removeRoute(V)}function w(){return t.getRoutes().map(A=>A.record)}function T(A){return!!t.getRecordMatcher(A)}function _(A,V){if(V=Le({},V||l.value),typeof A=="string"){const b=aa(n,A,V.path),x=t.resolve({path:b.path},V),$=s.createHref(b.fullPath);return Le(b,x,{params:d(x.params),hash:Ji(b.hash),redirectedFrom:void 0,href:$})}let q;if("path"in A)q=Le({},A,{path:aa(n,A.path,V.path).path});else{const b=Le({},A.params);for(const x in b)b[x]==null&&delete b[x];q=Le({},A,{params:f(A.params)}),V.params=f(V.params)}const se=t.resolve(q,V),Z=A.hash||"";se.params=c(d(se.params));const ve=Fy(r,Le({},A,{hash:E_(Z),path:se.path})),ue=s.createHref(ve);return Le({fullPath:ve,hash:Z,query:r===Tc?O_(A.query):A.query||{}},se,{redirectedFrom:void 0,href:ue})}function p(A){return typeof A=="string"?aa(n,A,l.value.path):Le({},A)}function m(A,V){if(u!==A)return Jr(8,{from:V,to:A})}function C(A){return I(A)}function S(A){return C(Le(p(A),{replace:!0}))}function E(A){const V=A.matched[A.matched.length-1];if(V&&V.redirect){const{redirect:q}=V;let se=typeof q=="function"?q(A):q;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=p(se):{path:se},se.params={}),Le({query:A.query,hash:A.hash,params:"path"in se?{}:A.params},se)}}function I(A,V){const q=u=_(A),se=l.value,Z=A.state,ve=A.force,ue=A.replace===!0,b=E(q);if(b)return I(Le(p(b),{state:typeof b=="object"?Le({},Z,b.state):Z,force:ve,replace:ue}),V||q);const x=q;x.redirectedFrom=V;let $;return!ve&&Ny(r,se,q)&&($=Jr(16,{to:x,from:se}),me(se,se,!0,!1)),($?Promise.resolve($):g(x,se)).catch(K=>fn(K)?fn(K,2)?K:ee(K):z(K,x,se)).then(K=>{if(K){if(fn(K,2))return I(Le({replace:ue},p(K.to),{state:typeof K.to=="object"?Le({},Z,K.to.state):Z,force:ve}),V||x)}else K=M(x,se,!0,ue,Z);return k(x,se,K),K})}function h(A,V){const q=m(A,V);return q?Promise.reject(q):Promise.resolve()}function g(A,V){let q;const[se,Z,ve]=N_(A,V);q=la(se.reverse(),"beforeRouteLeave",A,V);for(const b of se)b.leaveGuards.forEach(x=>{q.push(Nn(x,A,V))});const ue=h.bind(null,A,V);return q.push(ue),$r(q).then(()=>{q=[];for(const b of i.list())q.push(Nn(b,A,V));return q.push(ue),$r(q)}).then(()=>{q=la(Z,"beforeRouteUpdate",A,V);for(const b of Z)b.updateGuards.forEach(x=>{q.push(Nn(x,A,V))});return q.push(ue),$r(q)}).then(()=>{q=[];for(const b of A.matched)if(b.beforeEnter&&!V.matched.includes(b))if(zt(b.beforeEnter))for(const x of b.beforeEnter)q.push(Nn(x,A,V));else q.push(Nn(b.beforeEnter,A,V));return q.push(ue),$r(q)}).then(()=>(A.matched.forEach(b=>b.enterCallbacks={}),q=la(ve,"beforeRouteEnter",A,V),q.push(ue),$r(q))).then(()=>{q=[];for(const b of o.list())q.push(Nn(b,A,V));return q.push(ue),$r(q)}).catch(b=>fn(b,8)?b:Promise.reject(b))}function k(A,V,q){for(const se of a.list())se(A,V,q)}function M(A,V,q,se,Z){const ve=m(A,V);if(ve)return ve;const ue=V===$n,b=Fr?history.state:{};q&&(se||ue?s.replace(A.fullPath,Le({scroll:ue&&b&&b.scroll},Z)):s.push(A.fullPath,Z)),l.value=A,me(A,V,q,ue),ee()}let O;function L(){O||(O=s.listen((A,V,q)=>{if(!Te.listening)return;const se=_(A),Z=E(se);if(Z){I(Le(Z,{replace:!0}),se).catch(ks);return}u=se;const ve=l.value;Fr&&Wy(_c(ve.fullPath,q.delta),Lo()),g(se,ve).catch(ue=>fn(ue,12)?ue:fn(ue,2)?(I(ue.to,se).then(b=>{fn(b,20)&&!q.delta&&q.type===Ns.pop&&s.go(-1,!1)}).catch(ks),Promise.reject()):(q.delta&&s.go(-q.delta,!1),z(ue,se,ve))).then(ue=>{ue=ue||M(se,ve,!1),ue&&(q.delta&&!fn(ue,8)?s.go(-q.delta,!1):q.type===Ns.pop&&fn(ue,20)&&s.go(-1,!1)),k(se,ve,ue)}).catch(ks)}))}let B=ds(),H=ds(),re;function z(A,V,q){ee(A);const se=H.list();return se.length?se.forEach(Z=>Z(A,V,q)):console.error(A),Promise.reject(A)}function X(){return re&&l.value!==$n?Promise.resolve():new Promise((A,V)=>{B.add([A,V])})}function ee(A){return re||(re=!A,L(),B.list().forEach(([V,q])=>A?q(A):V()),B.reset()),A}function me(A,V,q,se){const{scrollBehavior:Z}=e;if(!Fr||!Z)return Promise.resolve();const ve=!q&&Gy(_c(A.fullPath,0))||(se||!q)&&history.state&&history.state.scroll||null;return tn().then(()=>Z(A,V,ve)).then(ue=>ue&&zy(ue)).catch(ue=>z(ue,A,V))}const oe=A=>s.go(A);let G;const ge=new Set,Te={currentRoute:l,listening:!0,addRoute:y,removeRoute:v,hasRoute:T,getRoutes:w,resolve:_,options:e,push:C,replace:S,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:H.add,isReady:X,install(A){const V=this;A.component("RouterLink",M_),A.component("RouterView",B_),A.config.globalProperties.$router=V,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Fr&&!G&&l.value===$n&&(G=!0,C(s.location).catch(Z=>{}));const q={};for(const Z in $n)q[Z]=ye(()=>l.value[Z]);A.provide(Do,V),A.provide(ru,Xe(q)),A.provide(Ha,l);const se=A.unmount;ge.add(A),A.unmount=function(){ge.delete(A),ge.size<1&&(u=$n,O&&O(),O=null,l.value=$n,G=!1,re=!1),se()}}};return Te}function $r(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function N_(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Qr(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Qr(u,l))||s.push(l))}return[n,r,s]}function K_(){return yt(Do)}function j_(){return yt(ru)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ae=function(){return Ae=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ae.apply(this,arguments)};function qa(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Ke=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,et=Object.keys,ht=Array.isArray;typeof Promise<"u"&&!Ke.Promise&&(Ke.Promise=Promise);function _t(e,t){return typeof t!="object"||et(t).forEach(function(n){e[n]=t[n]}),e}var Ks=Object.getPrototypeOf,V_={}.hasOwnProperty;function Lt(e,t){return V_.call(e,t)}function Zr(e,t){typeof t=="function"&&(t=t(Ks(e))),(typeof Reflect>"u"?et:Reflect.ownKeys)(t).forEach(function(n){Sn(e,n,t[n])})}var gh=Object.defineProperty;function Sn(e,t,n,r){gh(e,t,_t(n&&Lt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function rs(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Sn(e.prototype,"constructor",e),{extend:Zr.bind(null,e.prototype)}}}}var U_=Object.getOwnPropertyDescriptor;function su(e,t){var n=U_(e,t),r;return n||(r=Ks(e))&&su(r,t)}var H_=[].slice;function Bo(e,t,n){return H_.call(e,t,n)}function mh(e,t){return t(e)}function gs(e){if(!e)throw new Error("Assertion Failed")}function vh(e){Ke.setImmediate?setImmediate(e):setTimeout(e,0)}function yh(e,t){return e.reduce(function(n,r,s){var i=t(r,s);return i&&(n[i[0]]=i[1]),n},{})}function q_(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function Cn(e,t){if(Lt(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,s=t.length;r<s;++r){var i=Cn(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a===void 0?void 0:Cn(a,t.substr(o+1))}}function qt(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){gs(typeof n!="string"&&"length"in n);for(var r=0,s=t.length;r<s;++r)qt(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var o=t.substr(0,i),a=t.substr(i+1);if(a==="")n===void 0?ht(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];(!l||!Lt(e,o))&&(l=e[o]={}),qt(l,a,n)}}else n===void 0?ht(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function z_(e,t){typeof t=="string"?qt(e,t,void 0):"length"in t&&[].map.call(t,function(n){qt(e,n,void 0)})}function _h(e){var t={};for(var n in e)Lt(e,n)&&(t[n]=e[n]);return t}var W_=[].concat;function bh(e){return W_.apply([],e)}var wh="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(bh([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return Ke[e]}),G_=wh.map(function(e){return Ke[e]});yh(wh,function(e){return[e,!0]});var Kn=null;function ni(e){Kn=typeof WeakMap<"u"&&new WeakMap;var t=za(e);return Kn=null,t}function za(e){if(!e||typeof e!="object")return e;var t=Kn&&Kn.get(e);if(t)return t;if(ht(e)){t=[],Kn&&Kn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(za(e[n]))}else if(G_.indexOf(e.constructor)>=0)t=e;else{var s=Ks(e);t=s===Object.prototype?{}:Object.create(s),Kn&&Kn.set(e,t);for(var i in e)Lt(e,i)&&(t[i]=za(e[i]))}return t}var Y_={}.toString;function Wa(e){return Y_.call(e).slice(8,-1)}var Ga=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X_=typeof Ga=="symbol"?function(e){var t;return e!=null&&(t=e[Ga])&&t.apply(e)}:function(){return null},Nr={};function vn(e){var t,n,r,s;if(arguments.length===1){if(ht(e))return e.slice();if(this===Nr&&typeof e=="string")return[e];if(s=X_(e)){for(n=[];r=s.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var iu=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},un=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ch(e,t){un=e,Eh=t}var Eh=function(){return!0},Q_=!new Error("").stack;function Rr(){if(Q_)try{throw Rr.arguments,new Error}catch(e){return e}return new Error}function Ya(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Eh).map(function(r){return`
`+r}).join("")):""}var J_=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Sh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ou=J_.concat(Sh),Z_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ss(e,t){this._e=Rr(),this.name=e,this.message=t}rs(ss).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ya(this._e,2))}},toString:function(){return this.name+": "+this.message}});function kh(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,s){return s.indexOf(n)===r}).join(`
`)}function Zi(e,t,n,r){this._e=Rr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=kh(e,t)}rs(Zi).from(ss);function Ts(e,t){this._e=Rr(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=kh(e,t)}rs(Ts).from(ss);var au=ou.reduce(function(e,t){return e[t]=t+"Error",e},{}),eb=ss,Ce=ou.reduce(function(e,t){var n=t+"Error";function r(s,i){this._e=Rr(),this.name=n,s?typeof s=="string"?(this.message=""+s+(i?`
 `+i:""),this.inner=i||null):typeof s=="object"&&(this.message=s.name+" "+s.message,this.inner=s):(this.message=Z_[t]||n,this.inner=null)}return rs(r).from(eb),e[t]=r,e},{});Ce.Syntax=SyntaxError;Ce.Type=TypeError;Ce.Range=RangeError;var Mc=Sh.reduce(function(e,t){return e[t+"Error"]=Ce[t],e},{});function tb(e,t){if(!e||e instanceof ss||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Mc[e.name])return e;var n=new Mc[e.name](t||e.message,e);return"stack"in e&&Sn(n,"stack",{get:function(){return this.inner.stack}}),n}var Fo=ou.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Ce[t]),e},{});Fo.ModifyError=Zi;Fo.DexieError=ss;Fo.BulkError=Ts;function Fe(){}function ri(e){return e}function nb(e,t){return e==null||e===ri?t:function(n){return t(e(n))}}function xr(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function rb(e,t){return e===Fe?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?xr(r,this.onsuccess):r),s&&(this.onerror=this.onerror?xr(s,this.onerror):s),i!==void 0?i:n}}function sb(e,t){return e===Fe?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?xr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?xr(r,this.onerror):r)}}function ib(e,t){return e===Fe?t:function(n){var r=e.apply(this,arguments);_t(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?xr(s,this.onsuccess):s),i&&(this.onerror=this.onerror?xr(i,this.onerror):i),r===void 0?o===void 0?void 0:o:_t(r,o)}}function ob(e,t){return e===Fe?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function lu(e,t){return e===Fe?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}var js={},ab=100,lb=20,xh=100,uu=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Ks(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ks(t),e]}(),Xa=uu[0],eo=uu[1],Qa=uu[2],Th=eo&&eo.then,Fi=Xa&&Xa.constructor,cu=!!Qa,Ja=!1,ub=Qa?function(){Qa.then(ki)}:Ke.setImmediate?setImmediate.bind(null,ki):Ke.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){ki(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ki,0)},Vs=function(e,t){ms.push([e,t]),to&&(ub(),to=!1)},Za=!0,to=!0,vr=[],Ni=[],el=null,tl=ri,qr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Dc,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Dc(e[0],e[1])}catch{}})}},be=qr,ms=[],yr=0,Ki=[];function ce(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fe,this._lib=!1;var t=this._PSD=be;if(un&&(this._stackHolder=Rr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==js)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&rl(this,this._value);return}this._state=null,this._value=null,++t.ref,Ih(this,e)}var nl={get:function(){var e=be,t=no;function n(r,s){var i=this,o=!e.global&&(e!==be||t!==no),a=o&&!kn(),l=new ce(function(u,c){fu(i,new Oh(so(r,e,o,a),so(s,e,o,a),u,c,e))});return un&&Ph(l,this),l}return n.prototype=js,n},set:function(e){Sn(this,"then",e&&e.prototype===js?nl:{get:function(){return e},set:nl.set})}};Zr(ce.prototype,{then:nl,_then:function(e,t){fu(this,new Oh(null,null,e,t,be))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):ji(r)}):this.then(null,function(r){return r&&r.name===t?n(r):ji(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),ji(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Ja=!0;var e=Ah(this,[],lb),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Ja=!1}}},timeout:function(e,t){var n=this;return e<1/0?new ce(function(r,s){var i=setTimeout(function(){return s(new Ce.Timeout(t))},e);n.then(r,s).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Sn(ce.prototype,Symbol.toStringTag,"Dexie.Promise");qr.env=Mh();function Oh(e,t,n,r,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=s}Zr(ce,{all:function(){var e=vn.apply(null,arguments).map(ro);return new ce(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(s,i){return ce.resolve(s).then(function(o){e[i]=o,--r||t(e)},n)})})},resolve:function(e){if(e instanceof ce)return e;if(e&&typeof e.then=="function")return new ce(function(n,r){e.then(n,r)});var t=new ce(js,!0,e);return Ph(t,el),t},reject:ji,race:function(){var e=vn.apply(null,arguments).map(ro);return new ce(function(t,n){e.map(function(r){return ce.resolve(r).then(t,n)})})},PSD:{get:function(){return be},set:function(e){return be=e}},totalEchoes:{get:function(){return no}},newPSD:Zn,usePSD:os,scheduler:{get:function(){return Vs},set:function(e){Vs=e}},rejectionMapper:{get:function(){return tl},set:function(e){tl=e}},follow:function(e,t){return new ce(function(n,r){return Zn(function(s,i){var o=be;o.unhandleds=[],o.onunhandled=i,o.finalize=xr(function(){var a=this;fb(function(){a.unhandleds.length===0?s():i(a.unhandleds[0])})},o.finalize),e()},t,n,r)})}});Fi&&(Fi.allSettled&&Sn(ce,"allSettled",function(){var e=vn.apply(null,arguments).map(ro);return new ce(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(s,i){return ce.resolve(s).then(function(o){return r[i]={status:"fulfilled",value:o}},function(o){return r[i]={status:"rejected",reason:o}}).then(function(){return--n||t(r)})})})}),Fi.any&&typeof AggregateError<"u"&&Sn(ce,"any",function(){var e=vn.apply(null,arguments).map(ro);return new ce(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,s=new Array(r);e.forEach(function(i,o){return ce.resolve(i).then(function(a){return t(a)},function(a){s[o]=a,--r||n(new AggregateError(s))})})})}));function Ih(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&si();n&&typeof n.then=="function"?Ih(e,function(s,i){n instanceof ce?n._then(s,i):n.then(s,i)}):(e._state=!0,e._value=n,Rh(e)),r&&ii()}},rl.bind(null,e))}catch(n){rl(e,n)}}function rl(e,t){if(Ni.push(t),e._state===null){var n=e._lib&&si();t=tl(t),e._state=!1,e._value=t,un&&t!==null&&typeof t=="object"&&!t._promise&&q_(function(){var r=su(t,"stack");t._promise=e,Sn(t,"stack",{get:function(){return Ja?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),db(e),Rh(e),n&&ii()}}function Rh(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)fu(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),yr===0&&(++yr,Vs(function(){--yr===0&&du()},[]))}function fu(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yr,Vs(cb,[n,e,t])}function cb(e,t,n){try{el=t;var r,s=t._value;t._state?r=e(s):(Ni.length&&(Ni=[]),r=e(s),Ni.indexOf(s)===-1&&hb(t)),n.resolve(r)}catch(i){n.reject(i)}finally{el=null,--yr===0&&du(),--n.psd.ref||n.psd.finalize()}}function Ah(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var s=e._value,i,o;s!=null?(i=s.name||"Error",o=s.message||s,r=Ya(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return un&&(r=Ya(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&Ah(e._prev,t,n)),t}function Ph(e,t){var n=t?t._numPrev+1:0;n<ab&&(e._prev=t,e._numPrev=n)}function ki(){si()&&ii()}function si(){var e=Za;return Za=!1,to=!1,e}function ii(){var e,t,n;do for(;ms.length>0;)for(e=ms,ms=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(ms.length>0);Za=!0,to=!0}function du(){var e=vr;vr=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=Ki.slice(0),n=t.length;n;)t[--n]()}function fb(e){function t(){e(),Ki.splice(Ki.indexOf(t),1)}Ki.push(t),++yr,Vs(function(){--yr===0&&du()},[])}function db(e){vr.some(function(t){return t._value===e._value})||vr.push(e)}function hb(e){for(var t=vr.length;t;)if(vr[--t]._value===e._value){vr.splice(t,1);return}}function ji(e){return new ce(js,!1,e)}function Ve(e,t){var n=be;return function(){var r=si(),s=be;try{return er(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{er(s,!1),r&&ii()}}}var dt={awaits:0,echoes:0,id:0},pb=0,Vi=[],ua=0,no=0,gb=0;function Zn(e,t,n,r){var s=be,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++gb;var o=qr.env;i.env=cu?{Promise:ce,PromiseProp:{value:ce,configurable:!0,writable:!0},all:ce.all,race:ce.race,allSettled:ce.allSettled,any:ce.any,resolve:ce.resolve,reject:ce.reject,nthen:$c(o.nthen,i),gthen:$c(o.gthen,i)}:{},t&&_t(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=os(i,e,n,r);return i.ref===0&&i.finalize(),a}function is(){return dt.id||(dt.id=++pb),++dt.awaits,dt.echoes+=xh,dt.id}function kn(){return dt.awaits?(--dt.awaits===0&&(dt.id=0),dt.echoes=dt.awaits*xh,!0):!1}(""+Th).indexOf("[native code]")===-1&&(is=kn=Fe);function ro(e){return dt.echoes&&e&&e.constructor===Fi?(is(),e.then(function(t){return kn(),t},function(t){return kn(),st(t)})):e}function mb(e){++no,(!dt.echoes||--dt.echoes===0)&&(dt.echoes=dt.id=0),Vi.push(be),er(e,!0)}function vb(){var e=Vi[Vi.length-1];Vi.pop(),er(e,!1)}function er(e,t){var n=be;if((t?dt.echoes&&(!ua++||e!==be):ua&&(!--ua||e!==be))&&$h(t?mb.bind(null,e):vb),e!==be&&(be=e,n===qr&&(qr.env=Mh()),cu)){var r=qr.env.Promise,s=e.env;eo.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(Ke,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Mh(){var e=Ke.Promise;return cu?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ke,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:eo.then,gthen:e.prototype.then}:{}}function os(e,t,n,r,s){var i=be;try{return er(e,!0),t(n,r,s)}finally{er(i,!1)}}function $h(e){Th.call(Xa,e)}function so(e,t,n,r){return typeof e!="function"?e:function(){var s=be;n&&is(),er(t,!0);try{return e.apply(this,arguments)}finally{er(s,!1),r&&$h(kn)}}}function $c(e,t){return function(n,r){return e.call(this,so(n,t),so(r,t))}}var Lc="unhandledrejection";function Dc(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,s={promise:t,reason:e};if(Ke.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Lc,!0,!0),_t(r,s)):Ke.CustomEvent&&(r=new CustomEvent(Lc,{detail:s}),_t(r,s)),r&&Ke.dispatchEvent&&(dispatchEvent(r),!Ke.PromiseRejectionEvent&&Ke.onunhandledrejection))try{Ke.onunhandledrejection(r)}catch{}un&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var st=ce.reject;function sl(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!be.letThrough&&!e._vip){if(e._state.openComplete)return st(new Ce.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return st(new Ce.DatabaseClosed);e.open().catch(Fe)}return e._state.dbReadyPromise.then(function(){return sl(e,t,n,r)})}else{var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===au.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return sl(e,t,n,r)})):st(i)}return s._promise(t,function(i,o){return Zn(function(){return be.trans=s,r(i,o,s)})}).then(function(i){return s._completion.then(function(){return i})})}}var Bc="3.2.3",hr=String.fromCharCode(65535),il=-1/0,dn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lh="String expected.",Os=[],No=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),yb=No,_b=No,Dh=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Ko="__dbnames",ca="readonly",fa="readwrite";function Tr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Bh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xi(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=ni(t),delete t[e]),t}:function(t){return t}}var bb=function(){function e(){}return e.prototype._trans=function(t,n,r){var s=this._tx||be.trans,i=this.name;function o(l,u,c){if(!c.schema[i])throw new Ce.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}var a=si();try{return s&&s.db===this.db?s===be.trans?s._promise(t,o,r):Zn(function(){return s._promise(t,o,r)},{trans:s,transless:be.transless||be}):sl(this.db,t,[this.name],o)}finally{a&&ii()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(s){return r.core.get({trans:s,key:t}).then(function(i){return r.hook.reading.fire(i)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ht(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=et(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(f){return c.keyPath.indexOf(f)>=0})&&c.keyPath.every(function(f){return n.indexOf(f)>=0})})[0];if(r&&this.db._maxKey!==hr)return this.where(r.name).equals(r.keyPath.map(function(c){return t[c]}));!r&&un&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var s=this.schema.idxByName,i=this.db._deps.indexedDB;function o(c,f){try{return i.cmp(c,f)===0}catch{return!1}}var a=n.reduce(function(c,f){var d=c[0],y=c[1],v=s[f],w=t[f];return[d||v,d||!v?Tr(y,v&&v.multi?function(T){var _=Cn(T,f);return ht(_)&&_.some(function(p){return o(w,p)})}:function(T){return o(w,Cn(T,f))}):y]},[null,null]),l=a[0],u=a[1];return l?this.where(l.name).equals(t[l.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,ht(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var s=Object.create(t.prototype);for(var i in r)if(Lt(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){_t(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,a=t;return o&&i&&(a=xi(o)(t)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[a]})}).then(function(l){return l.numFailures?ce.reject(l.failures[0]):l.lastResult}).then(function(l){if(o)try{qt(t,o,l)}catch{}return l})},e.prototype.update=function(t,n){if(typeof t=="object"&&!ht(t)){var r=Cn(t,this.schema.primKey.keyPath);if(r===void 0)return st(new Ce.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?et(n).forEach(function(s){qt(t,s,n[s])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,a=t;return o&&i&&(a=xi(o)(t)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[a],keys:n!=null?[n]:null})}).then(function(l){return l.numFailures?ce.reject(l.failures[0]):l.lastResult}).then(function(l){if(o)try{qt(t,o,l)}catch{}return l})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?ce.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:Bh})}).then(function(n){return n.numFailures?ce.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(s){return s.map(function(i){return n.hook.reading.fire(i)})})})},e.prototype.bulkAdd=function(t,n,r){var s=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=s.schema.primKey,u=l.auto,c=l.keyPath;if(c&&i)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,d=c&&u?t.map(xi(c)):t;return s.core.mutate({trans:a,type:"add",keys:i,values:d,wantResults:o}).then(function(y){var v=y.numFailures,w=y.results,T=y.lastResult,_=y.failures,p=o?w:T;if(v===0)return p;throw new Ts(s.name+".bulkAdd(): "+v+" of "+f+" operations failed",_)})})},e.prototype.bulkPut=function(t,n,r){var s=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=s.schema.primKey,u=l.auto,c=l.keyPath;if(c&&i)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,d=c&&u?t.map(xi(c)):t;return s.core.mutate({trans:a,type:"put",keys:i,values:d,wantResults:o}).then(function(y){var v=y.numFailures,w=y.results,T=y.lastResult,_=y.failures,p=o?w:T;if(v===0)return p;throw new Ts(s.name+".bulkPut(): "+v+" of "+f+" operations failed",_)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:t})}).then(function(s){var i=s.numFailures,o=s.lastResult,a=s.failures;if(i===0)return o;throw new Ts(n.name+".bulkDelete(): "+i+" of "+r+" operations failed",a)})},e}();function oi(e){var t={},n=function(a,l){if(l){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return t[a].subscribe.apply(null,c),e}else if(typeof a=="string")return t[a]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(a,l,u){if(typeof a=="object")return o(a);l||(l=ob),u||(u=Fe);var c={subscribers:[],fire:u,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=l(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(l,u)}};return t[a]=n[a]=c,c}function o(a){et(a).forEach(function(l){var u=a[l];if(ht(u))i(l,a[l][0],a[l][1]);else if(u==="asap")var c=i(l,ri,function(){for(var d=arguments.length,y=new Array(d);d--;)y[d]=arguments[d];c.subscribers.forEach(function(v){vh(function(){v.apply(null,y)})})});else throw new Ce.InvalidArgument("Invalid event config")})}}function ai(e,t){return rs(t).from({prototype:e}),t}function wb(e){return ai(bb.prototype,function(n,r,s){this.db=e,this._tx=s,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:oi(null,{creating:[rb,Fe],reading:[nb,ri],updating:[ib,Fe],deleting:[sb,Fe]})})}function Lr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function da(e,t){e.filter=Tr(e.filter,t)}function ha(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Tr(r(),t())}:t,e.justLimit=n&&!r}function Cb(e,t){e.isMatch=Tr(e.isMatch,t)}function Ui(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Ce.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Fc(e,t,n){var r=Ui(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Ti(e,t,n,r){var s=e.replayFilter?Tr(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},o=function(a,l,u){if(!s||s(l,u,function(d){return l.stop(d)},function(d){return l.fail(d)})){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),Lt(i,f)||(i[f]=!0,t(a,l,u))}};return Promise.all([e.or._iterate(o,n),Nc(Fc(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}else return Nc(Fc(e,r,n),Tr(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Nc(e,t,n,r){var s=r?function(o,a,l){return n(r(o),a,l)}:n,i=Ve(s);return e.then(function(o){if(o)return o.start(function(){var a=function(){return o.continue()};(!t||t(o,function(l){return a=l},function(l){o.stop(l),a=Fe},function(l){o.fail(l),a=Fe}))&&i(o.value,o,function(l){return a=l}),a()})})}function vt(e,t){try{var n=Kc(e),r=Kc(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Sb(jc(e),jc(t));case"Array":return Eb(e,t)}}catch{}return NaN}function Eb(e,t){for(var n=e.length,r=t.length,s=n<r?n:r,i=0;i<s;++i){var o=vt(e[i],t[i]);if(o!==0)return o}return n===r?0:n<r?-1:1}function Sb(e,t){for(var n=e.length,r=t.length,s=n<r?n:r,i=0;i<s;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}function Kc(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Wa(e);return n==="ArrayBuffer"?"binary":n}function jc(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var kb=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,st.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,st.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=Tr(n.algorithm,t)},e.prototype._iterate=function(t,n){return Ti(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&_t(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return Ti(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var s=n._ctx,i=s.table.core;if(Lr(s,!0))return i.count({trans:r,query:{index:Ui(s,i.schema),range:s.range}}).then(function(a){return Math.min(a,s.limit)});var o=0;return Ti(s,function(){return++o,!1},r,i).then(function(){return o})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),s=r[0],i=r.length-1;function o(u,c){return c?o(u[r[c]],c-1):u[s]}var a=this._ctx.dir==="next"?1:-1;function l(u,c){var f=o(u,i),d=o(c,i);return f<d?-a:f>d?a:0}return this.toArray(function(u){return u.sort(l)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var s=n._ctx;if(s.dir==="next"&&Lr(s,!0)&&s.limit>0){var i=s.valueMapper,o=Ui(s,s.table.core.schema);return s.table.core.query({trans:r,limit:s.limit,values:!0,query:{index:o,range:s.range}}).then(function(l){var u=l.result;return i?u.map(i):u})}else{var a=[];return Ti(s,function(l){return a.push(l)},r,s.table.core).then(function(){return a})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Lr(n)?ha(n,function(){var r=t;return function(s,i){return r===0?!0:r===1?(--r,!1):(i(function(){s.advance(r),r=0}),!1)}}):ha(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ha(this._ctx,function(){var n=t;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this},e.prototype.until=function(t,n){return da(this._ctx,function(r,s,i){return t(r.value)?(s(i),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return da(this._ctx,function(n){return t(n.value)}),Cb(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.key,s)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.primaryKey,s)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&Lr(n,!0)&&n.limit>0)return this._read(function(s){var i=Ui(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(function(s){var i=s.result;return i}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return da(this._ctx,function(s){var i=s.primaryKey.toString(),o=Lt(r,i);return r[i]=!0,!o}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(s){var i;if(typeof t=="function")i=t;else{var o=et(t),a=o.length;i=function(_){for(var p=!1,m=0;m<a;++m){var C=o[m],S=t[C];Cn(_,C)!==S&&(qt(_,C,S),p=!0)}return p}}var l=r.table.core,u=l.schema.primaryKey,c=u.outbound,f=u.extractKey,d=n.db._options.modifyChunkSize||200,y=[],v=0,w=[],T=function(_,p){var m=p.failures,C=p.numFailures;v+=_-C;for(var S=0,E=et(m);S<E.length;S++){var I=E[S];y.push(m[I])}};return n.clone().primaryKeys().then(function(_){var p=function(m){var C=Math.min(d,_.length-m);return l.getMany({trans:s,keys:_.slice(m,m+C),cache:"immutable"}).then(function(S){for(var E=[],I=[],h=c?[]:null,g=[],k=0;k<C;++k){var M=S[k],O={value:ni(M),primKey:_[m+k]};i.call(O,O.value,O)!==!1&&(O.value==null?g.push(_[m+k]):!c&&vt(f(M),f(O.value))!==0?(g.push(_[m+k]),E.push(O.value)):(I.push(O.value),c&&h.push(_[m+k])))}var L=Lr(r)&&r.limit===1/0&&(typeof t!="function"||t===pa)&&{index:r.index,range:r.range};return Promise.resolve(E.length>0&&l.mutate({trans:s,type:"add",values:E}).then(function(B){for(var H in B.failures)g.splice(parseInt(H),1);T(E.length,B)})).then(function(){return(I.length>0||L&&typeof t=="object")&&l.mutate({trans:s,type:"put",keys:h,values:I,criteria:L,changeSpec:typeof t!="function"&&t}).then(function(B){return T(I.length,B)})}).then(function(){return(g.length>0||L&&t===pa)&&l.mutate({trans:s,type:"delete",keys:g,criteria:L}).then(function(B){return T(g.length,B)})}).then(function(){return _.length>m+C&&p(m+d)})})};return p(0).then(function(){if(y.length>0)throw new Zi("Error modifying one or more objects",y,v,w);return _.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return Lr(t)&&(t.isPrimKey&&!_b||n.type===3)?this._write(function(r){var s=t.table.core.schema.primaryKey,i=n;return t.table.core.count({trans:r,query:{index:s,range:i}}).then(function(o){return t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(function(a){var l=a.failures;a.lastResult,a.results;var u=a.numFailures;if(u)throw new Zi("Could not delete some values",Object.keys(l).map(function(c){return l[c]}),o-u);return o-u})})}):this.modify(pa)},e}(),pa=function(e,t){return t.value=null};function xb(e){return ai(kb.prototype,function(n,r){this.db=e;var s=Bh,i=null;if(r)try{s=r()}catch(u){i=u}var o=n._ctx,a=o.table,l=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:l!==ri?l:null}})}function Tb(e,t){return e<t?-1:e===t?0:1}function Ob(e,t){return e>t?-1:e===t?0:1}function Tt(e,t,n){var r=e instanceof Nh?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Dr(e){return new e.Collection(e,function(){return Fh("")}).limit(0)}function Ib(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Rb(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Ab(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[l],u)<0&&(a=l)}return o<r.length&&i==="next"?e+n.substr(e.length):o<e.length&&i==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Oi(e,t,n,r){var s,i,o,a,l,u,c,f=n.length;if(!n.every(function(w){return typeof w=="string"}))return Tt(e,Lh);function d(w){s=Ib(w),i=Rb(w),o=w==="next"?Tb:Ob;var T=n.map(function(_){return{lower:i(_),upper:s(_)}}).sort(function(_,p){return o(_.lower,p.lower)});a=T.map(function(_){return _.upper}),l=T.map(function(_){return _.lower}),u=w,c=w==="next"?"":r}d("next");var y=new e.Collection(e,function(){return Dn(a[0],l[f-1]+r)});y._ondirectionchange=function(w){d(w)};var v=0;return y._addAlgorithm(function(w,T,_){var p=w.key;if(typeof p!="string")return!1;var m=i(p);if(t(m,l,v))return!0;for(var C=null,S=v;S<f;++S){var E=Ab(p,m,a[S],l[S],o,u);E===null&&C===null?v=S+1:(C===null||o(C,E)>0)&&(C=E)}return T(C!==null?function(){w.continue(C+c)}:_),!1}),y}function Dn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Fh(e){return{type:1,lower:e,upper:e}}var Nh=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||s)&&!(r&&s)?Dr(this):new this.Collection(this,function(){return Dn(t,n,!r,!s)})}catch{return Tt(this,dn)}},e.prototype.equals=function(t){return t==null?Tt(this,dn):new this.Collection(this,function(){return Fh(t)})},e.prototype.above=function(t){return t==null?Tt(this,dn):new this.Collection(this,function(){return Dn(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?Tt(this,dn):new this.Collection(this,function(){return Dn(t,void 0,!1)})},e.prototype.below=function(t){return t==null?Tt(this,dn):new this.Collection(this,function(){return Dn(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?Tt(this,dn):new this.Collection(this,function(){return Dn(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?Tt(this,Lh):this.between(t,t+hr,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Oi(this,function(n,r){return n.indexOf(r[0])===0},[t],hr)},e.prototype.equalsIgnoreCase=function(t){return Oi(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=vn.apply(Nr,arguments);return t.length===0?Dr(this):Oi(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=vn.apply(Nr,arguments);return t.length===0?Dr(this):Oi(this,function(n,r){return r.some(function(s){return n.indexOf(s)===0})},t,hr)},e.prototype.anyOf=function(){var t=this,n=vn.apply(Nr,arguments),r=this._cmp;try{n.sort(r)}catch{return Tt(this,dn)}if(n.length===0)return Dr(this);var s=new this.Collection(this,function(){return Dn(n[0],n[n.length-1])});s._ondirectionchange=function(o){r=o==="next"?t._ascending:t._descending,n.sort(r)};var i=0;return s._addAlgorithm(function(o,a,l){for(var u=o.key;r(u,n[i])>0;)if(++i,i===n.length)return a(l),!1;return r(u,n[i])===0?!0:(a(function(){o.continue(n[i])}),!1)}),s},e.prototype.notEqual=function(t){return this.inAnyRange([[il,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=vn.apply(Nr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Tt(this,dn)}var n=t.reduce(function(r,s){return r?r.concat([[r[r.length-1][1],s]]):[[il,s]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,s=this._cmp,i=this._ascending,o=this._descending,a=this._min,l=this._max;if(t.length===0)return Dr(this);if(!t.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&i(S[0],S[1])<=0}))return Tt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);var u=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function f(S,E){for(var I=0,h=S.length;I<h;++I){var g=S[I];if(s(E[0],g[1])<0&&s(E[1],g[0])>0){g[0]=a(g[0],E[0]),g[1]=l(g[1],E[1]);break}}return I===h&&S.push(E),S}var d=i;function y(S,E){return d(S[0],E[0])}var v;try{v=t.reduce(f,[]),v.sort(y)}catch{return Tt(this,dn)}var w=0,T=c?function(S){return i(S,v[w][1])>0}:function(S){return i(S,v[w][1])>=0},_=u?function(S){return o(S,v[w][0])>0}:function(S){return o(S,v[w][0])>=0};function p(S){return!T(S)&&!_(S)}var m=T,C=new this.Collection(this,function(){return Dn(v[0][0],v[v.length-1][1],!u,!c)});return C._ondirectionchange=function(S){S==="next"?(m=T,d=i):(m=_,d=o),v.sort(y)},C._addAlgorithm(function(S,E,I){for(var h=S.key;m(h);)if(++w,w===v.length)return E(I),!1;return p(h)?!0:(r._cmp(h,v[w][1])===0||r._cmp(h,v[w][0])===0||E(function(){d===i?S.continue(v[w][0]):S.continue(v[w][1])}),!1)}),C},e.prototype.startsWithAnyOf=function(){var t=vn.apply(Nr,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Dr(this):this.inAnyRange(t.map(function(n){return[n,n+hr]})):Tt(this,"startsWithAnyOf() only works with strings")},e}();function Pb(e){return ai(Nh.prototype,function(n,r,s){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:s};var i=e._deps.indexedDB;if(!i)throw new Ce.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(o,a){return i.cmp(a,o)},this._max=function(o,a){return i.cmp(o,a)>0?o:a},this._min=function(o,a){return i.cmp(o,a)<0?o:a},this._IDBKeyRange=e._deps.IDBKeyRange})}function Jt(e){return Ve(function(t){return Us(t),e(t.target.error),!1})}function Us(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Hs="storagemutated",Vn="x-storagemutated-1",tr=oi(null,Hs),Mb=function(){function e(){}return e.prototype._lock=function(){return gs(!be.global),++this._reculock,this._reculock===1&&!be.global&&(be.lockOwnerFor=this),this},e.prototype._unlock=function(){if(gs(!be.global),--this._reculock===0)for(be.global||(be.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{os(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,s=this.db._state.dbOpenError;if(gs(!this.idbtrans),!t&&!r)switch(s&&s.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(s);case"MissingAPIError":throw new Ce.MissingAPI(s.message,s);default:throw new Ce.OpenFailed(s)}if(!this.active)throw new Ce.TransactionInactive;return gs(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=Ve(function(i){Us(i),n._reject(t.error)}),t.onabort=Ve(function(i){Us(i),n.active&&n._reject(new Ce.Abort(t.error)),n.active=!1,n.on("abort").fire(i)}),t.oncomplete=Ve(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&tr.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var s=this;if(t==="readwrite"&&this.mode!=="readwrite")return st(new Ce.ReadOnly("Transaction is readonly"));if(!this.active)return st(new Ce.TransactionInactive);if(this._locked())return new ce(function(o,a){s._blockedFuncs.push([function(){s._promise(t,n,r).then(o,a)},be])});if(r)return Zn(function(){var o=new ce(function(a,l){s._lock();var u=n(a,l,s);u&&u.then&&u.then(a,l)});return o.finally(function(){return s._unlock()}),o._lib=!0,o});var i=new ce(function(o,a){var l=n(o,a,s);l&&l.then&&l.then(o,a)});return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=ce.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new ce(function(o,a){r.then(function(l){return n._waitingQueue.push(Ve(o.bind(null,l)))},function(l){return n._waitingQueue.push(Ve(a.bind(null,l)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(Lt(n,t))return n[t];var r=this.schema[t];if(!r)throw new Ce.NotFound("Table "+t+" not part of transaction");var s=new this.db.Table(t,r,this);return s.core=this.db.core.table(t),n[t]=s,s},e}();function $b(e){return ai(Mb.prototype,function(n,r,s,i,o){var a=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=s,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=oi(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ce(function(l,u){a._resolve=l,a._reject=u}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(l){var u=a.active;return a.active=!1,a.on.error.fire(l),a.parent?a.parent._reject(l):u&&a.idbtrans&&a.idbtrans.abort(),st(l)})})}function ol(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+Kh(t)}}function Kh(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function jh(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:yh(n,function(r){return[r.name,r]})}}function Lb(e){return e.length===1?e[0]:e}var qs=function(e){try{return e.only([[]]),qs=function(){return[[]]},[[]]}catch{return qs=function(){return hr},hr}};function al(e){return e==null?function(){}:typeof e=="string"?Db(e):function(t){return Cn(t,e)}}function Db(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return Cn(n,e)}}function Vc(e){return[].slice.call(e)}var Bb=0;function Is(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function Fb(e,t,n){function r(f,d){var y=Vc(f.objectStoreNames);return{schema:{name:f.name,tables:y.map(function(v){return d.objectStore(v)}).map(function(v){var w=v.keyPath,T=v.autoIncrement,_=ht(w),p=w==null,m={},C={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:_,keyPath:w,autoIncrement:T,unique:!0,extractKey:al(w)},indexes:Vc(v.indexNames).map(function(S){return v.index(S)}).map(function(S){var E=S.name,I=S.unique,h=S.multiEntry,g=S.keyPath,k=ht(g),M={name:E,compound:k,keyPath:g,unique:I,multiEntry:h,extractKey:al(g)};return m[Is(g)]=M,M}),getIndexByKeyPath:function(S){return m[Is(S)]}};return m[":id"]=C.primaryKey,w!=null&&(m[Is(w)]=C.primaryKey),C})},hasGetAll:y.length>0&&"getAll"in d.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(f){if(f.type===3)return null;if(f.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var d=f.lower,y=f.upper,v=f.lowerOpen,w=f.upperOpen,T=d===void 0?y===void 0?null:t.upperBound(y,!!w):y===void 0?t.lowerBound(d,!!v):t.bound(d,y,!!v,!!w);return T}function i(f){var d=f.name;function y(T){var _=T.trans,p=T.type,m=T.keys,C=T.values,S=T.range;return new Promise(function(E,I){E=Ve(E);var h=_.objectStore(d),g=h.keyPath==null,k=p==="put"||p==="add";if(!k&&p!=="delete"&&p!=="deleteRange")throw new Error("Invalid operation type: "+p);var M=(m||C||{length:1}).length;if(m&&C&&m.length!==C.length)throw new Error("Given keys array must have same length as given values array.");if(M===0)return E({numFailures:0,failures:{},results:[],lastResult:void 0});var O,L=[],B=[],H=0,re=function(G){++H,Us(G)};if(p==="deleteRange"){if(S.type===4)return E({numFailures:H,failures:B,results:[],lastResult:void 0});S.type===3?L.push(O=h.clear()):L.push(O=h.delete(s(S)))}else{var z=k?g?[C,m]:[C,null]:[m,null],X=z[0],ee=z[1];if(k)for(var me=0;me<M;++me)L.push(O=ee&&ee[me]!==void 0?h[p](X[me],ee[me]):h[p](X[me])),O.onerror=re;else for(var me=0;me<M;++me)L.push(O=h[p](X[me])),O.onerror=re}var oe=function(G){var ge=G.target.result;L.forEach(function(Te,A){return Te.error!=null&&(B[A]=Te.error)}),E({numFailures:H,failures:B,results:p==="delete"?m:L.map(function(Te){return Te.result}),lastResult:ge})};O.onerror=function(G){re(G),oe(G)},O.onsuccess=oe})}function v(T){var _=T.trans,p=T.values,m=T.query,C=T.reverse,S=T.unique;return new Promise(function(E,I){E=Ve(E);var h=m.index,g=m.range,k=_.objectStore(d),M=h.isPrimaryKey?k:k.index(h.name),O=C?S?"prevunique":"prev":S?"nextunique":"next",L=p||!("openKeyCursor"in M)?M.openCursor(s(g),O):M.openKeyCursor(s(g),O);L.onerror=Jt(I),L.onsuccess=Ve(function(B){var H=L.result;if(!H){E(null);return}H.___id=++Bb,H.done=!1;var re=H.continue.bind(H),z=H.continuePrimaryKey;z&&(z=z.bind(H));var X=H.advance.bind(H),ee=function(){throw new Error("Cursor not started")},me=function(){throw new Error("Cursor not stopped")};H.trans=_,H.stop=H.continue=H.continuePrimaryKey=H.advance=ee,H.fail=Ve(I),H.next=function(){var oe=this,G=1;return this.start(function(){return G--?oe.continue():oe.stop()}).then(function(){return oe})},H.start=function(oe){var G=new Promise(function(Te,A){Te=Ve(Te),L.onerror=Jt(A),H.fail=A,H.stop=function(V){H.stop=H.continue=H.continuePrimaryKey=H.advance=me,Te(V)}}),ge=function(){if(L.result)try{oe()}catch(Te){H.fail(Te)}else H.done=!0,H.start=function(){throw new Error("Cursor behind last entry")},H.stop()};return L.onsuccess=Ve(function(Te){L.onsuccess=ge,ge()}),H.continue=re,H.continuePrimaryKey=z,H.advance=X,ge(),G},E(H)},I)})}function w(T){return function(_){return new Promise(function(p,m){p=Ve(p);var C=_.trans,S=_.values,E=_.limit,I=_.query,h=E===1/0?void 0:E,g=I.index,k=I.range,M=C.objectStore(d),O=g.isPrimaryKey?M:M.index(g.name),L=s(k);if(E===0)return p({result:[]});if(T){var B=S?O.getAll(L,h):O.getAllKeys(L,h);B.onsuccess=function(X){return p({result:X.target.result})},B.onerror=Jt(m)}else{var H=0,re=S||!("openKeyCursor"in O)?O.openCursor(L):O.openKeyCursor(L),z=[];re.onsuccess=function(X){var ee=re.result;if(!ee)return p({result:z});if(z.push(S?ee.value:ee.primaryKey),++H===E)return p({result:z});ee.continue()},re.onerror=Jt(m)}})}}return{name:d,schema:f,mutate:y,getMany:function(T){var _=T.trans,p=T.keys;return new Promise(function(m,C){m=Ve(m);for(var S=_.objectStore(d),E=p.length,I=new Array(E),h=0,g=0,k,M=function(H){var re=H.target;(I[re._pos]=re.result)!=null,++g===h&&m(I)},O=Jt(C),L=0;L<E;++L){var B=p[L];B!=null&&(k=S.get(p[L]),k._pos=L,k.onsuccess=M,k.onerror=O,++h)}h===0&&m(I)})},get:function(T){var _=T.trans,p=T.key;return new Promise(function(m,C){m=Ve(m);var S=_.objectStore(d),E=S.get(p);E.onsuccess=function(I){return m(I.target.result)},E.onerror=Jt(C)})},query:w(l),openCursor:v,count:function(T){var _=T.query,p=T.trans,m=_.index,C=_.range;return new Promise(function(S,E){var I=p.objectStore(d),h=m.isPrimaryKey?I:I.index(m.name),g=s(C),k=g?h.count(g):h.count();k.onsuccess=Ve(function(M){return S(M.target.result)}),k.onerror=Jt(E)})}}}var o=r(e,n),a=o.schema,l=o.hasGetAll,u=a.tables.map(function(f){return i(f)}),c={};return u.forEach(function(f){return c[f.name]=f}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(f){var d=c[f];if(!d)throw new Error("Table '"+f+"' not found");return c[f]},MIN_KEY:-1/0,MAX_KEY:qs(t),schema:a}}function Nb(e,t){return t.reduce(function(n,r){var s=r.create;return Ae(Ae({},n),s(n))},e)}function Kb(e,t,n,r){var s=n.IDBKeyRange;n.indexedDB;var i=Nb(Fb(t,s,r),e.dbcore);return{dbcore:i}}function hu(e,t){var n=e._novip,r=t.db,s=Kb(n._middlewares,r,n._deps,t);n.core=s.dbcore,n.tables.forEach(function(i){var o=i.name;n.core.schema.tables.some(function(a){return a.name===o})&&(i.core=n.core.table(o),n[o]instanceof n.Table&&(n[o].core=i.core))})}function io(e,t,n,r){var s=e._novip;n.forEach(function(i){var o=r[i];t.forEach(function(a){var l=su(a,i);(!l||"value"in l&&l.value===void 0)&&(a===s.Transaction.prototype||a instanceof s.Transaction?Sn(a,i,{get:function(){return this.table(i)},set:function(u){gh(this,i,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new s.Table(i,o))})})}function ll(e,t){var n=e._novip;t.forEach(function(r){for(var s in r)r[s]instanceof n.Table&&delete r[s]})}function jb(e,t){return e._cfg.version-t._cfg.version}function Vb(e,t,n,r){var s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(n),i._completion.catch(r);var o=i._reject.bind(i),a=be.transless||be;Zn(function(){be.trans=i,be.transless=a,t===0?(et(s).forEach(function(l){pu(n,l,s[l].primKey,s[l].indexes)}),hu(e,n),ce.follow(function(){return e.on.populate.fire(i)}).catch(o)):Ub(e,t,i,n).catch(o)})}function Ub(e,t,n,r){var s=e._novip,i=[],o=s._versions,a=s._dbSchema=gu(s,s.idbdb,r),l=!1,u=o.filter(function(f){return f._cfg.version>=t});u.forEach(function(f){i.push(function(){var d=a,y=f._cfg.dbschema;cl(s,d,r),cl(s,y,r),a=s._dbSchema=y;var v=Vh(d,y);v.add.forEach(function(C){pu(r,C[0],C[1].primKey,C[1].indexes)}),v.change.forEach(function(C){if(C.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");var S=r.objectStore(C.name);C.add.forEach(function(E){return ul(S,E)}),C.change.forEach(function(E){S.deleteIndex(E.name),ul(S,E)}),C.del.forEach(function(E){return S.deleteIndex(E)})});var w=f._cfg.contentUpgrade;if(w&&f._cfg.version>t){hu(s,r),n._memoizedTables={},l=!0;var T=_h(y);v.del.forEach(function(C){T[C]=d[C]}),ll(s,[s.Transaction.prototype]),io(s,[s.Transaction.prototype],et(T),T),n.schema=T;var _=iu(w);_&&is();var p,m=ce.follow(function(){if(p=w(n),p&&_){var C=kn.bind(null,null);p.then(C,C)}});return p&&typeof p.then=="function"?ce.resolve(p):m.then(function(){return p})}}),i.push(function(d){if(!l||!yb){var y=f._cfg.dbschema;qb(y,d)}ll(s,[s.Transaction.prototype]),io(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),n.schema=s._dbSchema})});function c(){return i.length?ce.resolve(i.shift()(n.idbtrans)).then(c):ce.resolve()}return c().then(function(){Hb(a,r)})}function Vh(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var s=e[r],i=t[r];if(!s)n.add.push([r,i]);else{var o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!No)o.recreate=!0,n.change.push(o);else{var a=s.idxByName,l=i.idxByName,u=void 0;for(u in a)l[u]||o.del.push(u);for(u in l){var c=a[u],f=l[u];c?c.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function pu(e,t,n,r){var s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(i){return ul(s,i)}),s}function Hb(e,t){et(e).forEach(function(n){t.db.objectStoreNames.contains(n)||pu(t,n,e[n].primKey,e[n].indexes)})}function qb(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function ul(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function gu(e,t,n){var r={},s=Bo(t.objectStoreNames,0);return s.forEach(function(i){for(var o=n.objectStore(i),a=o.keyPath,l=ol(Kh(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),u=[],c=0;c<o.indexNames.length;++c){var f=o.index(o.indexNames[c]);a=f.keyPath;var d=ol(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);u.push(d)}r[i]=jh(i,l,u)}),r}function zb(e,t,n){var r=e._novip;r.verno=t.version/10;var s=r._dbSchema=gu(r,t,n);r._storeNames=Bo(t.objectStoreNames,0),io(r,[r._allTables],et(s),s)}function Wb(e,t){var n=gu(e,e.idbdb,t),r=Vh(n,e._dbSchema);return!(r.add.length||r.change.some(function(s){return s.add.length||s.change.length}))}function cl(e,t,n){for(var r=e._novip,s=n.db.objectStoreNames,i=0;i<s.length;++i){var o=s[i],a=n.objectStore(o);r._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var u=a.indexNames[l],c=a.index(u).keyPath,f=typeof c=="string"?c:"["+Bo(c).join("+")+"]";if(t[o]){var d=t[o].idxByName[f];d&&(d.name=u,delete t[o].idxByName[f],t[o].idxByName[u]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ke.WorkerGlobalScope&&Ke instanceof Ke.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Gb(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ol(r,s||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ht(s),n===0)})}var Yb=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){et(t).forEach(function(r){if(t[r]!==null){var s=Gb(t[r]),i=s.shift();if(i.multi)throw new Ce.Schema("Primary key cannot be multi-valued");s.forEach(function(o){if(o.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),n[r]=jh(r,i,s)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?_t(this._cfg.storesSource,t):t;var r=n._versions,s={},i={};return r.forEach(function(o){_t(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),n._dbSchema=i,ll(n,[n._allTables,n,n.Transaction.prototype]),io(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],et(i),i),n._storeNames=et(i),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=lu(this._cfg.contentUpgrade||Fe,t),this},e}();function Xb(e){return ai(Yb.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function mu(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new bu(Ko,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function vu(e){return e&&typeof e.databases=="function"}function Qb(e){var t=e.indexedDB,n=e.IDBKeyRange;return vu(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(s){return s.name}).filter(function(s){return s!==Ko})}):mu(t,n).toCollection().primaryKeys()}function Jb(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!vu(n)&&t!==Ko&&mu(n,r).put({name:t}).catch(Fe)}function Zb(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!vu(n)&&t!==Ko&&mu(n,r).delete(t).catch(Fe)}function fl(e){return Zn(function(){return be.letThrough=!0,e()})}function e0(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function t0(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?st(t.dbOpenError):e});un&&(t.openCanceller._stackHolder=Rr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Ce.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,o=null,a=!1;return ce.race([r,(typeof navigator>"u"?ce.resolve():e0()).then(function(){return new ce(function(l,u){if(s(),!n)throw new Ce.MissingAPI;var c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(e.verno*10));if(!f)throw new Ce.MissingAPI;f.onerror=Jt(u),f.onblocked=Ve(e._fireOnBlocked),f.onupgradeneeded=Ve(function(d){if(o=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=Us,o.abort(),f.result.close();var y=n.deleteDatabase(c);y.onsuccess=y.onerror=Ve(function(){u(new Ce.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{o.onerror=Jt(u);var v=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=v<1,e._novip.idbdb=f.result,Vb(e,v/10,o,u)}},u),f.onsuccess=Ve(function(){o=null;var d=e._novip.idbdb=f.result,y=Bo(d.objectStoreNames);if(y.length>0)try{var v=d.transaction(Lb(y),"readonly");t.autoSchema?zb(e,d,v):(cl(e,e._dbSchema,v),Wb(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),hu(e,v)}catch{}Os.push(e),d.onversionchange=Ve(function(w){t.vcFired=!0,e.on("versionchange").fire(w)}),d.onclose=Ve(function(w){e.on("close").fire(w)}),a&&Jb(e._deps,c),l()},u)})})]).then(function(){return s(),t.onReadyBeingFired=[],ce.resolve(fl(function(){return e.on.ready.fire(e.vip)})).then(function l(){if(t.onReadyBeingFired.length>0){var u=t.onReadyBeingFired.reduce(lu,Fe);return t.onReadyBeingFired=[],ce.resolve(fl(function(){return u(e.vip)})).then(l)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(l){t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),st(l)}).finally(function(){t.openComplete=!0,i()})}function dl(e){var t=function(o){return e.next(o)},n=function(o){return e.throw(o)},r=i(t),s=i(n);function i(o){return function(a){var l=o(a),u=l.value;return l.done?u:!u||typeof u.then!="function"?ht(u)?Promise.all(u).then(r,s):r(u):u.then(r,s)}}return i(t)()}function n0(e,t,n){var r=arguments.length;if(r<2)throw new Ce.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=bh(s);return[e,i,n]}function Uh(e,t,n,r,s){return ce.resolve().then(function(){var i=be.transless||be,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===au.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Uh(e,t,n,null,s)})):st(f)}var l=iu(s);l&&is();var u,c=ce.follow(function(){if(u=s.call(o,o),u)if(l){var f=kn.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=dl(u))},a);return(u&&typeof u.then=="function"?ce.resolve(u).then(function(f){return o.active?f:st(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return u})).then(function(f){return r&&o._resolve(),o._completion.then(function(){return f})}).catch(function(f){return o._reject(f),st(f)})})}function Ii(e,t,n){for(var r=ht(e)?e.slice():[e],s=0;s<n;++s)r.push(t);return r}function r0(e){return Ae(Ae({},e),{table:function(t){var n=e.table(t),r=n.schema,s={},i=[];function o(w,T,_){var p=Is(w),m=s[p]=s[p]||[],C=w==null?0:typeof w=="string"?1:w.length,S=T>0,E=Ae(Ae({},_),{isVirtual:S,keyTail:T,keyLength:C,extractKey:al(w),unique:!S&&_.unique});if(m.push(E),E.isPrimaryKey||i.push(E),C>1){var I=C===2?w[0]:w.slice(0,C-1);o(I,T+1,_)}return m.sort(function(h,g){return h.keyTail-g.keyTail}),E}var a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(var l=0,u=r.indexes;l<u.length;l++){var c=u[l];o(c.keyPath,0,c)}function f(w){var T=s[Is(w)];return T&&T[0]}function d(w,T){return{type:w.type===1?2:w.type,lower:Ii(w.lower,w.lowerOpen?e.MAX_KEY:e.MIN_KEY,T),lowerOpen:!0,upper:Ii(w.upper,w.upperOpen?e.MIN_KEY:e.MAX_KEY,T),upperOpen:!0}}function y(w){var T=w.query.index;return T.isVirtual?Ae(Ae({},w),{query:{index:T,range:d(w.query.range,T.keyTail)}}):w}var v=Ae(Ae({},n),{schema:Ae(Ae({},r),{primaryKey:a,indexes:i,getIndexByKeyPath:f}),count:function(w){return n.count(y(w))},query:function(w){return n.query(y(w))},openCursor:function(w){var T=w.query.index,_=T.keyTail,p=T.isVirtual,m=T.keyLength;if(!p)return n.openCursor(w);function C(S){function E(h){h!=null?S.continue(Ii(h,w.reverse?e.MAX_KEY:e.MIN_KEY,_)):w.unique?S.continue(S.key.slice(0,m).concat(w.reverse?e.MIN_KEY:e.MAX_KEY,_)):S.continue()}var I=Object.create(S,{continue:{value:E},continuePrimaryKey:{value:function(h,g){S.continuePrimaryKey(Ii(h,e.MAX_KEY,_),g)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var h=S.key;return m===1?h[0]:h.slice(0,m)}},value:{get:function(){return S.value}}});return I}return n.openCursor(y(w)).then(function(S){return S&&C(S)})}});return v}})}var s0={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:r0};function yu(e,t,n,r){return n=n||{},r=r||"",et(e).forEach(function(s){if(!Lt(t,s))n[r+s]=void 0;else{var i=e[s],o=t[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){var a=Wa(i),l=Wa(o);a!==l?n[r+s]=t[s]:a==="Object"?yu(i,o,n,r+s+"."):i!==o&&(n[r+s]=t[s])}else i!==o&&(n[r+s]=t[s])}}),et(t).forEach(function(s){Lt(e,s)||(n[r+s]=t[s])}),n}function i0(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var o0={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Ae(Ae({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,s=Ae(Ae({},n),{mutate:function(i){var o=be.trans,a=o.table(t).hook,l=a.deleting,u=a.creating,c=a.updating;switch(i.type){case"add":if(u.fire===Fe)break;return o._promise("readwrite",function(){return f(i)},!0);case"put":if(u.fire===Fe&&c.fire===Fe)break;return o._promise("readwrite",function(){return f(i)},!0);case"delete":if(l.fire===Fe)break;return o._promise("readwrite",function(){return f(i)},!0);case"deleteRange":if(l.fire===Fe)break;return o._promise("readwrite",function(){return d(i)},!0)}return n.mutate(i);function f(v){var w=be.trans,T=v.keys||i0(r,v);if(!T)throw new Error("Keys missing");return v=v.type==="add"||v.type==="put"?Ae(Ae({},v),{keys:T}):Ae({},v),v.type!=="delete"&&(v.values=qa([],v.values,!0)),v.keys&&(v.keys=qa([],v.keys,!0)),a0(n,v,T).then(function(_){var p=T.map(function(m,C){var S=_[C],E={onerror:null,onsuccess:null};if(v.type==="delete")l.fire.call(E,m,S,w);else if(v.type==="add"||S===void 0){var I=u.fire.call(E,m,v.values[C],w);m==null&&I!=null&&(m=I,v.keys[C]=m,r.outbound||qt(v.values[C],r.keyPath,m))}else{var h=yu(S,v.values[C]),g=c.fire.call(E,h,m,S,w);if(g){var k=v.values[C];Object.keys(g).forEach(function(M){Lt(k,M)?k[M]=g[M]:qt(k,M,g[M])})}}return E});return n.mutate(v).then(function(m){for(var C=m.failures,S=m.results,E=m.numFailures,I=m.lastResult,h=0;h<T.length;++h){var g=S?S[h]:T[h],k=p[h];g==null?k.onerror&&k.onerror(C[h]):k.onsuccess&&k.onsuccess(v.type==="put"&&_[h]?v.values[h]:g)}return{failures:C,results:S,numFailures:E,lastResult:I}}).catch(function(m){return p.forEach(function(C){return C.onerror&&C.onerror(m)}),Promise.reject(m)})})}function d(v){return y(v.trans,v.range,1e4)}function y(v,w,T){return n.query({trans:v,values:!1,query:{index:r,range:w},limit:T}).then(function(_){var p=_.result;return f({type:"delete",keys:p,trans:v}).then(function(m){return m.numFailures>0?Promise.reject(m.failures[0]):p.length<T?{failures:[],numFailures:0,lastResult:void 0}:y(v,Ae(Ae({},w),{lower:p[p.length-1],lowerOpen:!0}),T)})})}}});return s}})}};function a0(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Hh(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],s=0,i=0;s<t.keys.length&&i<e.length;++s)vt(t.keys[s],e[i])===0&&(r.push(n?ni(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch{return null}}var l0={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return Ae(Ae({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var s=Hh(r.keys,r.trans._cache,r.cache==="clone");return s?ce.resolve(s):n.getMany(r).then(function(i){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?ni(i):i},i})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},ga;function _u(e){return!("from"in e)}var gn=function(e,t){if(this)_t(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new gn;return e&&"d"in e&&_t(n,e),n}};Zr(gn.prototype,(ga={add:function(e){return oo(this,e),this},addKey:function(e){return zs(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return zs(t,n,n)}),this}},ga[Ga]=function(){return hl(this)},ga));function zs(e,t,n){var r=vt(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(_u(e))return _t(e,{from:t,to:n,d:1});var s=e.l,i=e.r;if(vt(n,e.from)<0)return s?zs(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Uc(e);if(vt(t,e.to)>0)return i?zs(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Uc(e);vt(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),vt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;s&&!e.l&&oo(e,s),i&&o&&oo(e,i)}}function oo(e,t){function n(r,s){var i=s.from,o=s.to,a=s.l,l=s.r;zs(r,i,o),a&&n(r,a),l&&n(r,l)}_u(t)||n(e,t)}function u0(e,t){var n=hl(t),r=n.next();if(r.done)return!1;for(var s=r.value,i=hl(e),o=i.next(s.from),a=o.value;!r.done&&!o.done;){if(vt(a.from,s.to)<=0&&vt(a.to,s.from)>=0)return!0;vt(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function hl(e){var t=_u(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&vt(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||vt(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Uc(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){var i=s==="r"?"l":"r",o=Ae({},e),a=e[s];e.from=a.from,e.to=a.to,e[s]=a[s],o[s]=a[i],e[i]=o,o.d=Hc(o)}e.d=Hc(e)}function Hc(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var c0={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new gn(e.MIN_KEY,e.MAX_KEY);return Ae(Ae({},e),{table:function(r){var s=e.table(r),i=s.schema,o=i.primaryKey,a=o.extractKey,l=o.outbound,u=Ae(Ae({},s),{mutate:function(d){var y=d.trans,v=y.mutatedParts||(y.mutatedParts={}),w=function(I){var h="idb://"+t+"/"+r+"/"+I;return v[h]||(v[h]=new gn)},T=w(""),_=w(":dels"),p=d.type,m=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],C=m[0],S=m[1],E=d.trans._cache;return s.mutate(d).then(function(I){if(ht(C)){p!=="delete"&&(C=I.results),T.addKeys(C);var h=Hh(C,E);!h&&p!=="add"&&_.addKeys(C),(h||S)&&f0(w,i,h,S)}else if(C){var g={from:C.lower,to:C.upper};_.add(g),T.add(g)}else T.add(n),_.add(n),i.indexes.forEach(function(k){return w(k.name).add(n)});return I})}}),c=function(d){var y,v,w=d.query,T=w.index,_=w.range;return[T,new gn((y=_.lower)!==null&&y!==void 0?y:e.MIN_KEY,(v=_.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},f={get:function(d){return[o,new gn(d.key)]},getMany:function(d){return[o,new gn().addKeys(d.keys)]},count:c,query:c,openCursor:c};return et(f).forEach(function(d){u[d]=function(y){var v=be.subscr;if(v){var w=function(E){var I="idb://"+t+"/"+r+"/"+E;return v[I]||(v[I]=new gn)},T=w(""),_=w(":dels"),p=f[d](y),m=p[0],C=p[1];if(w(m.name||"").add(C),!m.isPrimaryKey)if(d==="count")_.add(n);else{var S=d==="query"&&l&&y.values&&s.query(Ae(Ae({},y),{values:!1}));return s[d].apply(this,arguments).then(function(E){if(d==="query"){if(l&&y.values)return S.then(function(k){var M=k.result;return T.addKeys(M),E});var I=y.values?E.result.map(a):E.result;y.values?T.addKeys(I):_.addKeys(I)}else if(d==="openCursor"){var h=E,g=y.values;return h&&Object.create(h,{key:{get:function(){return _.addKey(h.primaryKey),h.key}},primaryKey:{get:function(){var k=h.primaryKey;return _.addKey(k),k}},value:{get:function(){return g&&T.addKey(h.primaryKey),h.value}}})}return E})}}return s[d].apply(this,arguments)}}),u}})}};function f0(e,t,n,r){function s(i){var o=e(i.name||"");function a(u){return u!=null?i.extractKey(u):null}var l=function(u){return i.multiEntry&&ht(u)?u.forEach(function(c){return o.addKey(c)}):o.addKey(u)};(n||r).forEach(function(u,c){var f=n&&a(n[c]),d=r&&a(r[c]);vt(f,d)!==0&&(f!=null&&l(f),d!=null&&l(d))})}t.indexes.forEach(s)}var bu=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var s=e.dependencies;this._options=n=Ae({addons:e.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new ce(function(a){o.dbReadyResolve=a}),o.openCanceller=new ce(function(a,l){o.cancelOpen=l}),this._state=o,this.name=t,this.on=oi(this,"populate","blocked","versionchange","close",{ready:[lu,Fe]}),this.on.ready.subscribe=mh(this.on.ready.subscribe,function(a){return function(l,u){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||ce.resolve().then(l),u&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&a(l);else{a(l);var f=r;u||a(function d(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(d)})}})}}),this.Collection=xb(this),this.Table=wb(this),this.Transaction=$b(this),this.Version=Xb(this),this.WhereClause=Pb(this),this.on("versionchange",function(a){a.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+a.oldVersion/10)}),this._maxKey=qs(n.IDBKeyRange),this._createTransaction=function(a,l,u,c){return new r.Transaction(a,l,u,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(a){r.on("blocked").fire(a),Os.filter(function(l){return l.name===r.name&&l!==r&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(a)})},this.use(s0),this.use(o0),this.use(c0),this.use(l0),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(function(a){return a(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new Ce.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(s){return s._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(jb),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?t():new ce(function(r,s){if(n._state.openComplete)return s(new Ce.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){s(new Ce.DatabaseClosed);return}n.open().catch(Fe)}n._state.dbReadyPromise.then(r,s)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,s=t.level,i=t.name;i&&this.unuse({stack:n,name:i});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:s==null?10:s,name:i}),o.sort(function(a,l){return a.level-l.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,s=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(i){return s?i.create!==s:r?i.name!==r:!1})),this},e.prototype.open=function(){return t0(this)},e.prototype._close=function(){var t=this._state,n=Os.indexOf(this);if(n>=0&&Os.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ce(function(r){t.dbReadyResolve=r}),t.openCanceller=new ce(function(r,s){t.cancelOpen=s})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Ce.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new ce(function(s,i){var o=function(){t.close();var a=t._deps.indexedDB.deleteDatabase(t.name);a.onsuccess=Ve(function(){Zb(t._deps,t.name),s()}),a.onerror=Jt(i),a.onblocked=t._fireOnBlocked};if(n)throw new Ce.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return et(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=n0.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var s=this,i=be.trans;(!i||i.db!==this||t.indexOf("!")!==-1)&&(i=null);var o=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var a,l;try{if(l=n.map(function(c){var f=c instanceof s.Table?c.name:c;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),t=="r"||t===ca)a=ca;else if(t=="rw"||t==fa)a=fa;else throw new Ce.InvalidArgument("Invalid transaction mode: "+t);if(i){if(i.mode===ca&&a===fa)if(o)i=null;else throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&l.forEach(function(c){if(i&&i.storeNames.indexOf(c)===-1)if(o)i=null;else throw new Ce.SubTransaction("Table "+c+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(f,d){d(c)}):st(c)}var u=Uh.bind(null,this,a,l,i,r);return i?i._promise(a,u,"lock"):be.trans?os(be.transless,function(){return s._whenReady(u)}):this._whenReady(u)},e.prototype.table=function(t){if(!Lt(this._allTables,t))throw new Ce.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),d0=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",h0=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[d0]=function(){return this},e}();function qh(e,t){return et(t).forEach(function(n){var r=e[n]||(e[n]=new gn);oo(r,t[n])}),e}function p0(e){return new h0(function(t){var n=iu(e);function r(y){n&&is();var v=function(){return Zn(e,{subscr:y,trans:null})},w=be.trans?os(be.transless,v):v();return n&&w.then(kn,kn),w}var s=!1,i={},o={},a={get closed(){return s},unsubscribe:function(){s=!0,tr.storagemutated.unsubscribe(f)}};t.start&&t.start(a);var l=!1,u=!1;function c(){return et(o).some(function(y){return i[y]&&u0(i[y],o[y])})}var f=function(y){qh(i,y),c()&&d()},d=function(){if(!(l||s)){i={};var y={},v=r(y);u||(tr(Hs,f),u=!0),l=!0,Promise.resolve(v).then(function(w){l=!1,!s&&(c()?d():(i={},o=y,t.next&&t.next(w)))},function(w){l=!1,t.error&&t.error(w),a.unsubscribe()})}};return d(),a})}var pl;try{pl={indexedDB:Ke.indexedDB||Ke.mozIndexedDB||Ke.webkitIndexedDB||Ke.msIndexedDB,IDBKeyRange:Ke.IDBKeyRange||Ke.webkitIDBKeyRange}}catch{pl={indexedDB:null,IDBKeyRange:null}}var ur=bu;Zr(ur,Ae(Ae({},Fo),{delete:function(e){var t=new ur(e,{addons:[]});return t.delete()},exists:function(e){return new ur(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Qb(ur.dependencies).then(e)}catch{return st(new Ce.MissingAPI)}},defineClass:function(){function e(t){_t(this,t)}return e},ignoreTransaction:function(e){return be.trans?os(be.transless,e):e()},vip:fl,async:function(e){return function(){try{var t=dl(e.apply(this,arguments));return!t||typeof t.then!="function"?ce.resolve(t):t}catch(n){return st(n)}}},spawn:function(e,t,n){try{var r=dl(e.apply(n,t||[]));return!r||typeof r.then!="function"?ce.resolve(r):r}catch(s){return st(s)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(e,t){var n=ce.resolve(typeof e=="function"?ur.ignoreTransaction(e):e).timeout(t||6e4);return be.trans?be.trans.waitFor(n):n},Promise:ce,debug:{get:function(){return un},set:function(e){Ch(e,e==="dexie"?function(){return!0}:Dh)}},derive:rs,extend:_t,props:Zr,override:mh,Events:oi,on:tr,liveQuery:p0,extendObservabilitySet:qh,getByKeyPath:Cn,setByKeyPath:qt,delByKeyPath:z_,shallowClone:_h,deepClone:ni,getObjectDiff:yu,cmp:vt,asap:vh,minKey:il,addons:[],connections:Os,errnames:au,dependencies:pl,semVer:Bc,version:Bc.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));ur.maxKey=qs(ur.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tr(Hs,function(e){if(!yn){var t;No?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Vn,!0,!0,e)):t=new CustomEvent(Vn,{detail:e}),yn=!0,dispatchEvent(t),yn=!1}}),addEventListener(Vn,function(e){var t=e.detail;yn||ao(t)}));function ao(e){var t=yn;try{yn=!0,tr.storagemutated.fire(e)}finally{yn=t}}var yn=!1;if(typeof BroadcastChannel<"u"){var Ri=new BroadcastChannel(Vn);typeof Ri.unref=="function"&&Ri.unref(),tr(Hs,function(e){yn||Ri.postMessage(e)}),Ri.onmessage=function(e){e.data&&ao(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){tr(Hs,function(e){try{yn||(typeof localStorage<"u"&&localStorage.setItem(Vn,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&qa([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Vn,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===Vn){var t=JSON.parse(e.newValue);t&&ao(t.changedParts)}});var qc=self.document&&navigator.serviceWorker;qc&&qc.addEventListener("message",g0)}function g0(e){var t=e.data;t&&t.type===Vn&&ao(t.changedParts)}ce.rejectionMapper=tb;Ch(un,Dh);const Un=async(e,t,n=!1)=>{const r=new Request(t,{cache:n===!0?"reload":"default"});n===!0&&await e.delete(r);let s=await e.match(r);return s||(await e.add(r),s=await e.match(r)),await s.json()},lo=async(e="",t={})=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error(n.statusText);return await n.json()},m0=async(e="",t={})=>{await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};Object.freeze({__proto__:null});var jo={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid"};const mt=Xe({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:jo.defaultButtonConfig,callback:()=>{},error:null}),_r=Xe({apiLoaded:!1,apiLoadIntitited:!1}),v0=e=>{try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch{throw"JWT provided is invalid"}},zh=new Promise(e=>{const t=typeof window<"u";if(!_r.apiLoadIntitited&&t){const n=document.createElement("script");_r.apiLoadIntitited=!0,n.addEventListener("load",()=>{_r.apiLoaded=!0,e(window.google)}),n.src=jo.library,n.async=!0,n.defer=!0,document.head.appendChild(n)}}),Vo=e=>{_r.apiLoadIntitited?_r.apiLoaded?e(window.google):Ze(()=>_r.apiLoaded,t=>{t&&e(window.google)}):zh.then(t=>{e(t)})},y0=(e,t,n,r)=>{if(!e.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");Vo(()=>{((s,i,o,a,l)=>{if(l){const c=s.callback;s.callback=f=>{f.credential?c&&c(f):l(f)}}window.google.accounts.id.initialize(s);const u=i.value;u&&!a&&window.google.accounts.id.renderButton(u,o)})(e,t,n.buttonConfig,r,n.error),n.prompt&&w0({clientId:n.clientId,callback:n.callback,error:n.error,autoLogin:n.autoLogin})})},_0=e=>new Promise((t,n)=>{Vo(r=>{if(!(e&&e.clientId||mt.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");r.accounts.oauth2.initCodeClient({client_id:e&&e.clientId||mt.clientId||"",scope:jo.scopes,ux_mode:"popup",callback:s=>{s.code?t(s):n(s)}}).requestCode()})}),b0=e=>new Promise((t,n)=>{Vo(r=>{if(!(e&&e.clientId||mt.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");r.accounts.oauth2.initTokenClient({client_id:e&&e.clientId||mt.clientId||"",scope:jo.scopes,callback:s=>{s.access_token?t(s):n(s)}}).requestAccessToken()})}),w0=e=>{if(!e&&(e={}),!e.clientId&&!mt.clientId)throw new Error("clientId is required");const t={};return e.clientId&&(t.client_id=e.clientId),!e.clientId&&mt.clientId&&(t.client_id=mt.clientId),e.context&&(t.context=e.context),e.autoLogin!=null&&(t.auto_select=e.autoLogin),e.cancelOnTapOutside!=null&&(t.cancel_on_tap_outside=e.cancelOnTapOutside),new Promise((n,r)=>{t.callback=s=>{e&&e.callback&&e.callback(s),s.credential?n(s):r(s)},Vo(s=>{s.accounts.id.initialize(t),s.accounts.id.prompt(i=>{e&&e.onNotification&&e.onNotification(i),(o=>{const a=o.notification;let l="";a.isNotDisplayed()&&(l=a.getNotDisplayedReason()==="suppressed_by_user"?"Prompt was suppressed by user'. Refer https://developers.google.com/identity/gsi/web/guides/features#exponential_cooldown for more info":`Prompt was not displayed, reason for not displaying: ${a.getNotDisplayedReason()}`),a.isSkippedMoment()&&(l=`Prompt was skipped, reason for skipping: ${a.getSkippedReason()}`),l.length&&(o.error?o.error(l):o.reject(l))})({notification:i,reject:r,error:e&&e.error})})})})};var gl=Dt({name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1,default:"CODE"},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(e){const t=e,n=!!fd().default,r=((o,a)=>{const l={...o};for(const u in a)a[u]!==void 0&&a[u]!==null&&(l[u]=a[u]);return l})(mt,t),s={client_id:r.clientId||null,auto_select:r.autoLogin||!1,callback:r.callback,...r.idConfiguration},i=$e();return On(()=>{y0(s,i,r,n)}),(o,a)=>(N(),j("div",{class:de(["g-btn-wrapper",[!P(_r).apiLoaded&&"api-loading"]]),onClick:a[0]||(a[0]=l=>P(n)&&void(P(r).popupType==="TOKEN"?b0({clientId:r.clientId}).then(u=>{r.callback&&r.callback(u)}):_0({clientId:r.clientId}).then(u=>{r.callback&&r.callback(u)})))},[P(n)?te("v-if",!0):(N(),j("span",{key:0,ref_key:"buttonRef",ref:i,class:"g-btn"},null,512)),it(o.$slots,"default")],2))}});(function(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
.g-btn-wrapper.api-loading[data-v-5e610566] {
  opacity: 0.5;
  pointer-events: none;
}
`),gl.__scopeId="data-v-5e610566",gl.__file="src/plugin/GoogleLogin.vue";var C0={install:(e,t)=>{t&&(n=>{n.clientId&&(mt.clientId=n.clientId),n.popupType&&(mt.popupType=n.popupType),n.prompt!=null&&(mt.prompt=n.prompt),n.autoLogin!=null&&(mt.autoLogin=n.autoLogin),n.idConfiguration&&(mt.idConfiguration=n.idConfiguration),n.buttonConfig&&(mt.buttonConfig=n.buttonConfig),n.callback&&(mt.callback=n.callback)})(t),zh.then(()=>{if(t.clientId){const n={client_id:t.clientId,auto_select:t.autoLogin===!0,callback:t.callback,...t.idConfiguration};window.google.accounts.id.initialize(n),t.prompt&&window.google.accounts.id.prompt()}}),e.component("GoogleLogin",gl)}},zc={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},E0=function(){function e(){this.current_default_config=zc}return e.prototype.config=function(t){for(var n in this.current_default_config)this.current_default_config[n]=t[n]?t[n]:zc[n]},e.prototype.get=function(t){var n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(n&&n.substring(0,1)==="{"&&n.substring(n.length-1,n.length)==="}")try{n=JSON.parse(n)}catch{return n}return n},e.prototype.set=function(t,n,r,s,i,o,a){if(t){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(t))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+t)}else throw new Error("Cookie name is not found in the first argument.");n&&n.constructor===Object&&(n=JSON.stringify(n));var l="";if(r==null&&(r=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),r&&r!=0)switch(r.constructor){case Number:r===1/0||r===-1?l="; expires=Fri, 31 Dec 9999 23:59:59 GMT":l="; max-age="+r;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(r)){var u=r.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(r.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":l="; max-age="+ +u*2592e3;break;case"d":l="; max-age="+ +u*86400;break;case"h":l="; max-age="+ +u*3600;break;case"min":l="; max-age="+ +u*60;break;case"s":l="; max-age="+u;break;case"y":l="; max-age="+ +u*31104e3;break}}else l="; expires="+r;break;case Date:l="; expires="+r.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+l+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(s?"; path="+s:this.current_default_config.path?this.current_default_config.path:"; path=/")+(o==null?this.current_default_config.secure?"; Secure":"":o?"; Secure":"")+(a==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":a?"; SameSite="+a:""),this},e.prototype.remove=function(t,n,r){return!t||!this.isKey(t)?!1:(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:this.current_default_config.domain?this.current_default_config.domain:"")+(n?"; path="+n:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<t.length;n++)t[n]=decodeURIComponent(t[n]);return t},e}(),ma=null;function Wc(){ma==null&&(ma=new E0);var e=Xe(ma);return{cookies:e}}const S0="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",uo=In("user",{state:()=>({token:null,collections:new Map}),getters:{info(e){return v0(e.token)}},actions:{logout(){this.$reset()},async loadCookie(){const e=Wc(),t=e.cookies.get("token");if(t)try{await this.handleGoogleLogin(t),console.log("User restored from cookie")}catch{console.log("Failed to restore user token from cookie"),this.token=null,e.cookies.remove("token")}},async handleGoogleLogin(e){const t=await lo(S0+"/login",{token:e});this.token=e,Wc().cookies.set("token",e),this.collections=new Map;const r=$t();for(const s of t.data.collections)this.collections.set(s.name,s),r.collections.has(s.name)||r.collections.set(s.name,{lastSync:0,downloaded:!1})}}}),Ai="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Nt=new bu("mtg");Nt.version(4).stores({collections:"&name, syncCode"});const $t=In("collections",{state:()=>({collections:new Map,open:[]}),getters:{names(e){return[...e.collections.keys()].sort()},all(e){return[...e.collections.keys()].sort()},obj(e){let t=[];for(const[n,r]of e.collections.entries())r.name=n,t.push(r);return t}},actions:{async init(){Nt.collections.toCollection().each(e=>{var t,n;e.name!=="clipboard"&&this.collections.set(e.name,{lastSync:e.lastSync||0,downloaded:!0,image:((n=(t=e.cards[0])==null?void 0:t.image_uris)==null?void 0:n.art_crop)||"https://cards.scryfall.io/art_crop/front/7/e/7e78b70b-0c67-4f14-8ad7-c9f8e3f59743.jpg?1562614382",count:e.cards.length})})},async refreshPrices(){for(const t of this.open){let n=await Nt.collections.get({name:t});var e=[];for(const i of n.cards)e.push(i.id);const r=await lo(Ai+"/prices",{data:e});let s=[];for(const i of n.cards)i.prices=r.data[i.id],s.push(i);await this.save(t,s)}},async delete(e){const t=uo();t.collections.has(e)&&await m0(Ai+"/collection",{id:t.collections.get(e).id}),await Nt.collections.delete(e),this.collections.delete(e),this.open.splice(this.open.indexOf(e),1)},async save(e,t){let n=Date.now();return await Nt.collections.put({name:e,cards:t,lastSync:n}),this.collections.has(e)||this.collections.set(e,{downloaded:!0,lastSync:n}),this.all},async replaceCard(e,t,n){let s=(await Nt.collections.get({name:e})).cards.filter(i=>i.id!==t.id||i.finish!==t.finish);s.push(n),await Nt.collections.update(e,{cards:s})},async deleteCard(e,t){for(const n of e){const s=(await Nt.collections.get({name:n})).cards.filter(i=>i.id!==t.id||i.finish!==t.finish);await Nt.collections.update(n,{cards:s})}},async get(e){return await Nt.collections.get({name:e})},async load(e){if(this.open=e,!e)return;const t=uo();for(const n of e){const r=this.collections.get(n);r&&!r.downloaded&&await this.download(t.collections.get(n).id)}return await this.getCards(e)},async getCards(e){let t=new Map;for(const n of e){let r=await Nt.collections.get({name:n});if(r&&Object.keys(r.cards).length>0)for(const s of r.cards){if(!s)continue;const i=s.id+s.finish;if(t.has(i)){let o=t.get(i);o.count=parseInt(o.count)+parseInt(s.count),o.collections.push(r.name),t.set(i,o)}else s.collections=[r.name],t.set(i,s)}}return[...t.values()]},async upload(e,t){try{const n=await this.get(t);let r={name:n.name,userToken:e,cards:n.cards.map(i=>({id:i.id,count:i.count,tags:i.tags,finish:i.finish}))};return(await lo(Ai+"/collection",r)).data}catch(n){console.error(n)}},async download(e){try{const n=await(await fetch(Ai+"/collection?id="+e)).json();await this.save(n.data.name,n.data.cards),this.collections.get(n.data.name).downloaded=!0}catch(t){return console.error(t),!1}return!0}}});function xn(e){return Array.isArray?Array.isArray(e):Yh(e)==="[object Array]"}const k0=1/0;function x0(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-k0?"-0":t}function T0(e){return e==null?"":x0(e)}function en(e){return typeof e=="string"}function Wh(e){return typeof e=="number"}function O0(e){return e===!0||e===!1||I0(e)&&Yh(e)=="[object Boolean]"}function Gh(e){return typeof e=="object"}function I0(e){return Gh(e)&&e!==null}function Rt(e){return e!=null}function va(e){return!e.trim().length}function Yh(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const R0="Incorrect 'index' type",A0=e=>`Invalid value for key ${e}`,P0=e=>`Pattern length exceeds max of ${e}.`,M0=e=>`Missing ${e} property in key`,$0=e=>`Property 'weight' in key '${e}' must be a positive integer`,Gc=Object.prototype.hasOwnProperty;class L0{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=Xh(r);n+=s.weight,this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Xh(e){let t=null,n=null,r=null,s=1,i=null;if(en(e)||xn(e))r=e,t=Yc(e),n=ml(e);else{if(!Gc.call(e,"name"))throw new Error(M0("name"));const o=e.name;if(r=o,Gc.call(e,"weight")&&(s=e.weight,s<=0))throw new Error($0(o));t=Yc(o),n=ml(o),i=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:i}}function Yc(e){return xn(e)?e:e.split(".")}function ml(e){return xn(e)?e.join("."):e}function D0(e,t){let n=[],r=!1;const s=(i,o,a)=>{if(!!Rt(i))if(!o[a])n.push(i);else{let l=o[a];const u=i[l];if(!Rt(u))return;if(a===o.length-1&&(en(u)||Wh(u)||O0(u)))n.push(T0(u));else if(xn(u)){r=!0;for(let c=0,f=u.length;c<f;c+=1)s(u[c],o,a+1)}else o.length&&s(u,o,a+1)}};return s(e,en(t)?t.split("."):t,0),r?n:n[0]}const B0={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},F0={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},N0={location:0,threshold:.6,distance:100},K0={useExtendedSearch:!1,getFn:D0,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ke={...F0,...B0,...N0,...K0};const j0=/[^ ]+/g;function V0(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const i=s.match(j0).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}class wu{constructor({getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){this.norm=V0(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,en(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();en(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Rt(t)||va(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(t):this.getFn(t,s.path);if(!!Rt(o)){if(xn(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(!!Rt(c))if(en(c)&&!va(c)){let f={v:c,i:u,n:this.norm.get(c)};a.push(f)}else xn(c)&&c.forEach((f,d)=>{l.push({nestedArrIndex:d,value:f})})}r.$[i]=a}else if(en(o)&&!va(o)){let a={v:o,n:this.norm.get(o)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Qh(e,t,{getFn:n=ke.getFn,fieldNormWeight:r=ke.fieldNormWeight}={}){const s=new wu({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(Xh)),s.setSources(t),s.create(),s}function U0(e,{getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){const{keys:r,records:s}=e,i=new wu({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}function Pi(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=ke.distance,ignoreLocation:i=ke.ignoreLocation}={}){const o=t/e.length;if(i)return o;const a=Math.abs(r-n);return s?o+a/s:a?1:o}function H0(e=[],t=ke.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let o=e.length;i<o;i+=1){let a=e[i];a&&r===-1?r=i:!a&&r!==-1&&(s=i-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const cr=32;function q0(e,t,n,{location:r=ke.location,distance:s=ke.distance,threshold:i=ke.threshold,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,includeMatches:l=ke.includeMatches,ignoreLocation:u=ke.ignoreLocation}={}){if(t.length>cr)throw new Error(P0(cr));const c=t.length,f=e.length,d=Math.max(0,Math.min(r,f));let y=i,v=d;const w=a>1||l,T=w?Array(f):[];let _;for(;(_=e.indexOf(t,v))>-1;){let I=Pi(t,{currentLocation:_,expectedLocation:d,distance:s,ignoreLocation:u});if(y=Math.min(I,y),v=_+c,w){let h=0;for(;h<c;)T[_+h]=1,h+=1}}v=-1;let p=[],m=1,C=c+f;const S=1<<c-1;for(let I=0;I<c;I+=1){let h=0,g=C;for(;h<g;)Pi(t,{errors:I,currentLocation:d+g,expectedLocation:d,distance:s,ignoreLocation:u})<=y?h=g:C=g,g=Math.floor((C-h)/2+h);C=g;let k=Math.max(1,d-g+1),M=o?f:Math.min(d+g,f)+c,O=Array(M+2);O[M+1]=(1<<I)-1;for(let B=M;B>=k;B-=1){let H=B-1,re=n[e.charAt(H)];if(w&&(T[H]=+!!re),O[B]=(O[B+1]<<1|1)&re,I&&(O[B]|=(p[B+1]|p[B])<<1|1|p[B+1]),O[B]&S&&(m=Pi(t,{errors:I,currentLocation:H,expectedLocation:d,distance:s,ignoreLocation:u}),m<=y)){if(y=m,v=H,v<=d)break;k=Math.max(1,2*d-v)}}if(Pi(t,{errors:I+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:u})>y)break;p=O}const E={isMatch:v>=0,score:Math.max(.001,m)};if(w){const I=H0(T,a);I.length?l&&(E.indices=I):E.isMatch=!1}return E}function z0(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}class Jh{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:s=ke.distance,includeMatches:i=ke.includeMatches,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreLocation:u=ke.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,y)=>{this.chunks.push({pattern:d,alphabet:z0(d),startIndex:y})},f=this.pattern.length;if(f>cr){let d=0;const y=f%cr,v=f-y;for(;d<v;)c(this.pattern.substr(d,cr),d),d+=cr;if(y){const w=f-cr;c(this.pattern.substr(w),w)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let v={isMatch:!0,score:0};return r&&(v.indices=[[0,t.length-1]]),v}const{location:s,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],f=0,d=!1;this.chunks.forEach(({pattern:v,alphabet:w,startIndex:T})=>{const{isMatch:_,score:p,indices:m}=q0(t,v,w,{location:s+T,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});_&&(d=!0),f+=p,_&&m&&(c=[...c,...m])});let y={isMatch:d,score:d?f/this.chunks.length:1};return d&&r&&(y.indices=c),y}}class nr{constructor(t){this.pattern=t}static isMultiMatch(t){return Xc(t,this.multiRegex)}static isSingleMatch(t){return Xc(t,this.singleRegex)}search(){}}function Xc(e,t){const n=e.match(t);return n?n[1]:null}class W0 extends nr{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class G0 extends nr{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Y0 extends nr{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class X0 extends nr{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Q0 extends nr{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class J0 extends nr{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Zh extends nr{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:s=ke.distance,includeMatches:i=ke.includeMatches,findAllMatches:o=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreLocation:u=ke.ignoreLocation}={}){super(t),this._bitapSearch=new Jh(t,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ep extends nr{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const vl=[W0,ep,Y0,X0,J0,Q0,G0,Zh],Qc=vl.length,Z0=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ew="|";function tw(e,t={}){return e.split(ew).map(n=>{let r=n.trim().split(Z0).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=r.length;i<o;i+=1){const a=r[i];let l=!1,u=-1;for(;!l&&++u<Qc;){const c=vl[u];let f=c.isMultiMatch(a);f&&(s.push(new c(f,t)),l=!0)}if(!l)for(u=-1;++u<Qc;){const c=vl[u];let f=c.isSingleMatch(a);if(f){s.push(new c(f,t));break}}}return s})}const nw=new Set([Zh.type,ep.type]);class rw{constructor(t,{isCaseSensitive:n=ke.isCaseSensitive,includeMatches:r=ke.includeMatches,minMatchCharLength:s=ke.minMatchCharLength,ignoreLocation:i=ke.ignoreLocation,findAllMatches:o=ke.findAllMatches,location:a=ke.location,threshold:l=ke.threshold,distance:u=ke.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:s,findAllMatches:o,ignoreLocation:i,location:a,threshold:l,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=tw(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let i=0,o=[],a=0;for(let l=0,u=n.length;l<u;l+=1){const c=n[l];o.length=0,i=0;for(let f=0,d=c.length;f<d;f+=1){const y=c[f],{isMatch:v,indices:w,score:T}=y.search(t);if(v){if(i+=1,a+=T,r){const _=y.constructor.type;nw.has(_)?o=[...o,...w]:o.push(w)}}else{a=0,i=0,o.length=0;break}}if(i){let f={isMatch:!0,score:a/i};return r&&(f.indices=o),f}}return{isMatch:!1,score:1}}}const yl=[];function sw(...e){yl.push(...e)}function _l(e,t){for(let n=0,r=yl.length;n<r;n+=1){let s=yl[n];if(s.condition(e,t))return new s(e,t)}return new Jh(e,t)}const co={AND:"$and",OR:"$or"},bl={PATH:"$path",PATTERN:"$val"},wl=e=>!!(e[co.AND]||e[co.OR]),iw=e=>!!e[bl.PATH],ow=e=>!xn(e)&&Gh(e)&&!wl(e),Jc=e=>({[co.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function tp(e,t,{auto:n=!0}={}){const r=s=>{let i=Object.keys(s);const o=iw(s);if(!o&&i.length>1&&!wl(s))return r(Jc(s));if(ow(s)){const l=o?s[bl.PATH]:i[0],u=o?s[bl.PATTERN]:s[l];if(!en(u))throw new Error(A0(l));const c={keyId:ml(l),pattern:u};return n&&(c.searcher=_l(u,t)),c}let a={children:[],operator:i[0]};return i.forEach(l=>{const u=s[l];xn(u)&&u.forEach(c=>{a.children.push(r(c))})}),a};return wl(e)||(e=Jc(e)),r(e)}function aw(e,{ignoreFieldNorm:t=ke.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:o})=>{const a=s?s.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:i))}),n.score=r})}function lw(e,t){const n=e.matches;t.matches=[],Rt(n)&&n.forEach(r=>{if(!Rt(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let o={indices:s,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function uw(e,t){t.score=e.score}function cw(e,t,{includeMatches:n=ke.includeMatches,includeScore:r=ke.includeScore}={}){const s=[];return n&&s.push(lw),r&&s.push(uw),e.map(i=>{const{idx:o}=i,a={item:t[o],refIndex:o};return s.length&&s.forEach(l=>{l(i,a)}),a})}class as{constructor(t,n={},r){this.options={...ke,...n},this.options.useExtendedSearch,this._keyStore=new L0(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof wu))throw new Error(R0);this._myIndex=n||Qh(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){!Rt(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let l=en(t)?en(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return aw(l,{ignoreFieldNorm:a}),i&&l.sort(o),Wh(n)&&n>-1&&(l=l.slice(0,n)),cw(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=_l(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:o,n:a})=>{if(!Rt(i))return;const{isMatch:l,score:u,indices:c}=n.searchIn(i);l&&s.push({item:i,idx:o,matches:[{score:u,value:i,norm:a,indices:c}]})}),s}_searchLogical(t){const n=tp(t,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:d}=a,y=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:d});return y&&y.length?[{idx:u,item:l,matches:y}]:[]}const c=[];for(let f=0,d=a.children.length;f<d;f+=1){const y=a.children[f],v=r(y,l,u);if(v.length)c.push(...v);else if(a.operator===co.AND)return[]}return c},s=this._myIndex.records,i={},o=[];return s.forEach(({$:a,i:l})=>{if(Rt(a)){let u=r(n,a,l);u.length&&(i[l]||(i[l]={idx:l,item:a,matches:[]},o.push(i[l])),u.forEach(({matches:c})=>{i[l].matches.push(...c)}))}}),o}_searchObjectList(t){const n=_l(t,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:a})=>{if(!Rt(o))return;let l=[];r.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:n}))}),l.length&&i.push({idx:a,item:o,matches:l})}),i}_findMatches({key:t,value:n,searcher:r}){if(!Rt(n))return[];let s=[];if(xn(n))n.forEach(({v:i,i:o,n:a})=>{if(!Rt(i))return;const{isMatch:l,score:u,indices:c}=r.searchIn(i);l&&s.push({score:u,key:t,value:i,idx:o,norm:a,indices:c})});else{const{v:i,n:o}=n,{isMatch:a,score:l,indices:u}=r.searchIn(i);a&&s.push({score:l,key:t,value:i,norm:o,indices:u})}return s}}as.version="6.6.2";as.createIndex=Qh;as.parseIndex=U0;as.config=ke;as.parseQuery=tp;sw(rw);var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dw(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}const hw=dw(Iv),{unref:np,isRef:rp}=hw,pw=e=>e!==null&&typeof e=="object",gw=Array.isArray,sp=e=>{const t=rp(e)?np(e):e;return pw(t)?gw(t)?mw(t):vw(t):t},ip=e=>e!==null&&!rp(e)&&typeof e=="object"?sp(e):np(e),mw=e=>{const t=[];return e.forEach(n=>{t.push(ip(n))}),t},vw=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]=ip(e[n])}),t};var Ws={deepUnref:sp};const yw="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Yt=In("meta",{state:()=>({_sets:new Map,precons:[],types:[],forex:{usd:.8,eur:.8},symbols:new Map,cacheKeys:new Map}),getters:{setIds(e){return new Set(e._sets.keys())},setNames(e){let t=new Map;for(const n of e._sets.values())t.set(n.name,n.code);return t},sets(e){return[...e._sets.values()]}},actions:{async getForex(e,t){return(await(await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${e}/${t}.json`)).json())[t]},async init(){this.forex.eur=await this.getForex("eur","gbp"),this.forex.usd=await this.getForex("usd","gbp");const e=await caches.open("cardDataCache");(await Un(e,"https://api.scryfall.com/sets",!0)).data.forEach(o=>{o.digital||this._sets.set(o.code,o)});let n=await Un(e,"https://api.scryfall.com/catalog/creature-types");this.types=n.data.concat(["Enchantment","Sorcery","Land","Creature","Instant","Artifact"]),(await Un(e,"https://api.scryfall.com/symbology ")).data.forEach(o=>{this.symbols.set(o.symbol,o.svg_uri)});let s=await Un(e,`${yw}/precons`,!0);s.data.sort((o,a)=>Date.parse(o.releaseDate)<Date.parse(a.releaseDate)?1:-1);let i={};for(const o of s.data){let a=this._sets.get(o.set).name;i[a]?i[a].push(o):i[a]=[o]}this.precons=[];for(const[o,a]of Object.entries(i))this.precons.push({label:o,options:a})}}}),ya="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Cl=["Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],_w=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),Zc=e=>(t,n)=>{const r=e.dir;if(e.val==="Price")return t.price?t.price<n.price?r:r*-1:!0;if(e.val==="Mana")return parseFloat(t.cmc)<parseFloat(n.cmc)?r:-1*r;if(e.val==="Count")return parseFloat(t.count)===parseFloat(n.count)?t.price<n.price?1:-1:parseFloat(t.count)<parseFloat(n.count)?r:-1*r;if(e.val==="Released"){let s=new Date(t.released_at+"T00:00:00"),i=new Date(n.released_at+"T00:00:00");return s.getTime()>i.getTime()?r:r*-1}else{if(e.val==="Type")return t.type===n.type?parseFloat(t.cmc)>parseFloat(n.cmc)?r:r*-1:Cl.indexOf(t.type)>Cl.indexOf(n.type)?r:r*-1;if(e.val==="Tag")return t.tags[0].localeCompare(n.tags[0]);if(e.val==="Number")return parseInt(t.collector_number)>parseInt(n.collector_number)}},Uo={state:()=>({cards:new Map,have:new Map,filtered:[],tribes:[],loading:!1,selected:new Set,filters:{colours:{colours:[],mode:"commander"},rarity:[],keywords:[],tribes:[],name:"",cardText:"",sets:[],tags:[],mana:{value:[null,null],min:0,max:20},price:{value:[null,null],min:0,max:100},dupesOnly:!1,group:null,incCol:[],excCol:[],cmpCol:[],ors:{},finish:null,border:null,quantity:{value:[null,null],min:0,max:100}},sort:{val:"Price",dir:1}}),getters:{count(e){return e.filtered.reduce((t,n)=>t+=parseInt(n.count||1),0)},value(e){const t=parseInt(e.filtered.reduce((n,r)=>n+=r.price*(r.count||1),0));return _w.format(t)},sorted(e){return[...e.cards.values()].sort(Zc(e.sort))},grouped(e){e.filters.group;let t=new Map;for(const n of e.cards.values()){let r=t.get(n.name),s=n.price>0?n.price:1/0;if(r){if(r.price>s||r.price===0&&n.price!==0){let i=0+r.count;r={...n},r.count=i}r.count+=n.count||1,t.set(n.name,r)}else t.set(n.name,{...n});(!r||r.price>s||r.price===0&&n.price!==0)&&(r={...n},t.set(n.name,r))}return[...t.values()].sort(Zc(e.sort))},keywords(e){let t=new Set;return e.filtered.forEach(n=>{n.keywords&&n.keywords.forEach(r=>{t.add(r)})}),[...t]},tags(e){let t=new Set;return e.filtered.forEach(n=>{n.tags&&n.tags.forEach(r=>{t.add(r)})}),t},sets(e){let t=new Map;return e.filtered.forEach(n=>{t.has(n.set)||t.set(n.set,n.set_name)}),Object.fromEntries(t)}},actions:{async _compare(e,t){const s=(await $t().getCards(t)).map(i=>i.oracle_id);e=e.forEach(i=>{this.have.set(i.oracle_id,s.includes(i.oracle_id))})},_filterColours(e,t){const{mode:n,colours:r}=t;if(n==="commander"){let s=e.color_identity.filter(i=>!r.includes(i));if(Object.keys(e.color_identity).length>0&&s.length>0)return!1}else{if(n==="any")return e.color_identity.some(s=>r.includes(s));if(n==="all")return r.every(s=>e.color_identity.includes(s));if(n==="exact")return e.color_identity.sort().join()===r.sort().join()}return!0},async applyFilters(){const e=$t();let t=this.filters,n=t.group!==null?this.grouped:this.sorted;if(t.cardText&&t.cardText!==""){const r=new as(n,{ignoreLocation:!0,threshold:.5,findAllMatches:!0,keys:["oracle_text","card_faces.oracle_text"]});n=[],r.search(t.cardText).forEach(s=>{n.push(s.item)})}if(this.have.clear(),t.cmpCol.length>0&&await this._compare(n,t.cmpCol),t.incCol.length>0){const s=(await e.getCards(t.incCol)).map(i=>i.oracle_id);n=n.filter(i=>s.includes(i.oracle_id))}if(t.excCol.length>0){const s=(await e.getCards(t.excCol)).map(i=>i.oracle_id);n=n.filter(i=>!s.includes(i.oracle_id))}n=n.filter(r=>{if(!(!t.finish||r.finish===t.finish)||!(!t.name||!t.name!=""||r.name.toLowerCase().includes(t.name.toLowerCase()))||t.colours.colours.length>0&&!this._filterColours(r,t.colours)||!t.keywords.every(w=>(r.keywords||[]).includes(w)))return!1;const a=t.tribes.some(w=>(r.type_line.toLowerCase()||"").includes(w.toLowerCase()));if(t.tribes.length>0&&!a||!(t.rarity.length>0?[...t.rarity].includes(r.rarity):!0))return!1;let u=!0;if(t.sets.length>0&&(u=t.sets.some(w=>r.set===w)),!u)return!1;let c=!0;return t.tags.length>0&&(c=t.tags.some(w=>(r.tags||[]).includes(w))),!(!c||!(r.cmc>=(t.mana.value[0]||0)&&r.cmc<=(t.mana.value[1]||20))||!(r.price>=(t.price.value[0]||0)&&r.price<=(t.price.value[1]||9999))||!(r.count>=(t.quantity.value[0]||0)&&r.count<=(t.quantity.value[1]||9999))||!(t.border?r.border_color==t.border:!0))}),this.filtered=n,this.loading=!1},delete(e){this.cards.delete(e.id+e.finish),this.filtered=this.filtered.filter(t=>t.id!==e.id||t.finish!==e.finish)},add(e){const t=Yt();e.finish=e.finishes.length===1?e.finishes[0]:e.finish,e.count||(e.count=1),e.isCommander&&(e.finish="foil"),e.prices===void 0?e.price=0:e.finish==="foil"||e.finish==="etched"||e.prices.eur===null&&e.prices.usd===null?e.prices.usd_etched!==null?(e.price=parseFloat(e.prices.usd_etched)*t.forex.usd,e.finish||(e.finish="etched")):e.prices.eur_foil||e.prices.usd_foil?(e.price=parseFloat(e.prices.eur_foil)*t.forex.eur||parseFloat(e.prices.usd_foil)*t.forex.usd||0,e.finish||(e.finish="foil")):(e.finish="nonfoil",e.price=0):(e.price=parseFloat(e.prices.eur)*t.forex.eur||parseFloat(e.prices.usd)*t.forex.usd||0,e.finish="nonfoil"),e.type_line=e.type_line||"",e.type=Cl.filter(r=>e.type_line.includes(r))[0];const n=this.cards.get(e.id+e.finish);n?n.count+=e.count:this.cards.set(e.id+e.finish,{...e}),this.filtered.push({...e})},addMany(e){this.cards.clear(),this.filtered=[],e.forEach(t=>{this.add(t)}),this.applyFilters()},getSelection(){const e=[];for(const t of this.cards.values())this.selected.has(t.id+t.finish)&&e.push(t);return e},async loadSearch(e,t="card",n=!1){if(e.length===0){this.cards.clear();return}if(e.length<3)return;const r=await caches.open("cardDataCache");let s="https://api.scryfall.com/cards/search?"+new URLSearchParams({q:`${e} -border:silver -is:digital`,unique:t}),i=[];this.loading=!0;try{for(;;){let o=await Un(r,s,n);if(i=i.concat(o.data),!o.has_more)break;s=o.next_page,await new Promise(a=>setTimeout(a,100))}this.addMany(i)}finally{this.loading=!1}},async loadPrints(e){this.loadSearch(`!"${e}" -border:silver -is:digital`,"prints",!0)},async loadSet(e,t=!1){this.loading=!0;const n=await caches.open("cardDataCache");let r=await Un(n,`${ya}/set/?set=`+e,t);this.addMany(r.data),this.loading=!1},async loadCollections(e){this.loading=!0;const t=$t();t.open=e;let n=await t.load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(n),this.loading=!1},async loadPrecon(e){this.loading=!0;const t=await caches.open("cardDataCache"),n=await Un(t,`${ya}/precon?name=${e}`,!0);this.addMany(n.data),this.loading=!1},async loadSync(e){this.loading=!0;const n=await(await fetch(ya+"/collection?id="+e)).json();this.addMany(n.data.cards),this.loading=!1},unrefCards(){return[...this.cards.values()].map(Ws.deepUnref)}}},Wt=In("cardView",Uo),op=In("printsView",Uo),bw=In("searchView",Uo),li=In("clipboardView",Uo),rr=In("ui",{state:()=>({sidebar:{show:!1,selected:""},mainView:"cards",zoom:0,columns:3,source:"collection",details:{index:0,show:!1},edit:{card:null}}),getters:{},actions:{showSidebar(e){this.sidebar.selected=e,this.sidebar.show=!0},loadMain(e){this.mainView=e,["upload","precons"].includes(e)&&(this.sidebar.show=!1)}}});function Xt(e){return[null,void 0].indexOf(e)!==-1}function ww(e,t,n){const{object:r,valueProp:s,mode:i}=xt(e),o=bt().proxy,a=n.iv,l=(f,d=!0)=>{a.value=c(f);const y=u(f);t.emit("change",y,o),d&&(t.emit("input",y),t.emit("update:modelValue",y))},u=f=>r.value||Xt(f)?f:Array.isArray(f)?f.map(d=>d[s.value]):f[s.value],c=f=>Xt(f)?i.value==="single"?{}:[]:f;return{update:l}}function Cw(e,t){const{value:n,modelValue:r,mode:s,valueProp:i}=xt(e),o=$e(s.value!=="single"?[]:{}),a=r&&r.value!==void 0?r:n,l=ye(()=>s.value==="single"?o.value[i.value]:o.value.map(c=>c[i.value])),u=ye(()=>s.value!=="single"?o.value.map(c=>c[i.value]).join(","):o.value[i.value]);return{iv:o,internalValue:o,ev:a,externalValue:a,textValue:u,plainValue:l}}function Ew(e,t,n){const{regex:r}=xt(e),s=bt().proxy,i=n.isOpen,o=n.open,a=$e(null),l=$e(null),u=()=>{a.value=""},c=y=>{a.value=y.target.value},f=y=>{if(r&&r.value){let v=r.value;typeof v=="string"&&(v=new RegExp(v)),y.key.match(v)||y.preventDefault()}},d=y=>{if(r&&r.value){let w=(y.clipboardData||window.clipboardData).getData("Text"),T=r.value;typeof T=="string"&&(T=new RegExp(T)),w.split("").every(_=>!!_.match(T))||y.preventDefault()}t.emit("paste",y,s)};return Ze(a,y=>{!i.value&&y&&o(),t.emit("search-change",y,s)}),{search:a,input:l,clearSearch:u,handleSearchInput:c,handleKeypress:f,handlePaste:d}}function Sw(e,t,n){const{groupSelect:r,mode:s,groups:i,disabledProp:o}=xt(e),a=$e(null),l=c=>{c===void 0||c!==null&&c[o.value]||i.value&&c&&c.group&&(s.value==="single"||!r.value)||(a.value=c)};return{pointer:a,setPointer:l,clearPointer:()=>{l(null)}}}function Mi(e,t=!0){return t?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function kw(e){return Object.prototype.toString.call(e)==="[object Object]"}function xw(e,t){const n=t.slice().sort();return e.length===t.length&&e.slice().sort().every(function(r,s){return r===n[s]})}function Tw(e,t,n){const{options:r,mode:s,trackBy:i,limit:o,hideSelected:a,createTag:l,createOption:u,label:c,appendNewTag:f,appendNewOption:d,multipleLabel:y,object:v,loading:w,delay:T,resolveOnLoad:_,minChars:p,filterResults:m,clearOnSearch:C,clearOnSelect:S,valueProp:E,canDeselect:I,max:h,strict:g,closeOnSelect:k,groups:M,reverse:O,infinite:L,groupOptions:B,groupHideEmpty:H,groupSelect:re,onCreate:z,disabledProp:X,searchStart:ee}=xt(e),me=bt().proxy,oe=n.iv,G=n.ev,ge=n.search,Te=n.clearSearch,A=n.update,V=n.pointer,q=n.clearPointer,se=n.focus,Z=n.deactivate,ve=n.close,ue=$e([]),b=$e([]),x=$e(!1),$=$e(null),K=$e(L.value&&o.value===-1?10:o.value),F=ye(()=>l.value||u.value||!1),Y=ye(()=>f.value!==void 0?f.value:d.value!==void 0?d.value:!0),Q=ye(()=>{if(M.value){let D=b.value||[],le=[];return D.forEach(Ie=>{Yo(Ie[B.value]).forEach(Qe=>{le.push(Object.assign({},Qe,Ie[X.value]?{[X.value]:!0}:{}))})}),le}else{let D=Yo(b.value||[]);return ue.value.length&&(D=D.concat(ue.value)),D}}),W=ye(()=>M.value?Sp((b.value||[]).map((D,le)=>{const Ie=Yo(D[B.value]);return{...D,index:le,group:!0,[B.value]:Go(Ie,!1).map(Qe=>Object.assign({},Qe,D[X.value]?{[X.value]:!0}:{})),__VISIBLE__:Go(Ie).map(Qe=>Object.assign({},Qe,D[X.value]?{[X.value]:!0}:{}))}})):[]),J=ye(()=>{let D=Q.value;return O.value&&(D=D.reverse()),Ee.value.length&&(D=Ee.value.concat(D)),Go(D)}),U=ye(()=>{let D=J.value;return K.value>0&&(D=D.slice(0,K.value)),D}),ae=ye(()=>{switch(s.value){case"single":return!Xt(oe.value[E.value]);case"multiple":case"tags":return!Xt(oe.value)&&oe.value.length>0}}),ne=ye(()=>y!==void 0&&y.value!==void 0?y.value(oe.value,me):oe.value&&oe.value.length>1?`${oe.value.length} options selected`:"1 option selected"),fe=ye(()=>!Q.value.length&&!x.value&&!Ee.value.length),he=ye(()=>Q.value.length>0&&U.value.length==0&&(ge.value&&M.value||!M.value)),Ee=ye(()=>F.value===!1||!ge.value?[]:wp(ge.value)!==-1?[]:[{[E.value]:ge.value,[c.value]:ge.value,[Se.value]:ge.value,__CREATE__:!0}]),Se=ye(()=>i.value||c.value),Pe=ye(()=>{switch(s.value){case"single":return null;case"multiple":case"tags":return[]}}),De=ye(()=>w.value||x.value),ze=D=>{switch(typeof D!="object"&&(D=cn(D)),s.value){case"single":A(D);break;case"multiple":case"tags":A(oe.value.concat(D));break}t.emit("select",us(D),D,me)},tt=D=>{switch(typeof D!="object"&&(D=cn(D)),s.value){case"single":ct();break;case"tags":case"multiple":A(Array.isArray(D)?oe.value.filter(le=>D.map(Ie=>Ie[E.value]).indexOf(le[E.value])===-1):oe.value.filter(le=>le[E.value]!=D[E.value]));break}t.emit("deselect",us(D),D,me)},us=D=>v.value?D:D[E.value],Rn=D=>{tt(D)},ci=(D,le)=>{if(le.button!==0){le.preventDefault();return}Rn(D)},ct=()=>{t.emit("clear",me),A(Pe.value)},nt=D=>{if(D.group!==void 0)return s.value==="single"?!1:bp(D[B.value])&&D[B.value].length;switch(s.value){case"single":return!Xt(oe.value)&&oe.value[E.value]==D[E.value];case"tags":case"multiple":return!Xt(oe.value)&&oe.value.map(le=>le[E.value]).indexOf(D[E.value])!==-1}},Pr=D=>D[X.value]===!0,zo=()=>h===void 0||h.value===-1||!ae.value&&h.value>0?!1:oe.value.length>=h.value,mp=D=>{if(!Pr(D)){if(z&&z.value&&!nt(D)&&D.__CREATE__&&(D={...D},delete D.__CREATE__,D=z.value(D,me),D instanceof Promise)){x.value=!0,D.then(le=>{x.value=!1,ku(le)});return}ku(D)}},ku=D=>{switch(D.__CREATE__&&(D={...D},delete D.__CREATE__),s.value){case"single":if(D&&nt(D)){I.value&&tt(D);return}D&&Wo(D),S.value&&Te(),k.value&&(q(),ve()),D&&ze(D);break;case"multiple":if(D&&nt(D)){tt(D);return}if(zo()){t.emit("max",me);return}D&&(Wo(D),ze(D)),S.value&&Te(),a.value&&q(),k.value&&ve();break;case"tags":if(D&&nt(D)){tt(D);return}if(zo()){t.emit("max",me);return}D&&Wo(D),S.value&&Te(),D&&ze(D),a.value&&q(),k.value&&ve();break}k.value||se()},vp=D=>{if(!(Pr(D)||s.value==="single"||!re.value)){switch(s.value){case"multiple":case"tags":_p(D[B.value])?tt(D[B.value]):ze(D[B.value].filter(le=>oe.value.map(Ie=>Ie[E.value]).indexOf(le[E.value])===-1).filter(le=>!le[X.value]).filter((le,Ie)=>oe.value.length+1+Ie<=h.value||h.value===-1));break}k.value&&Z()}},Wo=D=>{cn(D[E.value])===void 0&&F.value&&(t.emit("tag",D[E.value],me),t.emit("option",D[E.value],me),Y.value&&Ep(D),Te())},yp=()=>{s.value!=="single"&&ze(U.value)},_p=D=>D.find(le=>!nt(le)&&!le[X.value])===void 0,bp=D=>D.find(le=>!nt(le))===void 0,cn=D=>Q.value[Q.value.map(le=>String(le[E.value])).indexOf(String(D))],wp=(D,le=!0)=>Q.value.map(Ie=>parseInt(Ie[Se.value])==Ie[Se.value]?parseInt(Ie[Se.value]):Ie[Se.value]).indexOf(parseInt(D)==D?parseInt(D):D),Cp=D=>["tags","multiple"].indexOf(s.value)!==-1&&a.value&&nt(D),Ep=D=>{ue.value.push(D)},Sp=D=>H.value?D.filter(le=>ge.value?le.__VISIBLE__.length:le[B.value].length):D.filter(le=>ge.value?le.__VISIBLE__.length:!0),Go=(D,le=!0)=>{let Ie=D;return ge.value&&m.value&&(Ie=Ie.filter(Qe=>ee.value?Mi(Qe[Se.value],g.value).startsWith(Mi(ge.value,g.value)):Mi(Qe[Se.value],g.value).indexOf(Mi(ge.value,g.value))!==-1)),a.value&&le&&(Ie=Ie.filter(Qe=>!Cp(Qe))),Ie},Yo=D=>{let le=D;return kw(le)&&(le=Object.keys(le).map(Ie=>{let Qe=le[Ie];return{[E.value]:Ie,[Se.value]:Qe,[c.value]:Qe}})),le=le.map(Ie=>typeof Ie=="object"?Ie:{[E.value]:Ie,[Se.value]:Ie,[c.value]:Ie}),le},fi=()=>{Xt(G.value)||(oe.value=hi(G.value))},di=D=>(x.value=!0,new Promise((le,Ie)=>{r.value(ge.value,me).then(Qe=>{b.value=Qe||[],typeof D=="function"&&D(Qe),x.value=!1}).catch(Qe=>{console.error(Qe),b.value=[],x.value=!1}).finally(()=>{le()})})),Xo=()=>{if(!!ae.value)if(s.value==="single"){let D=cn(oe.value[E.value]);if(D!==void 0){let le=D[c.value];oe.value[c.value]=le,v.value&&(G.value[c.value]=le)}}else oe.value.forEach((D,le)=>{let Ie=cn(oe.value[le][E.value]);if(Ie!==void 0){let Qe=Ie[c.value];oe.value[le][c.value]=Qe,v.value&&(G.value[le][c.value]=Qe)}})},kp=D=>{di(D)},hi=D=>Xt(D)?s.value==="single"?{}:[]:v.value?D:s.value==="single"?cn(D)||{}:D.filter(le=>!!cn(le)).map(le=>cn(le)),xu=()=>{$.value=Ze(ge,D=>{D.length<p.value||!D&&p.value!==0||(x.value=!0,C.value&&(b.value=[]),setTimeout(()=>{D==ge.value&&r.value(ge.value,me).then(le=>{(D==ge.value||!ge.value)&&(b.value=le,V.value=U.value.filter(Ie=>Ie[X.value]!==!0)[0]||null,x.value=!1)}).catch(le=>{console.error(le)})},T.value))},{flush:"sync"})};if(s.value!=="single"&&!Xt(G.value)&&!Array.isArray(G.value))throw new Error(`v-model must be an array when using "${s.value}" mode`);return r&&typeof r.value=="function"?_.value?di(fi):v.value==!0&&fi():(b.value=r.value,fi()),T.value>-1&&xu(),Ze(T,(D,le)=>{$.value&&$.value(),D>=0&&xu()}),Ze(G,D=>{if(Xt(D)){A(hi(D),!1);return}switch(s.value){case"single":(v.value?D[E.value]!=oe.value[E.value]:D!=oe.value[E.value])&&A(hi(D),!1);break;case"multiple":case"tags":xw(v.value?D.map(le=>le[E.value]):D,oe.value.map(le=>le[E.value]))||A(hi(D),!1);break}},{deep:!0}),Ze(r,(D,le)=>{typeof e.options=="function"?_.value&&(!le||D&&D.toString()!==le.toString())&&di():(b.value=e.options,Object.keys(oe.value).length||fi(),Xo())}),Ze(c,Xo),{pfo:J,fo:U,filteredOptions:U,hasSelected:ae,multipleLabelText:ne,eo:Q,extendedOptions:Q,fg:W,filteredGroups:W,noOptions:fe,noResults:he,resolving:x,busy:De,offset:K,select:ze,deselect:tt,remove:Rn,selectAll:yp,clear:ct,isSelected:nt,isDisabled:Pr,isMax:zo,getOption:cn,handleOptionClick:mp,handleGroupClick:vp,handleTagRemove:ci,refreshOptions:kp,resolveOptions:di,refreshLabels:Xo}}function Ow(e,t,n){const{valueProp:r,showOptions:s,searchable:i,groupLabel:o,groups:a,mode:l,groupSelect:u,disabledProp:c}=xt(e),f=n.fo,d=n.fg,y=n.handleOptionClick,v=n.handleGroupClick,w=n.search,T=n.pointer,_=n.setPointer,p=n.clearPointer,m=n.multiselect,C=n.isOpen,S=ye(()=>f.value.filter(A=>!A[c.value])),E=ye(()=>d.value.filter(A=>!A[c.value])),I=ye(()=>l.value!=="single"&&u.value),h=ye(()=>T.value&&T.value.group),g=ye(()=>ge(T.value)),k=ye(()=>{const A=h.value?T.value:ge(T.value),V=E.value.map(se=>se[o.value]).indexOf(A[o.value]);let q=E.value[V-1];return q===void 0&&(q=O.value),q}),M=ye(()=>{let A=E.value.map(V=>V.label).indexOf(h.value?T.value[o.value]:ge(T.value)[o.value])+1;return E.value.length<=A&&(A=0),E.value[A]}),O=ye(()=>[...E.value].slice(-1)[0]),L=ye(()=>T.value.__VISIBLE__.filter(A=>!A[c.value])[0]),B=ye(()=>{const A=g.value.__VISIBLE__.filter(V=>!V[c.value]);return A[A.map(V=>V[r.value]).indexOf(T.value[r.value])-1]}),H=ye(()=>{const A=ge(T.value).__VISIBLE__.filter(V=>!V[c.value]);return A[A.map(V=>V[r.value]).indexOf(T.value[r.value])+1]}),re=ye(()=>[...k.value.__VISIBLE__.filter(A=>!A[c.value])].slice(-1)[0]),z=ye(()=>[...O.value.__VISIBLE__.filter(A=>!A[c.value])].slice(-1)[0]),X=A=>!!T.value&&(!A.group&&T.value[r.value]==A[r.value]||A.group!==void 0&&T.value[o.value]==A[o.value])?!0:void 0,ee=()=>{_(S.value[0]||null)},me=()=>{!T.value||T.value[c.value]===!0||(h.value?v(T.value):y(T.value))},oe=()=>{if(T.value===null)_((a.value&&I.value?E.value[0]:S.value[0])||null);else if(a.value&&I.value){let A=h.value?L.value:H.value;A===void 0&&(A=M.value),_(A||null)}else{let A=S.value.map(V=>V[r.value]).indexOf(T.value[r.value])+1;S.value.length<=A&&(A=0),_(S.value[A]||null)}tn(()=>{Te()})},G=()=>{if(T.value===null){let A=S.value[S.value.length-1];a.value&&I.value&&(A=z.value,A===void 0&&(A=O.value)),_(A||null)}else if(a.value&&I.value){let A=h.value?re.value:B.value;A===void 0&&(A=h.value?k.value:g.value),_(A||null)}else{let A=S.value.map(V=>V[r.value]).indexOf(T.value[r.value])-1;A<0&&(A=S.value.length-1),_(S.value[A]||null)}tn(()=>{Te()})},ge=A=>E.value.find(V=>V.__VISIBLE__.map(q=>q[r.value]).indexOf(A[r.value])!==-1),Te=()=>{let A=m.value.querySelector("[data-pointed]");if(!A)return;let V=A.parentElement.parentElement;a.value&&(V=h.value?A.parentElement.parentElement.parentElement:A.parentElement.parentElement.parentElement.parentElement),A.offsetTop+A.offsetHeight>V.clientHeight+V.scrollTop&&(V.scrollTop=A.offsetTop+A.offsetHeight-V.clientHeight),A.offsetTop<V.scrollTop&&(V.scrollTop=A.offsetTop)};return Ze(w,A=>{i.value&&(A.length&&s.value?ee():p())}),Ze(C,A=>{if(A){let V=m.value.querySelectorAll("[data-selected]")[0];if(!V)return;let q=V.parentElement.parentElement;tn(()=>{q.scrollTop>0||(q.scrollTop=V.offsetTop)})}}),{pointer:T,canPointGroups:I,isPointed:X,setPointerFirst:ee,selectPointer:me,forwardPointer:oe,backwardPointer:G}}function Iw(e,t,n){const{disabled:r}=xt(e),s=bt().proxy,i=$e(!1);return{isOpen:i,open:()=>{i.value||r.value||(i.value=!0,t.emit("open",s))},close:()=>{!i.value||(i.value=!1,t.emit("close",s))}}}function Rw(e,t,n){const{searchable:r,disabled:s,clearOnBlur:i}=xt(e),o=n.input,a=n.open,l=n.close,u=n.clearSearch,c=n.isOpen,f=$e(null),d=$e(null),y=$e(null),v=$e(!1),w=$e(!1),T=ye(()=>r.value||s.value?-1:0),_=()=>{r.value&&o.value.blur(),d.value.blur()},p=()=>{r.value&&!s.value&&o.value.focus()},m=(g=!0)=>{s.value||(v.value=!0,g&&a())},C=()=>{v.value=!1,setTimeout(()=>{v.value||(l(),i.value&&u())},1)};return{multiselect:f,wrapper:d,tags:y,tabindex:T,isActive:v,mouseClicked:w,blur:_,focus:p,activate:m,deactivate:C,handleFocusIn:g=>{g.target.closest("[data-tags]")&&g.target.nodeName!=="INPUT"||g.target.closest("[data-clear]")||m(w.value)},handleFocusOut:()=>{C()},handleCaretClick:()=>{C(),_()},handleMousedown:g=>{w.value=!0,c.value&&(g.target.isEqualNode(d.value)||g.target.isEqualNode(y.value))?setTimeout(()=>{C()},0):document.activeElement.isEqualNode(d.value)&&!c.value&&m(),setTimeout(()=>{w.value=!1},0)}}}function Aw(e,t,n){const{mode:r,addTagOn:s,openDirection:i,searchable:o,showOptions:a,valueProp:l,groups:u,addOptionOn:c,createTag:f,createOption:d,reverse:y}=xt(e),v=bt().proxy,w=n.iv,T=n.update,_=n.search,p=n.setPointer,m=n.selectPointer,C=n.backwardPointer,S=n.forwardPointer,E=n.multiselect,I=n.wrapper,h=n.tags,g=n.isOpen,k=n.open,M=n.blur,O=n.fo,L=ye(()=>f.value||d.value||!1),B=ye(()=>s.value!==void 0?s.value:c.value!==void 0?c.value:["enter"]),H=()=>{r.value==="tags"&&!a.value&&L.value&&o.value&&!u.value&&p(O.value[O.value.map(X=>X[l.value]).indexOf(_.value)])};return{handleKeydown:X=>{t.emit("keydown",X,v);let ee,me;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(X.key)!==-1&&r.value==="tags"&&(ee=[...E.value.querySelectorAll("[data-tags] > *")].filter(oe=>oe!==h.value),me=ee.findIndex(oe=>oe===document.activeElement)),X.key){case"Backspace":if(r.value==="single"||o.value&&[null,""].indexOf(_.value)===-1||w.value.length===0)return;T([...w.value].slice(0,-1));break;case"Enter":if(X.preventDefault(),X.keyCode===229)return;if(me!==-1&&me!==void 0){T([...w.value].filter((oe,G)=>G!==me)),me===ee.length-1&&(ee.length-1?ee[ee.length-2].focus():o.value?h.value.querySelector("input").focus():I.value.focus());return}if(B.value.indexOf("enter")===-1&&L.value)return;H(),m();break;case" ":if(!L.value&&!o.value){X.preventDefault(),H(),m();return}if(!L.value)return!1;if(B.value.indexOf("space")===-1&&L.value)return;X.preventDefault(),H(),m();break;case"Tab":case";":case",":if(B.value.indexOf(X.key.toLowerCase())===-1||!L.value)return;H(),m(),X.preventDefault();break;case"Escape":M();break;case"ArrowUp":if(X.preventDefault(),!a.value)return;g.value||k(),C();break;case"ArrowDown":if(X.preventDefault(),!a.value)return;g.value||k(),S();break;case"ArrowLeft":if(o.value&&h.value&&h.value.querySelector("input").selectionStart||X.shiftKey||r.value!=="tags"||!w.value||!w.value.length)return;X.preventDefault(),me===-1?ee[ee.length-1].focus():me>0&&ee[me-1].focus();break;case"ArrowRight":if(me===-1||X.shiftKey||r.value!=="tags"||!w.value||!w.value.length)return;X.preventDefault(),ee.length>me+1?ee[me+1].focus():o.value?h.value.querySelector("input").focus():o.value||I.value.focus();break}},handleKeyup:X=>{t.emit("keyup",X,v)},preparePointer:H}}function Pw(e,t,n){const{classes:r,disabled:s,openDirection:i,showOptions:o}=xt(e),a=n.isOpen,l=n.isPointed,u=n.isSelected,c=n.isDisabled,f=n.isActive,d=n.canPointGroups,y=n.resolving,v=n.fo,w=ye(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...r.value})),T=ye(()=>!!(a.value&&o.value&&(!y.value||y.value&&v.value.length)));return{classList:ye(()=>{const p=w.value;return{container:[p.container].concat(s.value?p.containerDisabled:[]).concat(T.value&&i.value==="top"?p.containerOpenTop:[]).concat(T.value&&i.value!=="top"?p.containerOpen:[]).concat(f.value?p.containerActive:[]),wrapper:p.wrapper,spacer:p.spacer,singleLabel:p.singleLabel,singleLabelText:p.singleLabelText,multipleLabel:p.multipleLabel,search:p.search,tags:p.tags,tag:[p.tag].concat(s.value?p.tagDisabled:[]),tagRemove:p.tagRemove,tagRemoveIcon:p.tagRemoveIcon,tagsSearchWrapper:p.tagsSearchWrapper,tagsSearch:p.tagsSearch,tagsSearchCopy:p.tagsSearchCopy,placeholder:p.placeholder,caret:[p.caret].concat(a.value?p.caretOpen:[]),clear:p.clear,clearIcon:p.clearIcon,spinner:p.spinner,inifinite:p.inifinite,inifiniteSpinner:p.inifiniteSpinner,dropdown:[p.dropdown].concat(i.value==="top"?p.dropdownTop:[]).concat(!a.value||!o.value||!T.value?p.dropdownHidden:[]),options:[p.options].concat(i.value==="top"?p.optionsTop:[]),group:p.group,groupLabel:m=>{let C=[p.groupLabel];return l(m)?C.push(u(m)?p.groupLabelSelectedPointed:p.groupLabelPointed):u(m)&&d.value?C.push(c(m)?p.groupLabelSelectedDisabled:p.groupLabelSelected):c(m)&&C.push(p.groupLabelDisabled),d.value&&C.push(p.groupLabelPointable),C},groupOptions:p.groupOptions,option:(m,C)=>{let S=[p.option];return l(m)?S.push(u(m)?p.optionSelectedPointed:p.optionPointed):u(m)?S.push(c(m)?p.optionSelectedDisabled:p.optionSelected):(c(m)||C&&c(C))&&S.push(p.optionDisabled),S},noOptions:p.noOptions,noResults:p.noResults,assist:p.assist,fakeInput:p.fakeInput}}),showDropdown:T}}function Mw(e,t,n){const{limit:r,infinite:s}=xt(e),i=n.isOpen,o=n.offset,a=n.search,l=n.pfo,u=n.eo,c=$e(null),f=$e(null),d=ye(()=>o.value<l.value.length),y=w=>{const{isIntersecting:T,target:_}=w[0];if(T){const p=_.offsetParent,m=p.scrollTop;o.value+=r.value==-1?10:r.value,tn(()=>{p.scrollTop=m})}},v=()=>{i.value&&o.value<l.value.length?c.value.observe(f.value):!i.value&&c.value&&c.value.disconnect()};return Ze(i,()=>{!s.value||v()}),Ze(a,()=>{!s.value||(o.value=r.value,v())},{flush:"post"}),Ze(u,()=>{!s.value||v()},{immediate:!1,flush:"post"}),On(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(y))}),{hasMore:d,infiniteLoader:f}}function $w(e,t,n){const{placeholder:r,id:s,valueProp:i,label:o,mode:a,groupLabel:l,aria:u,searchable:c}=xt(e),f=n.pointer,d=n.iv,y=n.hasSelected,v=n.multipleLabelText,w=$e(null),T=ye(()=>{let O=[];return s&&s.value&&O.push(s.value),O.push("assist"),O.join("-")}),_=ye(()=>{let O=[];return s&&s.value&&O.push(s.value),O.push("multiselect-options"),O.join("-")}),p=ye(()=>{let O=[];if(s&&s.value&&O.push(s.value),f.value)return O.push(f.value.group?"multiselect-group":"multiselect-option"),O.push(f.value.group?f.value.index:f.value[i.value]),O.join("-")}),m=ye(()=>r.value),C=ye(()=>a.value!=="single"),S=ye(()=>{let O="";return a.value==="single"&&y.value&&(O+=d.value[o.value]),a.value==="multiple"&&y.value&&(O+=v.value),a.value==="tags"&&y.value&&(O+=d.value.map(L=>L[o.value]).join(", ")),O}),E=ye(()=>{let O={...u.value};return c.value&&(O["aria-labelledby"]=O["aria-labelledby"]?`${T.value} ${O["aria-labelledby"]}`:T.value,S.value&&O["aria-label"]&&(O["aria-label"]=`${S.value}, ${O["aria-label"]}`)),O}),I=O=>{let L=[];return s&&s.value&&L.push(s.value),L.push("multiselect-option"),L.push(O[i.value]),L.join("-")},h=O=>{let L=[];return s&&s.value&&L.push(s.value),L.push("multiselect-group"),L.push(O.index),L.join("-")},g=O=>{let L=[];return L.push(O[o.value]),L.join(" ")},k=O=>{let L=[];return L.push(O[l.value]),L.join(" ")},M=O=>`${O} \u274E`;return On(()=>{if(s&&s.value&&document&&document.querySelector){let O=document.querySelector(`[for="${s.value}"]`);w.value=O?O.innerText:null}}),{arias:E,ariaLabel:S,ariaAssist:T,ariaControls:_,ariaPlaceholder:m,ariaMultiselectable:C,ariaActiveDescendant:p,ariaOptionId:I,ariaOptionLabel:g,ariaGroupId:h,ariaGroupLabel:k,ariaTagLabel:M}}function Lw(e,t,n,r={}){return n.forEach(s=>{s&&(r={...r,...s(e,t,r)})}),r}var Je={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0}},setup(e,t){return Lw(e,t,[Cw,Sw,Iw,Ew,ww,Rw,Tw,Mw,Ow,Aw,Pw,$w])}};const Dw=["id","dir"],Bw=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Fw=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Nw=["onKeyup","aria-label"],Kw=["onClick"],jw=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Vw=["innerHTML"],Uw=["id"],Hw=["id","aria-label","aria-selected"],qw=["data-pointed","onMouseenter","onClick"],zw=["innerHTML"],Ww=["aria-label"],Gw=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Yw=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Xw=["innerHTML"],Qw=["innerHTML"],Jw=["value"],Zw=["name","value"],e1=["name","value"],t1=["id"];function n1(e,t,n,r,s,i){return N(),j("div",{ref:"multiselect",class:de(e.classList.container),id:n.searchable?void 0:n.id,dir:n.rtl?"rtl":void 0,onFocusin:t[10]||(t[10]=(...o)=>e.handleFocusIn&&e.handleFocusIn(...o)),onFocusout:t[11]||(t[11]=(...o)=>e.handleFocusOut&&e.handleFocusOut(...o)),onKeyup:t[12]||(t[12]=(...o)=>e.handleKeyup&&e.handleKeyup(...o)),onKeydown:t[13]||(t[13]=(...o)=>e.handleKeydown&&e.handleKeydown(...o))},[R("div",zn({class:e.classList.wrapper,onMousedown:t[9]||(t[9]=(...o)=>e.handleMousedown&&e.handleMousedown(...o)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":n.searchable?void 0:e.ariaControls,"aria-placeholder":n.searchable?void 0:e.ariaPlaceholder,"aria-expanded":n.searchable?void 0:e.isOpen,"aria-activedescendant":n.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":n.searchable?void 0:e.ariaMultiselectable,role:n.searchable?void 0:"combobox"},n.searchable?{}:e.arias),[te(" Search "),n.mode!=="tags"&&n.searchable&&!n.disabled?(N(),j("input",zn({key:0,type:n.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:n.autocomplete,id:n.searchable?n.id:void 0,onInput:t[0]||(t[0]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[1]||(t[1]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[2]||(t[2]=rt((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...n.attrs,...e.arias}),null,16,Fw)):te("v-if",!0),te(" Tags (with search) "),n.mode=="tags"?(N(),j("div",{key:1,class:de(e.classList.tags),"data-tags":""},[(N(!0),j(we,null,je(e.iv,(o,a,l)=>it(e.$slots,"tag",{option:o,handleTagRemove:e.handleTagRemove,disabled:n.disabled},()=>[(N(),j("span",{class:de(e.classList.tag),tabindex:"-1",onKeyup:Xr(u=>e.handleTagRemove(o,u),["enter"]),key:l,"aria-label":e.ariaTagLabel(o[n.label])},[ln(_e(o[n.label])+" ",1),n.disabled?te("v-if",!0):(N(),j("span",{key:0,class:de(e.classList.tagRemove),onClick:rt(u=>e.handleTagRemove(o,u),["stop"])},[R("span",{class:de(e.classList.tagRemoveIcon)},null,2)],10,Kw))],42,Nw))])),256)),R("div",{class:de(e.classList.tagsSearchWrapper),ref:"tags"},[te(" Used for measuring search width "),R("span",{class:de(e.classList.tagsSearchCopy)},_e(e.search),3),te(" Actual search input "),n.searchable&&!n.disabled?(N(),j("input",zn({key:0,type:n.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:n.searchable?n.id:void 0,autocomplete:n.autocomplete,onInput:t[3]||(t[3]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[4]||(t[4]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[5]||(t[5]=rt((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...n.attrs,...e.arias}),null,16,jw)):te("v-if",!0)],2)],2)):te("v-if",!0),te(" Single label "),n.mode=="single"&&e.hasSelected&&!e.search&&e.iv?it(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[R("div",{class:de(e.classList.singleLabel)},[R("span",{class:de(e.classList.singleLabelText)},_e(e.iv[n.label]),3)],2)]):te("v-if",!0),te(" Multiple label "),n.mode=="multiple"&&e.hasSelected&&!e.search?it(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[R("div",{class:de(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Vw)]):te("v-if",!0),te(" Placeholder "),n.placeholder&&!e.hasSelected&&!e.search?it(e.$slots,"placeholder",{key:4},()=>[R("div",{class:de(e.classList.placeholder),"aria-hidden":"true"},_e(n.placeholder),3)]):te("v-if",!0),te(" Spinner "),n.loading||e.resolving?it(e.$slots,"spinner",{key:5},()=>[R("span",{class:de(e.classList.spinner),"aria-hidden":"true"},null,2)]):te("v-if",!0),te(" Clear "),e.hasSelected&&!n.disabled&&n.canClear&&!e.busy?it(e.$slots,"clear",{key:6,clear:e.clear},()=>[R("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:de(e.classList.clear),onClick:t[6]||(t[6]=(...o)=>e.clear&&e.clear(...o)),onKeyup:t[7]||(t[7]=Xr((...o)=>e.clear&&e.clear(...o),["enter"]))},[R("span",{class:de(e.classList.clearIcon)},null,2)],34)]):te("v-if",!0),te(" Caret "),n.caret&&n.showOptions?it(e.$slots,"caret",{key:7},()=>[R("span",{class:de(e.classList.caret),onClick:t[8]||(t[8]=(...o)=>e.handleCaretClick&&e.handleCaretClick(...o)),"aria-hidden":"true"},null,2)]):te("v-if",!0)],16,Bw),te(" Options "),R("div",{class:de(e.classList.dropdown),tabindex:"-1"},[it(e.$slots,"beforelist",{options:e.fo}),R("ul",{class:de(e.classList.options),id:e.ariaControls,role:"listbox"},[n.groups?(N(!0),j(we,{key:0},je(e.fg,(o,a,l)=>(N(),j("li",{class:de(e.classList.group),key:l,id:e.ariaGroupId(o),"aria-label":e.ariaGroupLabel(o),"aria-selected":e.isSelected(o),role:"option"},[R("div",{class:de(e.classList.groupLabel(o)),"data-pointed":e.isPointed(o),onMouseenter:u=>e.setPointer(o,a),onClick:u=>e.handleGroupClick(o)},[it(e.$slots,"grouplabel",{group:o,isSelected:e.isSelected,isPointed:e.isPointed},()=>[R("span",{innerHTML:o[n.groupLabel]},null,8,zw)])],42,qw),R("ul",{class:de(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(o),role:"group"},[(N(!0),j(we,null,je(o.__VISIBLE__,(u,c,f)=>(N(),j("li",{class:de(e.classList.option(u,o)),"data-pointed":e.isPointed(u),"data-selected":e.isSelected(u)||void 0,key:f,onMouseenter:d=>e.setPointer(u),onClick:d=>e.handleOptionClick(u),id:e.ariaOptionId(u),"aria-selected":e.isSelected(u),"aria-label":e.ariaOptionLabel(u),role:"option"},[it(e.$slots,"option",{option:u,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[R("span",null,_e(u[n.label]),1)])],42,Gw))),128))],10,Ww)],10,Hw))),128)):(N(!0),j(we,{key:1},je(e.fo,(o,a,l)=>(N(),j("li",{class:de(e.classList.option(o)),"data-pointed":e.isPointed(o),"data-selected":e.isSelected(o)||void 0,key:l,onMouseenter:u=>e.setPointer(o),onClick:u=>e.handleOptionClick(o),id:e.ariaOptionId(o),"aria-selected":e.isSelected(o),"aria-label":e.ariaOptionLabel(o),role:"option"},[it(e.$slots,"option",{option:o,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[R("span",null,_e(o[n.label]),1)])],42,Yw))),128))],10,Uw),e.noOptions?it(e.$slots,"nooptions",{key:0},()=>[R("div",{class:de(e.classList.noOptions),innerHTML:n.noOptionsText},null,10,Xw)]):te("v-if",!0),e.noResults?it(e.$slots,"noresults",{key:1},()=>[R("div",{class:de(e.classList.noResults),innerHTML:n.noResultsText},null,10,Qw)]):te("v-if",!0),n.infinite&&e.hasMore?(N(),j("div",{key:2,class:de(e.classList.inifinite),ref:"infiniteLoader"},[it(e.$slots,"infinite",{},()=>[R("span",{class:de(e.classList.inifiniteSpinner)},null,2)])],2)):te("v-if",!0),it(e.$slots,"afterlist",{options:e.fo})],2),te(" Hacky input element to show HTML5 required warning "),n.required?(N(),j("input",{key:0,class:de(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Jw)):te("v-if",!0),te(" Native input support "),n.nativeSupport?(N(),j(we,{key:1},[n.mode=="single"?(N(),j("input",{key:0,type:"hidden",name:n.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Zw)):(N(!0),j(we,{key:1},je(e.plainValue,(o,a)=>(N(),j("input",{type:"hidden",name:`${n.name}[]`,value:o,key:a},null,8,e1))),128))],64)):te("v-if",!0),te(" Screen reader assistive text "),n.searchable&&e.hasSelected?(N(),j("div",{key:2,class:de(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},_e(e.ariaLabel),11,t1)):te("v-if",!0),te(" Create height for empty input "),R("div",{class:de(e.classList.spacer)},null,2)],42,Dw)}Je.render=n1;Je.__file="src/Multiselect.vue";let $i;const r1=new Uint8Array(16);function s1(){if(!$i&&($i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $i(r1)}const at=[];for(let e=0;e<256;++e)at.push((e+256).toString(16).slice(1));function i1(e,t=0){return(at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]).toLowerCase()}const o1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ef={randomUUID:o1};function a1(e,t,n){if(ef.randomUUID&&!t&&!e)return ef.randomUUID();e=e||{};const r=e.random||(e.rng||s1)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return i1(r)}const l1={class:"icons"},u1=["data-colour"],c1=["value","id"],f1=["for"],d1={__name:"Colours",emits:["update:modelValue"],setup(e,{emit:t}){const n={White:"W",Blue:"U",Black:"B",Red:"R",Green:"G",Colourless:"C"},r=Xe({colours:[]}),s={Azorius:["U","W"],Boros:["R","W"],Dimir:["B","U"],Golgari:["B","G"],Gruul:["G","R"],Izzet:["R","U"],Orzhov:["B","W"],Rakdos:["B","R"],Selesnya:["G","W"],Simic:["G","U"]},i={Abzan:["B","G","W"],Bant:["G","U","W"],Esper:["B","U","W"],Grixis:["B","R","U"],Jeskai:["R","U","W"],Jund:["B","G","R"],Mardu:["B","R","W"],Naya:["G","R","W"],Sultai:["B","G","U"],Temur:["G","R","U"]},o={Glint:"W",Dune:"U",Ink:"B",Witch:"R",Yore:"G"},a=a1();Cr(()=>{t("update:modelValue",r.colours)});const l=u=>{let c=[...u].sort();if(u.length===2){for(const[f,d]of Object.entries(s))if(c.every((y,v)=>y===d[v]))return f}else if(u.length===3){for(const[f,d]of Object.entries(i))if(c.every((y,v)=>y===d[v]))return f}else if(u.length===4){for(const[f,d]of Object.entries(o))if(!u.includes(d))return f}return""};return(u,c)=>(N(),j("div",l1,[(N(),j(we,null,je(n,f=>R("div",{class:de(["input-group colour",r.colours.includes(f)?"selected":""]),"data-colour":f,key:f},[Oe(R("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=d=>r.colours=d),value:f,id:P(a)+f},null,8,c1),[[jn,r.colours]]),R("label",{for:P(a)+f,class:de("icon icon-"+f)},null,10,f1)],10,u1)),64)),R("h3",null,_e(r.colours.length>1?`${l(r.colours)}`:""),1)]))}},h1=qe(d1,[["__scopeId","data-v-bdafe7b4"]]);const ap=e=>(on("data-v-d4f7c2f2"),e=e(),an(),e),p1={class:"filter-group rarities"},g1=["data-rarity"],m1=["onUpdate:modelValue","value","id"],v1=["for","title"],y1={class:"filter-group colours"},_1={class:"filter-group"},b1={class:"filter-group mana"},w1={class:"filter-group price"},C1={class:"filter-group"},E1={class:"filter-group"},S1={class:"filter-group"},k1={class:"filter-group"},x1={key:0,class:"filter-group"},T1={key:1,class:"filter-group compare"},O1={class:"header"},I1=ap(()=>R("h3",null,"Compare",-1)),R1={class:"grid"},A1=["id","value"],P1=["for"],M1=["id","value"],$1=["for"],L1=["id","value"],D1=["for"],B1={class:"filter-group quantity"},F1={class:"filter-group"},N1=ap(()=>R("h3",null,"Other",-1)),K1={__name:"Filters",setup(e){const t=$t(),n=Wt(),r=Yt(),s=["special","mythic","rare","uncommon","common"];return(i,o)=>(N(),j(we,null,[R("div",p1,[(N(),j(we,null,je(s,a=>R("div",{class:"input-group rarity","data-rarity":a,key:a},[Oe(R("input",{type:"checkbox","onUpdate:modelValue":l=>P(n).filters.rarity=l,value:a,id:a},null,8,m1),[[jn,P(n).filters.rarity]]),R("label",{for:a,title:a},null,8,v1)],8,g1)),64))]),R("div",y1,[ie(P(Je),{options:{commander:"Commader colours",exact:"Has exactly these colours",all:"Has all of these colours",any:"Has any of these colours"},modelValue:P(n).filters.colours.mode,"onUpdate:modelValue":o[0]||(o[0]=a=>P(n).filters.colours.mode=a),placeholder:"Colour mode","can-clear":!1},null,8,["modelValue"]),ie(h1,{modelValue:P(n).filters.colours.colours,"onUpdate:modelValue":o[1]||(o[1]=a=>P(n).filters.colours.colours=a)},null,8,["modelValue"])]),R("div",_1,[Oe(R("input",{type:"search","onUpdate:modelValue":o[2]||(o[2]=a=>P(n).filters.name=a),placeholder:"Name"},null,512),[[Ue,P(n).filters.name]])]),R("div",b1,[Oe(R("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=a=>P(n).filters.mana.value[0]=a),placeholder:"Mana (min)"},null,512),[[Ue,P(n).filters.mana.value[0]]]),Oe(R("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=a=>P(n).filters.mana.value[1]=a),placeholder:"Mana (max)"},null,512),[[Ue,P(n).filters.mana.value[1]]])]),R("div",w1,[Oe(R("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=a=>P(n).filters.price.value[0]=a),placeholder:"Price (min)"},null,512),[[Ue,P(n).filters.price.value[0]]]),Oe(R("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=a=>P(n).filters.price.value[1]=a),placeholder:"Price (max)"},null,512),[[Ue,P(n).filters.price.value[1]]])]),R("div",C1,[ie(P(Je),{modelValue:P(n).filters.tribes,"onUpdate:modelValue":o[7]||(o[7]=a=>P(n).filters.tribes=a),options:P(r).types,searchable:!0,mode:"tags","create-option":!0,placeholder:"Types"},null,8,["modelValue","options"])]),R("div",E1,[ie(P(Je),{modelValue:P(n).filters.keywords,"onUpdate:modelValue":o[8]||(o[8]=a=>P(n).filters.keywords=a),options:P(n).keywords,searchable:!0,mode:"tags",placeholder:"Keywords"},null,8,["modelValue","options"])]),R("div",S1,[Oe(R("input",{type:"search","onUpdate:modelValue":o[9]||(o[9]=a=>P(n).filters.cardText=a),placeholder:"Card text"},null,512),[[Ue,P(n).filters.cardText]])]),R("div",k1,[ie(P(Je),{modelValue:P(n).filters.sets,"onUpdate:modelValue":o[10]||(o[10]=a=>P(n).filters.sets=a),options:P(r).sets,searchable:!0,label:"name","value-prop":"code",mode:"tags",placeholder:"Sets"},null,8,["modelValue","options"])]),P(n).tags.length>0?(N(),j("div",x1,[ie(P(Je),{modelValue:P(n).filters.tags,"onUpdate:modelValue":o[11]||(o[11]=a=>P(n).filters.tags=a),options:[...P(n).tags],searchable:!0,mode:"tags",placeholder:"Tags"},null,8,["modelValue","options"])])):te("",!0),P(t).names.length>0?(N(),j("div",T1,[R("div",O1,[I1,R("a",{href:"#",onClick:o[12]||(o[12]=()=>{P(n).filters.incCol=[],P(n).filters.excCol=[]})},"X")]),R("div",R1,[(N(!0),j(we,null,je(P(t).names,a=>(N(),j(we,{key:a},[R("div",null,_e(a),1),R("div",null,[Oe(R("input",{type:"checkbox",id:a+"-cmp","onUpdate:modelValue":o[13]||(o[13]=l=>P(n).filters.cmpCol=l),value:a},null,8,A1),[[jn,P(n).filters.cmpCol]]),R("label",{class:"cmp icon icon-compare_arrows",for:a+"-cmp"},null,8,P1)]),R("div",null,[Oe(R("input",{type:"checkbox",id:a+"-inc","onUpdate:modelValue":o[14]||(o[14]=l=>P(n).filters.incCol=l),value:a},null,8,M1),[[jn,P(n).filters.incCol]]),R("label",{class:"inc",for:a+"-inc"},null,8,$1)]),R("div",null,[Oe(R("input",{type:"checkbox",id:a+"-exc","onUpdate:modelValue":o[15]||(o[15]=l=>P(n).filters.excCol=l),value:a},null,8,L1),[[jn,P(n).filters.excCol]]),R("label",{class:"exc",for:a+"-exc"},null,8,D1)])],64))),128))])])):te("",!0),ie(P(Je),{modelValue:P(n).filters.finish,"onUpdate:modelValue":o[16]||(o[16]=a=>P(n).filters.finish=a),options:["nonfoil","foil","etched"],mode:"single",placeholder:"Finish"},null,8,["modelValue"]),ie(P(Je),{modelValue:P(n).filters.border,"onUpdate:modelValue":o[17]||(o[17]=a=>P(n).filters.border=a),options:["borderless","black","white"],mode:"single",placeholder:"Border"},null,8,["modelValue"]),R("div",B1,[Oe(R("input",{type:"number","onUpdate:modelValue":o[18]||(o[18]=a=>P(n).filters.quantity.value[0]=a),placeholder:"Count (min)"},null,512),[[Ue,P(n).filters.quantity.value[0]]]),Oe(R("input",{type:"number","onUpdate:modelValue":o[19]||(o[19]=a=>P(n).filters.quantity.value[1]=a),placeholder:"Count (max)"},null,512),[[Ue,P(n).filters.quantity.value[1]]])]),R("div",F1,[N1,ie(P(Je),{options:["Name"],mode:"single",placeholder:"Group by",modelValue:P(n).filters.group,"onUpdate:modelValue":o[20]||(o[20]=a=>P(n).filters.group=a)},null,8,["modelValue"])])],64))}},lp=qe(K1,[["__scopeId","data-v-d4f7c2f2"]]),ls=In("details",{state:()=>({card:{},rulings:[]}),actions:{async loadDetails(e,t=!1){if(this.rulings=[],this.card=e,t){const n=await caches.open("cardDataCache"),r=await Un(n,e.rulings_uri);this.rulings=r.data}}}});const j1=["srcset"],V1=["src"],U1=["src"],H1={__name:"CardImage",props:{card:{type:Object,required:!0},effects:{type:Array,default:()=>[]},actions:{type:Array,default:()=>["clip","delete","prints"]}},setup(e){const t=e;return(n,r)=>(N(),j("div",{class:de(["img",{[t.card.finish]:!0,[t.effects]:!0}])},[t.card.image_uris?(N(),j("img",{key:0,srcset:`${t.card.image_uris.normal}, ${t.card.image_uris.large} 2x, ${t.card.image_uris.large} 400w`,loading:"lazy"},null,8,j1)):te("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(N(),j("img",{key:1,class:"flip front",src:t.card.card_faces[0].image_uris.normal,loading:"lazy"},null,8,V1)):te("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(N(),j("img",{key:2,class:"flip back",src:t.card.card_faces[1].image_uris.normal,loading:"lazy"},null,8,U1)):te("",!0)],2))}},Ho=qe(H1,[["__scopeId","data-v-cbc21c85"]]);const q1={class:"prices"},z1={__name:"Prices",props:{card:{type:Object,required:!0},all:{type:Boolean,default:!0}},setup(e){const t=e,n=Yt(),r={nonfoil:"",etched:"#",foil:"\u2606"};return(s,i)=>(N(),j("span",q1,[(N(!0),j(we,null,je(t.card.finishes,o=>(N(),j("span",{key:o},[o==="nonfoil"?Oe((N(),j("span",{key:0,class:de(["price",o===t.card.finish?"match":""])},_e(r[o])+" "+_e(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t.card.prices.eur*P(n).forex.eur||t.card.prices.usd*P(n).forex.usd)),3)),[[Ct,t.all||t.card.finish===o]]):Oe((N(),j("span",{key:1,class:de(["price",o===t.card.finish?"match":""])},_e(r[o])+" "+_e(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t.card.prices["eur_"+o]*P(n).forex.eur||t.card.prices["usd_"+o]*P(n).forex.usd)),3)),[[Ct,t.all||t.card.finish===o]])]))),128))]))}},up=qe(z1,[["__scopeId","data-v-1a763385"]]);const W1={class:"details"},G1={class:"name"},Y1={class:"set-line"},X1=["href"],Q1={class:"tags"},J1={__name:"CardSummary",props:{card:{type:Object,required:!0}},setup(e){const t=e,n={nonfoil:"",etched:"#",foile:"\u2606"};return(r,s)=>(N(),j("div",W1,[R("span",G1,_e(t.card.count)+" "+_e(t.card.name)+" "+_e(n[t.card.finish]),1),R("span",Y1,[ln(_e(t.card.set_name)+" ",1),t.card.purchase_uris?(N(),j("a",{key:0,href:t.card.purchase_uris.cardmarket,target:"_blank",class:"set-id"},_e(t.card.set)+":"+_e(t.card.collector_number),9,X1)):te("",!0)]),ie(up,{card:t.card},null,8,["card"]),R("div",Q1,[(N(!0),j(we,null,je(t.card.tags,i=>(N(),j("div",{class:"tag",key:i},_e(i),1))),128)),t.card.promo_types?(N(!0),j(we,{key:0},je(t.card.promo_types.filter(i=>i!=="boosterfun"),i=>(N(),j("div",{class:"tag",key:i},_e(i),1))),128)):te("",!0)])]))}},Cu=qe(J1,[["__scopeId","data-v-cc41c299"]]);const Z1={class:"buttons"},eC={__name:"CardActions",props:{card:{type:Object,required:!0},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints","edit"]}},emits:["select","deselect"],setup(e,{emit:t}){const n=e,r=li(),s=Wt(),i=$t(),o=op(),a=rr(),l=Wt(),u=async f=>{let d={...f};d.count=1,r.add(d),await i.save("clipboard",r.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")},c=async f=>{confirm(`Are you sure you want to delete ${f.name} from ${i.open.join(", ")}`)&&(await i.deleteCard(i.open,f),s.delete(f))};return(f,d)=>(N(),j("div",Z1,[n.actions.includes("select")&&!P(l).selected.has(e.card.id+e.card.finish)?(N(),j("button",{key:0,class:"small select icon icon-check",onClick:d[0]||(d[0]=rt(()=>{t("select")},["stop"])),title:"Select"})):te("",!0),n.actions.includes("deselect")&&P(l).selected.has(e.card.id+e.card.finish)?(N(),j("button",{key:1,class:"small deselect icon icon-clear",onClick:d[1]||(d[1]=rt(()=>{t("deselect")},["stop"])),title:"Deselect"})):te("",!0),n.actions.includes("prints")?(N(),j("button",{key:2,class:"small prints icon icon-prints",onClick:d[2]||(d[2]=rt(()=>{P(o).loadPrints(n.card.name),P(a).showSidebar("prints")},["stop"])),title:"View all prints"})):te("",!0),n.actions.includes("clip")?(N(),j("button",{key:3,class:"small clip icon icon-add",onClick:d[3]||(d[3]=rt(y=>u(e.card),["stop"])),title:"Add to clipboard"})):te("",!0),n.actions.includes("edit")&&P(a).source==="collection"?(N(),j("button",{key:4,class:"small edit icon icon-edit",onClick:d[4]||(d[4]=rt(()=>{P(a).edit.card=n.card,P(a).showSidebar("edit")},["stop"])),title:"Edit"})):te("",!0),n.actions.includes("delete")&&P(a).source==="collection"?(N(),j("button",{key:5,class:"small delete icon icon-delete",onClick:d[5]||(d[5]=rt(()=>{c(e.card),P(a).details.show=!1,P(a).details.card={}},["stop"])),title:"Delete"})):te("",!0)]))}},cp=qe(eC,[["__scopeId","data-v-ff4900fd"]]);const tC=["data-id"],nC={class:"wrap"},rC={__name:"Card",props:{card:{type:Object,required:!0},index:{type:Number,default:0},selected:{type:Boolean,default:!1},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints"]}},emits:["clicked","select","deselect"],setup(e,{emit:t}){const n=e,r=Wt(),s=a=>{if(r.filters.cmpCol.length>0)return!r.have.get(a.oracle_id)?["missing"]:["selected"];if([...r.selected].length>0)return r.selected.has(a.id+a.finish)?["selected"]:["missing"]},i=a=>{},o=a=>{};return(a,l)=>(N(),j("div",{class:de(["card",{selected:n.selected}]),"data-id":n.card.id,onSelect:l[3]||(l[3]=u=>t("select")),onDeselect:l[4]||(l[4]=u=>t("deselect"))},[R("div",nC,[ie(Ho,{card:n.card,effects:s(e.card),onTouchstart:i,onTouchend:o,onClick:l[0]||(l[0]=rt(u=>t("clicked"),["stop"]))},null,8,["card","effects"]),ie(cp,{card:n.card,actions:n.selected?n.actions.concat(["deselect"]):n.actions,onSelect:l[1]||(l[1]=u=>t("select")),onDeselect:l[2]||(l[2]=u=>t("deselect"))},null,8,["card","actions"])]),ie(Cu,{card:n.card},null,8,["card"])],42,tC))}},sC=qe(rC,[["__scopeId","data-v-0da32d91"]]);const iC=e=>(on("data-v-d4e663f2"),e=e(),an(),e),oC={key:0,class:"loader"},aC=iC(()=>R("span",null,"Loading",-1)),lC=[aC],uC={__name:"CardView",props:{store:{type:Object,required:!0},actions:{type:Array,default:()=>["select","clip","delete","details","prints"]}},setup(e){const t=e,n=rr(),r=ls();return(s,i)=>(N(),j(we,null,[t.store.loading?(N(),j("div",oC,lC)):te("",!0),R("div",{class:"cards",style:Gt({"font-size":18+P(n).zoom*2+"px","grid-template-columns":`repeat(${P(n).columns}, 1fr)`})},[(N(!0),j(we,null,je(t.store.filtered.slice(0,500),(o,a)=>(N(),ot(sC,{card:o,index:a,actions:t.actions,key:o.id+o.finish,class:de({commander:o.isCommander}),selected:t.store.selected.has(o.id+o.finish),onSelect:l=>t.store.selected.add(o.id+o.finish),onDeselect:l=>t.store.selected.delete(o.id+o.finish),onClicked:()=>{P(r).loadDetails(o,s.includeRulings=!0),P(n).details.show=!0,P(n).details.index=a}},null,8,["card","index","actions","class","selected","onSelect","onDeselect","onClicked"]))),128))],4)],64))}},fp=qe(uC,[["__scopeId","data-v-d4e663f2"]]);const cC=["innerHTML"],fC={__name:"ManaCost",props:{mana:{type:String,required:!0}},setup(e){const t=e,n=Yt(),r=s=>{if(!s)return"";const i=/(\{[aA-zZ0-9/]+\})/g;return s=s.replace(i,(o,a)=>`<img class='symbol' src='${n.symbols.get(a)}' />`),s};return(s,i)=>t.mana?(N(),j("span",{key:0,class:"icons",innerHTML:r(t.mana)},null,8,cC)):te("",!0)}},dp=qe(fC,[["__scopeId","data-v-8425a113"]]);const dC={class:"scroll"},hC={class:"groups"},pC={class:"cards"},gC=["onMouseover"],mC={class:"name"},vC={key:0,class:"mana"},yC={class:"price"},_C={__name:"CardList",props:{cards:{type:Array,required:!0},loading:Boolean,view:{type:String,default:"list"},actions:{type:Array,default:()=>["clip","delete","prints"]}},emits:["clip","viewPrints","delete"],setup(e,{emit:t}){const n=e,r=["Commander","Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],s=Xe({groups:new Map}),i=ls();return Cr(()=>{const o=new Map;for(const a of r)o.set(a,[]);for(const a of n.cards.slice(0,200)){if(a.isCommander){o.set("Commander",[a]);continue}o.get(a.type).push(a)}s.groups=o}),(o,a)=>(N(),j("div",dC,[R("div",hC,[(N(!0),j(we,null,je(s.groups.entries(),([l,u])=>(N(),j("div",{class:"group",key:l},[R("h3",null,_e(l),1),R("div",pC,[(N(!0),j(we,null,je(u,c=>(N(),j("div",{class:de(["card",c.finish]),key:c.id+c.finish,onMouseover:f=>P(i).loadDetails(c)},[R("div",mC,_e(c.finish==="foil"?"\u2606":"")+" "+_e(c.finish==="etched"?"#":"")+" "+_e(c.count)+" "+_e(c.name),1),c.mana_cost?(N(),j("div",vC,[ie(dp,{mana:c.mana_cost},null,8,["mana"])])):te("",!0),R("div",yC,[ie(up,{card:c,all:!1},null,8,["card"])])],42,gC))),128))])]))),128))])]))}},bC=qe(_C,[["__scopeId","data-v-2a01796d"]]);const qo=e=>(on("data-v-8fd40fd6"),e=e(),an(),e),wC={class:"precon"},CC={class:"flex"},EC=qo(()=>R("span",null,"+",-1)),SC=[EC],kC={class:"form"},xC=qo(()=>R("label",{for:"name"},"Name",-1)),TC=qo(()=>R("label",{for:"set"},"Set Code",-1)),OC=qo(()=>R("label",{for:"name"},"Commander",-1)),IC={__name:"Precon",emits:["close"],setup(e,{emit:t}){const n=Yt(),r=ti(),s="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",i=Xe({name:"",set:"",cards:""}),o=async()=>{const a=/([0-9]+) (.+)/g,l=i.cards.matchAll(a),u=[];for(const c of l)u.push({count:parseInt(c[1]),name:c[2].trim()});await lo(s+"/precon",{name:i.name,commander:i.commander,set:i.set,cards:u}),r(`Uploaded ${i.name}`)};return(a,l)=>(N(),j("div",wC,[R("div",CC,[R("button",{class:"small close",onClick:l[0]||(l[0]=u=>t("close"))},SC),R("div",kC,[xC,Oe(R("input",{id:"name",type:"text","onUpdate:modelValue":l[1]||(l[1]=u=>i.name=u)},null,512),[[Ue,i.name]]),TC,ie(P(Je),{modelValue:i.set,"onUpdate:modelValue":l[2]||(l[2]=u=>i.set=u),options:P(n).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set"},null,8,["modelValue","options"]),OC,Oe(R("input",{id:"name",type:"text","onUpdate:modelValue":l[3]||(l[3]=u=>i.commander=u)},null,512),[[Ue,i.commander]]),Oe(R("textarea",{"onUpdate:modelValue":l[4]||(l[4]=u=>i.cards=u)},null,512),[[Ue,i.cards]]),R("button",{onClick:o}," Upload ")])])]))}},RC=qe(IC,[["__scopeId","data-v-8fd40fd6"]]),AC=R("h3",null,"Prints",-1),PC={class:"prints"},MC={__name:"PrintsView",emits:["changed"],setup(e,{emit:t}){const n=op();return(r,s)=>(N(),j(we,null,[AC,R("div",PC,[ie(fp,{store:P(n),actions:["clip"]},null,8,["store"])])],64))}};const $C=e=>(on("data-v-6a082a4d"),e=e(),an(),e),LC={class:"oracle-text"},DC=["innerHTML"],BC={key:0,class:"rulings"},FC=$C(()=>R("summary",null," Rulings ",-1)),NC={class:"list"},KC={__name:"CardDetails",props:{card:{type:Object,required:!0},face:{type:Number,default:0}},emits:["changed"],setup(e,{emit:t}){const n=e,r=ls(),s=Yt(),i=Wt(),o=l=>{if(!l)return"";const u=/(\{[aA-zZ0-9/]+\})/g;return l=l.replace(u,(c,f)=>`<img class='symbol' src='${s.symbols.get(f)}' />`),l},a=l=>{navigator.clipboard.writeText(JSON.stringify(l,null,2))};return(l,u)=>(N(),j(we,null,[ie(cp,{card:n.card,onSelect:u[0]||(u[0]=c=>P(i).selected.add(e.card.id+e.card.finish)),onDeselect:u[1]||(u[1]=c=>P(i).selected.delete(e.card.id+e.card.finish))},null,8,["card"]),ie(Cu,{card:n.card},null,8,["card"]),(N(!0),j(we,null,je(n.card.card_faces||[n.card],(c,f)=>{var d;return N(),j("div",{class:de(["face",{show:n.face===f}]),key:c+f},[R("div",LC,[(N(!0),j(we,null,je((d=c.oracle_text)==null?void 0:d.split(`
`),(y,v)=>(N(),j("div",{key:"oracle"+v},[R("span",{innerHTML:o(y)},null,8,DC)]))),128))])],2)}),128)),P(r).rulings.length>0?(N(),j("div",BC,[R("details",{onClick:u[2]||(u[2]=rt(()=>{},["stop"]))},[FC,R("div",NC,[(N(!0),j(we,null,je(P(r).rulings,(c,f)=>(N(),j("div",{class:"ruling",key:f},[R("span",{class:de({header:c.comment.startsWith("----------")})},_e(c.comment.replaceAll("----------","")),3)]))),128))])])])):te("",!0),R("a",{onClick:u[3]||(u[3]=c=>a(n.card))}," Copy Json ")],64))}},hp=qe(KC,[["__scopeId","data-v-6a082a4d"]]);var pp={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(fw,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=s&&/blob:/i.test((r.location||{}).protocol),o={},a=0,l={parse:function(h,g){var k=(g=g||{}).dynamicTyping||!1;if(I(k)&&(g.dynamicTypingFunction=k,k={}),g.dynamicTyping=k,g.transform=!!I(g.transform)&&g.transform,g.worker&&l.WORKERS_SUPPORTED){var M=function(){if(!l.WORKERS_SUPPORTED)return!1;var L=(H=r.URL||r.webkitURL||null,re=n.toString(),l.BLOB_URL||(l.BLOB_URL=H.createObjectURL(new Blob(["(",re,")();"],{type:"text/javascript"})))),B=new r.Worker(L),H,re;return B.onmessage=p,B.id=a++,o[B.id]=B}();return M.userStep=g.step,M.userChunk=g.chunk,M.userComplete=g.complete,M.userError=g.error,g.step=I(g.step),g.chunk=I(g.chunk),g.complete=I(g.complete),g.error=I(g.error),delete g.worker,void M.postMessage({input:h,config:g,workerId:M.id})}var O=null;return l.NODE_STREAM_INPUT,typeof h=="string"?O=g.download?new f(g):new y(g):h.readable===!0&&I(h.read)&&I(h.on)?O=new v(g):(r.File&&h instanceof File||h instanceof Object)&&(O=new d(g)),O.stream(h)},unparse:function(h,g){var k=!1,M=!0,O=",",L=`\r
`,B='"',H=B+B,re=!1,z=null,X=!1;(function(){if(typeof g=="object"){if(typeof g.delimiter!="string"||l.BAD_DELIMITERS.filter(function(G){return g.delimiter.indexOf(G)!==-1}).length||(O=g.delimiter),(typeof g.quotes=="boolean"||typeof g.quotes=="function"||Array.isArray(g.quotes))&&(k=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(re=g.skipEmptyLines),typeof g.newline=="string"&&(L=g.newline),typeof g.quoteChar=="string"&&(B=g.quoteChar),typeof g.header=="boolean"&&(M=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");z=g.columns}g.escapeChar!==void 0&&(H=g.escapeChar+B),(typeof g.escapeFormulae=="boolean"||g.escapeFormulae instanceof RegExp)&&(X=g.escapeFormulae instanceof RegExp?g.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ee=new RegExp(T(B),"g");if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return me(null,h,re);if(typeof h[0]=="object")return me(z||Object.keys(h[0]),h,re)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||z),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),me(h.fields||[],h.data||[],re);throw new Error("Unable to serialize unrecognized input");function me(G,ge,Te){var A="";typeof G=="string"&&(G=JSON.parse(G)),typeof ge=="string"&&(ge=JSON.parse(ge));var V=Array.isArray(G)&&0<G.length,q=!Array.isArray(ge[0]);if(V&&M){for(var se=0;se<G.length;se++)0<se&&(A+=O),A+=oe(G[se],se);0<ge.length&&(A+=L)}for(var Z=0;Z<ge.length;Z++){var ve=V?G.length:ge[Z].length,ue=!1,b=V?Object.keys(ge[Z]).length===0:ge[Z].length===0;if(Te&&!V&&(ue=Te==="greedy"?ge[Z].join("").trim()==="":ge[Z].length===1&&ge[Z][0].length===0),Te==="greedy"&&V){for(var x=[],$=0;$<ve;$++){var K=q?G[$]:$;x.push(ge[Z][K])}ue=x.join("").trim()===""}if(!ue){for(var F=0;F<ve;F++){0<F&&!b&&(A+=O);var Y=V&&q?G[F]:F;A+=oe(ge[Z][Y],F)}Z<ge.length-1&&(!Te||0<ve&&!b)&&(A+=L)}}return A}function oe(G,ge){if(G==null)return"";if(G.constructor===Date)return JSON.stringify(G).slice(1,25);var Te=!1;X&&typeof G=="string"&&X.test(G)&&(G="'"+G,Te=!0);var A=G.toString().replace(ee,H);return(Te=Te||k===!0||typeof k=="function"&&k(G,ge)||Array.isArray(k)&&k[ge]||function(V,q){for(var se=0;se<q.length;se++)if(-1<V.indexOf(q[se]))return!0;return!1}(A,l.BAD_DELIMITERS)||-1<A.indexOf(O)||A.charAt(0)===" "||A.charAt(A.length-1)===" ")?B+A+B:A}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=_,l.ParserHandle=w,l.NetworkStreamer=f,l.FileStreamer=d,l.StringStreamer=y,l.ReadableStreamStreamer=v,r.jQuery){var u=r.jQuery;u.fn.parse=function(h){var g=h.config||{},k=[];return this.each(function(L){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)k.push({file:this.files[B],inputElem:this,instanceConfig:u.extend({},g)})}),M(),this;function M(){if(k.length!==0){var L,B,H,re,z=k[0];if(I(h.before)){var X=h.before(z.file,z.inputElem);if(typeof X=="object"){if(X.action==="abort")return L="AbortError",B=z.file,H=z.inputElem,re=X.reason,void(I(h.error)&&h.error({name:L},B,H,re));if(X.action==="skip")return void O();typeof X.config=="object"&&(z.instanceConfig=u.extend(z.instanceConfig,X.config))}else if(X==="skip")return void O()}var ee=z.instanceConfig.complete;z.instanceConfig.complete=function(me){I(ee)&&ee(me,z.file,z.inputElem),O()},l.parse(z.file,z.instanceConfig)}else I(h.complete)&&h.complete()}function O(){k.splice(0,1),M()}}}function c(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(g){var k=S(g);k.chunkSize=parseInt(k.chunkSize),g.step||g.chunk||(k.chunkSize=null),this._handle=new w(k),(this._handle.streamer=this)._config=k}.call(this,h),this.parseChunk=function(g,k){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var M=this._config.beforeFirstChunk(g);M!==void 0&&(g=M)}this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+g;this._partialLine="";var L=this._handle.parse(O,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var B=L.meta.cursor;this._finished||(this._partialLine=O.substring(B-this._baseIndex),this._baseIndex=B),L&&L.data&&(this._rowCount+=L.data.length);var H=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:L,workerId:l.WORKER_ID,finished:H});else if(I(this._config.chunk)&&!k){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);L=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!H||!I(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(g){I(this._config.error)?this._config.error(g):i&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:g,finished:!1})}}function f(h){var g;(h=h||{}).chunkSize||(h.chunkSize=l.RemoteChunkSize),c.call(this,h),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=E(this._chunkLoaded,this),g.onerror=E(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var k=this._config.downloadRequestHeaders;for(var M in k)g.setRequestHeader(M,k[M])}if(this._config.chunkSize){var O=this._start+this._config.chunkSize-1;g.setRequestHeader("Range","bytes="+this._start+"-"+O)}try{g.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:g.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(k){var M=k.getResponseHeader("Content-Range");return M===null?-1:parseInt(M.substring(M.lastIndexOf("/")+1))}(g),this.parseChunk(g.responseText)))},this._chunkError=function(k){var M=g.statusText||k;this._sendError(new Error(M))}}function d(h){var g,k;(h=h||{}).chunkSize||(h.chunkSize=l.LocalChunkSize),c.call(this,h);var M=typeof FileReader<"u";this.stream=function(O){this._input=O,k=O.slice||O.webkitSlice||O.mozSlice,M?((g=new FileReader).onload=E(this._chunkLoaded,this),g.onerror=E(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input;if(this._config.chunkSize){var L=Math.min(this._start+this._config.chunkSize,this._input.size);O=k.call(O,this._start,L)}var B=g.readAsText(O,this._config.encoding);M||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(g.error)}}function y(h){var g;c.call(this,h=h||{}),this.stream=function(k){return g=k,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var k,M=this._config.chunkSize;return M?(k=g.substring(0,M),g=g.substring(M)):(k=g,g=""),this._finished=!g,this.parseChunk(k)}}}function v(h){c.call(this,h=h||{});var g=[],k=!0,M=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):k=!0},this._streamData=E(function(O){try{g.push(typeof O=="string"?O:O.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(L){this._streamError(L)}},this),this._streamError=E(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=E(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(h){var g,k,M,O=Math.pow(2,53),L=-O,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,re=this,z=0,X=0,ee=!1,me=!1,oe=[],G={data:[],errors:[],meta:{}};if(I(h.step)){var ge=h.step;h.step=function(Z){if(G=Z,V())A();else{if(A(),G.data.length===0)return;z+=Z.data.length,h.preview&&z>h.preview?k.abort():(G.data=G.data[0],ge(G,re))}}}function Te(Z){return h.skipEmptyLines==="greedy"?Z.join("").trim()==="":Z.length===1&&Z[0].length===0}function A(){return G&&M&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),M=!1),h.skipEmptyLines&&(G.data=G.data.filter(function(Z){return!Te(Z)})),V()&&function(){if(!G)return;function Z(ue,b){I(h.transformHeader)&&(ue=h.transformHeader(ue,b)),oe.push(ue)}if(Array.isArray(G.data[0])){for(var ve=0;V()&&ve<G.data.length;ve++)G.data[ve].forEach(Z);G.data.splice(0,1)}else G.data.forEach(Z)}(),function(){if(!G||!h.header&&!h.dynamicTyping&&!h.transform)return G;function Z(ue,b){var x,$=h.header?{}:[];for(x=0;x<ue.length;x++){var K=x,F=ue[x];h.header&&(K=x>=oe.length?"__parsed_extra":oe[x]),h.transform&&(F=h.transform(F,K)),F=q(K,F),K==="__parsed_extra"?($[K]=$[K]||[],$[K].push(F)):$[K]=F}return h.header&&(x>oe.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+oe.length+" fields but parsed "+x,X+b):x<oe.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+oe.length+" fields but parsed "+x,X+b)),$}var ve=1;return!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(Z),ve=G.data.length):G.data=Z(G.data,0),h.header&&G.meta&&(G.meta.fields=oe),X+=ve,G}()}function V(){return h.header&&oe.length===0}function q(Z,ve){return ue=Z,h.dynamicTypingFunction&&h.dynamicTyping[ue]===void 0&&(h.dynamicTyping[ue]=h.dynamicTypingFunction(ue)),(h.dynamicTyping[ue]||h.dynamicTyping)===!0?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&(function(b){if(B.test(b)){var x=parseFloat(b);if(L<x&&x<O)return!0}return!1}(ve)?parseFloat(ve):H.test(ve)?new Date(ve):ve===""?null:ve):ve;var ue}function se(Z,ve,ue,b){var x={type:Z,code:ve,message:ue};b!==void 0&&(x.row=b),G.errors.push(x)}this.parse=function(Z,ve,ue){var b=h.quoteChar||'"';if(h.newline||(h.newline=function(K,F){K=K.substring(0,1048576);var Y=new RegExp(T(F)+"([^]*?)"+T(F),"gm"),Q=(K=K.replace(Y,"")).split("\r"),W=K.split(`
`),J=1<W.length&&W[0].length<Q[0].length;if(Q.length===1||J)return`
`;for(var U=0,ae=0;ae<Q.length;ae++)Q[ae][0]===`
`&&U++;return U>=Q.length/2?`\r
`:"\r"}(Z,b)),M=!1,h.delimiter)I(h.delimiter)&&(h.delimiter=h.delimiter(Z),G.meta.delimiter=h.delimiter);else{var x=function(K,F,Y,Q,W){var J,U,ae,ne;W=W||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var fe=0;fe<W.length;fe++){var he=W[fe],Ee=0,Se=0,Pe=0;ae=void 0;for(var De=new _({comments:Q,delimiter:he,newline:F,preview:10}).parse(K),ze=0;ze<De.data.length;ze++)if(Y&&Te(De.data[ze]))Pe++;else{var tt=De.data[ze].length;Se+=tt,ae!==void 0?0<tt&&(Ee+=Math.abs(tt-ae),ae=tt):ae=tt}0<De.data.length&&(Se/=De.data.length-Pe),(U===void 0||Ee<=U)&&(ne===void 0||ne<Se)&&1.99<Se&&(U=Ee,J=he,ne=Se)}return{successful:!!(h.delimiter=J),bestDelimiter:J}}(Z,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess);x.successful?h.delimiter=x.bestDelimiter:(M=!0,h.delimiter=l.DefaultDelimiter),G.meta.delimiter=h.delimiter}var $=S(h);return h.preview&&h.header&&$.preview++,g=Z,k=new _($),G=k.parse(g,ve,ue),A(),ee?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,k.abort(),g=I(h.chunk)?"":g.substring(k.getCharIndex())},this.resume=function(){re.streamer._halted?(ee=!1,re.streamer.parseChunk(g,!0)):setTimeout(re.resume,3)},this.aborted=function(){return me},this.abort=function(){me=!0,k.abort(),G.meta.aborted=!0,I(h.complete)&&h.complete(G),g=""}}function T(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(h){var g,k=(h=h||{}).delimiter,M=h.newline,O=h.comments,L=h.step,B=h.preview,H=h.fastMode,re=g=h.quoteChar===void 0||h.quoteChar===null?'"':h.quoteChar;if(h.escapeChar!==void 0&&(re=h.escapeChar),(typeof k!="string"||-1<l.BAD_DELIMITERS.indexOf(k))&&(k=","),O===k)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<l.BAD_DELIMITERS.indexOf(O))&&(O=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var z=0,X=!1;this.parse=function(ee,me,oe){if(typeof ee!="string")throw new Error("Input must be a string");var G=ee.length,ge=k.length,Te=M.length,A=O.length,V=I(L),q=[],se=[],Z=[],ve=z=0;if(!ee)return ne();if(H||H!==!1&&ee.indexOf(g)===-1){for(var ue=ee.split(M),b=0;b<ue.length;b++){if(Z=ue[b],z+=Z.length,b!==ue.length-1)z+=M.length;else if(oe)return ne();if(!O||Z.substring(0,A)!==O){if(V){if(q=[],W(Z.split(k)),fe(),X)return ne()}else W(Z.split(k));if(B&&B<=b)return q=q.slice(0,B),ne(!0)}}return ne()}for(var x=ee.indexOf(k,z),$=ee.indexOf(M,z),K=new RegExp(T(re)+T(g),"g"),F=ee.indexOf(g,z);;)if(ee[z]!==g)if(O&&Z.length===0&&ee.substring(z,z+A)===O){if($===-1)return ne();z=$+Te,$=ee.indexOf(M,z),x=ee.indexOf(k,z)}else if(x!==-1&&(x<$||$===-1))Z.push(ee.substring(z,x)),z=x+ge,x=ee.indexOf(k,z);else{if($===-1)break;if(Z.push(ee.substring(z,$)),ae($+Te),V&&(fe(),X))return ne();if(B&&q.length>=B)return ne(!0)}else for(F=z,z++;;){if((F=ee.indexOf(g,F+1))===-1)return oe||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:z}),U();if(F===G-1)return U(ee.substring(z,F).replace(K,g));if(g!==re||ee[F+1]!==re){if(g===re||F===0||ee[F-1]!==re){x!==-1&&x<F+1&&(x=ee.indexOf(k,F+1)),$!==-1&&$<F+1&&($=ee.indexOf(M,F+1));var Y=J($===-1?x:Math.min(x,$));if(ee.substr(F+1+Y,ge)===k){Z.push(ee.substring(z,F).replace(K,g)),ee[z=F+1+Y+ge]!==g&&(F=ee.indexOf(g,z)),x=ee.indexOf(k,z),$=ee.indexOf(M,z);break}var Q=J($);if(ee.substring(F+1+Q,F+1+Q+Te)===M){if(Z.push(ee.substring(z,F).replace(K,g)),ae(F+1+Q+Te),x=ee.indexOf(k,z),F=ee.indexOf(g,z),V&&(fe(),X))return ne();if(B&&q.length>=B)return ne(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:z}),F++}}else F++}return U();function W(he){q.push(he),ve=z}function J(he){var Ee=0;if(he!==-1){var Se=ee.substring(F+1,he);Se&&Se.trim()===""&&(Ee=Se.length)}return Ee}function U(he){return oe||(he===void 0&&(he=ee.substring(z)),Z.push(he),z=G,W(Z),V&&fe()),ne()}function ae(he){z=he,W(Z),Z=[],$=ee.indexOf(M,z)}function ne(he){return{data:q,errors:se,meta:{delimiter:k,linebreak:M,aborted:X,truncated:!!he,cursor:ve+(me||0)}}}function fe(){L(ne()),q=[],se=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return z}}function p(h){var g=h.data,k=o[g.workerId],M=!1;if(g.error)k.userError(g.error,g.file);else if(g.results&&g.results.data){var O={abort:function(){M=!0,m(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(I(k.userStep)){for(var L=0;L<g.results.data.length&&(k.userStep({data:g.results.data[L],errors:g.results.errors,meta:g.results.meta},O),!M);L++);delete g.results}else I(k.userChunk)&&(k.userChunk(g.results,O,g.file),delete g.results)}g.finished&&!M&&m(g.workerId,g.results)}function m(h,g){var k=o[h];I(k.userComplete)&&k.userComplete(g),k.terminate(),delete o[h]}function C(){throw new Error("Not implemented.")}function S(h){if(typeof h!="object"||h===null)return h;var g=Array.isArray(h)?[]:{};for(var k in h)g[k]=S(h[k]);return g}function E(h,g){return function(){h.apply(g,arguments)}}function I(h){return typeof h=="function"}return i&&(r.onmessage=function(h){var g=h.data;if(l.WORKER_ID===void 0&&g&&(l.WORKER_ID=g.workerId),typeof g.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(g.input,g.config),finished:!0});else if(r.File&&g.input instanceof File||g.input instanceof Object){var k=l.parse(g.input,g.config);k&&r.postMessage({workerId:l.WORKER_ID,results:k,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(y.prototype=Object.create(y.prototype)).constructor=y,(v.prototype=Object.create(c.prototype)).constructor=v,l})})(pp);const _a=pp.exports;const jC={class:"form"},VC=["onKeyup"],UC=["onKeyup"],HC={class:"results"},qC=["onClick"],zC={class:"name"},WC={class:"cn"},GC={class:"set"},YC=["onClick"],XC={key:0,class:"preview"},QC={__name:"CardSearch",emits:["selected"],setup(e,{emit:t}){const n=bw(),r=Yt(),s=Xe({search:"",cn:"",set:null,count:1,autoAdd:!1,results:[],loading:!1,preview:null}),i=()=>{s.search=null,s.cn=null,s.set=null,s.count=1,n.$reset()},o=async()=>{if((!s.search||s.search.length<3)&&!s.cn&&!s.set)return;let l=s.search;s.cn&&(l+=" cn:"+s.cn),s.set&&(l+=" set:"+s.set),await n.loadSearch(l,"prints"),s.autoAdd&&n.count===1&&t("selected",Ws.deepUnref(n.cards.values().next().value))},a=l=>{let u=Ws.deepUnref(l);u.count=s.count,t("selected",u)};return(l,u)=>(N(),j(we,null,[R("div",jC,[Oe(R("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>s.search=c),onKeyup:Xr(o,["enter"]),placeholder:"Name / Query"},null,40,VC),[[Ue,s.search]]),Oe(R("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=c=>s.cn=c),onKeyup:Xr(o,["enter"]),placeholder:"Collector number (Optional)"},null,40,UC),[[Ue,s.cn]]),ie(P(Je),{modelValue:s.set,"onUpdate:modelValue":u[2]||(u[2]=c=>s.set=c),options:P(r).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set (Optional)"},null,8,["modelValue","options"]),Oe(R("input",{type:"number","onUpdate:modelValue":u[3]||(u[3]=c=>s.count=c),placeholder:"Quantity"},null,512),[[Ue,s.count]]),te("",!0),R("button",{onClick:i}," Clear "),R("button",{onClick:o}," Search ")]),R("div",HC,[(N(!0),j(we,null,je(P(n).cards.values(),c=>(N(),j("div",{key:c.name,class:"result",onClick:f=>s.preview=s.preview===null?c.id:null},[R("div",zC,[R("span",WC,_e(c.collector_number),1),ln(" - "+_e(c.name),1)]),R("div",GC,_e(c.set)+" - "+_e(c.set_name),1),R("button",{class:"small",onClick:rt(f=>a(c),["stop"])}," + ",8,YC),s.preview===c.id?(N(),j("div",XC,[ie(Ho,{card:c},null,8,["card"])])):te("",!0)],8,qC))),128))])],64))}},JC=qe(QC,[["__scopeId","data-v-f740cfb7"]]);const ZC={class:"root"},eE=["disabled"],tE={class:"buttons"},nE={key:0,class:"button",for:"file-input"},rE=["disabled"],sE={key:4,class:"progress"},iE={key:0,class:"errors"},oE={__name:"CardParser",emits:["parsed"],setup(e,{emit:t}){const n=$t(),r=Yt(),s=ti(),i="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",o=Xe({name:null,file:null,text:"",append:!0,encoding:null,format:"Search",active:!1,progress:0,count:0,total:0,errors:[]}),a=Xe({path:null});Cr(()=>{o.name=n.open[0]});const l=async(p="",m={})=>(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json(),u=async p=>{let m=await p.arrayBuffer(),C=new Uint8Array(m.slice(0,10));return C[0].toString(16)=="ff"&&C[1].toString(16)=="fe"?"UTF-16LE":C[0].toString(16)=="fe"&&C[1].toString(16)=="ff"?"UTF-16BE":C[1]==0&&C[3]==0&&C[5]==0?"UTF-16LE":"UTF-8"},c=async p=>{o.errors=[],o.active=!0,o.progress=0;let m={};if(o.format==="MTGA"){const C=/([0-9]+) (.+) \((.+)\) ([0-9]+)/g,S=o.text.matchAll(C);for(const E of S)m[E[3]+E[4]]={name:E[2].split(" // ")[0].trim(),count:parseInt(E[1]),set:E[3],number:E[4],finish:"nonfoil",tags:[]}}else if(o.format==="MTGO"){const C=/([0-9]+) (.+)/g,S=o.text.matchAll(C);for(const E of S)m[E[2]]={name:E[2].split(" // ")[0].trim(),count:parseInt(E[1])||1,set:"",number:"",finish:"nonfoil",tags:[]}}else if(o.format==="MKM Email"){const C=/([0-9]+)x ([a-zA-Z ,/\-:']+)?(?:\(V.([0-9])+\))? \(([a-zA-Z0-9 ,/\-:']+)\)/g,S=o.text.matchAll(C);for(const E of S){E[4].replace(": Extras","");let I="";m[E[2]]={name:E[2].replace(" Token","").trim(),count:parseInt(E[1])||1,set:I,number:"",mkm_version:E[3]?parseInt(E[3]):1,finish:"nonfoil",tags:[]}}}y(o.name,new Map(Object.entries(m)))},f=async p=>{if(a.path===null)return;o.errors=[];const m=new FileReader;o.active=!0,o.progress=0;let C=null;o.format==="DragonShield Web"&&(C=d),m.onload=async()=>{let E=await C(m.result);y(o.name,E)};let S=await u(a.path);m.readAsText(a.path,S)};_a.parsePromise=p=>new Promise((m,C)=>{_a.parse(p,{header:!0,worker:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:m,error:C})});const d=async p=>{p=p.replace('"sep=,"',"");let m=await _a.parsePromise(p),C=new Map,S={rmh1:"h1r",psld:"sld",gk1_golgar:"gk1",gk1_dimir:"gk1",vthb:"thb"};return m.data.forEach(E=>{if(E["Card Number"]===null)return;const I=E["Set Name"];let h=E["Set Code"].toLowerCase();S[h]&&(h=S[h]);let g="nonfoil";E.Printing==="Foil"?g="foil":E["Card Number"].toString().includes("etc")&&(g="etched");const k=parseInt(E.Quantity);let M={name:E["Card Name"],count:k,set:"",number:"",finish:g,tags:[E["Folder Name"]]},O=null;if(r.setIds.has(h)?(M.set=h,M.number=E["Card Number"].toString().replace("etc",""),O=h+E["Card Number"]+M.finish):(console.log(`Couldn't find set for ${E["Card Name"]} ${E["Card Number"]} ${I} [${h}]`),o.errors.push(`Couldn't find set for ${E["Card Name"]} ${E["Card Number"]} [${h}]`),O=M.name+M.finish),C.has(O)){let L=C.get(O);L.count+=k,L.tags.push(E["Folder Name"]),C.set(O,L)}else C.set(O,M)}),C},y=async(p,m)=>{let C=await n.get(p);for(const[S,E]of m.entries()){let I=C.cards.filter(h=>h===void 0?!1:E.set!==""?E.set===h.set&&E.number===h.collector_number&&E.finish===h.finish:E.name===h.name&&E.finish===h.finish);I.length>0&&(I[0].count=E.count,m.delete(S))}if(m.size>0){const S=await w(m);C.cards=C.cards.concat(S)}n.save(p,C.cards,C.syncCode),o.active=!1,o.count=0,o.progress=0,o.total=0,t("parsed",n.open)},v=async p=>{const m=await n.get(o.name);let C=m.cards.filter(S=>S.id===p.id&&S.finish==="nonfoil");C.length>0?C[0].count+=p.count:m.cards.push(p),n.save(o.name,m.cards,m.syncCode),t("parsed",n.open),s(`${""+p.name} added to ${o.name}`)},w=async p=>{const m=[],C=new Map,S=new Map;let E=[];try{for(const[h,g]of p.entries()){let k={};g.set===""&&g.number===""?k.name=g.name:(k.set=g.set,k.collector_number=g.number),m.push(k)}const I=1e3;o.total=m.length;for(let h=0;h<m.length;h+=I){const g=await l(i+"/cards",{identifiers:m.slice(h,h+I)});g.not_found.length>0&&console.log(g.not_found),g.data.forEach(k=>{C.set(k.name,k),S.set(k.set+k.collector_number,k)}),o.count=h,o.progress=h/m.length*100}for(const[h,g]of p.entries()){let k=null;if(g.set===""&&g.number===""?k={...C.get(g.name)}:k={...S.get(g.set+g.number)},!k.name){console.log("Missing data",k,g),o.errors.push(`Missing data for ${g.name} ${g.number} [${g.set}]`);continue}k.count=g.count||1,k.finish=k.finishes.length===1?k.finishes[0]:g.finish,k.tags=g.tags,E.push(k)}o.progress=100}catch(I){console.error(I)}finally{return E}},T={"MKM Email":["text",c],MTGA:["text",c],MTGO:["text",c],"DragonShield Web":["file",f],Search:["search",v]},_=p=>{a.path=p.target.files[0]};return(p,m)=>(N(),j(we,null,[R("div",ZC,[R("h3",null,"Add to "+_e(P(n).open.length==1?P(n).open[0]:""),1),P(n).open.length>1?(N(),ot(P(Je),{key:0,modelValue:o.name,"onUpdate:modelValue":m[0]||(m[0]=C=>o.name=C),options:P(n).open,mode:"single"},null,8,["modelValue","options"])):te("",!0),ie(P(Je),{modelValue:o.format,"onUpdate:modelValue":m[1]||(m[1]=C=>o.format=C),placeholder:"Format",options:Object.keys(T),"can-clear":!1},null,8,["modelValue","options"]),T[o.format][0]==="file"?(N(),j("input",{key:1,id:"file-input",type:"file",onChange:_,disabled:o.active},null,40,eE)):te("",!0),T[o.format][0]==="text"?Oe((N(),j("textarea",{key:2,"onUpdate:modelValue":m[2]||(m[2]=C=>o.text=C)},null,512)),[[Ue,o.text]]):te("",!0),T[o.format][0]==="search"?(N(),ot(JC,{key:3,onSelected:v})):te("",!0),R("div",tE,[T[o.format][0]==="file"?(N(),j("label",nE,"Choose file")):te("",!0),!o.active&&o.format&&(o.text||a.path)&&o.format!=="Search"?(N(),j("button",{key:1,onClick:m[3]||(m[3]=C=>T[o.format][1]()),disabled:a.path===null&&o.text===""}," Add ",8,rE)):te("",!0)]),o.active?(N(),j("div",sE,[R("span",null,"Processing cards: "+_e(o.count)+" / "+_e(o.total),1),R("div",{class:"bar",style:Gt({width:o.progress+"%"})},null,4)])):te("",!0)]),o.errors.length>0?(N(),j("ul",iE,[(N(!0),j(we,null,je(o.errors,(C,S)=>(N(),j("li",{key:S},_e(C),1))),128))])):te("",!0)],64))}},aE=qe(oE,[["__scopeId","data-v-f07a4629"]]),lE=async(e,t)=>{let n="";if(t==="mtgo")for(const r of e.values())n+=`${r.count||1} ${r.name} 
`;else if(t==="mtga")for(const r of e.values())n+=`${r.count||1} ${r.name} (${r.set}) ${r.collector_number}
`;else if(t==="mkm"){const r=await post(`${backendUrl}/mkmVersions`,{ids:e.map(s=>s.id)});for(const s of e.values()){const i=r.data[s.id]||1;let o=""+s.set_name;s.promo?o=o.replace(" Promos",": Promos"):s.promo_types.includes("boosterfun")&&(o=o+=": Extras"),r.data[s.id]?n+=`${s.count||1}x ${s.name} (V.${i}) (${o})
`:n+=`${s.count||1}x ${s.name} (${o})
`}}else if(t==="moxfield"){n=`"Count","Tradelist Count","Name","Edition","Condition","Language","Foil","Tags","Last Modified","Collector Number"
`;for(const r of e.values())n+=`"${r.count||1}","0","${r.name}","${r.set}","Near Mint","English",${r.finish},"","2022-03-22 02:52:33.210000","${r.collector_number}"
`}return n};const uE={class:"row"},cE=["href"],fE={__name:"CardExporter",props:{source:{type:Function,required:!0},openDirection:{type:String,default:"down"}},setup(e){const t=e,n=Xe({format:"",downloadUrl:""}),r=ti(),s=$e(null),i=async()=>{const o=await t.source();let a=await lE(o,n.format);if(n.format==="moxfield"){var l=new Blob([a],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(l);n.downloadUrl=u,s.value.setAttribute("download","moxfield.csv"),s.value.click()}else navigator.clipboard.writeText(a),r("Copied to Clipboard")};return(o,a)=>(N(),j("div",uE,[ie(P(Je),{options:{mtgo:"MTGO",mtga:"MTGA",mkm:"MKM",moxfield:"Moxfield"},label:"key",modelValue:n.format,"onUpdate:modelValue":a[0]||(a[0]=l=>n.format=l),mode:"single",placeholder:"Export to","open-direction":t.openDirection},null,8,["modelValue","open-direction"]),R("a",{class:de(["button small icon",{"icon-clip":n.format!=="moxfield","icon-arrow-down":n.format==="moxfield"}]),download:"moxfield.csv",onClick:i},null,2),Oe(R("a",{class:"button",download:"moxfield.csv",ref_key:"downloadButton",ref:s,href:n.downloadUrl},"Export",8,cE),[[Ct,!1]])]))}},gp=qe(fE,[["__scopeId","data-v-cb7d3495"]]);const dE={class:"clipboard"},hE={class:"clip-cards"},pE={class:"row"},gE={class:"buttons"},mE={__name:"ClipBoard",setup(e){const t=li(),n=$t(),r=Wt(),s=ti(),i=Xe({copyTo:null}),o=async(u,c)=>{let f=await n.get(u);const d=n.open.includes(u);let y=0;for(const v of c){let w=f.cards.filter(T=>T.id===v.id);w.length===0?f.cards.push({...Ws.deepUnref(v)}):w[0].count+=v.count||1,y+=1,d&&r.add({...v})}await n.save(u,f.cards,f.syncCode),s(`${y} added to ${u}`)},a=async()=>{t.$reset(),await n.save("clipboard",[]),new BroadcastChannel("clipboard").postMessage("update")},l=async()=>{r.filtered.forEach(c=>{let f={...c};f.count=1,t.add(f)}),await n.save("clipboard",t.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(u,c)=>(N(),j("div",dE,[R("h3",null,"Clipboard ("+_e(P(t).count)+") "+_e(P(t).value),1),R("div",hE,[(N(!0),j(we,null,je(P(t).cards.values(),f=>(N(),j("div",{class:"clip-card",key:"clip-"+f.name},[R("p",null,_e(f.count)+"x "+_e(f.name)+" ("+_e(f.set)+") "+_e(f.collector_number),1)]))),128))]),ie(gp,{source:()=>[...P(t).cards.values()],"open-direction":"top"},null,8,["source"]),R("div",pE,[ie(P(Je),{options:P(n).names,placeholder:"Copy to","open-direction":"top",modelValue:i.copyTo,"onUpdate:modelValue":c[0]||(c[0]=f=>i.copyTo=f)},null,8,["options","modelValue"]),R("button",{class:"small icon icon-arrow-right",onClick:c[1]||(c[1]=()=>o(i.copyTo,P(t).cards.values()))})]),R("div",gE,[R("button",{onClick:c[2]||(c[2]=f=>l())}," Clip All "),R("button",{onClick:c[3]||(c[3]=f=>a())}," Clear ")])]))}},vE=qe(mE,[["__scopeId","data-v-69cfb135"]]);const Ar=e=>(on("data-v-306eb2d6"),e=e(),an(),e),yE={class:"upload flex"},_E={class:"row"},bE={key:0,class:"collection flex"},wE=Ar(()=>R("span",null,"Cards: ",-1)),CE={key:0},EE=Ar(()=>R("span",null,"Last sync: ",-1)),SE={key:1,class:"row"},kE=Ar(()=>R("div",{class:"text"}," Upload ",-1)),xE=[kE],TE=Ar(()=>R("div",{class:"text"}," Download ",-1)),OE=[TE],IE=Ar(()=>R("hr",null,null,-1)),RE={class:"new-collection"},AE=Ar(()=>R("hr",null,null,-1)),PE={class:"google-sync"},ME=["src"],$E={class:"text"},LE=Ar(()=>R("span",{class:"icon icon-close"},null,-1)),DE={__name:"CollectionsManager",emits:["change","delete","close"],setup(e,{emit:t}){const n=uo(),r=$t();Wt();const s=ti(),i=Xe({collection:null,obj:null});Cr(()=>{i.collection=r.open.length>0?r.open[0]:null}),Cr(()=>{i.obj=r.obj.filter(f=>f.name===i.collection)[0]});const o=async f=>{const d=s(`Refreshing collection ${f}`),y=n.collections.get(f).id;await r.download(y)?(s.dismiss(d),s(`${f} refreshed.`),t("change",f)):(s.dismiss(d),s.error(`Failed to refresh ${f}.`))},a=async f=>{const d=s(`Uploading ${f}`),y=await r.upload(n.token,f);y?(s.dismiss(d),s(`${f} uploaded.`),n.collections.set(f,y)):(s.dismiss(d),s.error(`${f} failed to upload.`))},l=async f=>{r.save(f.trim(),[]),i.name=null,t("change",f.trim()),t("close")},u=async f=>{confirm(`Are you sure you want to delete ${f}`)&&r.delete(f)},c=async f=>await r.getCards([i.collection]);return(f,d)=>{const y=qn("GoogleLogin");return N(),j("div",yE,[R("div",_E,[ie(P(Je),{modelValue:i.collection,"onUpdate:modelValue":d[0]||(d[0]=v=>i.collection=v),options:P(r).names,mode:"single"},null,8,["modelValue","options"]),R("button",{class:"small icon icon-delete",onClick:d[1]||(d[1]=v=>u(i.collection))})]),i.obj?(N(),j("div",bE,[R("div",{class:"img",style:Gt({"background-image":`url(${i.obj.image})`})},null,4),R("div",null,[wE,R("span",null,_e(i.obj.count),1)]),P(n).token&&i.obj.downloaded?(N(),j("div",CE,[EE,ln(" "+_e(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"medium",timeZone:"UTC"}).format(new Date(i.obj.lastSync*1))),1)])):te("",!0),P(n).token?(N(),j("div",SE,[i.obj.downloaded?(N(),j("button",{key:0,onClick:[d[2]||(d[2]=rt(v=>a(i.collection),["exact"])),d[3]||(d[3]=rt(v=>a(i.collection),["ctrl"]))]},xE)):te("",!0),P(n).collections.has(i.collection)?(N(),j("button",{key:1,onClick:d[4]||(d[4]=rt(v=>o(i.collection),["exact"]))},OE)):te("",!0)])):te("",!0),ie(gp,{source:c})])):te("",!0),IE,R("div",RE,[Oe(R("input",{type:"text","onUpdate:modelValue":d[5]||(d[5]=v=>i.name=v),placeholder:"New collection"},null,512),[[Ue,i.name]]),R("button",{onClick:d[6]||(d[6]=v=>l(i.name)),class:"button small icon icon-plus"})]),AE,R("div",PE,[P(n).token?te("",!0):(N(),ot(y,{key:0,callback:v=>P(n).handleGoogleLogin(v.credential),"popup-type":"TOKEN"},null,8,["callback"])),P(n).token?(N(),j("div",{key:1,class:"logged-in",onClick:d[7]||(d[7]=v=>P(n).logout())},[R("img",{src:P(n).info.picture},null,8,ME),R("span",$E,"Syncing as "+_e(P(n).info.given_name),1),LE])):te("",!0)])])}}},BE=qe(DE,[["__scopeId","data-v-306eb2d6"]]);const Eu=e=>(on("data-v-16650b3e"),e=e(),an(),e),FE=Eu(()=>R("h3",null,"Settings",-1)),NE={class:"grid"},KE=Eu(()=>R("label",{for:"zoom"},"Zoom",-1)),jE=Eu(()=>R("label",{for:"columns"},"Columns",-1)),VE={__name:"SettingsView",setup(e){const t=rr();return(n,r)=>(N(),j(we,null,[FE,R("div",NE,[KE,Oe(R("input",{id:"zoom",type:"number","onUpdate:modelValue":r[0]||(r[0]=s=>P(t).zoom=s)},null,512),[[Ue,P(t).zoom]]),jE,Oe(R("input",{id:"columns",type:"number","onUpdate:modelValue":r[1]||(r[1]=s=>P(t).columns=s)},null,512),[[Ue,P(t).columns]])])],64))}},UE=qe(VE,[["__scopeId","data-v-16650b3e"]]);const HE=e=>(on("data-v-dc431e12"),e=e(),an(),e),qE={key:0},zE={class:"form"},WE=HE(()=>R("hr",null,null,-1)),GE={__name:"CardEdit",emits:["change"],setup(e,{emit:t}){const n=rr();Yt();const r=$t(),s=Xe({set:null,count:0});Cr(()=>{n.edit.card&&(s.set=n.edit.card.set,s.count=n.edit.card.count)});const i=async()=>{let o=Ws.deepUnref(n.edit.card);o.set=s.set,o.count=s.count,await r.replaceCard(r.open[0],n.edit.card,o),n.edit.card.set=s.set,n.edit.card.count=s.count};return(o,a)=>P(n).edit.card?(N(),j("div",qE,[ie(Cu,{card:P(n).edit.card},null,8,["card"]),R("div",zE,[Oe(R("input",{type:"number",placeholder:"Count","onUpdate:modelValue":a[0]||(a[0]=l=>s.count=l)},null,512),[[Ue,s.count]]),R("button",{onClick:i}," Save ")]),WE])):te("",!0)}},YE=qe(GE,[["__scopeId","data-v-dc431e12"]]);const Su=e=>(on("data-v-0799ae6c"),e=e(),an(),e),XE={class:"menu"},QE=["onClick"],JE={key:0,class:"name"},ZE={key:1,class:"name"},eS={class:"add panel"},tS={class:"settings panel"},nS={class:"details panel"},rS=Su(()=>R("h3",null,"Details",-1)),sS={class:"prints panel"},iS={class:"panel filters"},oS={class:"panel edit"},aS=Su(()=>R("h3",null,"Edit",-1)),lS={class:"panel collections"},uS=Su(()=>R("h3",null,"Collections",-1)),cS={class:"panel"},fS={__name:"SideBar",setup(e){const t=ls(),n=Wt(),r=rr(),s=li(),i=f=>{f===r.sidebar.selected?r.sidebar.show=!r.sidebar.show:(r.sidebar.show=!0,r.sidebar.selected=f)};let o=0,a=0;const l=$e(null),u=f=>{o=f.touches?f.touches[0].clientX:f.clientX,a=f.touches?f.touches[0].clientY:f.clientY},c=f=>{const d=f.changedTouches?f.changedTouches[0].clientX:f.clientX,y=f.changedTouches?f.changedTouches[0].clientY:f.clientY,v=d-o,w=Math.abs(y-a);r.sidebar.show===!0&&v>75&&v>w&&(r.sidebar.show=!1)};return(f,d)=>(N(),j("div",{class:de(["sidepanel",{show:P(r).sidebar.show}]),ref_key:"sidebar",ref:l,onMousedown:u,onMouseup:c,onTouchstart:u,onTouchend:c},[R("div",XE,[(N(),j(we,null,je({filters:["filter","Filter"],clipboard:["clipboard","Clipboard"],collection:["add","Add"],collections:["collection","Manage"],prints:["prints","Prints"],settings:["settings","Settings"]},([y,v],w)=>R("div",{class:de(["item",w]),onClick:rt(T=>i(w),["stop"]),key:w},[R("span",{class:de(["icon","icon-"+y])},null,2),w==="clipboard"?(N(),j("div",JE," Clip: "+_e(P(s).count),1)):(N(),j("div",ZE,_e(v),1))],10,QE)),64))]),Oe(R("div",eS,[ie(aE,{onParsed:P(n).loadCollections},null,8,["onParsed"])],512),[[Ct,P(r).sidebar.selected==="collection"]]),Oe(R("div",tS,[ie(UE)],512),[[Ct,P(r).sidebar.selected==="settings"]]),Oe(R("div",nS,[rS,ie(Ho,{card:P(t).card},null,8,["card"]),ie(hp,{card:P(t).card},null,8,["card"])],512),[[Ct,P(r).sidebar.selected==="details"]]),Oe(R("div",sS,[ie(MC)],512),[[Ct,P(r).sidebar.selected==="prints"]]),Oe(R("div",iS,[ie(lp)],512),[[Ct,P(r).sidebar.selected==="filters"]]),Oe(R("div",oS,[aS,ie(YE)],512),[[Ct,P(r).sidebar.selected==="edit"]]),Oe(R("div",lS,[uS,ie(BE,{onChange:d[0]||(d[0]=y=>P(n).loadCollections([y]))})],512),[[Ct,P(r).sidebar.selected==="collections"]]),Oe(R("div",cS,[ie(vE)],512),[[Ct,P(r).sidebar.selected==="clipboard"]])],34))}},dS=qe(fS,[["__scopeId","data-v-0799ae6c"]]);const hS=e=>(on("data-v-d4c616a9"),e=e(),an(),e),pS={class:"filter-group cards"},gS={class:"selector tabs"},mS=["onClick"],vS={class:"view"},yS={key:0,class:"item collections"},_S={class:"name"},bS={key:0,class:"status icon icon-arrow-down"},wS=["disabled"],CS={key:1,class:"item"},ES={class:"set"},SS=["src"],kS={class:"name"},xS=["disabled"],TS={key:2,class:"item"},OS=hS(()=>R("a",{href:"https://scryfall.com/docs/syntax",target:"_blank",class:"button small"},"?",-1)),IS={key:3,class:"item"},RS={class:"precon"},AS={class:"name"},PS={__name:"CardSource",setup(e){const t=K_(),n=Wt(),r=Yt(),s=$t(),i=j_(),o=rr(),a=ls(),l=Xe({selected:"collection",params:[],collections:[],set:"",precons:"",search:"",refreshingPrices:!1,refreshingSet:!1}),u=_=>{o.source="collection",t.push({path:"/collection",query:{q:encodeURIComponent(_.join("~"))}})},c=(_,p)=>{o.source="set",t.push({path:"/set",query:{q:_,force:p}})},f=async(_,p="prints",m=!1)=>{o.source="search",t.push({path:"/search",query:{q:_,unique:p,force:m}})},d=_=>{o.source="precon",t.push({path:"/precons",query:{q:_}})},y=async _=>{l.selected!==_&&(l.selected=_,a.card={},o.details.show=!1,_==="collection"?l.collections&&u(l.collections):_==="set"?l.set&&c(l.set):_==="precon"?l.precons&&d(l.precons):_==="search"&&l.search&&await f(l.search,"cards"))},v=async(_,p)=>{if(_)if(l.selected=_,Object.keys(p).length===0){console.log("empty");return}else _==="collection"?(o.source="collection",p.code?await n.loadSync(p.code):(l.collections=decodeURIComponent(p.q).split("~"),await n.loadCollections(l.collections))):_==="set"?(l.set=p.q,o.source="set",await n.loadSet(l.set,p.force==="true")):_==="precons"?(l.precons=p.q,o.source="precons",await n.loadPrecon(p.q)):_==="search"&&(l.search=p.q,o.source="search",await n.loadSearch(p.q,p.unique,p.force))},w=async()=>{l.refreshingPrices!==!0&&(l.refreshingPrices=!0,await s.refreshPrices(),await n.loadCollections(s.open),l.refreshingPrices=!1)},T=async()=>{l.refreshingSet!==!0&&(l.refreshingSet=!0,await n.loadSet(l.set,!0),l.refreshingSet=!1)};return R_(async(_,p)=>{await v(_.params.view,_.query)}),On(async()=>{i.params.view&&v(i.params.view,i.query)}),(_,p)=>(N(),j("div",pS,[R("div",gS,[(N(),j(we,null,je(["collection","set","precons","search"],m=>R("a",{key:m,onClick:C=>y(m),class:de({selected:l.selected===m})},_e(m),11,mS)),64))]),R("div",vS,[l.selected==="collection"?(N(),j("div",yS,[ie(P(Je),{modelValue:P(s).open,"onUpdate:modelValue":p[0]||(p[0]=m=>P(s).open=m),options:P(s).obj,label:"name","value-prop":"name",mode:"tags",searchable:!0,onChange:u},{option:nn(({option:m})=>[R("span",{class:de(["collection",{missing:!m.downloaded}])},[R("span",_S,_e(m.name),1),m.downloaded?te("",!0):(N(),j("span",bS))],2)]),_:1},8,["modelValue","options"]),R("button",{class:de(["small icon icon-loop",{active:l.refreshingPrices}]),disabled:l.refreshingPrices,onClick:w},null,10,wS)])):te("",!0),l.selected==="set"?(N(),j("div",CS,[ie(P(Je),{modelValue:l.set,"onUpdate:modelValue":p[1]||(p[1]=m=>l.set=m),options:P(r).sets,searchable:!0,label:"name","value-prop":"code",mode:"single",onSelect:p[2]||(p[2]=m=>c(m))},{option:nn(({option:m})=>[R("span",ES,[R("img",{class:"icon",src:m.icon_svg_uri},null,8,SS),R("span",kS,_e(m.name),1)])]),_:1},8,["modelValue","options"]),R("button",{class:de(["small icon icon-loop",{active:l.refreshingSet}]),disabled:l.refreshingSet,onClick:T},null,10,xS)])):te("",!0),l.selected==="search"?(N(),j("div",TS,[Oe(R("input",{type:"search","onUpdate:modelValue":p[3]||(p[3]=m=>l.search=m),onKeyup:p[4]||(p[4]=Xr(m=>f(m.currentTarget.value,"cards"),["enter"]))},null,544),[[Ue,l.search]]),OS])):te("",!0),l.selected==="precons"?(N(),j("div",IS,[ie(P(Je),{modelValue:l.precons,"onUpdate:modelValue":p[5]||(p[5]=m=>l.precons=m),type:"single",searchable:!0,options:P(r).precons,groups:!0,label:"name","value-prop":"name",onSelect:d},{option:nn(({option:m})=>[R("span",RS,[R("span",AS,_e(m.name),1),ie(dp,{mana:m.colours.split("").map(C=>`{${C}}`).join("")},null,8,["mana"])])]),_:1},8,["modelValue","options"]),R("button",{class:"small icon icon-plus",onClick:p[6]||(p[6]=m=>P(o).loadMain("precon"))})])):te("",!0)])]))}},tf=qe(PS,[["__scopeId","data-v-d4c616a9"]]);const MS={key:0,class:"info-bar"},$S={class:"sort"},LS={class:"dir"},DS={class:"view"},BS={key:0,class:"selection-menu"},FS={__name:"InfoBar",setup(e){const t=Wt(),n=rr(),r=$t(),s=li(),i=async()=>{if(confirm(`Are you sure you want to delete ${[...t.selected].length} cards from ${r.open.join(", ")}`)){let a=t.getSelection();for(const l of a)await r.deleteCard(r.open,l),t.delete(l);t.selected=new Set}},o=async()=>{t.getSelection().forEach(u=>{let c={...u};c.count=1,s.add(c)}),await r.save("clipboard",s.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(a,l)=>P(n).mainView==="cards"||P(n).mainView==="list"?(N(),j("div",MS,[[...P(t).selected].length===0?(N(),j(we,{key:0},[R("span",null,"Count "+_e(P(t).count),1),R("span",null,"Value "+_e(P(t).value),1),R("span",$S,[ie(P(Je),{modelValue:P(t).sort.val,"onUpdate:modelValue":l[0]||(l[0]=u=>P(t).sort.val=u),options:["Mana","Type","Price","Count","Released","Tag","Number"],mode:"single","can-clear":!1},null,8,["modelValue"]),R("div",LS,[R("div",{class:de(["up icon icon-chevron-up",{selected:P(t).sort.dir==-1}]),onClick:l[1]||(l[1]=u=>P(t).sort.dir=-1)},null,2),R("div",{class:de(["up icon icon-chevron-down",{selected:P(t).sort.dir==1}]),onClick:l[2]||(l[2]=u=>P(t).sort.dir=1)},null,2)])]),R("span",DS,[R("span",{class:de(["cardView icon icon-grid",{selected:P(n).mainView==="cards"}]),onClick:l[3]||(l[3]=u=>P(n).mainView="cards")},null,2),R("span",{class:de(["cardView icon icon-list",{selected:P(n).mainView==="list"}]),onClick:l[4]||(l[4]=u=>P(n).mainView="list")},null,2)])],64)):(N(),j(we,{key:1},[R("span",null,"Selected: "+_e([...P(t).selected].length),1),[...P(t).selected].length>0?(N(),j("div",BS,[R("a",{onClick:l[5]||(l[5]=()=>{P(t).selected=new Set})},"Clear"),R("a",{onClick:o},"Clip"),P(n).source==="collection"?(N(),j("a",{key:0,onClick:i},"Delete")):te("",!0)])):te("",!0)],64))])):te("",!0)}},NS=qe(FS,[["__scopeId","data-v-594d137f"]]);const KS={id:"window"},jS=["data-source"],VS={class:"content"},US={class:"right"},HS={__name:"Page",setup(e){const t=ls(),n=li(),r=$t(),s=Wt(),i=Yt(),o=uo(),a=rr(),l=Xe({view:"",set:"",precons:"",showMenu:!1,dragging:!1,dragY:0});let u=null;Ze(s.filters,async()=>{clearTimeout(u),u=setTimeout(async()=>{s.applyFilters()},500)}),Ze(s.sort,()=>{s.applyFilters()}),ql(async()=>{await r.init(),await i.init();try{const h=await r.getCards(["clipboard"]);h&&n.addMany(h),new BroadcastChannel("clipboard").addEventListener("message",k=>{k.data==="update"&&n.loadCollections(["clipboard"])})}catch(h){console.error(h)}o.loadCookie()});let c=null,f=null,d=null,y=null,v=null,w=!1,T=null;const _=$e(null),p=h=>{l.dragging=!0,c=h.touches?h.touches[0].clientX:h.clientX,f=h.touches?h.touches[0].clientY:h.clientY,w=_.value.scrollTop===0,d=f,T=Date.now()},m=h=>{if(!l.dragging)return;let g=h.touches?h.touches[0].clientX:h.clientX,k=h.touches?h.touches[0].clientY:h.clientY;const M=g-c,O=k-f;let L=(k-d)/(Date.now()-T);if(T=Date.now(),d=k,Math.abs(M)>Math.abs(O)?y=M>0?"right":"left":y=O>0?"down":"up",v===null&&(v=y),v==="left"||v==="right"){h.preventDefault(),h.stopPropagation(),v==="left"&&M<-50?(E(1),l.dragging=!1):v==="right"&&M>50&&(E(-1),l.dragging=!1);return}!w||y==="up"||(L>=1.2||O>200?(a.details.show=!1,_.value.style.transform="",l.dragging=!1):O>0&&(l.dragY=O,h.preventDefault(),h.stopPropagation(),_.value.style.transform=`translate(0, ${O}px)`))},C=h=>{c=f=null,_.value.style.transform="",l.dragging=!1,v=null,d=null,T=null},S=$e(null),E=h=>{let g=a.details.index+h;g<0&&(g=s.filtered.length-1),g>=s.filtered.length&&(g=0),a.details.index=g;const k=s.filtered[a.details.index];if(t.loadDetails(k),S.value){let M=S.value.querySelector(".cards");const O=M.querySelector(`.card[data-id="${k.id}"]`);if(O){const L=O.offsetTop-M.offsetHeight/2+O.offsetHeight/2;M.scrollTo({top:L,behavior:"smooth"})}}},I=h=>{h.target.id==="details-overlay"&&(a.details.show=!1)};return(h,g)=>(N(),j("div",KS,[R("div",{id:"sidebar",class:de({show:l.showMenu})},[ie(tf),ie(lp)],2),R("div",{id:"main",class:"main","data-source":P(a).source},[ie(tf,{class:"card-source"}),ie(dS),Oe(ie(RC,{onClose:g[0]||(g[0]=k=>P(a).mainView="cards")},null,512),[[Ct,P(a).mainView==="precon"]]),R("div",{ref_key:"det",ref:_,id:"details-overlay",class:de(["details",{show:P(a).details.show,dragging:l.dragging}]),style:Gt({}),onTouchstart:p,onTouchmove:m,onTouchend:C,onWheel:g[5]||(g[5]=()=>{}),onClick:I},[R("a",{class:"move-card icon icon-chevron-left",onClick:g[1]||(g[1]=k=>E(-1))}),R("div",VS,[ie(Ho,{card:P(t).card,onClick:g[2]||(g[2]=rt(()=>{},["stop"]))},null,8,["card"]),R("div",US,[ie(hp,{card:P(t).card},null,8,["card"]),R("a",{class:"close icon icon-chevron-down",onClick:g[3]||(g[3]=k=>P(a).details.show=!1)})])]),R("a",{class:"move-card icon icon-chevron-right",onClick:g[4]||(g[4]=k=>E(1))})],38),R("div",{ref_key:"cardsWindow",ref:S,class:"card-view",onClick:g[6]||(g[6]=k=>P(a).sidebar.show=!1)},[ie(NS),P(a).mainView==="cards"?(N(),ot(fp,{key:0,store:P(s)},null,8,["store"])):te("",!0),P(a).mainView==="list"?(N(),ot(bC,{key:1,cards:P(s).filtered},null,8,["cards"])):te("",!0)],512)],8,jS)]))}},qS=qe(HS,[["__scopeId","data-v-6106e4a3"]]);const zS=Av(),WS=[{path:"/:view?",component:qS,props:!0}],GS=F_({history:Zy(),routes:WS}),ui=eu(Fv);ui.use(zS);ui.use(GS);ui.use($y,{position:Fs.BOTTOM_CENTER,closeButton:!1,hideProgressBar:!0,toastClassName:"toast",icon:!1,pauseOnHover:!1,timeout:4e3,maxToasts:4,transition:{enter:"fade-enter-active",leave:"fade-leave-active",move:"fade-move"}});ui.use(C0,{clientId:"348408322067-4t4ks9d03r9gfp84c54kk18l0d0gv1ev.apps.googleusercontent.com"});ui.mount("#app");
