(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function fo(e,n){const s=Object.create(null),t=e.split(",");for(let r=0;r<t.length;r++)s[t[r]]=!0;return n?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const Dt={},hr=[],Vn=()=>{},rp=()=>!1,ip=/^on[^a-z]/,pi=e=>ip.test(e),Wl=e=>e.startsWith("onUpdate:"),Bt=Object.assign,Ql=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},op=Object.prototype.hasOwnProperty,Ot=(e,n)=>op.call(e,n),rt=Array.isArray,mr=e=>Cr(e)==="[object Map]",nr=e=>Cr(e)==="[object Set]",Na=e=>Cr(e)==="[object Date]",lp=e=>Cr(e)==="[object RegExp]",Et=e=>typeof e=="function",zt=e=>typeof e=="string",ei=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",Gl=e=>Mt(e)&&Et(e.then)&&Et(e.catch),Zc=Object.prototype.toString,Cr=e=>Zc.call(e),ap=e=>Cr(e).slice(8,-1),eu=e=>Cr(e)==="[object Object]",Kl=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zr=fo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),po=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},cp=/-(\w)/g,Sn=po(e=>e.replace(cp,(n,s)=>s?s.toUpperCase():"")),up=/\B([A-Z])/g,Ln=po(e=>e.replace(up,"-$1").toLowerCase()),_i=po(e=>e.charAt(0).toUpperCase()+e.slice(1)),Hr=po(e=>e?`on${_i(e)}`:""),br=(e,n)=>!Object.is(e,n),gr=(e,n)=>{for(let s=0;s<e.length;s++)e[s](n)},Xi=(e,n,s)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:s})},Yi=e=>{const n=parseFloat(e);return isNaN(n)?e:n},Zi=e=>{const n=zt(e)?Number(e):NaN;return isNaN(n)?e:n};let Ba;const gl=()=>Ba||(Ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fp="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",dp=fo(fp);function Wn(e){if(rt(e)){const n={};for(let s=0;s<e.length;s++){const t=e[s],r=zt(t)?mp(t):Wn(t);if(r)for(const l in r)n[l]=r[l]}return n}else{if(zt(e))return e;if(Mt(e))return e}}const pp=/;(?![^(]*\))/g,_p=/:([^]+)/,hp=new RegExp("\\/\\*.*?\\*\\/","gs");function mp(e){const n={};return e.replace(hp,"").split(pp).forEach(s=>{if(s){const t=s.split(_p);t.length>1&&(n[t[0].trim()]=t[1].trim())}}),n}function it(e){let n="";if(zt(e))n=e;else if(rt(e))for(let s=0;s<e.length;s++){const t=it(e[s]);t&&(n+=t+" ")}else if(Mt(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}function gp(e){if(!e)return null;let{class:n,style:s}=e;return n&&!zt(n)&&(e.class=it(n)),s&&(e.style=Wn(s)),e}const yp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vp=fo(yp);function tu(e){return!!e||e===""}function bp(e,n){if(e.length!==n.length)return!1;let s=!0;for(let t=0;s&&t<e.length;t++)s=Os(e[t],n[t]);return s}function Os(e,n){if(e===n)return!0;let s=Na(e),t=Na(n);if(s||t)return s&&t?e.getTime()===n.getTime():!1;if(s=ei(e),t=ei(n),s||t)return e===n;if(s=rt(e),t=rt(n),s||t)return s&&t?bp(e,n):!1;if(s=Mt(e),t=Mt(n),s||t){if(!s||!t)return!1;const r=Object.keys(e).length,l=Object.keys(n).length;if(r!==l)return!1;for(const i in e){const p=e.hasOwnProperty(i),d=n.hasOwnProperty(i);if(p&&!d||!p&&d||!Os(e[i],n[i]))return!1}}return String(e)===String(n)}function _o(e,n){return e.findIndex(s=>Os(s,n))}const ht=e=>zt(e)?e:e==null?"":rt(e)||Mt(e)&&(e.toString===Zc||!Et(e.toString))?JSON.stringify(e,nu,2):String(e),nu=(e,n)=>n&&n.__v_isRef?nu(e,n.value):mr(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[t,r])=>(s[`${t} =>`]=r,s),{})}:nr(n)?{[`Set(${n.size})`]:[...n.values()]}:Mt(n)&&!rt(n)&&!eu(n)?String(n):n;let Cn;class Jl{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Cn,!n&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=Cn;try{return Cn=this,n()}finally{Cn=s}}}on(){Cn=this}off(){Cn=this.parent}stop(n){if(this._active){let s,t;for(s=0,t=this.effects.length;s<t;s++)this.effects[s].stop();for(s=0,t=this.cleanups.length;s<t;s++)this.cleanups[s]();if(this.scopes)for(s=0,t=this.scopes.length;s<t;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Xl(e){return new Jl(e)}function su(e,n=Cn){n&&n.active&&n.effects.push(e)}function Yl(){return Cn}function ru(e){Cn&&Cn.cleanups.push(e)}const Zl=e=>{const n=new Set(e);return n.w=0,n.n=0,n},iu=e=>(e.w&Ps)>0,ou=e=>(e.n&Ps)>0,wp=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=Ps},Ep=e=>{const{deps:n}=e;if(n.length){let s=0;for(let t=0;t<n.length;t++){const r=n[t];iu(r)&&!ou(r)?r.delete(e):n[s++]=r,r.w&=~Ps,r.n&=~Ps}n.length=s}},eo=new WeakMap;let jr=0,Ps=1;const yl=30;let $n;const Ws=Symbol(""),vl=Symbol("");class hi{constructor(n,s=null,t){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,su(this,t)}run(){if(!this.active)return this.fn();let n=$n,s=Cs;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=$n,$n=this,Cs=!0,Ps=1<<++jr,jr<=yl?wp(this):$a(this),this.fn()}finally{jr<=yl&&Ep(this),Ps=1<<--jr,$n=this.parent,Cs=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$n===this?this.deferStop=!0:this.active&&($a(this),this.onStop&&this.onStop(),this.active=!1)}}function $a(e){const{deps:n}=e;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(e);n.length=0}}function qp(e,n){e.effect&&(e=e.effect.fn);const s=new hi(e);n&&(Bt(s,n),n.scope&&su(s,n.scope)),(!n||!n.lazy)&&s.run();const t=s.run.bind(s);return t.effect=s,t}function Sp(e){e.effect.stop()}let Cs=!0;const lu=[];function Ar(){lu.push(Cs),Cs=!1}function Ir(){const e=lu.pop();Cs=e===void 0?!0:e}function xn(e,n,s){if(Cs&&$n){let t=eo.get(e);t||eo.set(e,t=new Map);let r=t.get(s);r||t.set(s,r=Zl()),au(r)}}function au(e,n){let s=!1;jr<=yl?ou(e)||(e.n|=Ps,s=!iu(e)):s=!e.has($n),s&&(e.add($n),$n.deps.push(e))}function ps(e,n,s,t,r,l){const i=eo.get(e);if(!i)return;let p=[];if(n==="clear")p=[...i.values()];else if(s==="length"&&rt(e)){const d=Number(t);i.forEach((h,m)=>{(m==="length"||m>=d)&&p.push(h)})}else switch(s!==void 0&&p.push(i.get(s)),n){case"add":rt(e)?Kl(s)&&p.push(i.get("length")):(p.push(i.get(Ws)),mr(e)&&p.push(i.get(vl)));break;case"delete":rt(e)||(p.push(i.get(Ws)),mr(e)&&p.push(i.get(vl)));break;case"set":mr(e)&&p.push(i.get(Ws));break}if(p.length===1)p[0]&&bl(p[0]);else{const d=[];for(const h of p)h&&d.push(...h);bl(Zl(d))}}function bl(e,n){const s=rt(e)?e:[...e];for(const t of s)t.computed&&ja(t);for(const t of s)t.computed||ja(t)}function ja(e,n){(e!==$n||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function xp(e,n){var s;return(s=eo.get(e))==null?void 0:s.get(n)}const kp=fo("__proto__,__v_isRef,__isVue"),cu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ei)),Cp=ho(),Ap=ho(!1,!0),Ip=ho(!0),Tp=ho(!0,!0),Ua=Op();function Op(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...s){const t=It(this);for(let l=0,i=this.length;l<i;l++)xn(t,"get",l+"");const r=t[n](...s);return r===-1||r===!1?t[n](...s.map(It)):r}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...s){Ar();const t=It(this)[n].apply(this,s);return Ir(),t}}),e}function Pp(e){const n=It(this);return xn(n,"has",e),n.hasOwnProperty(e)}function ho(e=!1,n=!1){return function(t,r,l){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&l===(e?n?mu:hu:n?_u:pu).get(t))return t;const i=rt(t);if(!e){if(i&&Ot(Ua,r))return Reflect.get(Ua,r,l);if(r==="hasOwnProperty")return Pp}const p=Reflect.get(t,r,l);return(ei(r)?cu.has(r):kp(r))||(e||xn(t,"get",r),n)?p:Kt(p)?i&&Kl(r)?p:p.value:Mt(p)?e?ta(p):Xt(p):p}}const Rp=uu(),Lp=uu(!0);function uu(e=!1){return function(s,t,r,l){let i=s[t];if(Js(i)&&Kt(i)&&!Kt(r))return!1;if(!e&&(!ti(r)&&!Js(r)&&(i=It(i),r=It(r)),!rt(s)&&Kt(i)&&!Kt(r)))return i.value=r,!0;const p=rt(s)&&Kl(t)?Number(t)<s.length:Ot(s,t),d=Reflect.set(s,t,r,l);return s===It(l)&&(p?br(r,i)&&ps(s,"set",t,r):ps(s,"add",t,r)),d}}function Fp(e,n){const s=Ot(e,n);e[n];const t=Reflect.deleteProperty(e,n);return t&&s&&ps(e,"delete",n,void 0),t}function Dp(e,n){const s=Reflect.has(e,n);return(!ei(n)||!cu.has(n))&&xn(e,"has",n),s}function Mp(e){return xn(e,"iterate",rt(e)?"length":Ws),Reflect.ownKeys(e)}const fu={get:Cp,set:Rp,deleteProperty:Fp,has:Dp,ownKeys:Mp},du={get:Ip,set(e,n){return!0},deleteProperty(e,n){return!0}},Np=Bt({},fu,{get:Ap,set:Lp}),Bp=Bt({},du,{get:Tp}),ea=e=>e,mo=e=>Reflect.getPrototypeOf(e);function Ri(e,n,s=!1,t=!1){e=e.__v_raw;const r=It(e),l=It(n);s||(n!==l&&xn(r,"get",n),xn(r,"get",l));const{has:i}=mo(r),p=t?ea:s?sa:ni;if(i.call(r,n))return p(e.get(n));if(i.call(r,l))return p(e.get(l));e!==r&&e.get(n)}function Li(e,n=!1){const s=this.__v_raw,t=It(s),r=It(e);return n||(e!==r&&xn(t,"has",e),xn(t,"has",r)),e===r?s.has(e):s.has(e)||s.has(r)}function Fi(e,n=!1){return e=e.__v_raw,!n&&xn(It(e),"iterate",Ws),Reflect.get(e,"size",e)}function Va(e){e=It(e);const n=It(this);return mo(n).has.call(n,e)||(n.add(e),ps(n,"add",e,e)),this}function za(e,n){n=It(n);const s=It(this),{has:t,get:r}=mo(s);let l=t.call(s,e);l||(e=It(e),l=t.call(s,e));const i=r.call(s,e);return s.set(e,n),l?br(n,i)&&ps(s,"set",e,n):ps(s,"add",e,n),this}function Ha(e){const n=It(this),{has:s,get:t}=mo(n);let r=s.call(n,e);r||(e=It(e),r=s.call(n,e)),t&&t.call(n,e);const l=n.delete(e);return r&&ps(n,"delete",e,void 0),l}function Wa(){const e=It(this),n=e.size!==0,s=e.clear();return n&&ps(e,"clear",void 0,void 0),s}function Di(e,n){return function(t,r){const l=this,i=l.__v_raw,p=It(i),d=n?ea:e?sa:ni;return!e&&xn(p,"iterate",Ws),i.forEach((h,m)=>t.call(r,d(h),d(m),l))}}function Mi(e,n,s){return function(...t){const r=this.__v_raw,l=It(r),i=mr(l),p=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,h=r[e](...t),m=s?ea:n?sa:ni;return!n&&xn(l,"iterate",d?vl:Ws),{next(){const{value:v,done:w}=h.next();return w?{value:v,done:w}:{value:p?[m(v[0]),m(v[1])]:m(v),done:w}},[Symbol.iterator](){return this}}}}function gs(e){return function(...n){return e==="delete"?!1:this}}function $p(){const e={get(l){return Ri(this,l)},get size(){return Fi(this)},has:Li,add:Va,set:za,delete:Ha,clear:Wa,forEach:Di(!1,!1)},n={get(l){return Ri(this,l,!1,!0)},get size(){return Fi(this)},has:Li,add:Va,set:za,delete:Ha,clear:Wa,forEach:Di(!1,!0)},s={get(l){return Ri(this,l,!0)},get size(){return Fi(this,!0)},has(l){return Li.call(this,l,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Di(!0,!1)},t={get(l){return Ri(this,l,!0,!0)},get size(){return Fi(this,!0)},has(l){return Li.call(this,l,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Di(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Mi(l,!1,!1),s[l]=Mi(l,!0,!1),n[l]=Mi(l,!1,!0),t[l]=Mi(l,!0,!0)}),[e,s,n,t]}const[jp,Up,Vp,zp]=$p();function go(e,n){const s=n?e?zp:Vp:e?Up:jp;return(t,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?t:Reflect.get(Ot(s,r)&&r in t?s:t,r,l)}const Hp={get:go(!1,!1)},Wp={get:go(!1,!0)},Qp={get:go(!0,!1)},Gp={get:go(!0,!0)},pu=new WeakMap,_u=new WeakMap,hu=new WeakMap,mu=new WeakMap;function Kp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jp(e){return e.__v_skip||!Object.isExtensible(e)?0:Kp(ap(e))}function Xt(e){return Js(e)?e:yo(e,!1,fu,Hp,pu)}function gu(e){return yo(e,!1,Np,Wp,_u)}function ta(e){return yo(e,!0,du,Qp,hu)}function Xp(e){return yo(e,!0,Bp,Gp,mu)}function yo(e,n,s,t,r){if(!Mt(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=r.get(e);if(l)return l;const i=Jp(e);if(i===0)return e;const p=new Proxy(e,i===2?t:s);return r.set(e,p),p}function us(e){return Js(e)?us(e.__v_raw):!!(e&&e.__v_isReactive)}function Js(e){return!!(e&&e.__v_isReadonly)}function ti(e){return!!(e&&e.__v_isShallow)}function na(e){return us(e)||Js(e)}function It(e){const n=e&&e.__v_raw;return n?It(n):e}function Xs(e){return Xi(e,"__v_skip",!0),e}const ni=e=>Mt(e)?Xt(e):e,sa=e=>Mt(e)?ta(e):e;function ra(e){Cs&&$n&&(e=It(e),au(e.dep||(e.dep=Zl())))}function vo(e,n){e=It(e);const s=e.dep;s&&bl(s)}function Kt(e){return!!(e&&e.__v_isRef===!0)}function Pt(e){return vu(e,!1)}function yu(e){return vu(e,!0)}function vu(e,n){return Kt(e)?e:new Yp(e,n)}class Yp{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:It(n),this._value=s?n:ni(n)}get value(){return ra(this),this._value}set value(n){const s=this.__v_isShallow||ti(n)||Js(n);n=s?n:It(n),br(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:ni(n),vo(this))}}function Zp(e){vo(e)}function G(e){return Kt(e)?e.value:e}function e_(e){return Et(e)?e():G(e)}const t_={get:(e,n,s)=>G(Reflect.get(e,n,s)),set:(e,n,s,t)=>{const r=e[n];return Kt(r)&&!Kt(s)?(r.value=s,!0):Reflect.set(e,n,s,t)}};function ia(e){return us(e)?e:new Proxy(e,t_)}class n_{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:t}=n(()=>ra(this),()=>vo(this));this._get=s,this._set=t}get value(){return this._get()}set value(n){this._set(n)}}function s_(e){return new n_(e)}function bn(e){const n=rt(e)?new Array(e.length):{};for(const s in e)n[s]=bu(e,s);return n}class r_{constructor(n,s,t){this._object=n,this._key=s,this._defaultValue=t,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return xp(It(this._object),this._key)}}class i_{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function o_(e,n,s){return Kt(e)?e:Et(e)?new i_(e):Mt(e)&&arguments.length>1?bu(e,n,s):Pt(e)}function bu(e,n,s){const t=e[n];return Kt(t)?t:new r_(e,n,s)}class l_{constructor(n,s,t,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new hi(n,()=>{this._dirty||(this._dirty=!0,vo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=t}get value(){const n=It(this);return ra(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function a_(e,n,s=!1){let t,r;const l=Et(e);return l?(t=e,r=Vn):(t=e.get,r=e.set),new l_(t,r,l||!r,s)}function c_(e,...n){}function u_(e,n){}function fs(e,n,s,t){let r;try{r=t?e(...t):e()}catch(l){sr(l,n,s)}return r}function On(e,n,s,t){if(Et(e)){const l=fs(e,n,s,t);return l&&Gl(l)&&l.catch(i=>{sr(i,n,s)}),l}const r=[];for(let l=0;l<e.length;l++)r.push(On(e[l],n,s,t));return r}function sr(e,n,s,t=!0){const r=n?n.vnode:null;if(n){let l=n.parent;const i=n.proxy,p=s;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](e,i,p)===!1)return}l=l.parent}const d=n.appContext.config.errorHandler;if(d){fs(d,null,10,[e,i,p]);return}}f_(e,s,r,t)}function f_(e,n,s,t=!0){console.error(e)}let si=!1,wl=!1;const fn=[];let Yn=0;const yr=[];let as=null,$s=0;const wu=Promise.resolve();let oa=null;function Zn(e){const n=oa||wu;return e?n.then(this?e.bind(this):e):n}function d_(e){let n=Yn+1,s=fn.length;for(;n<s;){const t=n+s>>>1;ri(fn[t])<e?n=t+1:s=t}return n}function bo(e){(!fn.length||!fn.includes(e,si&&e.allowRecurse?Yn+1:Yn))&&(e.id==null?fn.push(e):fn.splice(d_(e.id),0,e),Eu())}function Eu(){!si&&!wl&&(wl=!0,oa=wu.then(qu))}function p_(e){const n=fn.indexOf(e);n>Yn&&fn.splice(n,1)}function la(e){rt(e)?yr.push(...e):(!as||!as.includes(e,e.allowRecurse?$s+1:$s))&&yr.push(e),Eu()}function Qa(e,n=si?Yn+1:0){for(;n<fn.length;n++){const s=fn[n];s&&s.pre&&(fn.splice(n,1),n--,s())}}function to(e){if(yr.length){const n=[...new Set(yr)];if(yr.length=0,as){as.push(...n);return}for(as=n,as.sort((s,t)=>ri(s)-ri(t)),$s=0;$s<as.length;$s++)as[$s]();as=null,$s=0}}const ri=e=>e.id==null?1/0:e.id,__=(e,n)=>{const s=ri(e)-ri(n);if(s===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return s};function qu(e){wl=!1,si=!0,fn.sort(__);const n=Vn;try{for(Yn=0;Yn<fn.length;Yn++){const s=fn[Yn];s&&s.active!==!1&&fs(s,null,14)}}finally{Yn=0,fn.length=0,to(),si=!1,oa=null,(fn.length||yr.length)&&qu()}}let dr,Ni=[];function Su(e,n){var s,t;dr=e,dr?(dr.enabled=!0,Ni.forEach(({event:r,args:l})=>dr.emit(r,...l)),Ni=[]):typeof window<"u"&&window.HTMLElement&&!((t=(s=window.navigator)==null?void 0:s.userAgent)!=null&&t.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Su(l,n)}),setTimeout(()=>{dr||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ni=[])},3e3)):Ni=[]}function h_(e,n,...s){if(e.isUnmounted)return;const t=e.vnode.props||Dt;let r=s;const l=n.startsWith("update:"),i=l&&n.slice(7);if(i&&i in t){const m=`${i==="modelValue"?"model":i}Modifiers`,{number:v,trim:w}=t[m]||Dt;w&&(r=s.map(O=>zt(O)?O.trim():O)),v&&(r=s.map(Yi))}let p,d=t[p=Hr(n)]||t[p=Hr(Sn(n))];!d&&l&&(d=t[p=Hr(Ln(n))]),d&&On(d,e,6,r);const h=t[p+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[p])return;e.emitted[p]=!0,On(h,e,6,r)}}function xu(e,n,s=!1){const t=n.emitsCache,r=t.get(e);if(r!==void 0)return r;const l=e.emits;let i={},p=!1;if(!Et(e)){const d=h=>{const m=xu(h,n,!0);m&&(p=!0,Bt(i,m))};!s&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!p?(Mt(e)&&t.set(e,null),null):(rt(l)?l.forEach(d=>i[d]=null):Bt(i,l),Mt(e)&&t.set(e,i),i)}function wo(e,n){return!e||!pi(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ot(e,n[0].toLowerCase()+n.slice(1))||Ot(e,Ln(n))||Ot(e,n))}let on=null,Eo=null;function ii(e){const n=on;return on=e,Eo=e&&e.type.__scopeId||null,n}function ns(e){Eo=e}function ss(){Eo=null}const m_=e=>Fn;function Fn(e,n=on,s){if(!n||e._n)return e;const t=(...r)=>{t._d&&Al(-1);const l=ii(n);let i;try{i=e(...r)}finally{ii(l),t._d&&Al(1)}return i};return t._n=!0,t._c=!0,t._d=!0,t}function Qi(e){const{type:n,vnode:s,proxy:t,withProxy:r,props:l,propsOptions:[i],slots:p,attrs:d,emit:h,render:m,renderCache:v,data:w,setupState:O,ctx:W,inheritAttrs:ce}=e;let be,L;const S=ii(e);try{if(s.shapeFlag&4){const M=r||t;be=An(m.call(M,M,v,l,O,w,W)),L=d}else{const M=n;be=An(M.length>1?M(l,{attrs:d,slots:p,emit:h}):M(l,null)),L=n.props?d:y_(d)}}catch(M){Kr.length=0,sr(M,e,1),be=Ye(dn)}let U=be;if(L&&ce!==!1){const M=Object.keys(L),{shapeFlag:ae}=U;M.length&&ae&7&&(i&&M.some(Wl)&&(L=v_(L,i)),U=ts(U,L))}return s.dirs&&(U=ts(U),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&(U.transition=s.transition),be=U,ii(S),be}function g_(e){let n;for(let s=0;s<e.length;s++){const t=e[s];if(Rs(t)){if(t.type!==dn||t.children==="v-if"){if(n)return;n=t}}else return}return n}const y_=e=>{let n;for(const s in e)(s==="class"||s==="style"||pi(s))&&((n||(n={}))[s]=e[s]);return n},v_=(e,n)=>{const s={};for(const t in e)(!Wl(t)||!(t.slice(9)in n))&&(s[t]=e[t]);return s};function b_(e,n,s){const{props:t,children:r,component:l}=e,{props:i,children:p,patchFlag:d}=n,h=l.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return t?Ga(t,i,h):!!i;if(d&8){const m=n.dynamicProps;for(let v=0;v<m.length;v++){const w=m[v];if(i[w]!==t[w]&&!wo(h,w))return!0}}}else return(r||p)&&(!p||!p.$stable)?!0:t===i?!1:t?i?Ga(t,i,h):!0:!!i;return!1}function Ga(e,n,s){const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!0;for(let r=0;r<t.length;r++){const l=t[r];if(n[l]!==e[l]&&!wo(s,l))return!0}return!1}function aa({vnode:e,parent:n},s){for(;n&&n.subTree===e;)(e=n.vnode).el=s,n=n.parent}const ku=e=>e.__isSuspense,w_={name:"Suspense",__isSuspense:!0,process(e,n,s,t,r,l,i,p,d,h){e==null?E_(n,s,t,r,l,i,p,d,h):q_(e,n,s,t,r,i,p,d,h)},hydrate:S_,create:ca,normalize:x_},Cu=w_;function oi(e,n){const s=e.props&&e.props[n];Et(s)&&s()}function E_(e,n,s,t,r,l,i,p,d){const{p:h,o:{createElement:m}}=d,v=m("div"),w=e.suspense=ca(e,r,t,n,v,s,l,i,p,d);h(null,w.pendingBranch=e.ssContent,v,null,t,w,l,i),w.deps>0?(oi(e,"onPending"),oi(e,"onFallback"),h(null,e.ssFallback,n,s,t,null,l,i),vr(w,e.ssFallback)):w.resolve(!1,!0)}function q_(e,n,s,t,r,l,i,p,{p:d,um:h,o:{createElement:m}}){const v=n.suspense=e.suspense;v.vnode=n,n.el=e.el;const w=n.ssContent,O=n.ssFallback,{activeBranch:W,pendingBranch:ce,isInFallback:be,isHydrating:L}=v;if(ce)v.pendingBranch=w,jn(w,ce)?(d(ce,w,v.hiddenContainer,null,r,v,l,i,p),v.deps<=0?v.resolve():be&&(d(W,O,s,t,r,null,l,i,p),vr(v,O))):(v.pendingId++,L?(v.isHydrating=!1,v.activeBranch=ce):h(ce,r,v),v.deps=0,v.effects.length=0,v.hiddenContainer=m("div"),be?(d(null,w,v.hiddenContainer,null,r,v,l,i,p),v.deps<=0?v.resolve():(d(W,O,s,t,r,null,l,i,p),vr(v,O))):W&&jn(w,W)?(d(W,w,s,t,r,v,l,i,p),v.resolve(!0)):(d(null,w,v.hiddenContainer,null,r,v,l,i,p),v.deps<=0&&v.resolve()));else if(W&&jn(w,W))d(W,w,s,t,r,v,l,i,p),vr(v,w);else if(oi(n,"onPending"),v.pendingBranch=w,v.pendingId++,d(null,w,v.hiddenContainer,null,r,v,l,i,p),v.deps<=0)v.resolve();else{const{timeout:S,pendingId:U}=v;S>0?setTimeout(()=>{v.pendingId===U&&v.fallback(O)},S):S===0&&v.fallback(O)}}function ca(e,n,s,t,r,l,i,p,d,h,m=!1){const{p:v,m:w,um:O,n:W,o:{parentNode:ce,remove:be}}=h;let L;const S=k_(e);S&&n?.pendingBranch&&(L=n.pendingId,n.deps++);const U=e.props?Zi(e.props.timeout):void 0,M={vnode:e,parent:n,parentComponent:s,isSVG:i,container:t,hiddenContainer:r,anchor:l,deps:0,pendingId:0,timeout:typeof U=="number"?U:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:m,isUnmounted:!1,effects:[],resolve(ae=!1,Z=!1){const{vnode:ie,activeBranch:q,pendingBranch:A,pendingId:Q,effects:te,parentComponent:V,container:re}=M;if(M.isHydrating)M.isHydrating=!1;else if(!ae){const Ae=q&&A.transition&&A.transition.mode==="out-in";Ae&&(q.transition.afterLeave=()=>{Q===M.pendingId&&w(A,re,Ee,0)});let{anchor:Ee}=M;q&&(Ee=W(q),O(q,V,M,!0)),Ae||w(A,re,Ee,0)}vr(M,A),M.pendingBranch=null,M.isInFallback=!1;let ge=M.parent,Ze=!1;for(;ge;){if(ge.pendingBranch){ge.effects.push(...te),Ze=!0;break}ge=ge.parent}Ze||la(te),M.effects=[],S&&n&&n.pendingBranch&&L===n.pendingId&&(n.deps--,n.deps===0&&!Z&&n.resolve()),oi(ie,"onResolve")},fallback(ae){if(!M.pendingBranch)return;const{vnode:Z,activeBranch:ie,parentComponent:q,container:A,isSVG:Q}=M;oi(Z,"onFallback");const te=W(ie),V=()=>{!M.isInFallback||(v(null,ae,A,te,q,null,Q,p,d),vr(M,ae))},re=ae.transition&&ae.transition.mode==="out-in";re&&(ie.transition.afterLeave=V),M.isInFallback=!0,O(ie,q,null,!0),re||V()},move(ae,Z,ie){M.activeBranch&&w(M.activeBranch,ae,Z,ie),M.container=ae},next(){return M.activeBranch&&W(M.activeBranch)},registerDep(ae,Z){const ie=!!M.pendingBranch;ie&&M.deps++;const q=ae.vnode.el;ae.asyncDep.catch(A=>{sr(A,ae,0)}).then(A=>{if(ae.isUnmounted||M.isUnmounted||M.pendingId!==ae.suspenseId)return;ae.asyncResolved=!0;const{vnode:Q}=ae;Il(ae,A,!1),q&&(Q.el=q);const te=!q&&ae.subTree.el;Z(ae,Q,ce(q||ae.subTree.el),q?null:W(ae.subTree),M,i,d),te&&be(te),aa(ae,Q.el),ie&&--M.deps===0&&M.resolve()})},unmount(ae,Z){M.isUnmounted=!0,M.activeBranch&&O(M.activeBranch,s,ae,Z),M.pendingBranch&&O(M.pendingBranch,s,ae,Z)}};return M}function S_(e,n,s,t,r,l,i,p,d){const h=n.suspense=ca(n,t,s,e.parentNode,document.createElement("div"),null,r,l,i,p,!0),m=d(e,h.pendingBranch=n.ssContent,s,h,l,i);return h.deps===0&&h.resolve(!1,!0),m}function x_(e){const{shapeFlag:n,children:s}=e,t=n&32;e.ssContent=Ka(t?s.default:s),e.ssFallback=t?Ka(s.fallback):Ye(dn)}function Ka(e){let n;if(Et(e)){const s=tr&&e._c;s&&(e._d=!1,oe()),e=e(),s&&(e._d=!0,n=qn,sf())}return rt(e)&&(e=g_(e)),e=An(e),n&&!e.dynamicChildren&&(e.dynamicChildren=n.filter(s=>s!==e)),e}function Au(e,n){n&&n.pendingBranch?rt(e)?n.effects.push(...e):n.effects.push(e):la(e)}function vr(e,n){e.activeBranch=n;const{vnode:s,parentComponent:t}=e,r=s.el=n.el;t&&t.subTree===s&&(t.vnode.el=r,aa(t,r))}function k_(e){var n;return((n=e.props)==null?void 0:n.suspensible)!=null&&e.props.suspensible!==!1}function Ys(e,n){return mi(e,null,n)}function Iu(e,n){return mi(e,null,{flush:"post"})}function C_(e,n){return mi(e,null,{flush:"sync"})}const Bi={};function Gt(e,n,s){return mi(e,n,s)}function mi(e,n,{immediate:s,deep:t,flush:r,onTrack:l,onTrigger:i}=Dt){var p;const d=Yl()===((p=tn)==null?void 0:p.scope)?tn:null;let h,m=!1,v=!1;if(Kt(e)?(h=()=>e.value,m=ti(e)):us(e)?(h=()=>e,t=!0):rt(e)?(v=!0,m=e.some(M=>us(M)||ti(M)),h=()=>e.map(M=>{if(Kt(M))return M.value;if(us(M))return zs(M);if(Et(M))return fs(M,d,2)})):Et(e)?n?h=()=>fs(e,d,2):h=()=>{if(!(d&&d.isUnmounted))return w&&w(),On(e,d,3,[O])}:h=Vn,n&&t){const M=h;h=()=>zs(M())}let w,O=M=>{w=S.onStop=()=>{fs(M,d,4)}},W;if(Er)if(O=Vn,n?s&&On(n,d,3,[h(),v?[]:void 0,O]):h(),r==="sync"){const M=_f();W=M.__watcherHandles||(M.__watcherHandles=[])}else return Vn;let ce=v?new Array(e.length).fill(Bi):Bi;const be=()=>{if(!!S.active)if(n){const M=S.run();(t||m||(v?M.some((ae,Z)=>br(ae,ce[Z])):br(M,ce)))&&(w&&w(),On(n,d,3,[M,ce===Bi?void 0:v&&ce[0]===Bi?[]:ce,O]),ce=M)}else S.run()};be.allowRecurse=!!n;let L;r==="sync"?L=be:r==="post"?L=()=>cn(be,d&&d.suspense):(be.pre=!0,d&&(be.id=d.uid),L=()=>bo(be));const S=new hi(h,L);n?s?be():ce=S.run():r==="post"?cn(S.run.bind(S),d&&d.suspense):S.run();const U=()=>{S.stop(),d&&d.scope&&Ql(d.scope.effects,S)};return W&&W.push(U),U}function A_(e,n,s){const t=this.proxy,r=zt(e)?e.includes(".")?Tu(t,e):()=>t[e]:e.bind(t,t);let l;Et(n)?l=n:(l=n.handler,s=n);const i=tn;Ls(this);const p=mi(r,l.bind(t),s);return i?Ls(i):Ts(),p}function Tu(e,n){const s=n.split(".");return()=>{let t=e;for(let r=0;r<s.length&&t;r++)t=t[s[r]];return t}}function zs(e,n){if(!Mt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Kt(e))zs(e.value,n);else if(rt(e))for(let s=0;s<e.length;s++)zs(e[s],n);else if(nr(e)||mr(e))e.forEach(s=>{zs(s,n)});else if(eu(e))for(const s in e)zs(e[s],n);return e}function At(e,n){const s=on;if(s===null)return e;const t=Io(s)||s.proxy,r=e.dirs||(e.dirs=[]);for(let l=0;l<n.length;l++){let[i,p,d,h=Dt]=n[l];i&&(Et(i)&&(i={mounted:i,updated:i}),i.deep&&zs(p),r.push({dir:i,instance:t,value:p,oldValue:void 0,arg:d,modifiers:h}))}return e}function Xn(e,n,s,t){const r=e.dirs,l=n&&n.dirs;for(let i=0;i<r.length;i++){const p=r[i];l&&(p.oldValue=l[i].value);let d=p.dir[t];d&&(Ar(),On(d,s,8,[e.el,p,e,n]),Ir())}}function ua(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hs(()=>{e.isMounted=!0}),ko(()=>{e.isUnmounting=!0}),e}const Rn=[Function,Array],fa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rn,onEnter:Rn,onAfterEnter:Rn,onEnterCancelled:Rn,onBeforeLeave:Rn,onLeave:Rn,onAfterLeave:Rn,onLeaveCancelled:Rn,onBeforeAppear:Rn,onAppear:Rn,onAfterAppear:Rn,onAppearCancelled:Rn},I_={name:"BaseTransition",props:fa,setup(e,{slots:n}){const s=pn(),t=ua();let r;return()=>{const l=n.default&&qo(n.default(),!0);if(!l||!l.length)return;let i=l[0];if(l.length>1){for(const ce of l)if(ce.type!==dn){i=ce;break}}const p=It(e),{mode:d}=p;if(t.isLeaving)return el(i);const h=Ja(i);if(!h)return el(i);const m=wr(h,p,t,s);Zs(h,m);const v=s.subTree,w=v&&Ja(v);let O=!1;const{getTransitionKey:W}=h.type;if(W){const ce=W();r===void 0?r=ce:ce!==r&&(r=ce,O=!0)}if(w&&w.type!==dn&&(!jn(h,w)||O)){const ce=wr(w,p,t,s);if(Zs(w,ce),d==="out-in")return t.isLeaving=!0,ce.afterLeave=()=>{t.isLeaving=!1,s.update.active!==!1&&s.update()},el(i);d==="in-out"&&h.type!==dn&&(ce.delayLeave=(be,L,S)=>{const U=Pu(t,w);U[String(w.key)]=w,be._leaveCb=()=>{L(),be._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=S})}return i}}},Ou=I_;function Pu(e,n){const{leavingVNodes:s}=e;let t=s.get(n.type);return t||(t=Object.create(null),s.set(n.type,t)),t}function wr(e,n,s,t){const{appear:r,mode:l,persisted:i=!1,onBeforeEnter:p,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:v,onLeave:w,onAfterLeave:O,onLeaveCancelled:W,onBeforeAppear:ce,onAppear:be,onAfterAppear:L,onAppearCancelled:S}=n,U=String(e.key),M=Pu(s,e),ae=(q,A)=>{q&&On(q,t,9,A)},Z=(q,A)=>{const Q=A[1];ae(q,A),rt(q)?q.every(te=>te.length<=1)&&Q():q.length<=1&&Q()},ie={mode:l,persisted:i,beforeEnter(q){let A=p;if(!s.isMounted)if(r)A=ce||p;else return;q._leaveCb&&q._leaveCb(!0);const Q=M[U];Q&&jn(e,Q)&&Q.el._leaveCb&&Q.el._leaveCb(),ae(A,[q])},enter(q){let A=d,Q=h,te=m;if(!s.isMounted)if(r)A=be||d,Q=L||h,te=S||m;else return;let V=!1;const re=q._enterCb=ge=>{V||(V=!0,ge?ae(te,[q]):ae(Q,[q]),ie.delayedLeave&&ie.delayedLeave(),q._enterCb=void 0)};A?Z(A,[q,re]):re()},leave(q,A){const Q=String(e.key);if(q._enterCb&&q._enterCb(!0),s.isUnmounting)return A();ae(v,[q]);let te=!1;const V=q._leaveCb=re=>{te||(te=!0,A(),re?ae(W,[q]):ae(O,[q]),q._leaveCb=void 0,M[Q]===e&&delete M[Q])};M[Q]=e,w?Z(w,[q,V]):V()},clone(q){return wr(q,n,s,t)}};return ie}function el(e){if(gi(e))return e=ts(e),e.children=null,e}function Ja(e){return gi(e)?e.children?e.children[0]:void 0:e}function Zs(e,n){e.shapeFlag&6&&e.component?Zs(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function qo(e,n=!1,s){let t=[],r=0;for(let l=0;l<e.length;l++){let i=e[l];const p=s==null?i.key:String(s)+String(i.key!=null?i.key:l);i.type===vt?(i.patchFlag&128&&r++,t=t.concat(qo(i.children,n,p))):(n||i.type!==dn)&&t.push(p!=null?ts(i,{key:p}):i)}if(r>1)for(let l=0;l<t.length;l++)t[l].patchFlag=-2;return t}function Pn(e,n){return Et(e)?(()=>Bt({name:e.name},n,{setup:e}))():e}const Qs=e=>!!e.type.__asyncLoader;function T_(e){Et(e)&&(e={loader:e});const{loader:n,loadingComponent:s,errorComponent:t,delay:r=200,timeout:l,suspensible:i=!0,onError:p}=e;let d=null,h,m=0;const v=()=>(m++,d=null,w()),w=()=>{let O;return d||(O=d=n().catch(W=>{if(W=W instanceof Error?W:new Error(String(W)),p)return new Promise((ce,be)=>{p(W,()=>ce(v()),()=>be(W),m+1)});throw W}).then(W=>O!==d&&d?d:(W&&(W.__esModule||W[Symbol.toStringTag]==="Module")&&(W=W.default),h=W,W)))};return Pn({name:"AsyncComponentWrapper",__asyncLoader:w,get __asyncResolved(){return h},setup(){const O=tn;if(h)return()=>tl(h,O);const W=S=>{d=null,sr(S,O,13,!t)};if(i&&O.suspense||Er)return w().then(S=>()=>tl(S,O)).catch(S=>(W(S),()=>t?Ye(t,{error:S}):null));const ce=Pt(!1),be=Pt(),L=Pt(!!r);return r&&setTimeout(()=>{L.value=!1},r),l!=null&&setTimeout(()=>{if(!ce.value&&!be.value){const S=new Error(`Async component timed out after ${l}ms.`);W(S),be.value=S}},l),w().then(()=>{ce.value=!0,O.parent&&gi(O.parent.vnode)&&bo(O.parent.update)}).catch(S=>{W(S),be.value=S}),()=>{if(ce.value&&h)return tl(h,O);if(be.value&&t)return Ye(t,{error:be.value});if(s&&!L.value)return Ye(s)}}})}function tl(e,n){const{ref:s,props:t,children:r,ce:l}=n.vnode,i=Ye(e,t,r);return i.ref=s,i.ce=l,delete n.vnode.ce,i}const gi=e=>e.type.__isKeepAlive,O_={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:n}){const s=pn(),t=s.ctx;if(!t.renderer)return()=>{const S=n.default&&n.default();return S&&S.length===1?S[0]:S};const r=new Map,l=new Set;let i=null;const p=s.suspense,{renderer:{p:d,m:h,um:m,o:{createElement:v}}}=t,w=v("div");t.activate=(S,U,M,ae,Z)=>{const ie=S.component;h(S,U,M,0,p),d(ie.vnode,S,U,M,ie,p,ae,S.slotScopeIds,Z),cn(()=>{ie.isDeactivated=!1,ie.a&&gr(ie.a);const q=S.props&&S.props.onVnodeMounted;q&&En(q,ie.parent,S)},p)},t.deactivate=S=>{const U=S.component;h(S,w,null,1,p),cn(()=>{U.da&&gr(U.da);const M=S.props&&S.props.onVnodeUnmounted;M&&En(M,U.parent,S),U.isDeactivated=!0},p)};function O(S){nl(S),m(S,s,p,!0)}function W(S){r.forEach((U,M)=>{const ae=Ol(U.type);ae&&(!S||!S(ae))&&ce(M)})}function ce(S){const U=r.get(S);!i||!jn(U,i)?O(U):i&&nl(i),r.delete(S),l.delete(S)}Gt(()=>[e.include,e.exclude],([S,U])=>{S&&W(M=>Ur(S,M)),U&&W(M=>!Ur(U,M))},{flush:"post",deep:!0});let be=null;const L=()=>{be!=null&&r.set(be,sl(s.subTree))};return hs(L),xo(L),ko(()=>{r.forEach(S=>{const{subTree:U,suspense:M}=s,ae=sl(U);if(S.type===ae.type&&S.key===ae.key){nl(ae);const Z=ae.component.da;Z&&cn(Z,M);return}O(S)})}),()=>{if(be=null,!n.default)return null;const S=n.default(),U=S[0];if(S.length>1)return i=null,S;if(!Rs(U)||!(U.shapeFlag&4)&&!(U.shapeFlag&128))return i=null,U;let M=sl(U);const ae=M.type,Z=Ol(Qs(M)?M.type.__asyncResolved||{}:ae),{include:ie,exclude:q,max:A}=e;if(ie&&(!Z||!Ur(ie,Z))||q&&Z&&Ur(q,Z))return i=M,U;const Q=M.key==null?ae:M.key,te=r.get(Q);return M.el&&(M=ts(M),U.shapeFlag&128&&(U.ssContent=M)),be=Q,te?(M.el=te.el,M.component=te.component,M.transition&&Zs(M,M.transition),M.shapeFlag|=512,l.delete(Q),l.add(Q)):(l.add(Q),A&&l.size>parseInt(A,10)&&ce(l.values().next().value)),M.shapeFlag|=256,i=M,ku(U.type)?U:M}}},P_=O_;function Ur(e,n){return rt(e)?e.some(s=>Ur(s,n)):zt(e)?e.split(",").includes(n):lp(e)?e.test(n):!1}function da(e,n){Ru(e,"a",n)}function pa(e,n){Ru(e,"da",n)}function Ru(e,n,s=tn){const t=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(So(n,t,s),s){let r=s.parent;for(;r&&r.parent;)gi(r.parent.vnode)&&R_(t,n,s,r),r=r.parent}}function R_(e,n,s,t){const r=So(n,e,t,!0);yi(()=>{Ql(t[n],r)},s)}function nl(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function sl(e){return e.shapeFlag&128?e.ssContent:e}function So(e,n,s=tn,t=!1){if(s){const r=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...i)=>{if(s.isUnmounted)return;Ar(),Ls(s);const p=On(n,s,e,i);return Ts(),Ir(),p});return t?r.unshift(l):r.push(l),l}}const _s=e=>(n,s=tn)=>(!Er||e==="sp")&&So(e,(...t)=>n(...t),s),Lu=_s("bm"),hs=_s("m"),Fu=_s("bu"),xo=_s("u"),ko=_s("bum"),yi=_s("um"),Du=_s("sp"),Mu=_s("rtg"),Nu=_s("rtc");function Bu(e,n=tn){So("ec",e,n)}const _a="components",L_="directives";function As(e,n){return ha(_a,e,!0,n)||e}const $u=Symbol.for("v-ndc");function Co(e){return zt(e)?ha(_a,e,!1)||e:e||$u}function F_(e){return ha(L_,e)}function ha(e,n,s=!0,t=!1){const r=on||tn;if(r){const l=r.type;if(e===_a){const p=Ol(l,!1);if(p&&(p===n||p===Sn(n)||p===_i(Sn(n))))return l}const i=Xa(r[e]||l[e],n)||Xa(r.appContext[e],n);return!i&&t?l:i}}function Xa(e,n){return e&&(e[n]||e[Sn(n)]||e[_i(Sn(n))])}function $t(e,n,s,t){let r;const l=s&&s[t];if(rt(e)||zt(e)){r=new Array(e.length);for(let i=0,p=e.length;i<p;i++)r[i]=n(e[i],i,void 0,l&&l[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=n(i+1,i,void 0,l&&l[i])}else if(Mt(e))if(e[Symbol.iterator])r=Array.from(e,(i,p)=>n(i,p,void 0,l&&l[p]));else{const i=Object.keys(e);r=new Array(i.length);for(let p=0,d=i.length;p<d;p++){const h=i[p];r[p]=n(e[h],h,p,l&&l[p])}}else r=[];return s&&(s[t]=r),r}function D_(e,n){for(let s=0;s<n.length;s++){const t=n[s];if(rt(t))for(let r=0;r<t.length;r++)e[t[r].name]=t[r].fn;else t&&(e[t.name]=t.key?(...r)=>{const l=t.fn(...r);return l&&(l.key=t.key),l}:t.fn)}return e}function rn(e,n,s={},t,r){if(on.isCE||on.parent&&Qs(on.parent)&&on.parent.isCE)return n!=="default"&&(s.name=n),Ye("slot",s,t&&t());let l=e[n];l&&l._c&&(l._d=!1),oe();const i=l&&ju(l(s)),p=ln(vt,{key:s.key||i&&i.key||`_${n}`},i||(t?t():[]),i&&e._===1?64:-2);return!r&&p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),l&&l._c&&(l._d=!0),p}function ju(e){return e.some(n=>Rs(n)?!(n.type===dn||n.type===vt&&!ju(n.children)):!0)?e:null}function Uu(e,n){const s={};for(const t in e)s[n&&/[A-Z]/.test(t)?`on:${t}`:Hr(t)]=e[t];return s}const El=e=>e?cf(e)?Io(e)||e.proxy:El(e.parent):null,Wr=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>El(e.parent),$root:e=>El(e.root),$emit:e=>e.emit,$options:e=>ma(e),$forceUpdate:e=>e.f||(e.f=()=>bo(e.update)),$nextTick:e=>e.n||(e.n=Zn.bind(e.proxy)),$watch:e=>A_.bind(e)}),rl=(e,n)=>e!==Dt&&!e.__isScriptSetup&&Ot(e,n),ql={get({_:e},n){const{ctx:s,setupState:t,data:r,props:l,accessCache:i,type:p,appContext:d}=e;let h;if(n[0]!=="$"){const O=i[n];if(O!==void 0)switch(O){case 1:return t[n];case 2:return r[n];case 4:return s[n];case 3:return l[n]}else{if(rl(t,n))return i[n]=1,t[n];if(r!==Dt&&Ot(r,n))return i[n]=2,r[n];if((h=e.propsOptions[0])&&Ot(h,n))return i[n]=3,l[n];if(s!==Dt&&Ot(s,n))return i[n]=4,s[n];Sl&&(i[n]=0)}}const m=Wr[n];let v,w;if(m)return n==="$attrs"&&xn(e,"get",n),m(e);if((v=p.__cssModules)&&(v=v[n]))return v;if(s!==Dt&&Ot(s,n))return i[n]=4,s[n];if(w=d.config.globalProperties,Ot(w,n))return w[n]},set({_:e},n,s){const{data:t,setupState:r,ctx:l}=e;return rl(r,n)?(r[n]=s,!0):t!==Dt&&Ot(t,n)?(t[n]=s,!0):Ot(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:t,appContext:r,propsOptions:l}},i){let p;return!!s[i]||e!==Dt&&Ot(e,i)||rl(n,i)||(p=l[0])&&Ot(p,i)||Ot(t,i)||Ot(Wr,i)||Ot(r.config.globalProperties,i)},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:Ot(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}},M_=Bt({},ql,{get(e,n){if(n!==Symbol.unscopables)return ql.get(e,n,e)},has(e,n){return n[0]!=="_"&&!dp(n)}});function N_(){return null}function B_(){return null}function $_(e){}function j_(e){}function U_(){return null}function V_(){}function z_(e,n){return null}function Vu(){return zu().slots}function H_(){return zu().attrs}function W_(e,n,s){const t=pn();if(s&&s.local){const r=Pt(e[n]);return Gt(()=>e[n],l=>r.value=l),Gt(r,l=>{l!==e[n]&&t.emit(`update:${n}`,l)}),r}else return{__v_isRef:!0,get value(){return e[n]},set value(r){t.emit(`update:${n}`,r)}}}function zu(){const e=pn();return e.setupContext||(e.setupContext=df(e))}function li(e){return rt(e)?e.reduce((n,s)=>(n[s]=null,n),{}):e}function Q_(e,n){const s=li(e);for(const t in n){if(t.startsWith("__skip"))continue;let r=s[t];r?rt(r)||Et(r)?r=s[t]={type:r,default:n[t]}:r.default=n[t]:r===null&&(r=s[t]={default:n[t]}),r&&n[`__skip_${t}`]&&(r.skipFactory=!0)}return s}function G_(e,n){return!e||!n?e||n:rt(e)&&rt(n)?e.concat(n):Bt({},li(e),li(n))}function K_(e,n){const s={};for(const t in e)n.includes(t)||Object.defineProperty(s,t,{enumerable:!0,get:()=>e[t]});return s}function Hu(e){const n=pn();let s=e();return Ts(),Gl(s)&&(s=s.catch(t=>{throw Ls(n),t})),[s,()=>Ls(n)]}let Sl=!0;function J_(e){const n=ma(e),s=e.proxy,t=e.ctx;Sl=!1,n.beforeCreate&&Ya(n.beforeCreate,e,"bc");const{data:r,computed:l,methods:i,watch:p,provide:d,inject:h,created:m,beforeMount:v,mounted:w,beforeUpdate:O,updated:W,activated:ce,deactivated:be,beforeDestroy:L,beforeUnmount:S,destroyed:U,unmounted:M,render:ae,renderTracked:Z,renderTriggered:ie,errorCaptured:q,serverPrefetch:A,expose:Q,inheritAttrs:te,components:V,directives:re,filters:ge}=n;if(h&&X_(h,t,null),i)for(const Ee in i){const ct=i[Ee];Et(ct)&&(t[Ee]=ct.bind(s))}if(r){const Ee=r.call(s,s);Mt(Ee)&&(e.data=Xt(Ee))}if(Sl=!0,l)for(const Ee in l){const ct=l[Ee],Ve=Et(ct)?ct.bind(s,s):Et(ct.get)?ct.get.bind(s,s):Vn,bt=!Et(ct)&&Et(ct.set)?ct.set.bind(s):Vn,gt=pt({get:Ve,set:bt});Object.defineProperty(t,Ee,{enumerable:!0,configurable:!0,get:()=>gt.value,set:We=>gt.value=We})}if(p)for(const Ee in p)Wu(p[Ee],t,s,Ee);if(d){const Ee=Et(d)?d.call(s):d;Reflect.ownKeys(Ee).forEach(ct=>{Qr(ct,Ee[ct])})}m&&Ya(m,e,"c");function Ae(Ee,ct){rt(ct)?ct.forEach(Ve=>Ee(Ve.bind(s))):ct&&Ee(ct.bind(s))}if(Ae(Lu,v),Ae(hs,w),Ae(Fu,O),Ae(xo,W),Ae(da,ce),Ae(pa,be),Ae(Bu,q),Ae(Nu,Z),Ae(Mu,ie),Ae(ko,S),Ae(yi,M),Ae(Du,A),rt(Q))if(Q.length){const Ee=e.exposed||(e.exposed={});Q.forEach(ct=>{Object.defineProperty(Ee,ct,{get:()=>s[ct],set:Ve=>s[ct]=Ve})})}else e.exposed||(e.exposed={});ae&&e.render===Vn&&(e.render=ae),te!=null&&(e.inheritAttrs=te),V&&(e.components=V),re&&(e.directives=re)}function X_(e,n,s=Vn){rt(e)&&(e=xl(e));for(const t in e){const r=e[t];let l;Mt(r)?"default"in r?l=vn(r.from||t,r.default,!0):l=vn(r.from||t):l=vn(r),Kt(l)?Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:i=>l.value=i}):n[t]=l}}function Ya(e,n,s){On(rt(e)?e.map(t=>t.bind(n.proxy)):e.bind(n.proxy),n,s)}function Wu(e,n,s,t){const r=t.includes(".")?Tu(s,t):()=>s[t];if(zt(e)){const l=n[e];Et(l)&&Gt(r,l)}else if(Et(e))Gt(r,e.bind(s));else if(Mt(e))if(rt(e))e.forEach(l=>Wu(l,n,s,t));else{const l=Et(e.handler)?e.handler.bind(s):n[e.handler];Et(l)&&Gt(r,l,e)}}function ma(e){const n=e.type,{mixins:s,extends:t}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,p=l.get(n);let d;return p?d=p:!r.length&&!s&&!t?d=n:(d={},r.length&&r.forEach(h=>no(d,h,i,!0)),no(d,n,i)),Mt(n)&&l.set(n,d),d}function no(e,n,s,t=!1){const{mixins:r,extends:l}=n;l&&no(e,l,s,!0),r&&r.forEach(i=>no(e,i,s,!0));for(const i in n)if(!(t&&i==="expose")){const p=Y_[i]||s&&s[i];e[i]=p?p(e[i],n[i]):n[i]}return e}const Y_={data:Za,props:ec,emits:ec,methods:Vr,computed:Vr,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:Vr,directives:Vr,watch:eh,provide:Za,inject:Z_};function Za(e,n){return n?e?function(){return Bt(Et(e)?e.call(this,this):e,Et(n)?n.call(this,this):n)}:n:e}function Z_(e,n){return Vr(xl(e),xl(n))}function xl(e){if(rt(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function hn(e,n){return e?[...new Set([].concat(e,n))]:n}function Vr(e,n){return e?Bt(Object.create(null),e,n):n}function ec(e,n){return e?rt(e)&&rt(n)?[...new Set([...e,...n])]:Bt(Object.create(null),li(e),li(n??{})):n}function eh(e,n){if(!e)return n;if(!n)return e;const s=Bt(Object.create(null),e);for(const t in n)s[t]=hn(e[t],n[t]);return s}function Qu(){return{app:null,config:{isNativeTag:rp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let th=0;function nh(e,n){return function(t,r=null){Et(t)||(t=Bt({},t)),r!=null&&!Mt(r)&&(r=null);const l=Qu(),i=new Set;let p=!1;const d=l.app={_uid:th++,_component:t,_props:r,_container:null,_context:l,_instance:null,version:mf,get config(){return l.config},set config(h){},use(h,...m){return i.has(h)||(h&&Et(h.install)?(i.add(h),h.install(d,...m)):Et(h)&&(i.add(h),h(d,...m))),d},mixin(h){return l.mixins.includes(h)||l.mixins.push(h),d},component(h,m){return m?(l.components[h]=m,d):l.components[h]},directive(h,m){return m?(l.directives[h]=m,d):l.directives[h]},mount(h,m,v){if(!p){const w=Ye(t,r);return w.appContext=l,m&&n?n(w,h):e(w,h,v),p=!0,d._container=h,h.__vue_app__=d,Io(w.component)||w.component.proxy}},unmount(){p&&(e(null,d._container),delete d._container.__vue_app__)},provide(h,m){return l.provides[h]=m,d},runWithContext(h){ai=d;try{return h()}finally{ai=null}}};return d}}let ai=null;function Qr(e,n){if(tn){let s=tn.provides;const t=tn.parent&&tn.parent.provides;t===s&&(s=tn.provides=Object.create(t)),s[e]=n}}function vn(e,n,s=!1){const t=tn||on;if(t||ai){const r=t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:ai._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Et(n)?n.call(t&&t.proxy):n}}function sh(){return!!(tn||on||ai)}function rh(e,n,s,t=!1){const r={},l={};Xi(l,Ao,1),e.propsDefaults=Object.create(null),Gu(e,n,r,l);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);s?e.props=t?r:gu(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function ih(e,n,s,t){const{props:r,attrs:l,vnode:{patchFlag:i}}=e,p=It(r),[d]=e.propsOptions;let h=!1;if((t||i>0)&&!(i&16)){if(i&8){const m=e.vnode.dynamicProps;for(let v=0;v<m.length;v++){let w=m[v];if(wo(e.emitsOptions,w))continue;const O=n[w];if(d)if(Ot(l,w))O!==l[w]&&(l[w]=O,h=!0);else{const W=Sn(w);r[W]=kl(d,p,W,O,e,!1)}else O!==l[w]&&(l[w]=O,h=!0)}}}else{Gu(e,n,r,l)&&(h=!0);let m;for(const v in p)(!n||!Ot(n,v)&&((m=Ln(v))===v||!Ot(n,m)))&&(d?s&&(s[v]!==void 0||s[m]!==void 0)&&(r[v]=kl(d,p,v,void 0,e,!0)):delete r[v]);if(l!==p)for(const v in l)(!n||!Ot(n,v)&&!0)&&(delete l[v],h=!0)}h&&ps(e,"set","$attrs")}function Gu(e,n,s,t){const[r,l]=e.propsOptions;let i=!1,p;if(n)for(let d in n){if(zr(d))continue;const h=n[d];let m;r&&Ot(r,m=Sn(d))?!l||!l.includes(m)?s[m]=h:(p||(p={}))[m]=h:wo(e.emitsOptions,d)||(!(d in t)||h!==t[d])&&(t[d]=h,i=!0)}if(l){const d=It(s),h=p||Dt;for(let m=0;m<l.length;m++){const v=l[m];s[v]=kl(r,d,v,h[v],e,!Ot(h,v))}}return i}function kl(e,n,s,t,r,l){const i=e[s];if(i!=null){const p=Ot(i,"default");if(p&&t===void 0){const d=i.default;if(i.type!==Function&&!i.skipFactory&&Et(d)){const{propsDefaults:h}=r;s in h?t=h[s]:(Ls(r),t=h[s]=d.call(null,n),Ts())}else t=d}i[0]&&(l&&!p?t=!1:i[1]&&(t===""||t===Ln(s))&&(t=!0))}return t}function Ku(e,n,s=!1){const t=n.propsCache,r=t.get(e);if(r)return r;const l=e.props,i={},p=[];let d=!1;if(!Et(e)){const m=v=>{d=!0;const[w,O]=Ku(v,n,!0);Bt(i,w),O&&p.push(...O)};!s&&n.mixins.length&&n.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!l&&!d)return Mt(e)&&t.set(e,hr),hr;if(rt(l))for(let m=0;m<l.length;m++){const v=Sn(l[m]);tc(v)&&(i[v]=Dt)}else if(l)for(const m in l){const v=Sn(m);if(tc(v)){const w=l[m],O=i[v]=rt(w)||Et(w)?{type:w}:Bt({},w);if(O){const W=rc(Boolean,O.type),ce=rc(String,O.type);O[0]=W>-1,O[1]=ce<0||W<ce,(W>-1||Ot(O,"default"))&&p.push(v)}}}const h=[i,p];return Mt(e)&&t.set(e,h),h}function tc(e){return e[0]!=="$"}function nc(e){const n=e&&e.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:e===null?"null":""}function sc(e,n){return nc(e)===nc(n)}function rc(e,n){return rt(n)?n.findIndex(s=>sc(s,e)):Et(n)&&sc(n,e)?0:-1}const Ju=e=>e[0]==="_"||e==="$stable",ga=e=>rt(e)?e.map(An):[An(e)],oh=(e,n,s)=>{if(n._n)return n;const t=Fn((...r)=>ga(n(...r)),s);return t._c=!1,t},Xu=(e,n,s)=>{const t=e._ctx;for(const r in e){if(Ju(r))continue;const l=e[r];if(Et(l))n[r]=oh(r,l,t);else if(l!=null){const i=ga(l);n[r]=()=>i}}},Yu=(e,n)=>{const s=ga(n);e.slots.default=()=>s},lh=(e,n)=>{if(e.vnode.shapeFlag&32){const s=n._;s?(e.slots=It(n),Xi(n,"_",s)):Xu(n,e.slots={})}else e.slots={},n&&Yu(e,n);Xi(e.slots,Ao,1)},ah=(e,n,s)=>{const{vnode:t,slots:r}=e;let l=!0,i=Dt;if(t.shapeFlag&32){const p=n._;p?s&&p===1?l=!1:(Bt(r,n),!s&&p===1&&delete r._):(l=!n.$stable,Xu(n,r)),i=n}else n&&(Yu(e,n),i={default:1});if(l)for(const p in r)!Ju(p)&&!(p in i)&&delete r[p]};function so(e,n,s,t,r=!1){if(rt(e)){e.forEach((w,O)=>so(w,n&&(rt(n)?n[O]:n),s,t,r));return}if(Qs(t)&&!r)return;const l=t.shapeFlag&4?Io(t.component)||t.component.proxy:t.el,i=r?null:l,{i:p,r:d}=e,h=n&&n.r,m=p.refs===Dt?p.refs={}:p.refs,v=p.setupState;if(h!=null&&h!==d&&(zt(h)?(m[h]=null,Ot(v,h)&&(v[h]=null)):Kt(h)&&(h.value=null)),Et(d))fs(d,p,12,[i,m]);else{const w=zt(d),O=Kt(d);if(w||O){const W=()=>{if(e.f){const ce=w?Ot(v,d)?v[d]:m[d]:d.value;r?rt(ce)&&Ql(ce,l):rt(ce)?ce.includes(l)||ce.push(l):w?(m[d]=[l],Ot(v,d)&&(v[d]=m[d])):(d.value=[l],e.k&&(m[e.k]=d.value))}else w?(m[d]=i,Ot(v,d)&&(v[d]=i)):O&&(d.value=i,e.k&&(m[e.k]=i))};i?(W.id=-1,cn(W,s)):W()}}}let ys=!1;const $i=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",ji=e=>e.nodeType===8;function ch(e){const{mt:n,p:s,o:{patchProp:t,createText:r,nextSibling:l,parentNode:i,remove:p,insert:d,createComment:h}}=e,m=(L,S)=>{if(!S.hasChildNodes()){s(null,L,S),to(),S._vnode=L;return}ys=!1,v(S.firstChild,L,null,null,null),to(),S._vnode=L,ys&&console.error("Hydration completed but contains mismatches.")},v=(L,S,U,M,ae,Z=!1)=>{const ie=ji(L)&&L.data==="[",q=()=>ce(L,S,U,M,ae,ie),{type:A,ref:Q,shapeFlag:te,patchFlag:V}=S;let re=L.nodeType;S.el=L,V===-2&&(Z=!1,S.dynamicChildren=null);let ge=null;switch(A){case er:re!==3?S.children===""?(d(S.el=r(""),i(L),L),ge=L):ge=q():(L.data!==S.children&&(ys=!0,L.data=S.children),ge=l(L));break;case dn:re!==8||ie?ge=q():ge=l(L);break;case Gs:if(ie&&(L=l(L),re=L.nodeType),re===1||re===3){ge=L;const Ze=!S.children.length;for(let Ae=0;Ae<S.staticCount;Ae++)Ze&&(S.children+=ge.nodeType===1?ge.outerHTML:ge.data),Ae===S.staticCount-1&&(S.anchor=ge),ge=l(ge);return ie?l(ge):ge}else q();break;case vt:ie?ge=W(L,S,U,M,ae,Z):ge=q();break;default:if(te&1)re!==1||S.type.toLowerCase()!==L.tagName.toLowerCase()?ge=q():ge=w(L,S,U,M,ae,Z);else if(te&6){S.slotScopeIds=ae;const Ze=i(L);if(n(S,Ze,null,U,M,$i(Ze),Z),ge=ie?be(L):l(L),ge&&ji(ge)&&ge.data==="teleport end"&&(ge=l(ge)),Qs(S)){let Ae;ie?(Ae=Ye(vt),Ae.anchor=ge?ge.previousSibling:Ze.lastChild):Ae=L.nodeType===3?Qn(""):Ye("div"),Ae.el=L,S.component.subTree=Ae}}else te&64?re!==8?ge=q():ge=S.type.hydrate(L,S,U,M,ae,Z,e,O):te&128&&(ge=S.type.hydrate(L,S,U,M,$i(i(L)),ae,Z,e,v))}return Q!=null&&so(Q,null,M,S),ge},w=(L,S,U,M,ae,Z)=>{Z=Z||!!S.dynamicChildren;const{type:ie,props:q,patchFlag:A,shapeFlag:Q,dirs:te}=S,V=ie==="input"&&te||ie==="option";if(V||A!==-1){if(te&&Xn(S,null,U,"created"),q)if(V||!Z||A&48)for(const ge in q)(V&&ge.endsWith("value")||pi(ge)&&!zr(ge))&&t(L,ge,null,q[ge],!1,void 0,U);else q.onClick&&t(L,"onClick",null,q.onClick,!1,void 0,U);let re;if((re=q&&q.onVnodeBeforeMount)&&En(re,U,S),te&&Xn(S,null,U,"beforeMount"),((re=q&&q.onVnodeMounted)||te)&&Au(()=>{re&&En(re,U,S),te&&Xn(S,null,U,"mounted")},M),Q&16&&!(q&&(q.innerHTML||q.textContent))){let ge=O(L.firstChild,S,L,U,M,ae,Z);for(;ge;){ys=!0;const Ze=ge;ge=ge.nextSibling,p(Ze)}}else Q&8&&L.textContent!==S.children&&(ys=!0,L.textContent=S.children)}return L.nextSibling},O=(L,S,U,M,ae,Z,ie)=>{ie=ie||!!S.dynamicChildren;const q=S.children,A=q.length;for(let Q=0;Q<A;Q++){const te=ie?q[Q]:q[Q]=An(q[Q]);if(L)L=v(L,te,M,ae,Z,ie);else{if(te.type===er&&!te.children)continue;ys=!0,s(null,te,U,null,M,ae,$i(U),Z)}}return L},W=(L,S,U,M,ae,Z)=>{const{slotScopeIds:ie}=S;ie&&(ae=ae?ae.concat(ie):ie);const q=i(L),A=O(l(L),S,q,U,M,ae,Z);return A&&ji(A)&&A.data==="]"?l(S.anchor=A):(ys=!0,d(S.anchor=h("]"),q,A),A)},ce=(L,S,U,M,ae,Z)=>{if(ys=!0,S.el=null,Z){const A=be(L);for(;;){const Q=l(L);if(Q&&Q!==A)p(Q);else break}}const ie=l(L),q=i(L);return p(L),s(null,S,q,ie,U,M,$i(q),ae),ie},be=L=>{let S=0;for(;L;)if(L=l(L),L&&ji(L)&&(L.data==="["&&S++,L.data==="]")){if(S===0)return l(L);S--}return L};return[m,v]}const cn=Au;function Zu(e){return tf(e)}function ef(e){return tf(e,ch)}function tf(e,n){const s=gl();s.__VUE__=!0;const{insert:t,remove:r,patchProp:l,createElement:i,createText:p,createComment:d,setText:h,setElementText:m,parentNode:v,nextSibling:w,setScopeId:O=Vn,insertStaticContent:W}=e,ce=(T,P,K,fe=null,he=null,ve=null,Le=!1,Pe=null,Be=!!P.dynamicChildren)=>{if(T===P)return;T&&!jn(T,P)&&(fe=X(T),We(T,he,ve,!0),T=null),P.patchFlag===-2&&(Be=!1,P.dynamicChildren=null);const{type:ue,ref:Re,shapeFlag:Me}=P;switch(ue){case er:be(T,P,K,fe);break;case dn:L(T,P,K,fe);break;case Gs:T==null&&S(P,K,fe,Le);break;case vt:V(T,P,K,fe,he,ve,Le,Pe,Be);break;default:Me&1?ae(T,P,K,fe,he,ve,Le,Pe,Be):Me&6?re(T,P,K,fe,he,ve,Le,Pe,Be):(Me&64||Me&128)&&ue.process(T,P,K,fe,he,ve,Le,Pe,Be,de)}Re!=null&&he&&so(Re,T&&T.ref,ve,P||T,!P)},be=(T,P,K,fe)=>{if(T==null)t(P.el=p(P.children),K,fe);else{const he=P.el=T.el;P.children!==T.children&&h(he,P.children)}},L=(T,P,K,fe)=>{T==null?t(P.el=d(P.children||""),K,fe):P.el=T.el},S=(T,P,K,fe)=>{[T.el,T.anchor]=W(T.children,P,K,fe,T.el,T.anchor)},U=({el:T,anchor:P},K,fe)=>{let he;for(;T&&T!==P;)he=w(T),t(T,K,fe),T=he;t(P,K,fe)},M=({el:T,anchor:P})=>{let K;for(;T&&T!==P;)K=w(T),r(T),T=K;r(P)},ae=(T,P,K,fe,he,ve,Le,Pe,Be)=>{Le=Le||P.type==="svg",T==null?Z(P,K,fe,he,ve,Le,Pe,Be):A(T,P,he,ve,Le,Pe,Be)},Z=(T,P,K,fe,he,ve,Le,Pe)=>{let Be,ue;const{type:Re,props:Me,shapeFlag:Fe,transition:Je,dirs:_t}=T;if(Be=T.el=i(T.type,ve,Me&&Me.is,Me),Fe&8?m(Be,T.children):Fe&16&&q(T.children,Be,null,fe,he,ve&&Re!=="foreignObject",Le,Pe),_t&&Xn(T,null,fe,"created"),ie(Be,T,T.scopeId,Le,fe),Me){for(const wt in Me)wt!=="value"&&!zr(wt)&&l(Be,wt,null,Me[wt],ve,T.children,fe,he,Se);"value"in Me&&l(Be,"value",null,Me.value),(ue=Me.onVnodeBeforeMount)&&En(ue,fe,T)}_t&&Xn(T,null,fe,"beforeMount");const St=(!he||he&&!he.pendingBranch)&&Je&&!Je.persisted;St&&Je.beforeEnter(Be),t(Be,P,K),((ue=Me&&Me.onVnodeMounted)||St||_t)&&cn(()=>{ue&&En(ue,fe,T),St&&Je.enter(Be),_t&&Xn(T,null,fe,"mounted")},he)},ie=(T,P,K,fe,he)=>{if(K&&O(T,K),fe)for(let ve=0;ve<fe.length;ve++)O(T,fe[ve]);if(he){let ve=he.subTree;if(P===ve){const Le=he.vnode;ie(T,Le,Le.scopeId,Le.slotScopeIds,he.parent)}}},q=(T,P,K,fe,he,ve,Le,Pe,Be=0)=>{for(let ue=Be;ue<T.length;ue++){const Re=T[ue]=Pe?qs(T[ue]):An(T[ue]);ce(null,Re,P,K,fe,he,ve,Le,Pe)}},A=(T,P,K,fe,he,ve,Le)=>{const Pe=P.el=T.el;let{patchFlag:Be,dynamicChildren:ue,dirs:Re}=P;Be|=T.patchFlag&16;const Me=T.props||Dt,Fe=P.props||Dt;let Je;K&&Ns(K,!1),(Je=Fe.onVnodeBeforeUpdate)&&En(Je,K,P,T),Re&&Xn(P,T,K,"beforeUpdate"),K&&Ns(K,!0);const _t=he&&P.type!=="foreignObject";if(ue?Q(T.dynamicChildren,ue,Pe,K,fe,_t,ve):Le||ct(T,P,Pe,null,K,fe,_t,ve,!1),Be>0){if(Be&16)te(Pe,P,Me,Fe,K,fe,he);else if(Be&2&&Me.class!==Fe.class&&l(Pe,"class",null,Fe.class,he),Be&4&&l(Pe,"style",Me.style,Fe.style,he),Be&8){const St=P.dynamicProps;for(let wt=0;wt<St.length;wt++){const Tt=St[wt],jt=Me[Tt],Yt=Fe[Tt];(Yt!==jt||Tt==="value")&&l(Pe,Tt,jt,Yt,he,T.children,K,fe,Se)}}Be&1&&T.children!==P.children&&m(Pe,P.children)}else!Le&&ue==null&&te(Pe,P,Me,Fe,K,fe,he);((Je=Fe.onVnodeUpdated)||Re)&&cn(()=>{Je&&En(Je,K,P,T),Re&&Xn(P,T,K,"updated")},fe)},Q=(T,P,K,fe,he,ve,Le)=>{for(let Pe=0;Pe<P.length;Pe++){const Be=T[Pe],ue=P[Pe],Re=Be.el&&(Be.type===vt||!jn(Be,ue)||Be.shapeFlag&70)?v(Be.el):K;ce(Be,ue,Re,null,fe,he,ve,Le,!0)}},te=(T,P,K,fe,he,ve,Le)=>{if(K!==fe){if(K!==Dt)for(const Pe in K)!zr(Pe)&&!(Pe in fe)&&l(T,Pe,K[Pe],null,Le,P.children,he,ve,Se);for(const Pe in fe){if(zr(Pe))continue;const Be=fe[Pe],ue=K[Pe];Be!==ue&&Pe!=="value"&&l(T,Pe,ue,Be,Le,P.children,he,ve,Se)}"value"in fe&&l(T,"value",K.value,fe.value)}},V=(T,P,K,fe,he,ve,Le,Pe,Be)=>{const ue=P.el=T?T.el:p(""),Re=P.anchor=T?T.anchor:p("");let{patchFlag:Me,dynamicChildren:Fe,slotScopeIds:Je}=P;Je&&(Pe=Pe?Pe.concat(Je):Je),T==null?(t(ue,K,fe),t(Re,K,fe),q(P.children,K,Re,he,ve,Le,Pe,Be)):Me>0&&Me&64&&Fe&&T.dynamicChildren?(Q(T.dynamicChildren,Fe,K,he,ve,Le,Pe),(P.key!=null||he&&P===he.subTree)&&ya(T,P,!0)):ct(T,P,K,Re,he,ve,Le,Pe,Be)},re=(T,P,K,fe,he,ve,Le,Pe,Be)=>{P.slotScopeIds=Pe,T==null?P.shapeFlag&512?he.ctx.activate(P,K,fe,Le,Be):ge(P,K,fe,he,ve,Le,Be):Ze(T,P,Be)},ge=(T,P,K,fe,he,ve,Le)=>{const Pe=T.component=af(T,fe,he);if(gi(T)&&(Pe.ctx.renderer=de),uf(Pe),Pe.asyncDep){if(he&&he.registerDep(Pe,Ae),!T.el){const Be=Pe.subTree=Ye(dn);L(null,Be,P,K)}return}Ae(Pe,T,P,K,he,ve,Le)},Ze=(T,P,K)=>{const fe=P.component=T.component;if(b_(T,P,K))if(fe.asyncDep&&!fe.asyncResolved){Ee(fe,P,K);return}else fe.next=P,p_(fe.update),fe.update();else P.el=T.el,fe.vnode=P},Ae=(T,P,K,fe,he,ve,Le)=>{const Pe=()=>{if(T.isMounted){let{next:Re,bu:Me,u:Fe,parent:Je,vnode:_t}=T,St=Re,wt;Ns(T,!1),Re?(Re.el=_t.el,Ee(T,Re,Le)):Re=_t,Me&&gr(Me),(wt=Re.props&&Re.props.onVnodeBeforeUpdate)&&En(wt,Je,Re,_t),Ns(T,!0);const Tt=Qi(T),jt=T.subTree;T.subTree=Tt,ce(jt,Tt,v(jt.el),X(jt),T,he,ve),Re.el=Tt.el,St===null&&aa(T,Tt.el),Fe&&cn(Fe,he),(wt=Re.props&&Re.props.onVnodeUpdated)&&cn(()=>En(wt,Je,Re,_t),he)}else{let Re;const{el:Me,props:Fe}=P,{bm:Je,m:_t,parent:St}=T,wt=Qs(P);if(Ns(T,!1),Je&&gr(Je),!wt&&(Re=Fe&&Fe.onVnodeBeforeMount)&&En(Re,St,P),Ns(T,!0),Me&&lt){const Tt=()=>{T.subTree=Qi(T),lt(Me,T.subTree,T,he,null)};wt?P.type.__asyncLoader().then(()=>!T.isUnmounted&&Tt()):Tt()}else{const Tt=T.subTree=Qi(T);ce(null,Tt,K,fe,T,he,ve),P.el=Tt.el}if(_t&&cn(_t,he),!wt&&(Re=Fe&&Fe.onVnodeMounted)){const Tt=P;cn(()=>En(Re,St,Tt),he)}(P.shapeFlag&256||St&&Qs(St.vnode)&&St.vnode.shapeFlag&256)&&T.a&&cn(T.a,he),T.isMounted=!0,P=K=fe=null}},Be=T.effect=new hi(Pe,()=>bo(ue),T.scope),ue=T.update=()=>Be.run();ue.id=T.uid,Ns(T,!0),ue()},Ee=(T,P,K)=>{P.component=T;const fe=T.vnode.props;T.vnode=P,T.next=null,ih(T,P.props,fe,K),ah(T,P.children,K),Ar(),Qa(),Ir()},ct=(T,P,K,fe,he,ve,Le,Pe,Be=!1)=>{const ue=T&&T.children,Re=T?T.shapeFlag:0,Me=P.children,{patchFlag:Fe,shapeFlag:Je}=P;if(Fe>0){if(Fe&128){bt(ue,Me,K,fe,he,ve,Le,Pe,Be);return}else if(Fe&256){Ve(ue,Me,K,fe,he,ve,Le,Pe,Be);return}}Je&8?(Re&16&&Se(ue,he,ve),Me!==ue&&m(K,Me)):Re&16?Je&16?bt(ue,Me,K,fe,he,ve,Le,Pe,Be):Se(ue,he,ve,!0):(Re&8&&m(K,""),Je&16&&q(Me,K,fe,he,ve,Le,Pe,Be))},Ve=(T,P,K,fe,he,ve,Le,Pe,Be)=>{T=T||hr,P=P||hr;const ue=T.length,Re=P.length,Me=Math.min(ue,Re);let Fe;for(Fe=0;Fe<Me;Fe++){const Je=P[Fe]=Be?qs(P[Fe]):An(P[Fe]);ce(T[Fe],Je,K,null,he,ve,Le,Pe,Be)}ue>Re?Se(T,he,ve,!0,!1,Me):q(P,K,fe,he,ve,Le,Pe,Be,Me)},bt=(T,P,K,fe,he,ve,Le,Pe,Be)=>{let ue=0;const Re=P.length;let Me=T.length-1,Fe=Re-1;for(;ue<=Me&&ue<=Fe;){const Je=T[ue],_t=P[ue]=Be?qs(P[ue]):An(P[ue]);if(jn(Je,_t))ce(Je,_t,K,null,he,ve,Le,Pe,Be);else break;ue++}for(;ue<=Me&&ue<=Fe;){const Je=T[Me],_t=P[Fe]=Be?qs(P[Fe]):An(P[Fe]);if(jn(Je,_t))ce(Je,_t,K,null,he,ve,Le,Pe,Be);else break;Me--,Fe--}if(ue>Me){if(ue<=Fe){const Je=Fe+1,_t=Je<Re?P[Je].el:fe;for(;ue<=Fe;)ce(null,P[ue]=Be?qs(P[ue]):An(P[ue]),K,_t,he,ve,Le,Pe,Be),ue++}}else if(ue>Fe)for(;ue<=Me;)We(T[ue],he,ve,!0),ue++;else{const Je=ue,_t=ue,St=new Map;for(ue=_t;ue<=Fe;ue++){const st=P[ue]=Be?qs(P[ue]):An(P[ue]);st.key!=null&&St.set(st.key,ue)}let wt,Tt=0;const jt=Fe-_t+1;let Yt=!1,ft=0;const nn=new Array(jt);for(ue=0;ue<jt;ue++)nn[ue]=0;for(ue=Je;ue<=Me;ue++){const st=T[ue];if(Tt>=jt){We(st,he,ve,!0);continue}let sn;if(st.key!=null)sn=St.get(st.key);else for(wt=_t;wt<=Fe;wt++)if(nn[wt-_t]===0&&jn(st,P[wt])){sn=wt;break}sn===void 0?We(st,he,ve,!0):(nn[sn-_t]=ue+1,sn>=ft?ft=sn:Yt=!0,ce(st,P[sn],K,null,he,ve,Le,Pe,Be),Tt++)}const _=Yt?uh(nn):hr;for(wt=_.length-1,ue=jt-1;ue>=0;ue--){const st=_t+ue,sn=P[st],Dn=st+1<Re?P[st+1].el:fe;nn[ue]===0?ce(null,sn,K,Dn,he,ve,Le,Pe,Be):Yt&&(wt<0||ue!==_[wt]?gt(sn,K,Dn,2):wt--)}}},gt=(T,P,K,fe,he=null)=>{const{el:ve,type:Le,transition:Pe,children:Be,shapeFlag:ue}=T;if(ue&6){gt(T.component.subTree,P,K,fe);return}if(ue&128){T.suspense.move(P,K,fe);return}if(ue&64){Le.move(T,P,K,de);return}if(Le===vt){t(ve,P,K);for(let Me=0;Me<Be.length;Me++)gt(Be[Me],P,K,fe);t(T.anchor,P,K);return}if(Le===Gs){U(T,P,K);return}if(fe!==2&&ue&1&&Pe)if(fe===0)Pe.beforeEnter(ve),t(ve,P,K),cn(()=>Pe.enter(ve),he);else{const{leave:Me,delayLeave:Fe,afterLeave:Je}=Pe,_t=()=>t(ve,P,K),St=()=>{Me(ve,()=>{_t(),Je&&Je()})};Fe?Fe(ve,_t,St):St()}else t(ve,P,K)},We=(T,P,K,fe=!1,he=!1)=>{const{type:ve,props:Le,ref:Pe,children:Be,dynamicChildren:ue,shapeFlag:Re,patchFlag:Me,dirs:Fe}=T;if(Pe!=null&&so(Pe,null,K,T,!0),Re&256){P.ctx.deactivate(T);return}const Je=Re&1&&Fe,_t=!Qs(T);let St;if(_t&&(St=Le&&Le.onVnodeBeforeUnmount)&&En(St,P,T),Re&6)ut(T.component,K,fe);else{if(Re&128){T.suspense.unmount(K,fe);return}Je&&Xn(T,null,P,"beforeUnmount"),Re&64?T.type.remove(T,P,K,he,de,fe):ue&&(ve!==vt||Me>0&&Me&64)?Se(ue,P,K,!1,!0):(ve===vt&&Me&384||!he&&Re&16)&&Se(Be,P,K),fe&&xt(T)}(_t&&(St=Le&&Le.onVnodeUnmounted)||Je)&&cn(()=>{St&&En(St,P,T),Je&&Xn(T,null,P,"unmounted")},K)},xt=T=>{const{type:P,el:K,anchor:fe,transition:he}=T;if(P===vt){qt(K,fe);return}if(P===Gs){M(T);return}const ve=()=>{r(K),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(T.shapeFlag&1&&he&&!he.persisted){const{leave:Le,delayLeave:Pe}=he,Be=()=>Le(K,ve);Pe?Pe(T.el,ve,Be):Be()}else ve()},qt=(T,P)=>{let K;for(;T!==P;)K=w(T),r(T),T=K;r(P)},ut=(T,P,K)=>{const{bum:fe,scope:he,update:ve,subTree:Le,um:Pe}=T;fe&&gr(fe),he.stop(),ve&&(ve.active=!1,We(Le,T,P,K)),Pe&&cn(Pe,P),cn(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Se=(T,P,K,fe=!1,he=!1,ve=0)=>{for(let Le=ve;Le<T.length;Le++)We(T[Le],P,K,fe,he)},X=T=>T.shapeFlag&6?X(T.component.subTree):T.shapeFlag&128?T.suspense.next():w(T.anchor||T.el),Oe=(T,P,K)=>{T==null?P._vnode&&We(P._vnode,null,null,!0):ce(P._vnode||null,T,P,null,null,null,K),Qa(),to(),P._vnode=T},de={p:ce,um:We,m:gt,r:xt,mt:ge,mc:q,pc:ct,pbc:Q,n:X,o:e};let Ne,lt;return n&&([Ne,lt]=n(de)),{render:Oe,hydrate:Ne,createApp:nh(Oe,Ne)}}function Ns({effect:e,update:n},s){e.allowRecurse=n.allowRecurse=s}function ya(e,n,s=!1){const t=e.children,r=n.children;if(rt(t)&&rt(r))for(let l=0;l<t.length;l++){const i=t[l];let p=r[l];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=r[l]=qs(r[l]),p.el=i.el),s||ya(i,p)),p.type===er&&(p.el=i.el)}}function uh(e){const n=e.slice(),s=[0];let t,r,l,i,p;const d=e.length;for(t=0;t<d;t++){const h=e[t];if(h!==0){if(r=s[s.length-1],e[r]<h){n[t]=r,s.push(t);continue}for(l=0,i=s.length-1;l<i;)p=l+i>>1,e[s[p]]<h?l=p+1:i=p;h<e[s[l]]&&(l>0&&(n[t]=s[l-1]),s[l]=t)}}for(l=s.length,i=s[l-1];l-- >0;)s[l]=i,i=n[i];return s}const fh=e=>e.__isTeleport,Gr=e=>e&&(e.disabled||e.disabled===""),ic=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Cl=(e,n)=>{const s=e&&e.to;return zt(s)?n?n(s):null:s},dh={__isTeleport:!0,process(e,n,s,t,r,l,i,p,d,h){const{mc:m,pc:v,pbc:w,o:{insert:O,querySelector:W,createText:ce,createComment:be}}=h,L=Gr(n.props);let{shapeFlag:S,children:U,dynamicChildren:M}=n;if(e==null){const ae=n.el=ce(""),Z=n.anchor=ce("");O(ae,s,t),O(Z,s,t);const ie=n.target=Cl(n.props,W),q=n.targetAnchor=ce("");ie&&(O(q,ie),i=i||ic(ie));const A=(Q,te)=>{S&16&&m(U,Q,te,r,l,i,p,d)};L?A(s,Z):ie&&A(ie,q)}else{n.el=e.el;const ae=n.anchor=e.anchor,Z=n.target=e.target,ie=n.targetAnchor=e.targetAnchor,q=Gr(e.props),A=q?s:Z,Q=q?ae:ie;if(i=i||ic(Z),M?(w(e.dynamicChildren,M,A,r,l,i,p),ya(e,n,!0)):d||v(e,n,A,Q,r,l,i,p,!1),L)q||Ui(n,s,ae,h,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const te=n.target=Cl(n.props,W);te&&Ui(n,te,null,h,0)}else q&&Ui(n,Z,ie,h,1)}nf(n)},remove(e,n,s,t,{um:r,o:{remove:l}},i){const{shapeFlag:p,children:d,anchor:h,targetAnchor:m,target:v,props:w}=e;if(v&&l(m),(i||!Gr(w))&&(l(h),p&16))for(let O=0;O<d.length;O++){const W=d[O];r(W,n,s,!0,!!W.dynamicChildren)}},move:Ui,hydrate:ph};function Ui(e,n,s,{o:{insert:t},m:r},l=2){l===0&&t(e.targetAnchor,n,s);const{el:i,anchor:p,shapeFlag:d,children:h,props:m}=e,v=l===2;if(v&&t(i,n,s),(!v||Gr(m))&&d&16)for(let w=0;w<h.length;w++)r(h[w],n,s,2);v&&t(p,n,s)}function ph(e,n,s,t,r,l,{o:{nextSibling:i,parentNode:p,querySelector:d}},h){const m=n.target=Cl(n.props,d);if(m){const v=m._lpa||m.firstChild;if(n.shapeFlag&16)if(Gr(n.props))n.anchor=h(i(e),n,p(e),s,t,r,l),n.targetAnchor=v;else{n.anchor=i(e);let w=v;for(;w;)if(w=i(w),w&&w.nodeType===8&&w.data==="teleport anchor"){n.targetAnchor=w,m._lpa=n.targetAnchor&&i(n.targetAnchor);break}h(v,n,m,s,t,r,l)}nf(n)}return n.anchor&&i(n.anchor)}const _h=dh;function nf(e){const n=e.ctx;if(n&&n.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}const vt=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),dn=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),Kr=[];let qn=null;function oe(e=!1){Kr.push(qn=e?null:[])}function sf(){Kr.pop(),qn=Kr[Kr.length-1]||null}let tr=1;function Al(e){tr+=e}function rf(e){return e.dynamicChildren=tr>0?qn||hr:null,sf(),tr>0&&qn&&qn.push(e),e}function ye(e,n,s,t,r,l){return rf(z(e,n,s,t,r,l,!0))}function ln(e,n,s,t,r){return rf(Ye(e,n,s,t,r,!0))}function Rs(e){return e?e.__v_isVNode===!0:!1}function jn(e,n){return e.type===n.type&&e.key===n.key}function hh(e){}const Ao="__vInternal",of=({key:e})=>e??null,Gi=({ref:e,ref_key:n,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||Kt(e)||Et(e)?{i:on,r:e,k:n,f:!!s}:e:null);function z(e,n=null,s=null,t=0,r=null,l=e===vt?0:1,i=!1,p=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&of(n),ref:n&&Gi(n),scopeId:Eo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:t,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:on};return p?(va(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=zt(s)?8:16),tr>0&&!i&&qn&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&qn.push(d),d}const Ye=mh;function mh(e,n=null,s=null,t=0,r=null,l=!1){if((!e||e===$u)&&(e=dn),Rs(e)){const p=ts(e,n,!0);return s&&va(p,s),tr>0&&!l&&qn&&(p.shapeFlag&6?qn[qn.indexOf(e)]=p:qn.push(p)),p.patchFlag|=-2,p}if(Sh(e)&&(e=e.__vccOpts),n){n=lf(n);let{class:p,style:d}=n;p&&!zt(p)&&(n.class=it(p)),Mt(d)&&(na(d)&&!rt(d)&&(d=Bt({},d)),n.style=Wn(d))}const i=zt(e)?1:ku(e)?128:fh(e)?64:Mt(e)?4:Et(e)?2:0;return z(e,n,s,t,r,i,l,!0)}function lf(e){return e?na(e)||Ao in e?Bt({},e):e:null}function ts(e,n,s=!1){const{props:t,ref:r,patchFlag:l,children:i}=e,p=n?Is(t||{},n):t;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&of(p),ref:n&&n.ref?s&&r?rt(r)?r.concat(Gi(n)):[r,Gi(n)]:Gi(n):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==vt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ts(e.ssContent),ssFallback:e.ssFallback&&ts(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Qn(e=" ",n=0){return Ye(er,null,e,n)}function gh(e,n){const s=Ye(Gs,null,e);return s.staticCount=n,s}function Ge(e="",n=!1){return n?(oe(),ln(dn,null,e)):Ye(dn,null,e)}function An(e){return e==null||typeof e=="boolean"?Ye(dn):rt(e)?Ye(vt,null,e.slice()):typeof e=="object"?qs(e):Ye(er,null,String(e))}function qs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ts(e)}function va(e,n){let s=0;const{shapeFlag:t}=e;if(n==null)n=null;else if(rt(n))s=16;else if(typeof n=="object")if(t&65){const r=n.default;r&&(r._c&&(r._d=!1),va(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=n._;!r&&!(Ao in n)?n._ctx=on:r===3&&on&&(on.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Et(n)?(n={default:n,_ctx:on},s=32):(n=String(n),t&64?(s=16,n=[Qn(n)]):s=8);e.children=n,e.shapeFlag|=s}function Is(...e){const n={};for(let s=0;s<e.length;s++){const t=e[s];for(const r in t)if(r==="class")n.class!==t.class&&(n.class=it([n.class,t.class]));else if(r==="style")n.style=Wn([n.style,t.style]);else if(pi(r)){const l=n[r],i=t[r];i&&l!==i&&!(rt(l)&&l.includes(i))&&(n[r]=l?[].concat(l,i):i)}else r!==""&&(n[r]=t[r])}return n}function En(e,n,s,t=null){On(e,n,7,[s,t])}const yh=Qu();let vh=0;function af(e,n,s){const t=e.type,r=(n?n.appContext:e.appContext)||yh,l={uid:vh++,vnode:e,type:t,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ku(t,r),emitsOptions:xu(t,r),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:t.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=h_.bind(null,l),e.ce&&e.ce(l),l}let tn=null;const pn=()=>tn||on;let ba,ur,oc="__VUE_INSTANCE_SETTERS__";(ur=gl()[oc])||(ur=gl()[oc]=[]),ur.push(e=>tn=e),ba=e=>{ur.length>1?ur.forEach(n=>n(e)):ur[0](e)};const Ls=e=>{ba(e),e.scope.on()},Ts=()=>{tn&&tn.scope.off(),ba(null)};function cf(e){return e.vnode.shapeFlag&4}let Er=!1;function uf(e,n=!1){Er=n;const{props:s,children:t}=e.vnode,r=cf(e);rh(e,s,r,n),lh(e,t);const l=r?bh(e,n):void 0;return Er=!1,l}function bh(e,n){const s=e.type;e.accessCache=Object.create(null),e.proxy=Xs(new Proxy(e.ctx,ql));const{setup:t}=s;if(t){const r=e.setupContext=t.length>1?df(e):null;Ls(e),Ar();const l=fs(t,e,0,[e.props,r]);if(Ir(),Ts(),Gl(l)){if(l.then(Ts,Ts),n)return l.then(i=>{Il(e,i,n)}).catch(i=>{sr(i,e,0)});e.asyncDep=l}else Il(e,l,n)}else ff(e,n)}function Il(e,n,s){Et(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Mt(n)&&(e.setupState=ia(n)),ff(e,s)}let ro,Tl;function wh(e){ro=e,Tl=n=>{n.render._rc&&(n.withProxy=new Proxy(n.ctx,M_))}}const Eh=()=>!ro;function ff(e,n,s){const t=e.type;if(!e.render){if(!n&&ro&&!t.render){const r=t.template||ma(e).template;if(r){const{isCustomElement:l,compilerOptions:i}=e.appContext.config,{delimiters:p,compilerOptions:d}=t,h=Bt(Bt({isCustomElement:l,delimiters:p},i),d);t.render=ro(r,h)}}e.render=t.render||Vn,Tl&&Tl(e)}Ls(e),Ar(),J_(e),Ir(),Ts()}function qh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(n,s){return xn(e,"get","$attrs"),n[s]}}))}function df(e){const n=s=>{e.exposed=s||{}};return{get attrs(){return qh(e)},slots:e.slots,emit:e.emit,expose:n}}function Io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ia(Xs(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in Wr)return Wr[s](e)},has(n,s){return s in n||s in Wr}}))}function Ol(e,n=!0){return Et(e)?e.displayName||e.name:e.name||n&&e.__name}function Sh(e){return Et(e)&&"__vccOpts"in e}const pt=(e,n)=>a_(e,n,Er);function To(e,n,s){const t=arguments.length;return t===2?Mt(n)&&!rt(n)?Rs(n)?Ye(e,null,[n]):Ye(e,n):Ye(e,null,n):(t>3?s=Array.prototype.slice.call(arguments,2):t===3&&Rs(s)&&(s=[s]),Ye(e,n,s))}const pf=Symbol.for("v-scx"),_f=()=>vn(pf);function xh(){}function kh(e,n,s,t){const r=s[t];if(r&&hf(r,e))return r;const l=n();return l.memo=e.slice(),s[t]=l}function hf(e,n){const s=e.memo;if(s.length!=n.length)return!1;for(let t=0;t<s.length;t++)if(br(s[t],n[t]))return!1;return tr>0&&qn&&qn.push(e),!0}const mf="3.3.2",Ch={createComponentInstance:af,setupComponent:uf,renderComponentRoot:Qi,setCurrentRenderingInstance:ii,isVNode:Rs,normalizeVNode:An},Ah=Ch,Ih=null,Th=null,Oh="http://www.w3.org/2000/svg",js=typeof document<"u"?document:null,lc=js&&js.createElement("template"),Ph={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,t)=>{const r=n?js.createElementNS(Oh,e):js.createElement(e,s?{is:s}:void 0);return e==="select"&&t&&t.multiple!=null&&r.setAttribute("multiple",t.multiple),r},createText:e=>js.createTextNode(e),createComment:e=>js.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>js.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,t,r,l){const i=s?s.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{lc.innerHTML=t?`<svg>${e}</svg>`:e;const p=lc.content;if(t){const d=p.firstChild;for(;d.firstChild;)p.appendChild(d.firstChild);p.removeChild(d)}n.insertBefore(p,s)}return[i?i.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function Rh(e,n,s){const t=e._vtc;t&&(n=(n?[n,...t]:[...t]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}function Lh(e,n,s){const t=e.style,r=zt(s);if(s&&!r){if(n&&!zt(n))for(const l in n)s[l]==null&&Pl(t,l,"");for(const l in s)Pl(t,l,s[l])}else{const l=t.display;r?n!==s&&(t.cssText=s):n&&e.removeAttribute("style"),"_vod"in e&&(t.display=l)}}const ac=/\s*!important$/;function Pl(e,n,s){if(rt(s))s.forEach(t=>Pl(e,n,t));else if(s==null&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const t=Fh(e,n);ac.test(s)?e.setProperty(Ln(t),s.replace(ac,""),"important"):e[t]=s}}const cc=["Webkit","Moz","ms"],il={};function Fh(e,n){const s=il[n];if(s)return s;let t=Sn(n);if(t!=="filter"&&t in e)return il[n]=t;t=_i(t);for(let r=0;r<cc.length;r++){const l=cc[r]+t;if(l in e)return il[n]=l}return n}const uc="http://www.w3.org/1999/xlink";function Dh(e,n,s,t,r){if(t&&n.startsWith("xlink:"))s==null?e.removeAttributeNS(uc,n.slice(6,n.length)):e.setAttributeNS(uc,n,s);else{const l=vp(n);s==null||l&&!tu(s)?e.removeAttribute(n):e.setAttribute(n,l?"":s)}}function Mh(e,n,s,t,r,l,i){if(n==="innerHTML"||n==="textContent"){t&&i(t,r,l),e[n]=s??"";return}const p=e.tagName;if(n==="value"&&p!=="PROGRESS"&&!p.includes("-")){e._value=s;const h=p==="OPTION"?e.getAttribute("value"):e.value,m=s??"";h!==m&&(e.value=m),s==null&&e.removeAttribute(n);return}let d=!1;if(s===""||s==null){const h=typeof e[n];h==="boolean"?s=tu(s):s==null&&h==="string"?(s="",d=!0):h==="number"&&(s=0,d=!0)}try{e[n]=s}catch{}d&&e.removeAttribute(n)}function cs(e,n,s,t){e.addEventListener(n,s,t)}function Nh(e,n,s,t){e.removeEventListener(n,s,t)}function Bh(e,n,s,t,r=null){const l=e._vei||(e._vei={}),i=l[n];if(t&&i)i.value=t;else{const[p,d]=$h(n);if(t){const h=l[n]=Vh(t,r);cs(e,p,h,d)}else i&&(Nh(e,p,i,d),l[n]=void 0)}}const fc=/(?:Once|Passive|Capture)$/;function $h(e){let n;if(fc.test(e)){n={};let t;for(;t=e.match(fc);)e=e.slice(0,e.length-t[0].length),n[t[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ln(e.slice(2)),n]}let ol=0;const jh=Promise.resolve(),Uh=()=>ol||(jh.then(()=>ol=0),ol=Date.now());function Vh(e,n){const s=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=s.attached)return;On(zh(t,s.value),n,5,[t])};return s.value=e,s.attached=Uh(),s}function zh(e,n){if(rt(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(t=>r=>!r._stopped&&t&&t(r))}else return n}const dc=/^on[a-z]/,Hh=(e,n,s,t,r=!1,l,i,p,d)=>{n==="class"?Rh(e,t,r):n==="style"?Lh(e,s,t):pi(n)?Wl(n)||Bh(e,n,s,t,i):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Wh(e,n,t,r))?Mh(e,n,t,l,i,p,d):(n==="true-value"?e._trueValue=t:n==="false-value"&&(e._falseValue=t),Dh(e,n,t,r))};function Wh(e,n,s,t){return t?!!(n==="innerHTML"||n==="textContent"||n in e&&dc.test(n)&&Et(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||dc.test(n)&&zt(s)?!1:n in e}function gf(e,n){const s=Pn(e);class t extends Oo{constructor(l){super(s,l,n)}}return t.def=s,t}const Qh=e=>gf(e,Rf),Gh=typeof HTMLElement<"u"?HTMLElement:class{};class Oo extends Gh{constructor(n,s={},t){super(),this._def=n,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&t?t(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Zn(()=>{this._connected||(Fl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);new MutationObserver(t=>{for(const r of t)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const n=(t,r=!1)=>{const{props:l,styles:i}=t;let p;if(l&&!rt(l))for(const d in l){const h=l[d];(h===Number||h&&h.type===Number)&&(d in this._props&&(this._props[d]=Zi(this._props[d])),(p||(p=Object.create(null)))[Sn(d)]=!0)}this._numberProps=p,r&&this._resolveProps(t),this._applyStyles(i),this._update()},s=this._def.__asyncLoader;s?s().then(t=>n(t,!0)):n(this._def)}_resolveProps(n){const{props:s}=n,t=rt(s)?s:Object.keys(s||{});for(const r of Object.keys(this))r[0]!=="_"&&t.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of t.map(Sn))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(l){this._setProp(r,l)}})}_setAttr(n){let s=this.getAttribute(n);const t=Sn(n);this._numberProps&&this._numberProps[t]&&(s=Zi(s)),this._setProp(t,s,!1)}_getProp(n){return this._props[n]}_setProp(n,s,t=!0,r=!0){s!==this._props[n]&&(this._props[n]=s,r&&this._instance&&this._update(),t&&(s===!0?this.setAttribute(Ln(n),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Ln(n),s+""):s||this.removeAttribute(Ln(n))))}_update(){Fl(this._createVNode(),this.shadowRoot)}_createVNode(){const n=Ye(this._def,Bt({},this._props));return this._instance||(n.ce=s=>{this._instance=s,s.isCE=!0;const t=(l,i)=>{this.dispatchEvent(new CustomEvent(l,{detail:i}))};s.emit=(l,...i)=>{t(l,i),Ln(l)!==l&&t(Ln(l),i)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Oo){s.parent=r._instance,s.provides=r._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(s=>{const t=document.createElement("style");t.textContent=s,this.shadowRoot.appendChild(t)})}}function Kh(e="$style"){{const n=pn();if(!n)return Dt;const s=n.type.__cssModules;if(!s)return Dt;const t=s[e];return t||Dt}}function Jh(e){const n=pn();if(!n)return;const s=n.ut=(r=e(n.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${n.uid}"]`)).forEach(l=>Ll(l,r))},t=()=>{const r=e(n.proxy);Rl(n.subTree,r),s(r)};Iu(t),hs(()=>{const r=new MutationObserver(t);r.observe(n.subTree.el.parentNode,{childList:!0}),yi(()=>r.disconnect())})}function Rl(e,n){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Rl(s.activeBranch,n)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Ll(e.el,n);else if(e.type===vt)e.children.forEach(s=>Rl(s,n));else if(e.type===Gs){let{el:s,anchor:t}=e;for(;s&&(Ll(s,n),s!==t);)s=s.nextSibling}}function Ll(e,n){if(e.nodeType===1){const s=e.style;for(const t in n)s.setProperty(`--${t}`,n[t])}}const vs="transition",Nr="animation",wa=(e,{slots:n})=>To(Ou,vf(e),n);wa.displayName="Transition";const yf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xh=wa.props=Bt({},fa,yf),Bs=(e,n=[])=>{rt(e)?e.forEach(s=>s(...n)):e&&e(...n)},pc=e=>e?rt(e)?e.some(n=>n.length>1):e.length>1:!1;function vf(e){const n={};for(const V in e)V in yf||(n[V]=e[V]);if(e.css===!1)return n;const{name:s="v",type:t,duration:r,enterFromClass:l=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:p=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:h=i,appearToClass:m=p,leaveFromClass:v=`${s}-leave-from`,leaveActiveClass:w=`${s}-leave-active`,leaveToClass:O=`${s}-leave-to`}=e,W=Yh(r),ce=W&&W[0],be=W&&W[1],{onBeforeEnter:L,onEnter:S,onEnterCancelled:U,onLeave:M,onLeaveCancelled:ae,onBeforeAppear:Z=L,onAppear:ie=S,onAppearCancelled:q=U}=n,A=(V,re,ge)=>{ws(V,re?m:p),ws(V,re?h:i),ge&&ge()},Q=(V,re)=>{V._isLeaving=!1,ws(V,v),ws(V,O),ws(V,w),re&&re()},te=V=>(re,ge)=>{const Ze=V?ie:S,Ae=()=>A(re,V,ge);Bs(Ze,[re,Ae]),_c(()=>{ws(re,V?d:l),os(re,V?m:p),pc(Ze)||hc(re,t,ce,Ae)})};return Bt(n,{onBeforeEnter(V){Bs(L,[V]),os(V,l),os(V,i)},onBeforeAppear(V){Bs(Z,[V]),os(V,d),os(V,h)},onEnter:te(!1),onAppear:te(!0),onLeave(V,re){V._isLeaving=!0;const ge=()=>Q(V,re);os(V,v),wf(),os(V,w),_c(()=>{!V._isLeaving||(ws(V,v),os(V,O),pc(M)||hc(V,t,be,ge))}),Bs(M,[V,ge])},onEnterCancelled(V){A(V,!1),Bs(U,[V])},onAppearCancelled(V){A(V,!0),Bs(q,[V])},onLeaveCancelled(V){Q(V),Bs(ae,[V])}})}function Yh(e){if(e==null)return null;if(Mt(e))return[ll(e.enter),ll(e.leave)];{const n=ll(e);return[n,n]}}function ll(e){return Zi(e)}function os(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(n)}function ws(e,n){n.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:s}=e;s&&(s.delete(n),s.size||(e._vtc=void 0))}function _c(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zh=0;function hc(e,n,s,t){const r=e._endId=++Zh,l=()=>{r===e._endId&&t()};if(s)return setTimeout(l,s);const{type:i,timeout:p,propCount:d}=bf(e,n);if(!i)return t();const h=i+"end";let m=0;const v=()=>{e.removeEventListener(h,w),l()},w=O=>{O.target===e&&++m>=d&&v()};setTimeout(()=>{m<d&&v()},p+1),e.addEventListener(h,w)}function bf(e,n){const s=window.getComputedStyle(e),t=W=>(s[W]||"").split(", "),r=t(`${vs}Delay`),l=t(`${vs}Duration`),i=mc(r,l),p=t(`${Nr}Delay`),d=t(`${Nr}Duration`),h=mc(p,d);let m=null,v=0,w=0;n===vs?i>0&&(m=vs,v=i,w=l.length):n===Nr?h>0&&(m=Nr,v=h,w=d.length):(v=Math.max(i,h),m=v>0?i>h?vs:Nr:null,w=m?m===vs?l.length:d.length:0);const O=m===vs&&/\b(transform|all)(,|$)/.test(t(`${vs}Property`).toString());return{type:m,timeout:v,propCount:w,hasTransform:O}}function mc(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((s,t)=>gc(s)+gc(e[t])))}function gc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function wf(){return document.body.offsetHeight}const Ef=new WeakMap,qf=new WeakMap,Sf={name:"TransitionGroup",props:Bt({},Xh,{tag:String,moveClass:String}),setup(e,{slots:n}){const s=pn(),t=ua();let r,l;return xo(()=>{if(!r.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!rm(r[0].el,s.vnode.el,i))return;r.forEach(tm),r.forEach(nm);const p=r.filter(sm);wf(),p.forEach(d=>{const h=d.el,m=h.style;os(h,i),m.transform=m.webkitTransform=m.transitionDuration="";const v=h._moveCb=w=>{w&&w.target!==h||(!w||/transform$/.test(w.propertyName))&&(h.removeEventListener("transitionend",v),h._moveCb=null,ws(h,i))};h.addEventListener("transitionend",v)})}),()=>{const i=It(e),p=vf(i);let d=i.tag||vt;r=l,l=n.default?qo(n.default()):[];for(let h=0;h<l.length;h++){const m=l[h];m.key!=null&&Zs(m,wr(m,p,t,s))}if(r)for(let h=0;h<r.length;h++){const m=r[h];Zs(m,wr(m,p,t,s)),Ef.set(m,m.el.getBoundingClientRect())}return Ye(d,null,l)}}},em=e=>delete e.mode;Sf.props;const xf=Sf;function tm(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function nm(e){qf.set(e,e.el.getBoundingClientRect())}function sm(e){const n=Ef.get(e),s=qf.get(e),t=n.left-s.left,r=n.top-s.top;if(t||r){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${t}px,${r}px)`,l.transitionDuration="0s",e}}function rm(e,n,s){const t=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(p=>p&&t.classList.remove(p))}),s.split(/\s+/).forEach(i=>i&&t.classList.add(i)),t.style.display="none";const r=n.nodeType===1?n:n.parentNode;r.appendChild(t);const{hasTransform:l}=bf(t);return r.removeChild(t),l}const Fs=e=>{const n=e.props["onUpdate:modelValue"]||!1;return rt(n)?s=>gr(n,s):n};function im(e){e.target.composing=!0}function yc(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Vt={created(e,{modifiers:{lazy:n,trim:s,number:t}},r){e._assign=Fs(r);const l=t||r.props&&r.props.type==="number";cs(e,n?"change":"input",i=>{if(i.target.composing)return;let p=e.value;s&&(p=p.trim()),l&&(p=Yi(p)),e._assign(p)}),s&&cs(e,"change",()=>{e.value=e.value.trim()}),n||(cs(e,"compositionstart",im),cs(e,"compositionend",yc),cs(e,"change",yc))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,modifiers:{lazy:s,trim:t,number:r}},l){if(e._assign=Fs(l),e.composing||document.activeElement===e&&e.type!=="range"&&(s||t&&e.value.trim()===n||(r||e.type==="number")&&Yi(e.value)===n))return;const i=n??"";e.value!==i&&(e.value=i)}},xs={deep:!0,created(e,n,s){e._assign=Fs(s),cs(e,"change",()=>{const t=e._modelValue,r=qr(e),l=e.checked,i=e._assign;if(rt(t)){const p=_o(t,r),d=p!==-1;if(l&&!d)i(t.concat(r));else if(!l&&d){const h=[...t];h.splice(p,1),i(h)}}else if(nr(t)){const p=new Set(t);l?p.add(r):p.delete(r),i(p)}else i(Cf(e,l))})},mounted:vc,beforeUpdate(e,n,s){e._assign=Fs(s),vc(e,n,s)}};function vc(e,{value:n,oldValue:s},t){e._modelValue=n,rt(n)?e.checked=_o(n,t.props.value)>-1:nr(n)?e.checked=n.has(t.props.value):n!==s&&(e.checked=Os(n,Cf(e,!0)))}const Ea={created(e,{value:n},s){e.checked=Os(n,s.props.value),e._assign=Fs(s),cs(e,"change",()=>{e._assign(qr(e))})},beforeUpdate(e,{value:n,oldValue:s},t){e._assign=Fs(t),n!==s&&(e.checked=Os(n,t.props.value))}},kf={deep:!0,created(e,{value:n,modifiers:{number:s}},t){const r=nr(n);cs(e,"change",()=>{const l=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?Yi(qr(i)):qr(i));e._assign(e.multiple?r?new Set(l):l:l[0])}),e._assign=Fs(t)},mounted(e,{value:n}){bc(e,n)},beforeUpdate(e,n,s){e._assign=Fs(s)},updated(e,{value:n}){bc(e,n)}};function bc(e,n){const s=e.multiple;if(!(s&&!rt(n)&&!nr(n))){for(let t=0,r=e.options.length;t<r;t++){const l=e.options[t],i=qr(l);if(s)rt(n)?l.selected=_o(n,i)>-1:l.selected=n.has(i);else if(Os(qr(l),n)){e.selectedIndex!==t&&(e.selectedIndex=t);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qr(e){return"_value"in e?e._value:e.value}function Cf(e,n){const s=n?"_trueValue":"_falseValue";return s in e?e[s]:n}const Af={created(e,n,s){Vi(e,n,s,null,"created")},mounted(e,n,s){Vi(e,n,s,null,"mounted")},beforeUpdate(e,n,s,t){Vi(e,n,s,t,"beforeUpdate")},updated(e,n,s,t){Vi(e,n,s,t,"updated")}};function If(e,n){switch(e){case"SELECT":return kf;case"TEXTAREA":return Vt;default:switch(n){case"checkbox":return xs;case"radio":return Ea;default:return Vt}}}function Vi(e,n,s,t,r){const i=If(e.tagName,s.props&&s.props.type)[r];i&&i(e,n,s,t)}function om(){Vt.getSSRProps=({value:e})=>({value:e}),Ea.getSSRProps=({value:e},n)=>{if(n.props&&Os(n.props.value,e))return{checked:!0}},xs.getSSRProps=({value:e},n)=>{if(rt(e)){if(n.props&&_o(e,n.props.value)>-1)return{checked:!0}}else if(nr(e)){if(n.props&&e.has(n.props.value))return{checked:!0}}else if(e)return{checked:!0}},Af.getSSRProps=(e,n)=>{if(typeof n.type!="string")return;const s=If(n.type.toUpperCase(),n.props&&n.props.type);if(s.getSSRProps)return s.getSSRProps(e,n)}}const lm=["ctrl","shift","alt","meta"],am={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>lm.some(s=>e[`${s}Key`]&&!n.includes(s))},en=(e,n)=>(s,...t)=>{for(let r=0;r<n.length;r++){const l=am[n[r]];if(l&&l(s,n))return}return e(s,...t)},cm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sr=(e,n)=>s=>{if(!("key"in s))return;const t=Ln(s.key);if(n.some(r=>r===t||cm[r]===t))return e(s)},mn={beforeMount(e,{value:n},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&n?s.beforeEnter(e):Br(e,n)},mounted(e,{value:n},{transition:s}){s&&n&&s.enter(e)},updated(e,{value:n,oldValue:s},{transition:t}){!n!=!s&&(t?n?(t.beforeEnter(e),Br(e,!0),t.enter(e)):t.leave(e,()=>{Br(e,!1)}):Br(e,n))},beforeUnmount(e,{value:n}){Br(e,n)}};function Br(e,n){e.style.display=n?e._vod:"none"}function um(){mn.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Tf=Bt({patchProp:Hh},Ph);let Jr,wc=!1;function Of(){return Jr||(Jr=Zu(Tf))}function Pf(){return Jr=wc?Jr:ef(Tf),wc=!0,Jr}const Fl=(...e)=>{Of().render(...e)},Rf=(...e)=>{Pf().hydrate(...e)},qa=(...e)=>{const n=Of().createApp(...e),{mount:s}=n;return n.mount=t=>{const r=Lf(t);if(!r)return;const l=n._component;!Et(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const i=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},n},fm=(...e)=>{const n=Pf().createApp(...e),{mount:s}=n;return n.mount=t=>{const r=Lf(t);if(r)return s(r,!0,r instanceof SVGElement)},n};function Lf(e){return zt(e)?document.querySelector(e):e}let Ec=!1;const dm=()=>{Ec||(Ec=!0,om(),um())},pm=()=>{},_m=Object.freeze(Object.defineProperty({__proto__:null,compile:pm,EffectScope:Jl,ReactiveEffect:hi,customRef:s_,effect:qp,effectScope:Xl,getCurrentScope:Yl,isProxy:na,isReactive:us,isReadonly:Js,isRef:Kt,isShallow:ti,markRaw:Xs,onScopeDispose:ru,proxyRefs:ia,reactive:Xt,readonly:ta,ref:Pt,shallowReactive:gu,shallowReadonly:Xp,shallowRef:yu,stop:Sp,toRaw:It,toRef:o_,toRefs:bn,toValue:e_,triggerRef:Zp,unref:G,camelize:Sn,capitalize:_i,normalizeClass:it,normalizeProps:gp,normalizeStyle:Wn,toDisplayString:ht,toHandlerKey:Hr,BaseTransition:Ou,BaseTransitionPropsValidators:fa,Comment:dn,Fragment:vt,KeepAlive:P_,Static:Gs,Suspense:Cu,Teleport:_h,Text:er,assertNumber:u_,callWithAsyncErrorHandling:On,callWithErrorHandling:fs,cloneVNode:ts,compatUtils:Th,computed:pt,createBlock:ln,createCommentVNode:Ge,createElementBlock:ye,createElementVNode:z,createHydrationRenderer:ef,createPropsRestProxy:K_,createRenderer:Zu,createSlots:D_,createStaticVNode:gh,createTextVNode:Qn,createVNode:Ye,defineAsyncComponent:T_,defineComponent:Pn,defineEmits:B_,defineExpose:$_,defineModel:V_,defineOptions:j_,defineProps:N_,defineSlots:U_,get devtools(){return dr},getCurrentInstance:pn,getTransitionRawChildren:qo,guardReactiveProps:lf,h:To,handleError:sr,hasInjectionContext:sh,initCustomFormatter:xh,inject:vn,isMemoSame:hf,isRuntimeOnly:Eh,isVNode:Rs,mergeDefaults:Q_,mergeModels:G_,mergeProps:Is,nextTick:Zn,onActivated:da,onBeforeMount:Lu,onBeforeUnmount:ko,onBeforeUpdate:Fu,onDeactivated:pa,onErrorCaptured:Bu,onMounted:hs,onRenderTracked:Nu,onRenderTriggered:Mu,onServerPrefetch:Du,onUnmounted:yi,onUpdated:xo,openBlock:oe,popScopeId:ss,provide:Qr,pushScopeId:ns,queuePostFlushCb:la,registerRuntimeCompiler:wh,renderList:$t,renderSlot:rn,resolveComponent:As,resolveDirective:F_,resolveDynamicComponent:Co,resolveFilter:Ih,resolveTransitionHooks:wr,setBlockTracking:Al,setDevtoolsHook:Su,setTransitionHooks:Zs,ssrContextKey:pf,ssrUtils:Ah,toHandlers:Uu,transformVNodeArgs:hh,useAttrs:H_,useModel:W_,useSSRContext:_f,useSlots:Vu,useTransitionState:ua,version:mf,warn:c_,watch:Gt,watchEffect:Ys,watchPostEffect:Iu,watchSyncEffect:C_,withAsyncContext:Hu,withCtx:Fn,withDefaults:z_,withDirectives:At,withMemo:kh,withScopeId:m_,Transition:wa,TransitionGroup:xf,VueElement:Oo,createApp:qa,createSSRApp:fm,defineCustomElement:gf,defineSSRCustomElement:Qh,hydrate:Rf,initDirectivesForSSR:dm,render:Fl,useCssModule:Kh,useCssVars:Jh,vModelCheckbox:xs,vModelDynamic:Af,vModelRadio:Ea,vModelSelect:kf,vModelText:Vt,vShow:mn,withKeys:Sr,withModifiers:en},Symbol.toStringTag,{value:"Module"}));var hm=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Ff;const Po=e=>Ff=e,Df=Symbol();function Dl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xr||(Xr={}));function mm(){const e=Xl(!0),n=e.run(()=>Pt({}));let s=[],t=[];const r=Xs({install(l){Po(r),r._a=l,l.provide(Df,r),l.config.globalProperties.$pinia=r,t.forEach(i=>s.push(i)),t=[]},use(l){return!this._a&&!hm?t.push(l):s.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:n});return r}const Mf=()=>{};function qc(e,n,s,t=Mf){e.push(n);const r=()=>{const l=e.indexOf(n);l>-1&&(e.splice(l,1),t())};return!s&&Yl()&&ru(r),r}function fr(e,...n){e.slice().forEach(s=>{s(...n)})}function Ml(e,n){e instanceof Map&&n instanceof Map&&n.forEach((s,t)=>e.set(t,s)),e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const s in n){if(!n.hasOwnProperty(s))continue;const t=n[s],r=e[s];Dl(r)&&Dl(t)&&e.hasOwnProperty(s)&&!Kt(t)&&!us(t)?e[s]=Ml(r,t):e[s]=t}return e}const gm=Symbol();function ym(e){return!Dl(e)||!e.hasOwnProperty(gm)}const{assign:Es}=Object;function vm(e){return!!(Kt(e)&&e.effect)}function bm(e,n,s,t){const{state:r,actions:l,getters:i}=n,p=s.state.value[e];let d;function h(){p||(s.state.value[e]=r?r():{});const m=bn(s.state.value[e]);return Es(m,l,Object.keys(i||{}).reduce((v,w)=>(v[w]=Xs(pt(()=>{Po(s);const O=s._s.get(e);return i[w].call(O,O)})),v),{}))}return d=Nf(e,h,n,s,t,!0),d}function Nf(e,n,s={},t,r,l){let i;const p=Es({actions:{}},s),d={deep:!0};let h,m,v=Xs([]),w=Xs([]),O;const W=t.state.value[e];!l&&!W&&(t.state.value[e]={}),Pt({});let ce;function be(ie){let q;h=m=!1,typeof ie=="function"?(ie(t.state.value[e]),q={type:Xr.patchFunction,storeId:e,events:O}):(Ml(t.state.value[e],ie),q={type:Xr.patchObject,payload:ie,storeId:e,events:O});const A=ce=Symbol();Zn().then(()=>{ce===A&&(h=!0)}),m=!0,fr(v,q,t.state.value[e])}const L=l?function(){const{state:q}=s,A=q?q():{};this.$patch(Q=>{Es(Q,A)})}:Mf;function S(){i.stop(),v=[],w=[],t._s.delete(e)}function U(ie,q){return function(){Po(t);const A=Array.from(arguments),Q=[],te=[];function V(Ze){Q.push(Ze)}function re(Ze){te.push(Ze)}fr(w,{args:A,name:ie,store:ae,after:V,onError:re});let ge;try{ge=q.apply(this&&this.$id===e?this:ae,A)}catch(Ze){throw fr(te,Ze),Ze}return ge instanceof Promise?ge.then(Ze=>(fr(Q,Ze),Ze)).catch(Ze=>(fr(te,Ze),Promise.reject(Ze))):(fr(Q,ge),ge)}}const M={_p:t,$id:e,$onAction:qc.bind(null,w),$patch:be,$reset:L,$subscribe(ie,q={}){const A=qc(v,ie,q.detached,()=>Q()),Q=i.run(()=>Gt(()=>t.state.value[e],te=>{(q.flush==="sync"?m:h)&&ie({storeId:e,type:Xr.direct,events:O},te)},Es({},d,q)));return A},$dispose:S},ae=Xt(M);t._s.set(e,ae);const Z=t._e.run(()=>(i=Xl(),i.run(()=>n())));for(const ie in Z){const q=Z[ie];if(Kt(q)&&!vm(q)||us(q))l||(W&&ym(q)&&(Kt(q)?q.value=W[ie]:Ml(q,W[ie])),t.state.value[e][ie]=q);else if(typeof q=="function"){const A=U(ie,q);Z[ie]=A,p.actions[ie]=q}}return Es(ae,Z),Es(It(ae),Z),Object.defineProperty(ae,"$state",{get:()=>t.state.value[e],set:ie=>{be(q=>{Es(q,ie)})}}),t._p.forEach(ie=>{Es(ae,i.run(()=>ie({store:ae,app:t._a,pinia:t,options:p})))}),W&&l&&s.hydrate&&s.hydrate(ae.$state,W),h=!0,m=!0,ae}function rs(e,n,s){let t,r;const l=typeof n=="function";typeof e=="string"?(t=e,r=l?s:n):(r=e,t=e.id);function i(p,d){const h=pn();return p=p||h&&vn(Df,null),p&&Po(p),p=Ff,p._s.has(t)||(l?Nf(t,n,r,p):bm(t,r,p)),p._s.get(t)}return i.$id=t,i}const Ht=(e,n)=>{const s=e.__vccOpts||e;for(const[t,r]of n)s[t]=r;return s},wm={};function Em(e,n){const s=As("router-view");return oe(),ln(Cu,null,{fallback:Fn(()=>[Qn(" Loading... ")]),default:Fn(()=>[Ye(s)]),_:1})}const qm=Ht(wm,[["render",Em]]);var Sm=Object.defineProperty,Sc=Object.getOwnPropertySymbols,xm=Object.prototype.hasOwnProperty,km=Object.prototype.propertyIsEnumerable,xc=(e,n,s)=>n in e?Sm(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Bf=(e,n)=>{for(var s in n||(n={}))xm.call(n,s)&&xc(e,s,n[s]);if(Sc)for(var s of Sc(n))km.call(n,s)&&xc(e,s,n[s]);return e},Ro=e=>typeof e=="function",Lo=e=>typeof e=="string",$f=e=>Lo(e)&&e.trim().length>0,Cm=e=>typeof e=="number",Hs=e=>typeof e>"u",ci=e=>typeof e=="object"&&e!==null,Am=e=>es(e,"tag")&&$f(e.tag),jf=e=>window.TouchEvent&&e instanceof TouchEvent,Uf=e=>es(e,"component")&&Vf(e.component),Im=e=>Ro(e)||ci(e),Vf=e=>!Hs(e)&&(Lo(e)||Im(e)||Uf(e)),kc=e=>ci(e)&&["height","width","right","left","top","bottom"].every(n=>Cm(e[n])),es=(e,n)=>(ci(e)||Ro(e))&&n in e,Tm=(e=>()=>e++)(0);function al(e){return jf(e)?e.targetTouches[0].clientX:e.clientX}function Cc(e){return jf(e)?e.targetTouches[0].clientY:e.clientY}var Om=e=>{Hs(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},vi=e=>Uf(e)?vi(e.component):Am(e)?Pn({render(){return e}}):typeof e=="string"?e:It(G(e)),Pm=e=>{if(typeof e=="string")return e;const n=es(e,"props")&&ci(e.props)?e.props:{},s=es(e,"listeners")&&ci(e.listeners)?e.listeners:{};return{component:vi(e),props:n,listeners:s}},Rm=()=>typeof window<"u",Sa=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,n){const s=this.getHandlers(e);s.push(n),this.allHandlers[e]=s}off(e,n){const s=this.getHandlers(e);s.splice(s.indexOf(n)>>>0,1)}emit(e,n){this.getHandlers(e).forEach(t=>t(n))}},Lm=e=>["on","off","emit"].every(n=>es(e,n)&&Ro(e[n])),In;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(In||(In={}));var ui;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(ui||(ui={}));var Tn;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Tn||(Tn={}));var Un="Vue-Toastification",Bn={type:{type:String,default:In.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},zf={type:Bn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Ki={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Bn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Nl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Hf={transition:{type:[Object,String],default:`${Un}__bounce`}},Fm={position:{type:String,default:ui.TOP_RIGHT},draggable:Bn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Bn.trueBoolean,pauseOnHover:Bn.trueBoolean,closeOnClick:Bn.trueBoolean,timeout:Nl.timeout,hideProgressBar:Nl.hideProgressBar,toastClassName:Bn.classNames,bodyClassName:Bn.classNames,icon:zf.customIcon,closeButton:Ki.component,closeButtonClassName:Ki.classNames,showCloseButtonOnHover:Ki.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Sa}},Dm={id:{type:[String,Number],required:!0,default:0},type:Bn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Mm={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Bn.trueBoolean,maxToasts:{type:Number,default:20},transition:Hf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Bn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},ds={CORE_TOAST:Fm,TOAST:Dm,CONTAINER:Mm,PROGRESS_BAR:Nl,ICON:zf,TRANSITION:Hf,CLOSE_BUTTON:Ki},Wf=Pn({name:"VtProgressBar",props:ds.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Un}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Nm(e,n){return oe(),ye("div",{style:Wn(e.style),class:it(e.cpClass)},null,6)}Wf.render=Nm;var Bm=Wf,Qf=Pn({name:"VtCloseButton",props:ds.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?vi(this.component):"button"},classes(){const e=[`${Un}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),$m=Qn(" \xD7 ");function jm(e,n){return oe(),ln(Co(e.buttonComponent),Is({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Fn(()=>[$m]),_:1},16,["aria-label","class"])}Qf.render=jm;var Um=Qf,Gf={},Vm={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},zm=z("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Hm=[zm];function Wm(e,n){return oe(),ye("svg",Vm,Hm)}Gf.render=Wm;var Qm=Gf,Kf={},Gm={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Km=z("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Jm=[Km];function Xm(e,n){return oe(),ye("svg",Gm,Jm)}Kf.render=Xm;var Ac=Kf,Jf={},Ym={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Zm=z("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),eg=[Zm];function tg(e,n){return oe(),ye("svg",Ym,eg)}Jf.render=tg;var ng=Jf,Xf={},sg={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},rg=z("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),ig=[rg];function og(e,n){return oe(),ye("svg",sg,ig)}Xf.render=og;var lg=Xf,Yf=Pn({name:"VtIcon",props:ds.ICON,computed:{customIconChildren(){return es(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Lo(this.customIcon)?this.trimValue(this.customIcon):es(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return es(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Vf(this.customIcon)?vi(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[In.DEFAULT]:Ac,[In.INFO]:Ac,[In.SUCCESS]:Qm,[In.ERROR]:lg,[In.WARNING]:ng}[this.type]},iconClasses(){const e=[`${Un}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,n=""){return $f(e)?e.trim():n}}});function ag(e,n){return oe(),ln(Co(e.component),{class:it(e.iconClasses)},{default:Fn(()=>[Qn(ht(e.customIconChildren),1)]),_:1},8,["class"])}Yf.render=ag;var cg=Yf,Zf=Pn({name:"VtToast",components:{ProgressBar:Bm,CloseButton:Um,Icon:cg},inheritAttrs:!1,props:Object.assign({},ds.CORE_TOAST,ds.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Un}__toast`,`${Un}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Un}__toast--rtl`),e},bodyClasses(){return[`${Un}__toast-${Lo(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return kc(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:es,getVueComponentFromObj:vi,closeToast(){this.eventBus.emit(Tn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:al(e),y:Cc(e)},this.dragStart=al(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:al(e),y:Cc(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,kc(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),ug=["role"];function fg(e,n){const s=As("Icon"),t=As("CloseButton"),r=As("ProgressBar");return oe(),ye("div",{class:it(e.classes),style:Wn(e.draggableStyle),onClick:n[0]||(n[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:n[1]||(n[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:n[2]||(n[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(oe(),ln(s,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Ge("v-if",!0),z("div",{role:e.accessibility.toastRole||"alert",class:it(e.bodyClasses)},[typeof e.content=="string"?(oe(),ye(vt,{key:0},[Qn(ht(e.content),1)],2112)):(oe(),ln(Co(e.getVueComponentFromObj(e.content)),Is({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Uu(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ug),e.closeButton?(oe(),ln(t,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:en(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Ge("v-if",!0),e.timeout?(oe(),ln(r,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Ge("v-if",!0)],38)}Zf.render=fg;var dg=Zf,ed=Pn({name:"VtTransition",props:ds.TRANSITION,emits:["leave"],methods:{hasProp:es,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function pg(e,n){return oe(),ln(xf,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:Fn(()=>[rn(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}ed.render=pg;var _g=ed,td=Pn({name:"VueToastification",devtools:{hide:!0},components:{Toast:dg,VtTransition:_g},props:Object.assign({},ds.CORE_TOAST,ds.CONTAINER,ds.TRANSITION),data(){return{count:0,positions:Object.values(ui),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Tn.ADD,this.addToast),e.on(Tn.CLEAR,this.clearToasts),e.on(Tn.DISMISS,this.dismissToast),e.on(Tn.UPDATE,this.updateToast),e.on(Tn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ro(e)&&(e=await e()),Om(this.$el),e.appendChild(this.$el)},setToast(e){Hs(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Pm(e.content);const n=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),s=this.defaults.filterBeforeCreate(n,this.toastArray);s&&this.setToast(s)},dismissToast(e){const n=this.toasts[e];!Hs(n)&&!Hs(n.onClose)&&n.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const n=this.filteredToasts.filter(s=>s.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?n.reverse():n},updateDefaults(e){Hs(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:n,create:s}){this.toasts[e]?(n.timeout&&n.timeout===this.toasts[e].timeout&&n.timeout++,this.setToast(Object.assign({},this.toasts[e],n))):s&&this.addToast(Object.assign({},{id:e},n))},getClasses(e){return[`${Un}__container`,e].concat(this.defaults.containerClassName)}}});function hg(e,n){const s=As("Toast"),t=As("VtTransition");return oe(),ye("div",null,[(oe(!0),ye(vt,null,$t(e.positions,r=>(oe(),ye("div",{key:r},[Ye(t,{transition:e.defaults.transition,class:it(e.getClasses(r))},{default:Fn(()=>[(oe(!0),ye(vt,null,$t(e.getPositionToasts(r),l=>(oe(),ln(s,Is({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}td.render=hg;var mg=td,Ic=(e={},n=!0)=>{const s=e.eventBus=e.eventBus||new Sa;n&&Zn(()=>{const l=qa(mg,Bf({},e)),i=l.mount(document.createElement("div")),p=e.onMounted;if(Hs(p)||p(i,l),e.shareAppContext){const d=e.shareAppContext;d===!0?console.warn(`[${Un}] App to share context with was not provided.`):(l._context.components=d._context.components,l._context.directives=d._context.directives,l._context.mixins=d._context.mixins,l._context.provides=d._context.provides,l.config.globalProperties=d.config.globalProperties)}});const t=(l,i)=>{const p=Object.assign({},{id:Tm(),type:In.DEFAULT},i,{content:l});return s.emit(Tn.ADD,p),p.id};t.clear=()=>s.emit(Tn.CLEAR,void 0),t.updateDefaults=l=>{s.emit(Tn.UPDATE_DEFAULTS,l)},t.dismiss=l=>{s.emit(Tn.DISMISS,l)};function r(l,{content:i,options:p},d=!1){const h=Object.assign({},p,{content:i});s.emit(Tn.UPDATE,{id:l,options:h,create:d})}return t.update=r,t.success=(l,i)=>t(l,Object.assign({},i,{type:In.SUCCESS})),t.info=(l,i)=>t(l,Object.assign({},i,{type:In.INFO})),t.error=(l,i)=>t(l,Object.assign({},i,{type:In.ERROR})),t.warning=(l,i)=>t(l,Object.assign({},i,{type:In.WARNING})),t},gg=()=>{const e=()=>console.warn(`[${Un}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Bl(e){return Rm()?Lm(e)?Ic({eventBus:e},!1):Ic(e,!0):gg()}var nd=Symbol("VueToastification"),sd=new Sa,yg=(e,n)=>{n?.shareAppContext===!0&&(n.shareAppContext=e);const s=Bl(Bf({eventBus:sd},n));e.provide(nd,s)},bi=e=>{if(e)return Bl(e);const n=pn()?vn(nd,void 0):void 0;return n||Bl(sd)},vg=yg;/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pr=typeof window<"u";function bg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function cl(e,n){const s={};for(const t in n){const r=n[t];s[t]=zn(r)?r.map(e):e(r)}return s}const Yr=()=>{},zn=Array.isArray,wg=/\/$/,Eg=e=>e.replace(wg,"");function ul(e,n,s="/"){let t,r={},l="",i="";const p=n.indexOf("#");let d=n.indexOf("?");return p<d&&p>=0&&(d=-1),d>-1&&(t=n.slice(0,d),l=n.slice(d+1,p>-1?p:n.length),r=e(l)),p>-1&&(t=t||n.slice(0,p),i=n.slice(p,n.length)),t=kg(t??n,s),{fullPath:t+(l&&"?")+l+i,path:t,query:r,hash:i}}function qg(e,n){const s=n.query?e(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Tc(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function Sg(e,n,s){const t=n.matched.length-1,r=s.matched.length-1;return t>-1&&t===r&&xr(n.matched[t],s.matched[r])&&rd(n.params,s.params)&&e(n.query)===e(s.query)&&n.hash===s.hash}function xr(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function rd(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(!xg(e[s],n[s]))return!1;return!0}function xg(e,n){return zn(e)?Oc(e,n):zn(n)?Oc(n,e):e===n}function Oc(e,n){return zn(n)?e.length===n.length&&e.every((s,t)=>s===n[t]):e.length===1&&e[0]===n}function kg(e,n){if(e.startsWith("/"))return e;if(!e)return n;const s=n.split("/"),t=e.split("/"),r=t[t.length-1];(r===".."||r===".")&&t.push("");let l=s.length-1,i,p;for(i=0;i<t.length;i++)if(p=t[i],p!==".")if(p==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+t.slice(i-(i===t.length?1:0)).join("/")}var fi;(function(e){e.pop="pop",e.push="push"})(fi||(fi={}));var Zr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zr||(Zr={}));function Cg(e){if(!e)if(pr){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Eg(e)}const Ag=/^[^#]+#/;function Ig(e,n){return e.replace(Ag,"#")+n}function Tg(e,n){const s=document.documentElement.getBoundingClientRect(),t=e.getBoundingClientRect();return{behavior:n.behavior,left:t.left-s.left-(n.left||0),top:t.top-s.top-(n.top||0)}}const Fo=()=>({left:window.pageXOffset,top:window.pageYOffset});function Og(e){let n;if("el"in e){const s=e.el,t=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?t?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;n=Tg(r,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Pc(e,n){return(history.state?history.state.position-n:-1)+e}const $l=new Map;function Pg(e,n){$l.set(e,n)}function Rg(e){const n=$l.get(e);return $l.delete(e),n}let Lg=()=>location.protocol+"//"+location.host;function id(e,n){const{pathname:s,search:t,hash:r}=n,l=e.indexOf("#");if(l>-1){let p=r.includes(e.slice(l))?e.slice(l).length:1,d=r.slice(p);return d[0]!=="/"&&(d="/"+d),Tc(d,"")}return Tc(s,e)+t+r}function Fg(e,n,s,t){let r=[],l=[],i=null;const p=({state:w})=>{const O=id(e,location),W=s.value,ce=n.value;let be=0;if(w){if(s.value=O,n.value=w,i&&i===W){i=null;return}be=ce?w.position-ce.position:0}else t(O);r.forEach(L=>{L(s.value,W,{delta:be,type:fi.pop,direction:be?be>0?Zr.forward:Zr.back:Zr.unknown})})};function d(){i=s.value}function h(w){r.push(w);const O=()=>{const W=r.indexOf(w);W>-1&&r.splice(W,1)};return l.push(O),O}function m(){const{history:w}=window;!w.state||w.replaceState(Ft({},w.state,{scroll:Fo()}),"")}function v(){for(const w of l)w();l=[],window.removeEventListener("popstate",p),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",p),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:h,destroy:v}}function Rc(e,n,s,t=!1,r=!1){return{back:e,current:n,forward:s,replaced:t,position:window.history.length,scroll:r?Fo():null}}function Dg(e){const{history:n,location:s}=window,t={value:id(e,s)},r={value:n.state};r.value||l(t.value,{back:null,current:t.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(d,h,m){const v=e.indexOf("#"),w=v>-1?(s.host&&document.querySelector("base")?e:e.slice(v))+d:Lg()+e+d;try{n[m?"replaceState":"pushState"](h,"",w),r.value=h}catch(O){console.error(O),s[m?"replace":"assign"](w)}}function i(d,h){const m=Ft({},n.state,Rc(r.value.back,d,r.value.forward,!0),h,{position:r.value.position});l(d,m,!0),t.value=d}function p(d,h){const m=Ft({},r.value,n.state,{forward:d,scroll:Fo()});l(m.current,m,!0);const v=Ft({},Rc(t.value,d,null),{position:m.position+1},h);l(d,v,!1),t.value=d}return{location:t,state:r,push:p,replace:i}}function Mg(e){e=Cg(e);const n=Dg(e),s=Fg(e,n.state,n.location,n.replace);function t(l,i=!0){i||s.pauseListeners(),history.go(l)}const r=Ft({location:"",base:e,go:t,createHref:Ig.bind(null,e)},n,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}function Ng(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Mg(e)}function Bg(e){return typeof e=="string"||e&&typeof e=="object"}function od(e){return typeof e=="string"||typeof e=="symbol"}const bs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ld=Symbol("");var Lc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Lc||(Lc={}));function kr(e,n){return Ft(new Error,{type:e,[ld]:!0},n)}function is(e,n){return e instanceof Error&&ld in e&&(n==null||!!(e.type&n))}const Fc="[^/]+?",$g={sensitive:!1,strict:!1,start:!0,end:!0},jg=/[.+*?^${}()[\]/\\]/g;function Ug(e,n){const s=Ft({},$g,n),t=[];let r=s.start?"^":"";const l=[];for(const h of e){const m=h.length?[]:[90];s.strict&&!h.length&&(r+="/");for(let v=0;v<h.length;v++){const w=h[v];let O=40+(s.sensitive?.25:0);if(w.type===0)v||(r+="/"),r+=w.value.replace(jg,"\\$&"),O+=40;else if(w.type===1){const{value:W,repeatable:ce,optional:be,regexp:L}=w;l.push({name:W,repeatable:ce,optional:be});const S=L||Fc;if(S!==Fc){O+=10;try{new RegExp(`(${S})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${W}" (${S}): `+M.message)}}let U=ce?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;v||(U=be&&h.length<2?`(?:/${U})`:"/"+U),be&&(U+="?"),r+=U,O+=20,be&&(O+=-8),ce&&(O+=-20),S===".*"&&(O+=-50)}m.push(O)}t.push(m)}if(s.strict&&s.end){const h=t.length-1;t[h][t[h].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const i=new RegExp(r,s.sensitive?"":"i");function p(h){const m=h.match(i),v={};if(!m)return null;for(let w=1;w<m.length;w++){const O=m[w]||"",W=l[w-1];v[W.name]=O&&W.repeatable?O.split("/"):O}return v}function d(h){let m="",v=!1;for(const w of e){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const O of w)if(O.type===0)m+=O.value;else if(O.type===1){const{value:W,repeatable:ce,optional:be}=O,L=W in h?h[W]:"";if(zn(L)&&!ce)throw new Error(`Provided param "${W}" is an array but it is not repeatable (* or + modifiers)`);const S=zn(L)?L.join("/"):L;if(!S)if(be)w.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${W}"`);m+=S}}return m||"/"}return{re:i,score:t,keys:l,parse:p,stringify:d}}function Vg(e,n){let s=0;for(;s<e.length&&s<n.length;){const t=n[s]-e[s];if(t)return t;s++}return e.length<n.length?e.length===1&&e[0]===40+40?-1:1:e.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function zg(e,n){let s=0;const t=e.score,r=n.score;for(;s<t.length&&s<r.length;){const l=Vg(t[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-t.length)===1){if(Dc(t))return 1;if(Dc(r))return-1}return r.length-t.length}function Dc(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const Hg={type:0,value:""},Wg=/[a-zA-Z0-9_]/;function Qg(e){if(!e)return[[]];if(e==="/")return[[Hg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(O){throw new Error(`ERR (${s})/"${h}": ${O}`)}let s=0,t=s;const r=[];let l;function i(){l&&r.push(l),l=[]}let p=0,d,h="",m="";function v(){!h||(s===0?l.push({type:0,value:h}):s===1||s===2||s===3?(l.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:h,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),h="")}function w(){h+=d}for(;p<e.length;){if(d=e[p++],d==="\\"&&s!==2){t=s,s=4;continue}switch(s){case 0:d==="/"?(h&&v(),i()):d===":"?(v(),s=1):w();break;case 4:w(),s=t;break;case 1:d==="("?s=2:Wg.test(d)?w():(v(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&p--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:s=3:m+=d;break;case 3:v(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&p--,m="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${h}"`),v(),i(),r}function Gg(e,n,s){const t=Ug(Qg(e.path),s),r=Ft(t,{record:e,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function Kg(e,n){const s=[],t=new Map;n=Bc({strict:!1,end:!0,sensitive:!1},n);function r(m){return t.get(m)}function l(m,v,w){const O=!w,W=Jg(m);W.aliasOf=w&&w.record;const ce=Bc(n,m),be=[W];if("alias"in m){const U=typeof m.alias=="string"?[m.alias]:m.alias;for(const M of U)be.push(Ft({},W,{components:w?w.record.components:W.components,path:M,aliasOf:w?w.record:W}))}let L,S;for(const U of be){const{path:M}=U;if(v&&M[0]!=="/"){const ae=v.record.path,Z=ae[ae.length-1]==="/"?"":"/";U.path=v.record.path+(M&&Z+M)}if(L=Gg(U,v,ce),w?w.alias.push(L):(S=S||L,S!==L&&S.alias.push(L),O&&m.name&&!Nc(L)&&i(m.name)),W.children){const ae=W.children;for(let Z=0;Z<ae.length;Z++)l(ae[Z],L,w&&w.children[Z])}w=w||L,(L.record.components&&Object.keys(L.record.components).length||L.record.name||L.record.redirect)&&d(L)}return S?()=>{i(S)}:Yr}function i(m){if(od(m)){const v=t.get(m);v&&(t.delete(m),s.splice(s.indexOf(v),1),v.children.forEach(i),v.alias.forEach(i))}else{const v=s.indexOf(m);v>-1&&(s.splice(v,1),m.record.name&&t.delete(m.record.name),m.children.forEach(i),m.alias.forEach(i))}}function p(){return s}function d(m){let v=0;for(;v<s.length&&zg(m,s[v])>=0&&(m.record.path!==s[v].record.path||!ad(m,s[v]));)v++;s.splice(v,0,m),m.record.name&&!Nc(m)&&t.set(m.record.name,m)}function h(m,v){let w,O={},W,ce;if("name"in m&&m.name){if(w=t.get(m.name),!w)throw kr(1,{location:m});ce=w.record.name,O=Ft(Mc(v.params,w.keys.filter(S=>!S.optional).map(S=>S.name)),m.params&&Mc(m.params,w.keys.map(S=>S.name))),W=w.stringify(O)}else if("path"in m)W=m.path,w=s.find(S=>S.re.test(W)),w&&(O=w.parse(W),ce=w.record.name);else{if(w=v.name?t.get(v.name):s.find(S=>S.re.test(v.path)),!w)throw kr(1,{location:m,currentLocation:v});ce=w.record.name,O=Ft({},v.params,m.params),W=w.stringify(O)}const be=[];let L=w;for(;L;)be.unshift(L.record),L=L.parent;return{name:ce,path:W,params:O,matched:be,meta:Yg(be)}}return e.forEach(m=>l(m)),{addRoute:l,resolve:h,removeRoute:i,getRoutes:p,getRecordMatcher:r}}function Mc(e,n){const s={};for(const t of n)t in e&&(s[t]=e[t]);return s}function Jg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Xg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Xg(e){const n={},s=e.props||!1;if("component"in e)n.default=s;else for(const t in e.components)n[t]=typeof s=="boolean"?s:s[t];return n}function Nc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Yg(e){return e.reduce((n,s)=>Ft(n,s.meta),{})}function Bc(e,n){const s={};for(const t in e)s[t]=t in n?n[t]:e[t];return s}function ad(e,n){return n.children.some(s=>s===e||ad(e,s))}const cd=/#/g,Zg=/&/g,ey=/\//g,ty=/=/g,ny=/\?/g,ud=/\+/g,sy=/%5B/g,ry=/%5D/g,fd=/%5E/g,iy=/%60/g,dd=/%7B/g,oy=/%7C/g,pd=/%7D/g,ly=/%20/g;function xa(e){return encodeURI(""+e).replace(oy,"|").replace(sy,"[").replace(ry,"]")}function ay(e){return xa(e).replace(dd,"{").replace(pd,"}").replace(fd,"^")}function jl(e){return xa(e).replace(ud,"%2B").replace(ly,"+").replace(cd,"%23").replace(Zg,"%26").replace(iy,"`").replace(dd,"{").replace(pd,"}").replace(fd,"^")}function cy(e){return jl(e).replace(ty,"%3D")}function uy(e){return xa(e).replace(cd,"%23").replace(ny,"%3F")}function fy(e){return e==null?"":uy(e).replace(ey,"%2F")}function io(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function dy(e){const n={};if(e===""||e==="?")return n;const t=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<t.length;++r){const l=t[r].replace(ud," "),i=l.indexOf("="),p=io(i<0?l:l.slice(0,i)),d=i<0?null:io(l.slice(i+1));if(p in n){let h=n[p];zn(h)||(h=n[p]=[h]),h.push(d)}else n[p]=d}return n}function $c(e){let n="";for(let s in e){const t=e[s];if(s=cy(s),t==null){t!==void 0&&(n+=(n.length?"&":"")+s);continue}(zn(t)?t.map(l=>l&&jl(l)):[t&&jl(t)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+s,l!=null&&(n+="="+l))})}return n}function py(e){const n={};for(const s in e){const t=e[s];t!==void 0&&(n[s]=zn(t)?t.map(r=>r==null?null:""+r):t==null?t:""+t)}return n}const _d=Symbol(""),jc=Symbol(""),Do=Symbol(""),ka=Symbol(""),Ul=Symbol("");function $r(){let e=[];function n(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:n,list:()=>e,reset:s}}function _y(e,n,s){const t=()=>{e[n].delete(s)};yi(t),pa(t),da(()=>{e[n].add(s)}),e[n].add(s)}function hy(e){const n=vn(_d,{}).value;!n||_y(n,"updateGuards",e)}function Ss(e,n,s,t,r){const l=t&&(t.enterCallbacks[r]=t.enterCallbacks[r]||[]);return()=>new Promise((i,p)=>{const d=v=>{v===!1?p(kr(4,{from:s,to:n})):v instanceof Error?p(v):Bg(v)?p(kr(2,{from:n,to:v})):(l&&t.enterCallbacks[r]===l&&typeof v=="function"&&l.push(v),i())},h=e.call(t&&t.instances[r],n,s,d);let m=Promise.resolve(h);e.length<3&&(m=m.then(d)),m.catch(v=>p(v))})}function fl(e,n,s,t){const r=[];for(const l of e)for(const i in l.components){let p=l.components[i];if(!(n!=="beforeRouteEnter"&&!l.instances[i]))if(my(p)){const h=(p.__vccOpts||p)[n];h&&r.push(Ss(h,s,t,l,i))}else{let d=p();r.push(()=>d.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${l.path}"`));const m=bg(h)?h.default:h;l.components[i]=m;const w=(m.__vccOpts||m)[n];return w&&Ss(w,s,t,l,i)()}))}}return r}function my(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uc(e){const n=vn(Do),s=vn(ka),t=pt(()=>n.resolve(G(e.to))),r=pt(()=>{const{matched:d}=t.value,{length:h}=d,m=d[h-1],v=s.matched;if(!m||!v.length)return-1;const w=v.findIndex(xr.bind(null,m));if(w>-1)return w;const O=Vc(d[h-2]);return h>1&&Vc(m)===O&&v[v.length-1].path!==O?v.findIndex(xr.bind(null,d[h-2])):w}),l=pt(()=>r.value>-1&&by(s.params,t.value.params)),i=pt(()=>r.value>-1&&r.value===s.matched.length-1&&rd(s.params,t.value.params));function p(d={}){return vy(d)?n[G(e.replace)?"replace":"push"](G(e.to)).catch(Yr):Promise.resolve()}return{route:t,href:pt(()=>t.value.href),isActive:l,isExactActive:i,navigate:p}}const gy=Pn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uc,setup(e,{slots:n}){const s=Xt(Uc(e)),{options:t}=vn(Do),r=pt(()=>({[zc(e.activeClass,t.linkActiveClass,"router-link-active")]:s.isActive,[zc(e.exactActiveClass,t.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=n.default&&n.default(s);return e.custom?l:To("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),yy=gy;function vy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function by(e,n){for(const s in n){const t=n[s],r=e[s];if(typeof t=="string"){if(t!==r)return!1}else if(!zn(r)||r.length!==t.length||t.some((l,i)=>l!==r[i]))return!1}return!0}function Vc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const zc=(e,n,s)=>e??n??s,wy=Pn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:s}){const t=vn(Ul),r=pt(()=>e.route||t.value),l=vn(jc,0),i=pt(()=>{let h=G(l);const{matched:m}=r.value;let v;for(;(v=m[h])&&!v.components;)h++;return h}),p=pt(()=>r.value.matched[i.value]);Qr(jc,pt(()=>i.value+1)),Qr(_d,p),Qr(Ul,r);const d=Pt();return Gt(()=>[d.value,p.value,e.name],([h,m,v],[w,O,W])=>{m&&(m.instances[v]=h,O&&O!==m&&h&&h===w&&(m.leaveGuards.size||(m.leaveGuards=O.leaveGuards),m.updateGuards.size||(m.updateGuards=O.updateGuards))),h&&m&&(!O||!xr(m,O)||!w)&&(m.enterCallbacks[v]||[]).forEach(ce=>ce(h))},{flush:"post"}),()=>{const h=r.value,m=e.name,v=p.value,w=v&&v.components[m];if(!w)return Hc(s.default,{Component:w,route:h});const O=v.props[m],W=O?O===!0?h.params:typeof O=="function"?O(h):O:null,be=To(w,Ft({},W,n,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(v.instances[m]=null)},ref:d}));return Hc(s.default,{Component:be,route:h})||be}}});function Hc(e,n){if(!e)return null;const s=e(n);return s.length===1?s[0]:s}const Ey=wy;function qy(e){const n=Kg(e.routes,e),s=e.parseQuery||dy,t=e.stringifyQuery||$c,r=e.history,l=$r(),i=$r(),p=$r(),d=yu(bs);let h=bs;pr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=cl.bind(null,X=>""+X),v=cl.bind(null,fy),w=cl.bind(null,io);function O(X,Oe){let de,Ne;return od(X)?(de=n.getRecordMatcher(X),Ne=Oe):Ne=X,n.addRoute(Ne,de)}function W(X){const Oe=n.getRecordMatcher(X);Oe&&n.removeRoute(Oe)}function ce(){return n.getRoutes().map(X=>X.record)}function be(X){return!!n.getRecordMatcher(X)}function L(X,Oe){if(Oe=Ft({},Oe||d.value),typeof X=="string"){const K=ul(s,X,Oe.path),fe=n.resolve({path:K.path},Oe),he=r.createHref(K.fullPath);return Ft(K,fe,{params:w(fe.params),hash:io(K.hash),redirectedFrom:void 0,href:he})}let de;if("path"in X)de=Ft({},X,{path:ul(s,X.path,Oe.path).path});else{const K=Ft({},X.params);for(const fe in K)K[fe]==null&&delete K[fe];de=Ft({},X,{params:v(K)}),Oe.params=v(Oe.params)}const Ne=n.resolve(de,Oe),lt=X.hash||"";Ne.params=m(w(Ne.params));const T=qg(t,Ft({},X,{hash:ay(lt),path:Ne.path})),P=r.createHref(T);return Ft({fullPath:T,hash:lt,query:t===$c?py(X.query):X.query||{}},Ne,{redirectedFrom:void 0,href:P})}function S(X){return typeof X=="string"?ul(s,X,d.value.path):Ft({},X)}function U(X,Oe){if(h!==X)return kr(8,{from:Oe,to:X})}function M(X){return ie(X)}function ae(X){return M(Ft(S(X),{replace:!0}))}function Z(X){const Oe=X.matched[X.matched.length-1];if(Oe&&Oe.redirect){const{redirect:de}=Oe;let Ne=typeof de=="function"?de(X):de;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=S(Ne):{path:Ne},Ne.params={}),Ft({query:X.query,hash:X.hash,params:"path"in Ne?{}:X.params},Ne)}}function ie(X,Oe){const de=h=L(X),Ne=d.value,lt=X.state,T=X.force,P=X.replace===!0,K=Z(de);if(K)return ie(Ft(S(K),{state:typeof K=="object"?Ft({},lt,K.state):lt,force:T,replace:P}),Oe||de);const fe=de;fe.redirectedFrom=Oe;let he;return!T&&Sg(t,Ne,de)&&(he=kr(16,{to:fe,from:Ne}),gt(Ne,Ne,!0,!1)),(he?Promise.resolve(he):Q(fe,Ne)).catch(ve=>is(ve)?is(ve,2)?ve:bt(ve):ct(ve,fe,Ne)).then(ve=>{if(ve){if(is(ve,2))return ie(Ft({replace:P},S(ve.to),{state:typeof ve.to=="object"?Ft({},lt,ve.to.state):lt,force:T}),Oe||fe)}else ve=V(fe,Ne,!0,P,lt);return te(fe,Ne,ve),ve})}function q(X,Oe){const de=U(X,Oe);return de?Promise.reject(de):Promise.resolve()}function A(X){const Oe=qt.values().next().value;return Oe&&typeof Oe.runWithContext=="function"?Oe.runWithContext(X):X()}function Q(X,Oe){let de;const[Ne,lt,T]=Sy(X,Oe);de=fl(Ne.reverse(),"beforeRouteLeave",X,Oe);for(const K of Ne)K.leaveGuards.forEach(fe=>{de.push(Ss(fe,X,Oe))});const P=q.bind(null,X,Oe);return de.push(P),Se(de).then(()=>{de=[];for(const K of l.list())de.push(Ss(K,X,Oe));return de.push(P),Se(de)}).then(()=>{de=fl(lt,"beforeRouteUpdate",X,Oe);for(const K of lt)K.updateGuards.forEach(fe=>{de.push(Ss(fe,X,Oe))});return de.push(P),Se(de)}).then(()=>{de=[];for(const K of X.matched)if(K.beforeEnter&&!Oe.matched.includes(K))if(zn(K.beforeEnter))for(const fe of K.beforeEnter)de.push(Ss(fe,X,Oe));else de.push(Ss(K.beforeEnter,X,Oe));return de.push(P),Se(de)}).then(()=>(X.matched.forEach(K=>K.enterCallbacks={}),de=fl(T,"beforeRouteEnter",X,Oe),de.push(P),Se(de))).then(()=>{de=[];for(const K of i.list())de.push(Ss(K,X,Oe));return de.push(P),Se(de)}).catch(K=>is(K,8)?K:Promise.reject(K))}function te(X,Oe,de){for(const Ne of p.list())A(()=>Ne(X,Oe,de))}function V(X,Oe,de,Ne,lt){const T=U(X,Oe);if(T)return T;const P=Oe===bs,K=pr?history.state:{};de&&(Ne||P?r.replace(X.fullPath,Ft({scroll:P&&K&&K.scroll},lt)):r.push(X.fullPath,lt)),d.value=X,gt(X,Oe,de,P),bt()}let re;function ge(){re||(re=r.listen((X,Oe,de)=>{if(!ut.listening)return;const Ne=L(X),lt=Z(Ne);if(lt){ie(Ft(lt,{replace:!0}),Ne).catch(Yr);return}h=Ne;const T=d.value;pr&&Pg(Pc(T.fullPath,de.delta),Fo()),Q(Ne,T).catch(P=>is(P,12)?P:is(P,2)?(ie(P.to,Ne).then(K=>{is(K,20)&&!de.delta&&de.type===fi.pop&&r.go(-1,!1)}).catch(Yr),Promise.reject()):(de.delta&&r.go(-de.delta,!1),ct(P,Ne,T))).then(P=>{P=P||V(Ne,T,!1),P&&(de.delta&&!is(P,8)?r.go(-de.delta,!1):de.type===fi.pop&&is(P,20)&&r.go(-1,!1)),te(Ne,T,P)}).catch(Yr)}))}let Ze=$r(),Ae=$r(),Ee;function ct(X,Oe,de){bt(X);const Ne=Ae.list();return Ne.length?Ne.forEach(lt=>lt(X,Oe,de)):console.error(X),Promise.reject(X)}function Ve(){return Ee&&d.value!==bs?Promise.resolve():new Promise((X,Oe)=>{Ze.add([X,Oe])})}function bt(X){return Ee||(Ee=!X,ge(),Ze.list().forEach(([Oe,de])=>X?de(X):Oe()),Ze.reset()),X}function gt(X,Oe,de,Ne){const{scrollBehavior:lt}=e;if(!pr||!lt)return Promise.resolve();const T=!de&&Rg(Pc(X.fullPath,0))||(Ne||!de)&&history.state&&history.state.scroll||null;return Zn().then(()=>lt(X,Oe,T)).then(P=>P&&Og(P)).catch(P=>ct(P,X,Oe))}const We=X=>r.go(X);let xt;const qt=new Set,ut={currentRoute:d,listening:!0,addRoute:O,removeRoute:W,hasRoute:be,getRoutes:ce,resolve:L,options:e,push:M,replace:ae,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:l.add,beforeResolve:i.add,afterEach:p.add,onError:Ae.add,isReady:Ve,install(X){const Oe=this;X.component("RouterLink",yy),X.component("RouterView",Ey),X.config.globalProperties.$router=Oe,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>G(d)}),pr&&!xt&&d.value===bs&&(xt=!0,M(r.location).catch(lt=>{}));const de={};for(const lt in bs)de[lt]=pt(()=>d.value[lt]);X.provide(Do,Oe),X.provide(ka,Xt(de)),X.provide(Ul,d);const Ne=X.unmount;qt.add(X),X.unmount=function(){qt.delete(X),qt.size<1&&(h=bs,re&&re(),re=null,d.value=bs,xt=!1,Ee=!1),Ne()}}};function Se(X){return X.reduce((Oe,de)=>Oe.then(()=>A(de)),Promise.resolve())}return ut}function Sy(e,n){const s=[],t=[],r=[],l=Math.max(n.matched.length,e.matched.length);for(let i=0;i<l;i++){const p=n.matched[i];p&&(e.matched.find(h=>xr(h,p))?t.push(p):s.push(p));const d=e.matched[i];d&&(n.matched.find(h=>xr(h,d))||r.push(d))}return[s,t,r]}function xy(){return vn(Do)}function ky(){return vn(ka)}const ks=async(e,n,s=!1)=>{const t=new Request(n,{cache:s===!0?"reload":"default"});s===!0&&await e.delete(t);let r=await e.match(t);return r||(await e.add(t),r=await e.match(t)),await r.json()},oo=async(e="",n={})=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw Error(await s.text());return await s.json()},Cy=async(e="",n={})=>{await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};Object.freeze({__proto__:null});var Mo={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid"};const gn=Xt({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:Mo.defaultButtonConfig,callback:()=>{},error:null}),Ks=Xt({apiLoaded:!1,apiLoadIntitited:!1}),Ay=e=>{try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}catch{throw"JWT provided is invalid"}},hd=new Promise(e=>{const n=typeof window<"u";if(!Ks.apiLoadIntitited&&n){const s=document.createElement("script");Ks.apiLoadIntitited=!0,s.addEventListener("load",()=>{Ks.apiLoaded=!0,e(window.google)}),s.src=Mo.library,s.async=!0,s.defer=!0,document.head.appendChild(s)}}),No=e=>{Ks.apiLoadIntitited?Ks.apiLoaded?e(window.google):Gt(()=>Ks.apiLoaded,n=>{n&&e(window.google)}):hd.then(n=>{e(n)})},Iy=(e,n,s,t)=>{if(!e.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");No(()=>{((r,l,i,p,d)=>{if(d){const m=r.callback;r.callback=v=>{v.credential?m&&m(v):d(v)}}window.google.accounts.id.initialize(r);const h=l.value;h&&!p&&window.google.accounts.id.renderButton(h,i)})(e,n,s.buttonConfig,t,s.error),s.prompt&&Py({clientId:s.clientId,callback:s.callback,error:s.error,autoLogin:s.autoLogin})})},Ty=e=>new Promise((n,s)=>{No(t=>{if(!(e&&e.clientId||gn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");t.accounts.oauth2.initCodeClient({client_id:e&&e.clientId||gn.clientId||"",scope:Mo.scopes,ux_mode:"popup",callback:r=>{r.code?n(r):s(r)}}).requestCode()})}),Oy=e=>new Promise((n,s)=>{No(t=>{if(!(e&&e.clientId||gn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");t.accounts.oauth2.initTokenClient({client_id:e&&e.clientId||gn.clientId||"",scope:Mo.scopes,callback:r=>{r.access_token?n(r):s(r)}}).requestAccessToken()})}),Py=e=>{if(!e&&(e={}),!e.clientId&&!gn.clientId)throw new Error("clientId is required");const n={};return e.clientId&&(n.client_id=e.clientId),!e.clientId&&gn.clientId&&(n.client_id=gn.clientId),e.context&&(n.context=e.context),e.autoLogin!=null&&(n.auto_select=e.autoLogin),e.cancelOnTapOutside!=null&&(n.cancel_on_tap_outside=e.cancelOnTapOutside),new Promise((s,t)=>{n.callback=r=>{e&&e.callback&&e.callback(r),r.credential?s(r):t(r)},No(r=>{r.accounts.id.initialize(n),r.accounts.id.prompt(l=>{e&&e.onNotification&&e.onNotification(l),(i=>{const p=i.notification;let d="";p.isNotDisplayed()&&(d=p.getNotDisplayedReason()==="suppressed_by_user"?"Prompt was suppressed by user'. Refer https://developers.google.com/identity/gsi/web/guides/features#exponential_cooldown for more info":`Prompt was not displayed, reason for not displaying: ${p.getNotDisplayedReason()}`),p.isSkippedMoment()&&(d=`Prompt was skipped, reason for skipping: ${p.getSkippedReason()}`),d.length&&(i.error?i.error(d):i.reject(d))})({notification:l,reject:t,error:e&&e.error})})})})};var Vl=Pn({__name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1,default:"CODE"},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(e){const n=e,s=!!Vu().default,t=((i,p)=>{const d={...i};for(const h in p)p[h]!==void 0&&p[h]!==null&&(d[h]=p[h]);return d})(gn,n),r={client_id:t.clientId||null,auto_select:t.autoLogin||!1,callback:t.callback,...t.idConfiguration},l=Pt();return hs(()=>{Iy(r,l,t,s)}),(i,p)=>(oe(),ye("div",{class:it(["g-btn-wrapper",[!G(Ks).apiLoaded&&"api-loading"]]),onClick:p[0]||(p[0]=d=>G(s)&&void(G(t).popupType==="TOKEN"?Oy({clientId:t.clientId}).then(h=>{t.callback&&t.callback(h)}):Ty({clientId:t.clientId}).then(h=>{t.callback&&t.callback(h)})))},[G(s)?Ge("v-if",!0):(oe(),ye("span",{key:0,ref_key:"buttonRef",ref:l,class:"g-btn"},null,512)),rn(i.$slots,"default")],2))}});(function(e,n){n===void 0&&(n={});var s=n.insertAt;if(e&&typeof document<"u"){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
.g-btn-wrapper.api-loading[data-v-5e610566] {
  opacity: 0.5;
  pointer-events: none;
}
`),Vl.__scopeId="data-v-5e610566",Vl.__file="src/plugin/GoogleLogin.vue";var Ry={install:(e,n)=>{n&&(s=>{s.clientId&&(gn.clientId=s.clientId),s.popupType&&(gn.popupType=s.popupType),s.prompt!=null&&(gn.prompt=s.prompt),s.autoLogin!=null&&(gn.autoLogin=s.autoLogin),s.idConfiguration&&(gn.idConfiguration=s.idConfiguration),s.buttonConfig&&(gn.buttonConfig=s.buttonConfig),s.callback&&(gn.callback=s.callback)})(n),hd.then(()=>{if(n.clientId){const s={client_id:n.clientId,auto_select:n.autoLogin===!0,callback:n.callback,...n.idConfiguration};window.google.accounts.id.initialize(s),n.prompt&&window.google.accounts.id.prompt()}}),e.component("GoogleLogin",Vl)}},Wc={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},Ly=function(){function e(){this.current_default_config=Wc}return e.prototype.config=function(n){for(var s in this.current_default_config)this.current_default_config[s]=n[s]?n[s]:Wc[s]},e.prototype.get=function(n){var s=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(s&&s.substring(0,1)==="{"&&s.substring(s.length-1,s.length)==="}")try{s=JSON.parse(s)}catch{return s}return s},e.prototype.set=function(n,s,t,r,l,i,p){if(n){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(n))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+n)}else throw new Error("Cookie name is not found in the first argument.");s&&s.constructor===Object&&(s=JSON.stringify(s));var d="";if(t==null&&(t=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),t&&t!=0)switch(t.constructor){case Number:t===1/0||t===-1?d="; expires=Fri, 31 Dec 9999 23:59:59 GMT":d="; max-age="+t;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(t)){var h=t.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(t.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":d="; max-age="+ +h*2592e3;break;case"d":d="; max-age="+ +h*86400;break;case"h":d="; max-age="+ +h*3600;break;case"min":d="; max-age="+ +h*60;break;case"s":d="; max-age="+h;break;case"y":d="; max-age="+ +h*31104e3;break}}else d="; expires="+t;break;case Date:d="; expires="+t.toUTCString();break}return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(s)+d+(l?"; domain="+l:this.current_default_config.domain?this.current_default_config.domain:"")+(r?"; path="+r:this.current_default_config.path?this.current_default_config.path:"; path=/")+(i==null?this.current_default_config.secure?"; Secure":"":i?"; Secure":"")+(p==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":p?"; SameSite="+p:""),this},e.prototype.remove=function(n,s,t){return!n||!this.isKey(n)?!1:(document.cookie=encodeURIComponent(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:this.current_default_config.domain?this.current_default_config.domain:"")+(s?"; path="+s:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(n){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var n=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),s=0;s<n.length;s++)n[s]=decodeURIComponent(n[s]);return n},e}(),dl=null;function Qc(){dl==null&&(dl=new Ly);var e=Xt(dl);return{cookies:e}}const Fy="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",lo=rs("user",{state:()=>({token:null,collections:new Map}),getters:{info(e){return Ay(e.token)}},actions:{logout(){this.$reset()},async loadCookie(){const e=Qc(),n=e.cookies.get("token");if(n)try{await this.handleGoogleLogin(n),console.log("User restored from cookie")}catch{console.log("Failed to restore user token from cookie"),this.token=null,e.cookies.remove("token")}},async handleGoogleLogin(e){const n=await oo(Fy+"/login",{token:e});this.token=e,Qc().cookies.set("token",e),this.collections=new Map;const t=yn();for(const r of n.data.collections)this.collections.set(r.name,r),t.collections.has(r.name)||t.collections.set(r.name,{lastSync:0,downloaded:!1})}}});var md=(()=>{var e=import.meta.url;return function(n){var s=n||{},t=typeof s<"u"?s:{},r,l;t.ready=new Promise(function(a,o){r=a,l=o});const i=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,i.debugModule("globalThis.location =",globalThis.location);const p="emscripten-bug-17951";t[p]=function a(o,u){o.env.foo=function(){};const c=t.locateFile(a.uri,typeof w>"u"?"":w);i.debugModule("instantiateWasm() uri =",c);const f=()=>fetch(c,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(f(),o).then(I=>u(I.instance,I.module)):async()=>f().then(I=>I.arrayBuffer()).then(I=>WebAssembly.instantiate(I,o)).then(I=>u(I.instance,I.module)))(),{}},t[p].uri="sqlite3.wasm";var d=Object.assign({},t),h="./this.program",m=typeof window=="object",v=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var w="";function O(a){return t.locateFile?t.locateFile(a,w):w+a}var W,ce,be;(m||v)&&(v?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),e&&(w=e),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",W=a=>{var o=new XMLHttpRequest;return o.open("GET",a,!1),o.send(null),o.responseText},v&&(be=a=>{var o=new XMLHttpRequest;return o.open("GET",a,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),ce=(a,o,u)=>{var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=()=>{if(c.status==200||c.status==0&&c.response){o(c.response);return}u()},c.onerror=u,c.send(null)});var L=t.print||console.log.bind(console),S=t.printErr||console.warn.bind(console);Object.assign(t,d),d=null,t.arguments&&t.arguments,t.thisProgram&&(h=t.thisProgram),t.quit&&t.quit;var U;t.wasmBinary&&(U=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&K("no native wasm support detected");var M,ae=!1;function Z(a,o){a||K(o)}var ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function q(a,o,u){for(var c=o+u,f=o;a[f]&&!(f>=c);)++f;if(f-o>16&&a.buffer&&ie)return ie.decode(a.subarray(o,f));for(var g="";o<f;){var I=a[o++];if(!(I&128)){g+=String.fromCharCode(I);continue}var H=a[o++]&63;if((I&224)==192){g+=String.fromCharCode((I&31)<<6|H);continue}var pe=a[o++]&63;if((I&240)==224?I=(I&15)<<12|H<<6|pe:I=(I&7)<<18|H<<12|pe<<6|a[o++]&63,I<65536)g+=String.fromCharCode(I);else{var De=I-65536;g+=String.fromCharCode(55296|De>>10,56320|De&1023)}}return g}function A(a,o){return a?q(ge,a,o):""}function Q(a,o,u,c){if(!(c>0))return 0;for(var f=u,g=u+c-1,I=0;I<a.length;++I){var H=a.charCodeAt(I);if(H>=55296&&H<=57343){var pe=a.charCodeAt(++I);H=65536+((H&1023)<<10)|pe&1023}if(H<=127){if(u>=g)break;o[u++]=H}else if(H<=2047){if(u+1>=g)break;o[u++]=192|H>>6,o[u++]=128|H&63}else if(H<=65535){if(u+2>=g)break;o[u++]=224|H>>12,o[u++]=128|H>>6&63,o[u++]=128|H&63}else{if(u+3>=g)break;o[u++]=240|H>>18,o[u++]=128|H>>12&63,o[u++]=128|H>>6&63,o[u++]=128|H&63}}return o[u]=0,u-f}function te(a,o,u){return Q(a,ge,o,u)}function V(a){for(var o=0,u=0;u<a.length;++u){var c=a.charCodeAt(u);c<=127?o++:c<=2047?o+=2:c>=55296&&c<=57343?(o+=4,++u):o+=3}return o}var re,ge,Ze,Ae,Ee;function ct(){var a=M.buffer;t.HEAP8=re=new Int8Array(a),t.HEAP16=Ze=new Int16Array(a),t.HEAP32=Ae=new Int32Array(a),t.HEAPU8=ge=new Uint8Array(a),t.HEAPU16=new Uint16Array(a),t.HEAPU32=Ee=new Uint32Array(a),t.HEAPF32=new Float32Array(a),t.HEAPF64=new Float64Array(a),t.HEAP64=new BigInt64Array(a),t.HEAPU64=new BigUint64Array(a)}var Ve=t.INITIAL_MEMORY||16777216;t.wasmMemory?M=t.wasmMemory:M=new WebAssembly.Memory({initial:Ve/65536,maximum:2147483648/65536}),ct(),Ve=M.buffer.byteLength;var bt=[],gt=[],We=[];function xt(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Se(t.preRun.shift());Me(bt)}function qt(){!t.noFSInit&&!_.init.initialized&&_.init(),_.ignorePermissions=!1,Me(gt)}function ut(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Oe(t.postRun.shift());Me(We)}function Se(a){bt.unshift(a)}function X(a){gt.unshift(a)}function Oe(a){We.unshift(a)}var de=0,Ne=null;function lt(a){return a}function T(a){de++,t.monitorRunDependencies&&t.monitorRunDependencies(de)}function P(a){if(de--,t.monitorRunDependencies&&t.monitorRunDependencies(de),de==0&&Ne){var o=Ne;Ne=null,o()}}function K(a){t.onAbort&&t.onAbort(a),a="Aborted("+a+")",S(a),ae=!0,a+=". Build with -sASSERTIONS for more info.";var o=new WebAssembly.RuntimeError(a);throw l(o),o}var fe="data:application/octet-stream;base64,";function he(a){return a.startsWith(fe)}var ve;t.locateFile?(ve="sqlite3.wasm",he(ve)||(ve=O(ve))):ve=new URL("/assets/sqlite3.25c52ce6.wasm",self.location).href;function Le(a){try{if(a==ve&&U)return new Uint8Array(U);if(be)return be(a);throw"both async and sync fetching of the wasm failed"}catch(o){K(o)}}function Pe(){return!U&&(m||v)&&typeof fetch=="function"?fetch(ve,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+ve+"'";return a.arrayBuffer()}).catch(function(){return Le(ve)}):Promise.resolve().then(function(){return Le(ve)})}function Be(){var a={env:Pa,wasi_snapshot_preview1:Pa};function o(I,H){var pe=I.exports;t.asm=pe,t.asm.__indirect_function_table,X(t.asm.__wasm_call_ctors),P()}T();function u(I){o(I.instance)}function c(I){return Pe().then(function(H){return WebAssembly.instantiate(H,a)}).then(function(H){return H}).then(I,function(H){S("failed to asynchronously prepare wasm: "+H),K(H)})}function f(){return!U&&typeof WebAssembly.instantiateStreaming=="function"&&!he(ve)&&typeof fetch=="function"?fetch(ve,{credentials:"same-origin"}).then(function(I){var H=WebAssembly.instantiateStreaming(I,a);return H.then(u,function(pe){return S("wasm streaming compile failed: "+pe),S("falling back to ArrayBuffer instantiation"),c(u)})}):c(u)}if(t.instantiateWasm)try{var g=t.instantiateWasm(a,o);return g}catch(I){S("Module.instantiateWasm callback failed with error: "+I),l(I)}return f().catch(l),{}}var ue,Re;function Me(a){for(;a.length>0;)a.shift()(t)}var Fe={isAbs:a=>a.charAt(0)==="/",splitPath:a=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return o.exec(a).slice(1)},normalizeArray:(a,o)=>{for(var u=0,c=a.length-1;c>=0;c--){var f=a[c];f==="."?a.splice(c,1):f===".."?(a.splice(c,1),u++):u&&(a.splice(c,1),u--)}if(o)for(;u;u--)a.unshift("..");return a},normalize:a=>{var o=Fe.isAbs(a),u=a.substr(-1)==="/";return a=Fe.normalizeArray(a.split("/").filter(c=>!!c),!o).join("/"),!a&&!o&&(a="."),a&&u&&(a+="/"),(o?"/":"")+a},dirname:a=>{var o=Fe.splitPath(a),u=o[0],c=o[1];return!u&&!c?".":(c&&(c=c.substr(0,c.length-1)),u+c)},basename:a=>{if(a==="/")return"/";a=Fe.normalize(a),a=a.replace(/\/$/,"");var o=a.lastIndexOf("/");return o===-1?a:a.substr(o+1)},join:function(){var a=Array.prototype.slice.call(arguments);return Fe.normalize(a.join("/"))},join2:(a,o)=>Fe.normalize(a+"/"+o)};function Je(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var a=new Uint8Array(1);return()=>(crypto.getRandomValues(a),a[0])}else return()=>K("randomDevice")}var _t={resolve:function(){for(var a="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var c=u>=0?arguments[u]:_.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";a=c+"/"+a,o=Fe.isAbs(c)}return a=Fe.normalizeArray(a.split("/").filter(f=>!!f),!o).join("/"),(o?"/":"")+a||"."},relative:(a,o)=>{a=_t.resolve(a).substr(1),o=_t.resolve(o).substr(1);function u(De){for(var Qe=0;Qe<De.length&&De[Qe]==="";Qe++);for(var at=De.length-1;at>=0&&De[at]==="";at--);return Qe>at?[]:De.slice(Qe,at-Qe+1)}for(var c=u(a.split("/")),f=u(o.split("/")),g=Math.min(c.length,f.length),I=g,H=0;H<g;H++)if(c[H]!==f[H]){I=H;break}for(var pe=[],H=I;H<c.length;H++)pe.push("..");return pe=pe.concat(f.slice(I)),pe.join("/")}};function St(a,o,u){var c=u>0?u:V(a)+1,f=new Array(c),g=Q(a,f,0,f.length);return o&&(f.length=g),f}var wt={ttys:[],init:function(){},shutdown:function(){},register:function(a,o){wt.ttys[a]={input:[],output:[],ops:o},_.registerDevice(a,wt.stream_ops)},stream_ops:{open:function(a){var o=wt.ttys[a.node.rdev];if(!o)throw new _.ErrnoError(43);a.tty=o,a.seekable=!1},close:function(a){a.tty.ops.fsync(a.tty)},fsync:function(a){a.tty.ops.fsync(a.tty)},read:function(a,o,u,c,f){if(!a.tty||!a.tty.ops.get_char)throw new _.ErrnoError(60);for(var g=0,I=0;I<c;I++){var H;try{H=a.tty.ops.get_char(a.tty)}catch{throw new _.ErrnoError(29)}if(H===void 0&&g===0)throw new _.ErrnoError(6);if(H==null)break;g++,o[u+I]=H}return g&&(a.node.timestamp=Date.now()),g},write:function(a,o,u,c,f){if(!a.tty||!a.tty.ops.put_char)throw new _.ErrnoError(60);try{for(var g=0;g<c;g++)a.tty.ops.put_char(a.tty,o[u+g])}catch{throw new _.ErrnoError(29)}return c&&(a.node.timestamp=Date.now()),g}},default_tty_ops:{get_char:function(a){if(!a.input.length){var o=null;if(typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`)),!o)return null;a.input=St(o,!0)}return a.input.shift()},put_char:function(a,o){o===null||o===10?(L(q(a.output,0)),a.output=[]):o!=0&&a.output.push(o)},fsync:function(a){a.output&&a.output.length>0&&(L(q(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,o){o===null||o===10?(S(q(a.output,0)),a.output=[]):o!=0&&a.output.push(o)},fsync:function(a){a.output&&a.output.length>0&&(S(q(a.output,0)),a.output=[])}}};function Tt(a,o){return ge.fill(0,a,a+o),a}function jt(a,o){return Math.ceil(a/o)*o}function Yt(a){a=jt(a,65536);var o=Fa(65536,a);return o?Tt(o,a):0}var ft={ops_table:null,mount:function(a){return ft.createNode(null,"/",16895,0)},createNode:function(a,o,u,c){if(_.isBlkdev(u)||_.isFIFO(u))throw new _.ErrnoError(63);ft.ops_table||(ft.ops_table={dir:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,lookup:ft.node_ops.lookup,mknod:ft.node_ops.mknod,rename:ft.node_ops.rename,unlink:ft.node_ops.unlink,rmdir:ft.node_ops.rmdir,readdir:ft.node_ops.readdir,symlink:ft.node_ops.symlink},stream:{llseek:ft.stream_ops.llseek}},file:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:{llseek:ft.stream_ops.llseek,read:ft.stream_ops.read,write:ft.stream_ops.write,allocate:ft.stream_ops.allocate,mmap:ft.stream_ops.mmap,msync:ft.stream_ops.msync}},link:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,readlink:ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:_.chrdev_stream_ops}});var f=_.createNode(a,o,u,c);return _.isDir(f.mode)?(f.node_ops=ft.ops_table.dir.node,f.stream_ops=ft.ops_table.dir.stream,f.contents={}):_.isFile(f.mode)?(f.node_ops=ft.ops_table.file.node,f.stream_ops=ft.ops_table.file.stream,f.usedBytes=0,f.contents=null):_.isLink(f.mode)?(f.node_ops=ft.ops_table.link.node,f.stream_ops=ft.ops_table.link.stream):_.isChrdev(f.mode)&&(f.node_ops=ft.ops_table.chrdev.node,f.stream_ops=ft.ops_table.chrdev.stream),f.timestamp=Date.now(),a&&(a.contents[o]=f,a.timestamp=f.timestamp),f},getFileDataAsTypedArray:function(a){return a.contents?a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents):new Uint8Array(0)},expandFileStorage:function(a,o){var u=a.contents?a.contents.length:0;if(!(u>=o)){var c=1024*1024;o=Math.max(o,u*(u<c?2:1.125)>>>0),u!=0&&(o=Math.max(o,256));var f=a.contents;a.contents=new Uint8Array(o),a.usedBytes>0&&a.contents.set(f.subarray(0,a.usedBytes),0)}},resizeFileStorage:function(a,o){if(a.usedBytes!=o)if(o==0)a.contents=null,a.usedBytes=0;else{var u=a.contents;a.contents=new Uint8Array(o),u&&a.contents.set(u.subarray(0,Math.min(o,a.usedBytes))),a.usedBytes=o}},node_ops:{getattr:function(a){var o={};return o.dev=_.isChrdev(a.mode)?a.id:1,o.ino=a.id,o.mode=a.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=a.rdev,_.isDir(a.mode)?o.size=4096:_.isFile(a.mode)?o.size=a.usedBytes:_.isLink(a.mode)?o.size=a.link.length:o.size=0,o.atime=new Date(a.timestamp),o.mtime=new Date(a.timestamp),o.ctime=new Date(a.timestamp),o.blksize=4096,o.blocks=Math.ceil(o.size/o.blksize),o},setattr:function(a,o){o.mode!==void 0&&(a.mode=o.mode),o.timestamp!==void 0&&(a.timestamp=o.timestamp),o.size!==void 0&&ft.resizeFileStorage(a,o.size)},lookup:function(a,o){throw _.genericErrors[44]},mknod:function(a,o,u,c){return ft.createNode(a,o,u,c)},rename:function(a,o,u){if(_.isDir(a.mode)){var c;try{c=_.lookupNode(o,u)}catch{}if(c)for(var f in c.contents)throw new _.ErrnoError(55)}delete a.parent.contents[a.name],a.parent.timestamp=Date.now(),a.name=u,o.contents[u]=a,o.timestamp=a.parent.timestamp,a.parent=o},unlink:function(a,o){delete a.contents[o],a.timestamp=Date.now()},rmdir:function(a,o){var u=_.lookupNode(a,o);for(var c in u.contents)throw new _.ErrnoError(55);delete a.contents[o],a.timestamp=Date.now()},readdir:function(a){var o=[".",".."];for(var u in a.contents)!a.contents.hasOwnProperty(u)||o.push(u);return o},symlink:function(a,o,u){var c=ft.createNode(a,o,41471,0);return c.link=u,c},readlink:function(a){if(!_.isLink(a.mode))throw new _.ErrnoError(28);return a.link}},stream_ops:{read:function(a,o,u,c,f){var g=a.node.contents;if(f>=a.node.usedBytes)return 0;var I=Math.min(a.node.usedBytes-f,c);if(I>8&&g.subarray)o.set(g.subarray(f,f+I),u);else for(var H=0;H<I;H++)o[u+H]=g[f+H];return I},write:function(a,o,u,c,f,g){if(o.buffer===re.buffer&&(g=!1),!c)return 0;var I=a.node;if(I.timestamp=Date.now(),o.subarray&&(!I.contents||I.contents.subarray)){if(g)return I.contents=o.subarray(u,u+c),I.usedBytes=c,c;if(I.usedBytes===0&&f===0)return I.contents=o.slice(u,u+c),I.usedBytes=c,c;if(f+c<=I.usedBytes)return I.contents.set(o.subarray(u,u+c),f),c}if(ft.expandFileStorage(I,f+c),I.contents.subarray&&o.subarray)I.contents.set(o.subarray(u,u+c),f);else for(var H=0;H<c;H++)I.contents[f+H]=o[u+H];return I.usedBytes=Math.max(I.usedBytes,f+c),c},llseek:function(a,o,u){var c=o;if(u===1?c+=a.position:u===2&&_.isFile(a.node.mode)&&(c+=a.node.usedBytes),c<0)throw new _.ErrnoError(28);return c},allocate:function(a,o,u){ft.expandFileStorage(a.node,o+u),a.node.usedBytes=Math.max(a.node.usedBytes,o+u)},mmap:function(a,o,u,c,f){if(!_.isFile(a.node.mode))throw new _.ErrnoError(43);var g,I,H=a.node.contents;if(!(f&2)&&H.buffer===re.buffer)I=!1,g=H.byteOffset;else{if((u>0||u+o<H.length)&&(H.subarray?H=H.subarray(u,u+o):H=Array.prototype.slice.call(H,u,u+o)),I=!0,g=Yt(o),!g)throw new _.ErrnoError(48);re.set(H,g)}return{ptr:g,allocated:I}},msync:function(a,o,u,c,f){return ft.stream_ops.write(a,o,0,c,u,!1),0}}};function nn(a,o,u,c){var f=c?"":"al "+a;ce(a,g=>{Z(g,'Loading data file "'+a+'" failed (no arrayBuffer).'),o(new Uint8Array(g)),f&&P()},g=>{if(u)u();else throw'Loading data file "'+a+'" failed.'}),f&&T()}var _={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(a,o={})=>{if(a=_t.resolve(a),!a)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(o=Object.assign(u,o),o.recurse_count>8)throw new _.ErrnoError(32);for(var c=a.split("/").filter(at=>!!at),f=_.root,g="/",I=0;I<c.length;I++){var H=I===c.length-1;if(H&&o.parent)break;if(f=_.lookupNode(f,c[I]),g=Fe.join2(g,c[I]),_.isMountpoint(f)&&(!H||H&&o.follow_mount)&&(f=f.mounted.root),!H||o.follow)for(var pe=0;_.isLink(f.mode);){var De=_.readlink(g);g=_t.resolve(Fe.dirname(g),De);var Qe=_.lookupPath(g,{recurse_count:o.recurse_count+1});if(f=Qe.node,pe++>40)throw new _.ErrnoError(32)}}return{path:g,node:f}},getPath:a=>{for(var o;;){if(_.isRoot(a)){var u=a.mount.mountpoint;return o?u[u.length-1]!=="/"?u+"/"+o:u+o:u}o=o?a.name+"/"+o:a.name,a=a.parent}},hashName:(a,o)=>{for(var u=0,c=0;c<o.length;c++)u=(u<<5)-u+o.charCodeAt(c)|0;return(a+u>>>0)%_.nameTable.length},hashAddNode:a=>{var o=_.hashName(a.parent.id,a.name);a.name_next=_.nameTable[o],_.nameTable[o]=a},hashRemoveNode:a=>{var o=_.hashName(a.parent.id,a.name);if(_.nameTable[o]===a)_.nameTable[o]=a.name_next;else for(var u=_.nameTable[o];u;){if(u.name_next===a){u.name_next=a.name_next;break}u=u.name_next}},lookupNode:(a,o)=>{var u=_.mayLookup(a);if(u)throw new _.ErrnoError(u,a);for(var c=_.hashName(a.id,o),f=_.nameTable[c];f;f=f.name_next){var g=f.name;if(f.parent.id===a.id&&g===o)return f}return _.lookup(a,o)},createNode:(a,o,u,c)=>{var f=new _.FSNode(a,o,u,c);return _.hashAddNode(f),f},destroyNode:a=>{_.hashRemoveNode(a)},isRoot:a=>a===a.parent,isMountpoint:a=>!!a.mounted,isFile:a=>(a&61440)===32768,isDir:a=>(a&61440)===16384,isLink:a=>(a&61440)===40960,isChrdev:a=>(a&61440)===8192,isBlkdev:a=>(a&61440)===24576,isFIFO:a=>(a&61440)===4096,isSocket:a=>(a&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:a=>{var o=_.flagModes[a];if(typeof o>"u")throw new Error("Unknown file open mode: "+a);return o},flagsToPermissionString:a=>{var o=["r","w","rw"][a&3];return a&512&&(o+="w"),o},nodePermissions:(a,o)=>_.ignorePermissions?0:o.includes("r")&&!(a.mode&292)||o.includes("w")&&!(a.mode&146)||o.includes("x")&&!(a.mode&73)?2:0,mayLookup:a=>{var o=_.nodePermissions(a,"x");return o||(a.node_ops.lookup?0:2)},mayCreate:(a,o)=>{try{var u=_.lookupNode(a,o);return 20}catch{}return _.nodePermissions(a,"wx")},mayDelete:(a,o,u)=>{var c;try{c=_.lookupNode(a,o)}catch(g){return g.errno}var f=_.nodePermissions(a,"wx");if(f)return f;if(u){if(!_.isDir(c.mode))return 54;if(_.isRoot(c)||_.getPath(c)===_.cwd())return 10}else if(_.isDir(c.mode))return 31;return 0},mayOpen:(a,o)=>a?_.isLink(a.mode)?32:_.isDir(a.mode)&&(_.flagsToPermissionString(o)!=="r"||o&512)?31:_.nodePermissions(a,_.flagsToPermissionString(o)):44,MAX_OPEN_FDS:4096,nextfd:(a=0,o=_.MAX_OPEN_FDS)=>{for(var u=a;u<=o;u++)if(!_.streams[u])return u;throw new _.ErrnoError(33)},getStream:a=>_.streams[a],createStream:(a,o,u)=>{_.FSStream||(_.FSStream=function(){this.shared={}},_.FSStream.prototype={},Object.defineProperties(_.FSStream.prototype,{object:{get:function(){return this.node},set:function(f){this.node=f}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(f){this.shared.flags=f}},position:{get:function(){return this.shared.position},set:function(f){this.shared.position=f}}})),a=Object.assign(new _.FSStream,a);var c=_.nextfd(o,u);return a.fd=c,_.streams[c]=a,a},closeStream:a=>{_.streams[a]=null},chrdev_stream_ops:{open:a=>{var o=_.getDevice(a.node.rdev);a.stream_ops=o.stream_ops,a.stream_ops.open&&a.stream_ops.open(a)},llseek:()=>{throw new _.ErrnoError(70)}},major:a=>a>>8,minor:a=>a&255,makedev:(a,o)=>a<<8|o,registerDevice:(a,o)=>{_.devices[a]={stream_ops:o}},getDevice:a=>_.devices[a],getMounts:a=>{for(var o=[],u=[a];u.length;){var c=u.pop();o.push(c),u.push.apply(u,c.mounts)}return o},syncfs:(a,o)=>{typeof a=="function"&&(o=a,a=!1),_.syncFSRequests++,_.syncFSRequests>1&&S("warning: "+_.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=_.getMounts(_.root.mount),c=0;function f(I){return _.syncFSRequests--,o(I)}function g(I){if(I)return g.errored?void 0:(g.errored=!0,f(I));++c>=u.length&&f(null)}u.forEach(I=>{if(!I.type.syncfs)return g(null);I.type.syncfs(I,a,g)})},mount:(a,o,u)=>{var c=u==="/",f=!u,g;if(c&&_.root)throw new _.ErrnoError(10);if(!c&&!f){var I=_.lookupPath(u,{follow_mount:!1});if(u=I.path,g=I.node,_.isMountpoint(g))throw new _.ErrnoError(10);if(!_.isDir(g.mode))throw new _.ErrnoError(54)}var H={type:a,opts:o,mountpoint:u,mounts:[]},pe=a.mount(H);return pe.mount=H,H.root=pe,c?_.root=pe:g&&(g.mounted=H,g.mount&&g.mount.mounts.push(H)),pe},unmount:a=>{var o=_.lookupPath(a,{follow_mount:!1});if(!_.isMountpoint(o.node))throw new _.ErrnoError(28);var u=o.node,c=u.mounted,f=_.getMounts(c);Object.keys(_.nameTable).forEach(I=>{for(var H=_.nameTable[I];H;){var pe=H.name_next;f.includes(H.mount)&&_.destroyNode(H),H=pe}}),u.mounted=null;var g=u.mount.mounts.indexOf(c);u.mount.mounts.splice(g,1)},lookup:(a,o)=>a.node_ops.lookup(a,o),mknod:(a,o,u)=>{var c=_.lookupPath(a,{parent:!0}),f=c.node,g=Fe.basename(a);if(!g||g==="."||g==="..")throw new _.ErrnoError(28);var I=_.mayCreate(f,g);if(I)throw new _.ErrnoError(I);if(!f.node_ops.mknod)throw new _.ErrnoError(63);return f.node_ops.mknod(f,g,o,u)},create:(a,o)=>(o=o!==void 0?o:438,o&=4095,o|=32768,_.mknod(a,o,0)),mkdir:(a,o)=>(o=o!==void 0?o:511,o&=1023,o|=16384,_.mknod(a,o,0)),mkdirTree:(a,o)=>{for(var u=a.split("/"),c="",f=0;f<u.length;++f)if(!!u[f]){c+="/"+u[f];try{_.mkdir(c,o)}catch(g){if(g.errno!=20)throw g}}},mkdev:(a,o,u)=>(typeof u>"u"&&(u=o,o=438),o|=8192,_.mknod(a,o,u)),symlink:(a,o)=>{if(!_t.resolve(a))throw new _.ErrnoError(44);var u=_.lookupPath(o,{parent:!0}),c=u.node;if(!c)throw new _.ErrnoError(44);var f=Fe.basename(o),g=_.mayCreate(c,f);if(g)throw new _.ErrnoError(g);if(!c.node_ops.symlink)throw new _.ErrnoError(63);return c.node_ops.symlink(c,f,a)},rename:(a,o)=>{var u=Fe.dirname(a),c=Fe.dirname(o),f=Fe.basename(a),g=Fe.basename(o),I,H,pe;if(I=_.lookupPath(a,{parent:!0}),H=I.node,I=_.lookupPath(o,{parent:!0}),pe=I.node,!H||!pe)throw new _.ErrnoError(44);if(H.mount!==pe.mount)throw new _.ErrnoError(75);var De=_.lookupNode(H,f),Qe=_t.relative(a,c);if(Qe.charAt(0)!==".")throw new _.ErrnoError(28);if(Qe=_t.relative(o,u),Qe.charAt(0)!==".")throw new _.ErrnoError(55);var at;try{at=_.lookupNode(pe,g)}catch{}if(De!==at){var ee=_.isDir(De.mode),C=_.mayDelete(H,f,ee);if(C)throw new _.ErrnoError(C);if(C=at?_.mayDelete(pe,g,ee):_.mayCreate(pe,g),C)throw new _.ErrnoError(C);if(!H.node_ops.rename)throw new _.ErrnoError(63);if(_.isMountpoint(De)||at&&_.isMountpoint(at))throw new _.ErrnoError(10);if(pe!==H&&(C=_.nodePermissions(H,"w"),C))throw new _.ErrnoError(C);_.hashRemoveNode(De);try{H.node_ops.rename(De,pe,g)}catch(k){throw k}finally{_.hashAddNode(De)}}},rmdir:a=>{var o=_.lookupPath(a,{parent:!0}),u=o.node,c=Fe.basename(a),f=_.lookupNode(u,c),g=_.mayDelete(u,c,!0);if(g)throw new _.ErrnoError(g);if(!u.node_ops.rmdir)throw new _.ErrnoError(63);if(_.isMountpoint(f))throw new _.ErrnoError(10);u.node_ops.rmdir(u,c),_.destroyNode(f)},readdir:a=>{var o=_.lookupPath(a,{follow:!0}),u=o.node;if(!u.node_ops.readdir)throw new _.ErrnoError(54);return u.node_ops.readdir(u)},unlink:a=>{var o=_.lookupPath(a,{parent:!0}),u=o.node;if(!u)throw new _.ErrnoError(44);var c=Fe.basename(a),f=_.lookupNode(u,c),g=_.mayDelete(u,c,!1);if(g)throw new _.ErrnoError(g);if(!u.node_ops.unlink)throw new _.ErrnoError(63);if(_.isMountpoint(f))throw new _.ErrnoError(10);u.node_ops.unlink(u,c),_.destroyNode(f)},readlink:a=>{var o=_.lookupPath(a),u=o.node;if(!u)throw new _.ErrnoError(44);if(!u.node_ops.readlink)throw new _.ErrnoError(28);return _t.resolve(_.getPath(u.parent),u.node_ops.readlink(u))},stat:(a,o)=>{var u=_.lookupPath(a,{follow:!o}),c=u.node;if(!c)throw new _.ErrnoError(44);if(!c.node_ops.getattr)throw new _.ErrnoError(63);return c.node_ops.getattr(c)},lstat:a=>_.stat(a,!0),chmod:(a,o,u)=>{var c;if(typeof a=="string"){var f=_.lookupPath(a,{follow:!u});c=f.node}else c=a;if(!c.node_ops.setattr)throw new _.ErrnoError(63);c.node_ops.setattr(c,{mode:o&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:(a,o)=>{_.chmod(a,o,!0)},fchmod:(a,o)=>{var u=_.getStream(a);if(!u)throw new _.ErrnoError(8);_.chmod(u.node,o)},chown:(a,o,u,c)=>{var f;if(typeof a=="string"){var g=_.lookupPath(a,{follow:!c});f=g.node}else f=a;if(!f.node_ops.setattr)throw new _.ErrnoError(63);f.node_ops.setattr(f,{timestamp:Date.now()})},lchown:(a,o,u)=>{_.chown(a,o,u,!0)},fchown:(a,o,u)=>{var c=_.getStream(a);if(!c)throw new _.ErrnoError(8);_.chown(c.node,o,u)},truncate:(a,o)=>{if(o<0)throw new _.ErrnoError(28);var u;if(typeof a=="string"){var c=_.lookupPath(a,{follow:!0});u=c.node}else u=a;if(!u.node_ops.setattr)throw new _.ErrnoError(63);if(_.isDir(u.mode))throw new _.ErrnoError(31);if(!_.isFile(u.mode))throw new _.ErrnoError(28);var f=_.nodePermissions(u,"w");if(f)throw new _.ErrnoError(f);u.node_ops.setattr(u,{size:o,timestamp:Date.now()})},ftruncate:(a,o)=>{var u=_.getStream(a);if(!u)throw new _.ErrnoError(8);if((u.flags&2097155)===0)throw new _.ErrnoError(28);_.truncate(u.node,o)},utime:(a,o,u)=>{var c=_.lookupPath(a,{follow:!0}),f=c.node;f.node_ops.setattr(f,{timestamp:Math.max(o,u)})},open:(a,o,u)=>{if(a==="")throw new _.ErrnoError(44);o=typeof o=="string"?_.modeStringToFlags(o):o,u=typeof u>"u"?438:u,o&64?u=u&4095|32768:u=0;var c;if(typeof a=="object")c=a;else{a=Fe.normalize(a);try{var f=_.lookupPath(a,{follow:!(o&131072)});c=f.node}catch{}}var g=!1;if(o&64)if(c){if(o&128)throw new _.ErrnoError(20)}else c=_.mknod(a,u,0),g=!0;if(!c)throw new _.ErrnoError(44);if(_.isChrdev(c.mode)&&(o&=-513),o&65536&&!_.isDir(c.mode))throw new _.ErrnoError(54);if(!g){var I=_.mayOpen(c,o);if(I)throw new _.ErrnoError(I)}o&512&&!g&&_.truncate(c,0),o&=-131713;var H=_.createStream({node:c,path:_.getPath(c),flags:o,seekable:!0,position:0,stream_ops:c.stream_ops,ungotten:[],error:!1});return H.stream_ops.open&&H.stream_ops.open(H),t.logReadFiles&&!(o&1)&&(_.readFiles||(_.readFiles={}),a in _.readFiles||(_.readFiles[a]=1)),H},close:a=>{if(_.isClosed(a))throw new _.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(o){throw o}finally{_.closeStream(a.fd)}a.fd=null},isClosed:a=>a.fd===null,llseek:(a,o,u)=>{if(_.isClosed(a))throw new _.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new _.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new _.ErrnoError(28);return a.position=a.stream_ops.llseek(a,o,u),a.ungotten=[],a.position},read:(a,o,u,c,f)=>{if(c<0||f<0)throw new _.ErrnoError(28);if(_.isClosed(a))throw new _.ErrnoError(8);if((a.flags&2097155)===1)throw new _.ErrnoError(8);if(_.isDir(a.node.mode))throw new _.ErrnoError(31);if(!a.stream_ops.read)throw new _.ErrnoError(28);var g=typeof f<"u";if(!g)f=a.position;else if(!a.seekable)throw new _.ErrnoError(70);var I=a.stream_ops.read(a,o,u,c,f);return g||(a.position+=I),I},write:(a,o,u,c,f,g)=>{if(c<0||f<0)throw new _.ErrnoError(28);if(_.isClosed(a))throw new _.ErrnoError(8);if((a.flags&2097155)===0)throw new _.ErrnoError(8);if(_.isDir(a.node.mode))throw new _.ErrnoError(31);if(!a.stream_ops.write)throw new _.ErrnoError(28);a.seekable&&a.flags&1024&&_.llseek(a,0,2);var I=typeof f<"u";if(!I)f=a.position;else if(!a.seekable)throw new _.ErrnoError(70);var H=a.stream_ops.write(a,o,u,c,f,g);return I||(a.position+=H),H},allocate:(a,o,u)=>{if(_.isClosed(a))throw new _.ErrnoError(8);if(o<0||u<=0)throw new _.ErrnoError(28);if((a.flags&2097155)===0)throw new _.ErrnoError(8);if(!_.isFile(a.node.mode)&&!_.isDir(a.node.mode))throw new _.ErrnoError(43);if(!a.stream_ops.allocate)throw new _.ErrnoError(138);a.stream_ops.allocate(a,o,u)},mmap:(a,o,u,c,f)=>{if((c&2)!==0&&(f&2)===0&&(a.flags&2097155)!==2)throw new _.ErrnoError(2);if((a.flags&2097155)===1)throw new _.ErrnoError(2);if(!a.stream_ops.mmap)throw new _.ErrnoError(43);return a.stream_ops.mmap(a,o,u,c,f)},msync:(a,o,u,c,f)=>a.stream_ops.msync?a.stream_ops.msync(a,o,u,c,f):0,munmap:a=>0,ioctl:(a,o,u)=>{if(!a.stream_ops.ioctl)throw new _.ErrnoError(59);return a.stream_ops.ioctl(a,o,u)},readFile:(a,o={})=>{if(o.flags=o.flags||0,o.encoding=o.encoding||"binary",o.encoding!=="utf8"&&o.encoding!=="binary")throw new Error('Invalid encoding type "'+o.encoding+'"');var u,c=_.open(a,o.flags),f=_.stat(a),g=f.size,I=new Uint8Array(g);return _.read(c,I,0,g,0),o.encoding==="utf8"?u=q(I,0):o.encoding==="binary"&&(u=I),_.close(c),u},writeFile:(a,o,u={})=>{u.flags=u.flags||577;var c=_.open(a,u.flags,u.mode);if(typeof o=="string"){var f=new Uint8Array(V(o)+1),g=Q(o,f,0,f.length);_.write(c,f,0,g,void 0,u.canOwn)}else if(ArrayBuffer.isView(o))_.write(c,o,0,o.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");_.close(c)},cwd:()=>_.currentPath,chdir:a=>{var o=_.lookupPath(a,{follow:!0});if(o.node===null)throw new _.ErrnoError(44);if(!_.isDir(o.node.mode))throw new _.ErrnoError(54);var u=_.nodePermissions(o.node,"x");if(u)throw new _.ErrnoError(u);_.currentPath=o.path},createDefaultDirectories:()=>{_.mkdir("/tmp"),_.mkdir("/home"),_.mkdir("/home/web_user")},createDefaultDevices:()=>{_.mkdir("/dev"),_.registerDevice(_.makedev(1,3),{read:()=>0,write:(o,u,c,f,g)=>f}),_.mkdev("/dev/null",_.makedev(1,3)),wt.register(_.makedev(5,0),wt.default_tty_ops),wt.register(_.makedev(6,0),wt.default_tty1_ops),_.mkdev("/dev/tty",_.makedev(5,0)),_.mkdev("/dev/tty1",_.makedev(6,0));var a=Je();_.createDevice("/dev","random",a),_.createDevice("/dev","urandom",a),_.mkdir("/dev/shm"),_.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{_.mkdir("/proc");var a=_.mkdir("/proc/self");_.mkdir("/proc/self/fd"),_.mount({mount:()=>{var o=_.createNode(a,"fd",16895,73);return o.node_ops={lookup:(u,c)=>{var f=+c,g=_.getStream(f);if(!g)throw new _.ErrnoError(8);var I={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>g.path}};return I.parent=I,I}},o}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?_.createDevice("/dev","stdin",t.stdin):_.symlink("/dev/tty","/dev/stdin"),t.stdout?_.createDevice("/dev","stdout",null,t.stdout):_.symlink("/dev/tty","/dev/stdout"),t.stderr?_.createDevice("/dev","stderr",null,t.stderr):_.symlink("/dev/tty1","/dev/stderr"),_.open("/dev/stdin",0),_.open("/dev/stdout",1),_.open("/dev/stderr",1)},ensureErrnoError:()=>{_.ErrnoError||(_.ErrnoError=function(o,u){this.node=u,this.setErrno=function(c){this.errno=c},this.setErrno(o),this.message="FS error"},_.ErrnoError.prototype=new Error,_.ErrnoError.prototype.constructor=_.ErrnoError,[44].forEach(a=>{_.genericErrors[a]=new _.ErrnoError(a),_.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:()=>{_.ensureErrnoError(),_.nameTable=new Array(4096),_.mount(ft,{},"/"),_.createDefaultDirectories(),_.createDefaultDevices(),_.createSpecialDirectories(),_.filesystems={MEMFS:ft}},init:(a,o,u)=>{_.init.initialized=!0,_.ensureErrnoError(),t.stdin=a||t.stdin,t.stdout=o||t.stdout,t.stderr=u||t.stderr,_.createStandardStreams()},quit:()=>{_.init.initialized=!1;for(var a=0;a<_.streams.length;a++){var o=_.streams[a];!o||_.close(o)}},getMode:(a,o)=>{var u=0;return a&&(u|=365),o&&(u|=146),u},findObject:(a,o)=>{var u=_.analyzePath(a,o);return u.exists?u.object:null},analyzePath:(a,o)=>{try{var u=_.lookupPath(a,{follow:!o});a=u.path}catch{}var c={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=_.lookupPath(a,{parent:!0});c.parentExists=!0,c.parentPath=u.path,c.parentObject=u.node,c.name=Fe.basename(a),u=_.lookupPath(a,{follow:!o}),c.exists=!0,c.path=u.path,c.object=u.node,c.name=u.node.name,c.isRoot=u.path==="/"}catch(f){c.error=f.errno}return c},createPath:(a,o,u,c)=>{a=typeof a=="string"?a:_.getPath(a);for(var f=o.split("/").reverse();f.length;){var g=f.pop();if(!!g){var I=Fe.join2(a,g);try{_.mkdir(I)}catch{}a=I}}return I},createFile:(a,o,u,c,f)=>{var g=Fe.join2(typeof a=="string"?a:_.getPath(a),o),I=_.getMode(c,f);return _.create(g,I)},createDataFile:(a,o,u,c,f,g)=>{var I=o;a&&(a=typeof a=="string"?a:_.getPath(a),I=o?Fe.join2(a,o):a);var H=_.getMode(c,f),pe=_.create(I,H);if(u){if(typeof u=="string"){for(var De=new Array(u.length),Qe=0,at=u.length;Qe<at;++Qe)De[Qe]=u.charCodeAt(Qe);u=De}_.chmod(pe,H|146);var ee=_.open(pe,577);_.write(ee,u,0,u.length,0,g),_.close(ee),_.chmod(pe,H)}return pe},createDevice:(a,o,u,c)=>{var f=Fe.join2(typeof a=="string"?a:_.getPath(a),o),g=_.getMode(!!u,!!c);_.createDevice.major||(_.createDevice.major=64);var I=_.makedev(_.createDevice.major++,0);return _.registerDevice(I,{open:H=>{H.seekable=!1},close:H=>{c&&c.buffer&&c.buffer.length&&c(10)},read:(H,pe,De,Qe,at)=>{for(var ee=0,C=0;C<Qe;C++){var k;try{k=u()}catch{throw new _.ErrnoError(29)}if(k===void 0&&ee===0)throw new _.ErrnoError(6);if(k==null)break;ee++,pe[De+C]=k}return ee&&(H.node.timestamp=Date.now()),ee},write:(H,pe,De,Qe,at)=>{for(var ee=0;ee<Qe;ee++)try{c(pe[De+ee])}catch{throw new _.ErrnoError(29)}return Qe&&(H.node.timestamp=Date.now()),ee}}),_.mkdev(f,g,I)},forceLoadFile:a=>{if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(W)try{a.contents=St(W(a.url),!0),a.usedBytes=a.contents.length}catch{throw new _.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(a,o,u,c,f)=>{function g(){this.lengthKnown=!1,this.chunks=[]}if(g.prototype.get=function(C){if(!(C>this.length-1||C<0)){var k=C%this.chunkSize,N=C/this.chunkSize|0;return this.getter(N)[k]}},g.prototype.setDataGetter=function(C){this.getter=C},g.prototype.cacheLength=function(){var C=new XMLHttpRequest;if(C.open("HEAD",u,!1),C.send(null),!(C.status>=200&&C.status<300||C.status===304))throw new Error("Couldn't load "+u+". Status: "+C.status);var k=Number(C.getResponseHeader("Content-length")),N,j=(N=C.getResponseHeader("Accept-Ranges"))&&N==="bytes",R=(N=C.getResponseHeader("Content-Encoding"))&&N==="gzip",xe=1024*1024;j||(xe=k);var Te=($e,yt)=>{if($e>yt)throw new Error("invalid range ("+$e+", "+yt+") or no bytes requested!");if(yt>k-1)throw new Error("only "+k+" bytes available! programmer error!");var E=new XMLHttpRequest;if(E.open("GET",u,!1),k!==xe&&E.setRequestHeader("Range","bytes="+$e+"-"+yt),E.responseType="arraybuffer",E.overrideMimeType&&E.overrideMimeType("text/plain; charset=x-user-defined"),E.send(null),!(E.status>=200&&E.status<300||E.status===304))throw new Error("Couldn't load "+u+". Status: "+E.status);return E.response!==void 0?new Uint8Array(E.response||[]):St(E.responseText||"",!0)},me=this;me.setDataGetter($e=>{var yt=$e*xe,E=($e+1)*xe-1;if(E=Math.min(E,k-1),typeof me.chunks[$e]>"u"&&(me.chunks[$e]=Te(yt,E)),typeof me.chunks[$e]>"u")throw new Error("doXHR failed!");return me.chunks[$e]}),(R||!k)&&(xe=k=1,k=this.getter(0).length,xe=k,L("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=k,this._chunkSize=xe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!v)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var I=new g;Object.defineProperties(I,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var H={isDevice:!1,contents:I}}else var H={isDevice:!1,url:u};var pe=_.createFile(a,o,H,c,f);H.contents?pe.contents=H.contents:H.url&&(pe.contents=null,pe.url=H.url),Object.defineProperties(pe,{usedBytes:{get:function(){return this.contents.length}}});var De={},Qe=Object.keys(pe.stream_ops);Qe.forEach(ee=>{var C=pe.stream_ops[ee];De[ee]=function(){return _.forceLoadFile(pe),C.apply(null,arguments)}});function at(ee,C,k,N,j){var R=ee.node.contents;if(j>=R.length)return 0;var xe=Math.min(R.length-j,N);if(R.slice)for(var Te=0;Te<xe;Te++)C[k+Te]=R[j+Te];else for(var Te=0;Te<xe;Te++)C[k+Te]=R.get(j+Te);return xe}return De.read=(ee,C,k,N,j)=>(_.forceLoadFile(pe),at(ee,C,k,N,j)),De.mmap=(ee,C,k,N,j)=>{_.forceLoadFile(pe);var R=Yt(C);if(!R)throw new _.ErrnoError(48);return at(ee,re,R,C,k),{ptr:R,allocated:!0}},pe.stream_ops=De,pe},createPreloadedFile:(a,o,u,c,f,g,I,H,pe,De)=>{var Qe=o?_t.resolve(Fe.join2(a,o)):a;function at(ee){function C(k){De&&De(),H||_.createDataFile(a,o,k,c,f,pe),g&&g(),P()}Browser.handledByPreloadPlugin(ee,Qe,C,()=>{I&&I(),P()})||C(ee)}T(),typeof u=="string"?nn(u,ee=>at(ee),I):at(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(a,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var c=_.indexedDB();try{var f=c.open(_.DB_NAME(),_.DB_VERSION)}catch(g){return u(g)}f.onupgradeneeded=()=>{L("creating db");var g=f.result;g.createObjectStore(_.DB_STORE_NAME)},f.onsuccess=()=>{var g=f.result,I=g.transaction([_.DB_STORE_NAME],"readwrite"),H=I.objectStore(_.DB_STORE_NAME),pe=0,De=0,Qe=a.length;function at(){De==0?o():u()}a.forEach(ee=>{var C=H.put(_.analyzePath(ee).object.contents,ee);C.onsuccess=()=>{pe++,pe+De==Qe&&at()},C.onerror=()=>{De++,pe+De==Qe&&at()}}),I.onerror=u},f.onerror=u},loadFilesFromDB:(a,o,u)=>{o=o||(()=>{}),u=u||(()=>{});var c=_.indexedDB();try{var f=c.open(_.DB_NAME(),_.DB_VERSION)}catch(g){return u(g)}f.onupgradeneeded=u,f.onsuccess=()=>{var g=f.result;try{var I=g.transaction([_.DB_STORE_NAME],"readonly")}catch(ee){u(ee);return}var H=I.objectStore(_.DB_STORE_NAME),pe=0,De=0,Qe=a.length;function at(){De==0?o():u()}a.forEach(ee=>{var C=H.get(ee);C.onsuccess=()=>{_.analyzePath(ee).exists&&_.unlink(ee),_.createDataFile(Fe.dirname(ee),Fe.basename(ee),C.result,!0,!0,!0),pe++,pe+De==Qe&&at()},C.onerror=()=>{De++,pe+De==Qe&&at()}}),I.onerror=u},f.onerror=u}},st={DEFAULT_POLLMASK:5,calculateAt:function(a,o,u){if(Fe.isAbs(o))return o;var c;if(a===-100)c=_.cwd();else{var f=st.getStreamFromFD(a);c=f.path}if(o.length==0){if(!u)throw new _.ErrnoError(44);return c}return Fe.join2(c,o)},doStat:function(a,o,u){try{var c=a(o)}catch(H){if(H&&H.node&&Fe.normalize(o)!==Fe.normalize(_.getPath(H.node)))return-54;throw H}Ae[u>>2]=c.dev,Ae[u+8>>2]=c.ino,Ae[u+12>>2]=c.mode,Ee[u+16>>2]=c.nlink,Ae[u+20>>2]=c.uid,Ae[u+24>>2]=c.gid,Ae[u+28>>2]=c.rdev,Re=[c.size>>>0,(ue=c.size,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[u+40>>2]=Re[0],Ae[u+44>>2]=Re[1],Ae[u+48>>2]=4096,Ae[u+52>>2]=c.blocks;var f=c.atime.getTime(),g=c.mtime.getTime(),I=c.ctime.getTime();return Re=[Math.floor(f/1e3)>>>0,(ue=Math.floor(f/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[u+56>>2]=Re[0],Ae[u+60>>2]=Re[1],Ee[u+64>>2]=f%1e3*1e3,Re=[Math.floor(g/1e3)>>>0,(ue=Math.floor(g/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[u+72>>2]=Re[0],Ae[u+76>>2]=Re[1],Ee[u+80>>2]=g%1e3*1e3,Re=[Math.floor(I/1e3)>>>0,(ue=Math.floor(I/1e3),+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[u+88>>2]=Re[0],Ae[u+92>>2]=Re[1],Ee[u+96>>2]=I%1e3*1e3,Re=[c.ino>>>0,(ue=c.ino,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[u+104>>2]=Re[0],Ae[u+108>>2]=Re[1],0},doMsync:function(a,o,u,c,f){if(!_.isFile(o.node.mode))throw new _.ErrnoError(43);if(c&2)return 0;var g=ge.slice(a,a+u);_.msync(o,g,f,u,c)},varargs:void 0,get:function(){st.varargs+=4;var a=Ae[st.varargs-4>>2];return a},getStr:function(a){var o=A(a);return o},getStreamFromFD:function(a){var o=_.getStream(a);if(!o)throw new _.ErrnoError(8);return o}};function sn(a,o){try{return a=st.getStr(a),_.chmod(a,o),0}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return-u.errno}}function Dn(a,o,u,c){try{if(o=st.getStr(o),o=st.calculateAt(a,o),u&-8)return-28;var f=_.lookupPath(o,{follow:!0}),g=f.node;if(!g)return-44;var I="";return u&4&&(I+="r"),u&2&&(I+="w"),u&1&&(I+="x"),I&&_.nodePermissions(g,I)?-2:0}catch(H){if(typeof _>"u"||!(H instanceof _.ErrnoError))throw H;return-H.errno}}function ms(a,o){try{return _.fchmod(a,o),0}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return-u.errno}}function Si(a,o,u){try{return _.fchown(a,o,u),0}catch(c){if(typeof _>"u"||!(c instanceof _.ErrnoError))throw c;return-c.errno}}function xi(a){return Ae[Ra()>>2]=a,a}function jo(a,o,u){st.varargs=u;try{var c=st.getStreamFromFD(a);switch(o){case 0:{var f=st.get();if(f<0)return-28;var g;return g=_.createStream(c,f),g.fd}case 1:case 2:return 0;case 3:return c.flags;case 4:{var f=st.get();return c.flags|=f,0}case 5:{var f=st.get(),I=0;return Ze[f+I>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return xi(28),-1;default:return-28}}catch(H){if(typeof _>"u"||!(H instanceof _.ErrnoError))throw H;return-H.errno}}function ki(a,o){try{var u=st.getStreamFromFD(a);return st.doStat(_.stat,u.path,o)}catch(c){if(typeof _>"u"||!(c instanceof _.ErrnoError))throw c;return-c.errno}}var Mn=9007199254740992,Or=-9007199254740992;function ir(a){return a<Or||a>Mn?NaN:Number(a)}function Uo(a,o){try{return o=ir(o),isNaN(o)?-61:(_.ftruncate(a,o),0)}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return-u.errno}}function Ci(a,o){try{if(o===0)return-28;var u=_.cwd(),c=V(u)+1;return o<c?-68:(te(u,a,o),c)}catch(f){if(typeof _>"u"||!(f instanceof _.ErrnoError))throw f;return-f.errno}}function Vo(a,o,u){st.varargs=u;try{var c=st.getStreamFromFD(a);switch(o){case 21509:case 21505:return c.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return c.tty?0:-59;case 21519:{if(!c.tty)return-59;var f=st.get();return Ae[f>>2]=0,0}case 21520:return c.tty?-28:-59;case 21531:{var f=st.get();return _.ioctl(c,o,f)}case 21523:return c.tty?0:-59;case 21524:return c.tty?0:-59;default:return-28}}catch(g){if(typeof _>"u"||!(g instanceof _.ErrnoError))throw g;return-g.errno}}function Pr(a,o){try{return a=st.getStr(a),st.doStat(_.lstat,a,o)}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return-u.errno}}function zo(a,o,u){try{return o=st.getStr(o),o=st.calculateAt(a,o),o=Fe.normalize(o),o[o.length-1]==="/"&&(o=o.substr(0,o.length-1)),_.mkdir(o,u,0),0}catch(c){if(typeof _>"u"||!(c instanceof _.ErrnoError))throw c;return-c.errno}}function Ho(a,o,u,c){try{o=st.getStr(o);var f=c&256,g=c&4096;return c=c&-6401,o=st.calculateAt(a,o,g),st.doStat(f?_.lstat:_.stat,o,u)}catch(I){if(typeof _>"u"||!(I instanceof _.ErrnoError))throw I;return-I.errno}}function Wo(a,o,u,c){st.varargs=c;try{o=st.getStr(o),o=st.calculateAt(a,o);var f=c?st.get():0;return _.open(o,u,f).fd}catch(g){if(typeof _>"u"||!(g instanceof _.ErrnoError))throw g;return-g.errno}}function Nn(a,o,u,c){try{if(o=st.getStr(o),o=st.calculateAt(a,o),c<=0)return-28;var f=_.readlink(o),g=Math.min(c,V(f)),I=re[u+g];return te(f,u,c+1),re[u+g]=I,g}catch(H){if(typeof _>"u"||!(H instanceof _.ErrnoError))throw H;return-H.errno}}function Qo(a){try{return a=st.getStr(a),_.rmdir(a),0}catch(o){if(typeof _>"u"||!(o instanceof _.ErrnoError))throw o;return-o.errno}}function Go(a,o){try{return a=st.getStr(a),st.doStat(_.stat,a,o)}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return-u.errno}}function Ko(a,o,u){try{return o=st.getStr(o),o=st.calculateAt(a,o),u===0?_.unlink(o):u===512?_.rmdir(o):K("Invalid flags passed to unlinkat"),0}catch(c){if(typeof _>"u"||!(c instanceof _.ErrnoError))throw c;return-c.errno}}function Rr(a){return Ee[a>>2]+Ae[a+4>>2]*4294967296}function Lr(a,o,u,c){try{if(o=st.getStr(o),o=st.calculateAt(a,o,!0),u){var I=Rr(u),H=Ae[u+8>>2];f=I*1e3+H/(1e3*1e3),u+=16,I=Rr(u),H=Ae[u+8>>2],g=I*1e3+H/(1e3*1e3)}else var f=Date.now(),g=f;return _.utime(o,f,g),0}catch(pe){if(typeof _>"u"||!(pe instanceof _.ErrnoError))throw pe;return-pe.errno}}var Fr=!0;function or(){return Fr}function lr(a){return a%4===0&&(a%100!==0||a%400===0)}var Dr=[0,31,60,91,121,152,182,213,244,274,305,335],Jo=[0,31,59,90,120,151,181,212,243,273,304,334];function ar(a){var o=lr(a.getFullYear()),u=o?Dr:Jo,c=u[a.getMonth()]+a.getDate()-1;return c}function Ai(a,o){var u=new Date(Rr(a)*1e3);Ae[o>>2]=u.getSeconds(),Ae[o+4>>2]=u.getMinutes(),Ae[o+8>>2]=u.getHours(),Ae[o+12>>2]=u.getDate(),Ae[o+16>>2]=u.getMonth(),Ae[o+20>>2]=u.getFullYear()-1900,Ae[o+24>>2]=u.getDay();var c=ar(u)|0;Ae[o+28>>2]=c,Ae[o+36>>2]=-(u.getTimezoneOffset()*60);var f=new Date(u.getFullYear(),0,1),g=new Date(u.getFullYear(),6,1).getTimezoneOffset(),I=f.getTimezoneOffset(),H=(g!=I&&u.getTimezoneOffset()==Math.min(I,g))|0;Ae[o+32>>2]=H}function ne(a,o,u,c,f,g,I){try{var H=st.getStreamFromFD(c),pe=_.mmap(H,a,f,o,u),De=pe.ptr;return Ae[g>>2]=pe.allocated,Ee[I>>2]=De,0}catch(Qe){if(typeof _>"u"||!(Qe instanceof _.ErrnoError))throw Qe;return-Qe.errno}}function Xe(a,o,u,c,f,g){try{var I=st.getStreamFromFD(f);u&2&&st.doMsync(a,I,o,c,g),_.munmap(I)}catch(H){if(typeof _>"u"||!(H instanceof _.ErrnoError))throw H;return-H.errno}}function kt(a){var o=V(a)+1,u=La(o);return u&&Q(a,re,u,o),u}function Wt(a,o,u){var c=new Date().getFullYear(),f=new Date(c,0,1),g=new Date(c,6,1),I=f.getTimezoneOffset(),H=g.getTimezoneOffset(),pe=Math.max(I,H);Ee[a>>2]=pe*60,Ae[o>>2]=Number(I!=H);function De(k){var N=k.toTimeString().match(/\(([A-Za-z ]+)\)$/);return N?N[1]:"GMT"}var Qe=De(f),at=De(g),ee=kt(Qe),C=kt(at);H<I?(Ee[u>>2]=ee,Ee[u+4>>2]=C):(Ee[u>>2]=C,Ee[u+4>>2]=ee)}function Ms(){return Date.now()}var Xo;Xo=()=>performance.now();function Ii(){return 2147483648}function jd(a){var o=M.buffer;try{return M.grow(a-o.byteLength+65535>>>16),ct(),1}catch{}}function Ud(a){var o=ge.length;a=a>>>0;var u=Ii();if(a>u)return!1;let c=(pe,De)=>pe+(De-pe%De)%De;for(var f=1;f<=4;f*=2){var g=o*(1+.2/f);g=Math.min(g,a+100663296);var I=Math.min(u,c(Math.max(a,g),65536)),H=jd(I);if(H)return!0}return!1}var Yo={};function Vd(){return h||"./this.program"}function Mr(){if(!Mr.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Vd()};for(var u in Yo)Yo[u]===void 0?delete o[u]:o[u]=Yo[u];var c=[];for(var u in o)c.push(u+"="+o[u]);Mr.strings=c}return Mr.strings}function zd(a,o,u){for(var c=0;c<a.length;++c)re[o++>>0]=a.charCodeAt(c);u||(re[o>>0]=0)}function Hd(a,o){var u=0;return Mr().forEach(function(c,f){var g=o+u;Ee[a+f*4>>2]=g,zd(c,g),u+=c.length+1}),0}function Wd(a,o){var u=Mr();Ee[a>>2]=u.length;var c=0;return u.forEach(function(f){c+=f.length+1}),Ee[o>>2]=c,0}function Qd(a){try{var o=st.getStreamFromFD(a);return _.close(o),0}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return u.errno}}function Gd(a,o){try{var u=st.getStreamFromFD(a),c=u.tty?2:_.isDir(u.mode)?3:_.isLink(u.mode)?7:4;return re[o>>0]=c,0}catch(f){if(typeof _>"u"||!(f instanceof _.ErrnoError))throw f;return f.errno}}function Kd(a,o,u,c){for(var f=0,g=0;g<u;g++){var I=Ee[o>>2],H=Ee[o+4>>2];o+=8;var pe=_.read(a,re,I,H,c);if(pe<0)return-1;if(f+=pe,pe<H)break;typeof c<"u"&&(c+=pe)}return f}function Jd(a,o,u,c){try{var f=st.getStreamFromFD(a),g=Kd(f,o,u);return Ee[c>>2]=g,0}catch(I){if(typeof _>"u"||!(I instanceof _.ErrnoError))throw I;return I.errno}}function Xd(a,o,u,c){try{if(o=ir(o),isNaN(o))return 61;var f=st.getStreamFromFD(a);return _.llseek(f,o,u),Re=[f.position>>>0,(ue=f.position,+Math.abs(ue)>=1?ue>0?(Math.min(+Math.floor(ue/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],Ae[c>>2]=Re[0],Ae[c+4>>2]=Re[1],f.getdents&&o===0&&u===0&&(f.getdents=null),0}catch(g){if(typeof _>"u"||!(g instanceof _.ErrnoError))throw g;return g.errno}}function Yd(a){try{var o=st.getStreamFromFD(a);return o.stream_ops&&o.stream_ops.fsync?o.stream_ops.fsync(o):0}catch(u){if(typeof _>"u"||!(u instanceof _.ErrnoError))throw u;return u.errno}}function Zd(a,o,u,c){for(var f=0,g=0;g<u;g++){var I=Ee[o>>2],H=Ee[o+4>>2];o+=8;var pe=_.write(a,re,I,H,c);if(pe<0)return-1;f+=pe,typeof c<"u"&&(c+=pe)}return f}function ep(a,o,u,c){try{var f=st.getStreamFromFD(a),g=Zd(f,o,u);return Ee[c>>2]=g,0}catch(I){if(typeof _>"u"||!(I instanceof _.ErrnoError))throw I;return I.errno}}var Oa=function(a,o,u,c){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=_.nextInode++,this.name=o,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=c},Ti=365,Oi=146;Object.defineProperties(Oa.prototype,{read:{get:function(){return(this.mode&Ti)===Ti},set:function(a){a?this.mode|=Ti:this.mode&=~Ti}},write:{get:function(){return(this.mode&Oi)===Oi},set:function(a){a?this.mode|=Oi:this.mode&=~Oi}},isFolder:{get:function(){return _.isDir(this.mode)}},isDevice:{get:function(){return _.isChrdev(this.mode)}}}),_.FSNode=Oa,_.staticInit();var Pa={__syscall_chmod:sn,__syscall_faccessat:Dn,__syscall_fchmod:ms,__syscall_fchown32:Si,__syscall_fcntl64:jo,__syscall_fstat64:ki,__syscall_ftruncate64:Uo,__syscall_getcwd:Ci,__syscall_ioctl:Vo,__syscall_lstat64:Pr,__syscall_mkdirat:zo,__syscall_newfstatat:Ho,__syscall_openat:Wo,__syscall_readlinkat:Nn,__syscall_rmdir:Qo,__syscall_stat64:Go,__syscall_unlinkat:Ko,__syscall_utimensat:Lr,_emscripten_get_now_is_monotonic:or,_localtime_js:Ai,_mmap_js:ne,_munmap_js:Xe,_tzset_js:Wt,emscripten_date_now:Ms,emscripten_get_now:Xo,emscripten_resize_heap:Ud,environ_get:Hd,environ_sizes_get:Wd,fd_close:Qd,fd_fdstat_get:Gd,fd_read:Jd,fd_seek:Xd,fd_sync:Yd,fd_write:ep,memory:M};Be(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},t._sqlite3_db_status=function(){return(t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},t._sqlite3_free=function(){return(t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},t._sqlite3_realloc64=function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var Ra=t.___errno_location=function(){return(Ra=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},t._sqlite3_file_control=function(){return(t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},t._sqlite3_value_bytes=function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},t._sqlite3_value_dup=function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},t._sqlite3_result_zeroblob=function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},t._sqlite3_bind_parameter_count=function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},t._sqlite3_stmt_isexplain=function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},t._sqlite3_strlike=function(){return(t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},t._sqlite3_declare_vtab=function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},t._sqlite3_extended_errcode=function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},t._sqlite3_create_collation=function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},t._sqlite3_wasm_pstack_ptr=function(){return(t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},t._sqlite3_wasm_pstack_restore=function(){return(t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},t._sqlite3_wasm_pstack_alloc=function(){return(t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},t._sqlite3_wasm_pstack_remaining=function(){return(t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},t._sqlite3_wasm_pstack_quota=function(){return(t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},t._sqlite3_wasm_db_error=function(){return(t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)},t._sqlite3_wasm_test_struct=function(){return(t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,arguments)},t._sqlite3_wasm_enum_json=function(){return(t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)},t._sqlite3_wasm_vfs_unlink=function(){return(t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},t._sqlite3_wasm_db_vfs=function(){return(t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},t._sqlite3_wasm_db_reset=function(){return(t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)},t._sqlite3_wasm_db_export_chunked=function(){return(t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},t._sqlite3_wasm_db_serialize=function(){return(t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},t._sqlite3_wasm_vfs_create_file=function(){return(t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},t._sqlite3_wasm_posix_create_file=function(){return(t._sqlite3_wasm_posix_create_file=t.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},t._sqlite3_wasm_kvvfs_methods=function(){return(t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},t._sqlite3_wasm_vtab_config=function(){return(t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},t._sqlite3_wasm_db_config_ip=function(){return(t._sqlite3_wasm_db_config_ip=t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},t._sqlite3_wasm_db_config_pii=function(){return(t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},t._sqlite3_wasm_db_config_s=function(){return(t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},t._sqlite3_wasm_config_i=function(){return(t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)},t._sqlite3_wasm_config_ii=function(){return(t._sqlite3_wasm_config_ii=t.asm.sqlite3_wasm_config_ii).apply(null,arguments)},t._sqlite3_wasm_config_j=function(){return(t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)},t._sqlite3_wasm_init_wasmfs=function(){return(t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},t._sqlite3_wasm_test_intptr=function(){return(t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},t._sqlite3_wasm_test_voidptr=function(){return(t._sqlite3_wasm_test_voidptr=t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},t._sqlite3_wasm_test_int64_max=function(){return(t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},t._sqlite3_wasm_test_int64_min=function(){return(t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},t._sqlite3_wasm_test_int64_times2=function(){return(t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},t._sqlite3_wasm_test_int64_minmax=function(){return(t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},t._sqlite3_wasm_test_int64ptr=function(){return(t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},t._sqlite3_wasm_test_stack_overflow=function(){return(t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},t._sqlite3_wasm_test_str_hello=function(){return(t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var La=t._malloc=function(){return(La=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)};var Fa=t._emscripten_builtin_memalign=function(){return(Fa=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,arguments)};t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)},t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)},t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.wasmMemory=M;var Pi;Ne=function a(){Pi||Da(),Pi||(Ne=a)};function Da(a){if(de>0||(xt(),de>0))return;function o(){Pi||(Pi=!0,t.calledRun=!0,!ae&&(qt(),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),ut()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),o()},1)):o()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Da(),t.postRun||(t.postRun=[]),t.postRun.push(function(a){if(globalThis.sqlite3ApiBootstrap=function o(u=globalThis.sqlite3ApiConfig||o.defaultConfig){if(o.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),o.sqlite3;const c=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof a<"u"?!!a.HEAPU64:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},u||{});Object.assign(c,{allocExportName:c.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:c.useStdAlloc?"free":"sqlite3_free",reallocExportName:c.useStdAlloc?"realloc":"sqlite3_realloc"},c),["exports","memory","wasmfsOpfsDir"].forEach(b=>{typeof c[b]=="function"&&(c[b]=c[b]())});const f=Object.create(null),g=Object.create(null),I=b=>f.sqlite3_js_rc_str&&f.sqlite3_js_rc_str(b)||"Unknown result code #"+b,H=b=>typeof b=="number"&&b===(b|0);class pe extends Error{constructor(...y){let F;if(y.length)if(H(y[0]))if(F=y[0],y.length===1)super(I(y[0]));else{const le=I(F);typeof y[1]=="object"?super(le,y[1]):(y[0]=le+":",super(y.join(" ")))}else y.length===2&&typeof y[1]=="object"?super(...y):super(y.join(" "));this.resultCode=F||f.SQLITE_ERROR,this.name="SQLite3Error"}}pe.toss=(...b)=>{throw new pe(...b)};const De=pe.toss;c.wasmfsOpfsDir&&!/^\/[^/]+$/.test(c.wasmfsOpfsDir)&&De("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Qe=b=>typeof b!="bigint"&&b===(b|0)&&b<=2147483647&&b>=-2147483648,at=function b(y){return b._max||(b._max=BigInt("0x7fffffffffffffff"),b._min=~b._max),y>=b._min&&y<=b._max},ee=b=>b>=-0x7fffffffn-1n&&b<=0x7fffffffn,C=function b(y){return b._min||(b._min=Number.MIN_SAFE_INTEGER,b._max=Number.MAX_SAFE_INTEGER),y>=b._min&&y<=b._max},k=b=>b&&b.constructor&&Qe(b.constructor.BYTES_PER_ELEMENT)?b:!1,N=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,j=b=>b.buffer instanceof N,R=(b,y,F)=>j(b)?b.slice(y,F):b.subarray(y,F),xe=b=>b&&(b instanceof Uint8Array||b instanceof Int8Array||b instanceof ArrayBuffer),Te=b=>b&&(b instanceof Uint8Array||b instanceof Int8Array||b instanceof ArrayBuffer),me=b=>xe(b)||De("Value is not of a supported TypedArray type."),$e=new TextDecoder("utf-8"),yt=function(b,y,F){return $e.decode(R(b,y,F))},E=function(b){return Te(b)?yt(b instanceof ArrayBuffer?new Uint8Array(b):b):Array.isArray(b)?b.join(""):(g.isPtr(b)&&(b=g.cstrToJs(b)),b)};class B extends Error{constructor(...y){y.length===2&&typeof y[1]=="object"?super(...y):y.length?super(y.join(" ")):super("Allocation failed."),this.resultCode=f.SQLITE_NOMEM,this.name="WasmAllocError"}}B.toss=(...b)=>{throw new B(...b)},Object.assign(f,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(b,y,F,le,je,ot,dt,Ce,$)=>{},sqlite3_create_function:(b,y,F,le,je,ot,dt,Ce)=>{},sqlite3_create_window_function:(b,y,F,le,je,ot,dt,Ce,$,se)=>{},sqlite3_prepare_v3:(b,y,F,le,je,ot)=>{},sqlite3_prepare_v2:(b,y,F,le,je)=>{},sqlite3_exec:(b,y,F,le,je)=>{},sqlite3_randomness:(b,y)=>{}});const J={affirmBindableTypedArray:me,flexibleString:E,bigIntFits32:ee,bigIntFits64:at,bigIntFitsDouble:C,isBindableTypedArray:xe,isInt32:Qe,isSQLableTypedArray:Te,isTypedArray:k,typedArrayToString:yt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:j,toss:function(...b){throw new Error(b.join(" "))},toss3:De,typedArrayPart:R};Object.assign(g,{ptrSizeof:c.wasmPtrSizeof||4,ptrIR:c.wasmPtrIR||"i32",bigIntEnabled:!!c.bigIntEnabled,exports:c.exports||De("Missing API config.exports (WASM module exports)."),memory:c.memory||c.exports.memory||De("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),g.allocFromTypedArray=function(b){b instanceof ArrayBuffer&&(b=new Uint8Array(b)),me(b);const y=g.alloc(b.byteLength||1);return g.heapForSize(b.constructor).set(b.byteLength?b:[0],y),y};{const b=c.allocExportName,y=c.deallocExportName,F=c.reallocExportName;for(const le of[b,y,F])g.exports[le]instanceof Function||De("Missing required exports[",le,"] function.");g.alloc=function le(je){return le.impl(je)||B.toss("Failed to allocate",je," bytes.")},g.alloc.impl=g.exports[b],g.realloc=function le(je,ot){const dt=le.impl(je,ot);return ot?dt||B.toss("Failed to reallocate",ot," bytes."):0},g.realloc.impl=g.exports[F],g.dealloc=g.exports[y]}g.compileOptionUsed=function b(y){if(arguments.length){if(Array.isArray(y)){const F={};return y.forEach(le=>{F[le]=f.sqlite3_compileoption_used(le)}),F}else if(typeof y=="object")return Object.keys(y).forEach(F=>{y[F]=f.sqlite3_compileoption_used(F)}),y}else{if(b._result)return b._result;b._opt||(b._rx=/^([^=]+)=(.+)/,b._rxInt=/^-?\d+$/,b._opt=function(dt,Ce){const $=b._rx.exec(dt);Ce[0]=$?$[1]:dt,Ce[1]=$?b._rxInt.test($[2])?+$[2]:$[2]:!0});const F={},le=[0,0];let je=0,ot;for(;ot=f.sqlite3_compileoption_get(je++);)b._opt(ot,le),F[le[0]]=le[1];return b._result=F}return typeof y=="string"?!!f.sqlite3_compileoption_used(y):!1},g.pstack=Object.assign(Object.create(null),{restore:g.exports.sqlite3_wasm_pstack_restore,alloc:function(b){return typeof b=="string"&&!(b=g.sizeofIR(b))&&B.toss("Invalid value for pstack.alloc(",arguments[0],")"),g.exports.sqlite3_wasm_pstack_alloc(b)||B.toss("Could not allocate",b,"bytes from the pstack.")},allocChunks:function(b,y){typeof y=="string"&&!(y=g.sizeofIR(y))&&B.toss("Invalid size value for allocChunks(",arguments[1],")");const F=g.pstack.alloc(b*y),le=[];let je=0,ot=0;for(;je<b;++je,ot+=y)le.push(F+ot);return le},allocPtr:(b=1,y=!0)=>b===1?g.pstack.alloc(y?8:g.ptrSizeof):g.pstack.allocChunks(b,y?8:g.ptrSizeof)}),Object.defineProperties(g.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_remaining}}),f.sqlite3_randomness=(...b)=>{if(b.length===1&&J.isTypedArray(b[0])&&b[0].BYTES_PER_ELEMENT===1){const y=b[0];if(y.byteLength===0)return g.exports.sqlite3_randomness(0,0),y;const F=g.pstack.pointer;try{let le=y.byteLength,je=0;const ot=g.exports.sqlite3_randomness,dt=g.heap8u(),Ce=le<512?le:512,$=g.pstack.alloc(Ce);do{const se=le>Ce?Ce:le;ot(se,$),y.set(R(dt,$,$+se),je),le-=se,je+=se}while(le>0)}catch(le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",le)}finally{g.pstack.restore(F)}return y}g.exports.sqlite3_randomness(...b)};let Ie;if(f.sqlite3_wasmfs_opfs_dir=function(){if(Ie!==void 0)return Ie;const b=c.wasmfsOpfsDir;if(!b||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Ie="";try{return b&&g.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],b)===0?Ie=b:Ie=""}catch{return Ie=""}},f.sqlite3_wasmfs_filename_is_persistent=function(b){const y=f.sqlite3_wasmfs_opfs_dir();return y&&b?b.startsWith(y+"/"):!1},f.sqlite3_js_db_uses_vfs=function(b,y,F=0){try{const le=f.sqlite3_vfs_find(y);return le?b?le===f.sqlite3_js_db_vfs(b,F)?le:!1:le===f.sqlite3_vfs_find(0)?le:!1:!1}catch{return!1}},f.sqlite3_js_vfs_list=function(){const b=[];let y=f.sqlite3_vfs_find(0);for(;y;){const F=new f.sqlite3_vfs(y);b.push(g.cstrToJs(F.$zName)),y=F.$pNext,F.dispose()}return b},f.sqlite3_js_db_export=function(b,y=0){b=g.xWrap.testConvertArg("sqlite3*",b),b||De("Invalid sqlite3* argument."),g.bigIntEnabled||De("BigInt64 support is not enabled.");const F=g.scopedAllocPush();let le;try{const je=g.scopedAlloc(8+g.ptrSizeof),ot=je+8,dt=y?g.isPtr(y)?y:g.scopedAllocCString(""+y):0;let Ce=g.exports.sqlite3_wasm_db_serialize(b,dt,ot,je,0);Ce&&De("Database serialization failed with code",D.capi.sqlite3_js_rc_str(Ce)),le=g.peekPtr(ot);const $=g.peek(je,"i64");return Ce=$?g.heap8u().slice(le,le+Number($)):new Uint8Array,Ce}finally{le&&g.exports.sqlite3_free(le),g.scopedAllocPop(F)}},f.sqlite3_js_db_vfs=(b,y=0)=>g.sqlite3_wasm_db_vfs(b,y),f.sqlite3_js_aggregate_context=(b,y)=>f.sqlite3_aggregate_context(b,y)||(y?B.toss("Cannot allocate",y,"bytes for sqlite3_aggregate_context()"):0),f.sqlite3_js_posix_create_file=function(b,y,F){let le;y&&g.isPtr(y)?le=y:y instanceof ArrayBuffer||y instanceof Uint8Array?(le=g.allocFromTypedArray(y),(arguments.length<3||!J.isInt32(F)||F<0)&&(F=y.byteLength)):pe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!J.isInt32(F)||F<0)&&pe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const je=g.sqlite3_wasm_posix_create_file(b,le,F);je&&pe.toss("Creation of file failed with sqlite3 result code",f.sqlite3_js_rc_str(je))}finally{g.dealloc(le)}},f.sqlite3_js_vfs_create_file=function(b,y,F,le){c.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let je;F?(g.isPtr(F)?je=F:F instanceof ArrayBuffer&&(F=new Uint8Array(F)),F instanceof Uint8Array?(je=g.allocFromTypedArray(F),(arguments.length<4||!J.isInt32(le)||le<0)&&(le=F.byteLength)):pe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):je=0,(!J.isInt32(le)||le<0)&&(g.dealloc(je),pe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const ot=g.sqlite3_wasm_vfs_create_file(b,y,je,le);ot&&pe.toss("Creation of file failed with sqlite3 result code",f.sqlite3_js_rc_str(ot))}finally{g.dealloc(je)}},J.isUIThread()){const b=function(y){const F=Object.create(null);return F.prefix="kvvfs-"+y,F.stores=[],(y==="session"||y==="")&&F.stores.push(globalThis.sessionStorage),(y==="local"||y==="")&&F.stores.push(globalThis.localStorage),F};f.sqlite3_js_kvvfs_clear=function(y=""){let F=0;const le=b(y);return le.stores.forEach(je=>{const ot=[];let dt;for(dt=0;dt<je.length;++dt){const Ce=je.key(dt);Ce.startsWith(le.prefix)&&ot.push(Ce)}ot.forEach(Ce=>je.removeItem(Ce)),F+=ot.length}),F},f.sqlite3_js_kvvfs_size=function(y=""){let F=0;const le=b(y);return le.stores.forEach(je=>{let ot;for(ot=0;ot<je.length;++ot){const dt=je.key(ot);dt.startsWith(le.prefix)&&(F+=dt.length,F+=je.getItem(dt).length)}}),F*2}}f.sqlite3_db_config=function(b,y,...F){switch(this.s||(this.s=g.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=g.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=g.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),y){case f.SQLITE_DBCONFIG_ENABLE_FKEY:case f.SQLITE_DBCONFIG_ENABLE_TRIGGER:case f.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case f.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case f.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case f.SQLITE_DBCONFIG_ENABLE_QPSG:case f.SQLITE_DBCONFIG_TRIGGER_EQP:case f.SQLITE_DBCONFIG_RESET_DATABASE:case f.SQLITE_DBCONFIG_DEFENSIVE:case f.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case f.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case f.SQLITE_DBCONFIG_DQS_DML:case f.SQLITE_DBCONFIG_DQS_DDL:case f.SQLITE_DBCONFIG_ENABLE_VIEW:case f.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case f.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case f.SQLITE_DBCONFIG_STMT_SCANSTATUS:case f.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(b,y,F[0],F[1]||0);case f.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(b,y,F[0],F[1],F[2]);case f.SQLITE_DBCONFIG_MAINDBNAME:return this.s(b,y,F[0]);default:return f.SQLITE_MISUSE}}.bind(Object.create(null)),f.sqlite3_value_to_js=function(b,y=!0){let F;const le=f.sqlite3_value_type(b);switch(le){case f.SQLITE_INTEGER:g.bigIntEnabled?(F=f.sqlite3_value_int64(b),J.bigIntFitsDouble(F)&&(F=Number(F))):F=f.sqlite3_value_double(b);break;case f.SQLITE_FLOAT:F=f.sqlite3_value_double(b);break;case f.SQLITE_TEXT:F=f.sqlite3_value_text(b);break;case f.SQLITE_BLOB:{const je=f.sqlite3_value_bytes(b),ot=f.sqlite3_value_blob(b);je&&!ot&&D.WasmAllocError.toss("Cannot allocate memory for blob argument of",je,"byte(s)"),F=je?g.heap8u().slice(ot,ot+Number(je)):null;break}case f.SQLITE_NULL:F=null;break;default:y&&De(f.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",le),F=void 0}return F},f.sqlite3_values_to_js=function(b,y,F=!0){let le;const je=[];for(le=0;le<b;++le)je.push(f.sqlite3_value_to_js(g.peekPtr(y+g.ptrSizeof*le),F));return je},f.sqlite3_result_error_js=function(b,y){y instanceof B?f.sqlite3_result_error_nomem(b):f.sqlite3_result_error(b,""+y,-1)},f.sqlite3_result_js=function(b,y){if(y instanceof Error){f.sqlite3_result_error_js(b,y);return}try{switch(typeof y){case"undefined":break;case"boolean":f.sqlite3_result_int(b,y?1:0);break;case"bigint":J.bigIntFits32(y)?f.sqlite3_result_int(b,Number(y)):J.bigIntFitsDouble(y)?f.sqlite3_result_double(b,Number(y)):g.bigIntEnabled?J.bigIntFits64(y)?f.sqlite3_result_int64(b,y):De("BigInt value",y.toString(),"is too BigInt for int64."):De("BigInt value",y.toString(),"is too BigInt.");break;case"number":{let F;J.isInt32(y)?F=f.sqlite3_result_int:g.bigIntEnabled&&Number.isInteger(y)&&J.bigIntFits64(BigInt(y))?F=f.sqlite3_result_int64:F=f.sqlite3_result_double,F(b,y);break}case"string":{const[F,le]=g.allocCString(y,!0);f.sqlite3_result_text(b,F,le,f.SQLITE_WASM_DEALLOC);break}case"object":if(y===null){f.sqlite3_result_null(b);break}else if(J.isBindableTypedArray(y)){const F=g.allocFromTypedArray(y);f.sqlite3_result_blob(b,F,y.byteLength,f.SQLITE_WASM_DEALLOC);break}default:De("Don't not how to handle this UDF result value:",typeof y,y)}}catch(F){f.sqlite3_result_error_js(b,F)}},f.sqlite3_column_js=function(b,y,F=!0){const le=f.sqlite3_column_value(b,y);return le===0?void 0:f.sqlite3_value_to_js(le,F)};const x=function(b,y,F){F=f[F],this.ptr?g.pokePtr(this.ptr,0):this.ptr=g.allocPtr();const le=F(b,y,this.ptr);if(le)return pe.toss(le,arguments[2]+"() failed with code "+le);const je=g.peekPtr(this.ptr);return je?f.sqlite3_value_to_js(je,!0):void 0}.bind(Object.create(null));f.sqlite3_preupdate_new_js=(b,y)=>x(b,y,"sqlite3_preupdate_new"),f.sqlite3_preupdate_old_js=(b,y)=>x(b,y,"sqlite3_preupdate_old"),f.sqlite3changeset_new_js=(b,y)=>x(b,y,"sqlite3changeset_new"),f.sqlite3changeset_old_js=(b,y)=>x(b,y,"sqlite3changeset_old");const D={WasmAllocError:B,SQLite3Error:pe,capi:f,util:J,wasm:g,config:c,version:Object.create(null),client:void 0,asyncPostInit:async function b(){if(b.isReady instanceof Promise)return b.isReady;let y=o.initializersAsync;delete o.initializersAsync;const F=async()=>(D.__isUnderTest||(delete D.util,delete D.StructBinder),D),le=ot=>{throw c.error("an async sqlite3 initializer failed:",ot),ot};if(!y||!y.length)return b.isReady=F().catch(le);y=y.map(ot=>ot instanceof Function?async dt=>ot(D):ot),y.push(F);let je=Promise.resolve(D);for(;y.length;)je=je.then(y.shift());return b.isReady=je.catch(le)},scriptInfo:void 0};try{o.initializers.forEach(b=>{b(D)})}catch(b){throw console.error("sqlite3 bootstrap initializer threw:",b),b}return delete o.initializers,o.sqlite3=D,D},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(o){o.bigIntEnabled===void 0&&(o.bigIntEnabled=!!globalThis.BigInt64Array);const u=(...E)=>{throw new Error(E.join(" "))};o.exports||Object.defineProperty(o,"exports",{enumerable:!0,configurable:!0,get:()=>o.instance&&o.instance.exports});const c=o.pointerIR||"i32",f=o.ptrSizeof=c==="i32"?4:c==="i64"?8:u("Unhandled ptrSizeof:",c),g=Object.create(null);g.heapSize=0,g.memory=null,g.freeFuncIndexes=[],g.scopedAlloc=[],g.utf8Decoder=new TextDecoder,g.utf8Encoder=new TextEncoder("utf-8"),o.sizeofIR=E=>{switch(E){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return f;default:return(""+E).endsWith("*")?f:void 0}};const I=function(){if(!g.memory)g.memory=o.memory instanceof WebAssembly.Memory?o.memory:o.exports.memory;else if(g.heapSize===g.memory.buffer.byteLength)return g;const E=g.memory.buffer;return g.HEAP8=new Int8Array(E),g.HEAP8U=new Uint8Array(E),g.HEAP16=new Int16Array(E),g.HEAP16U=new Uint16Array(E),g.HEAP32=new Int32Array(E),g.HEAP32U=new Uint32Array(E),o.bigIntEnabled&&(g.HEAP64=new BigInt64Array(E),g.HEAP64U=new BigUint64Array(E)),g.HEAP32F=new Float32Array(E),g.HEAP64F=new Float64Array(E),g.heapSize=E.byteLength,g};o.heap8=()=>I().HEAP8,o.heap8u=()=>I().HEAP8U,o.heap16=()=>I().HEAP16,o.heap16u=()=>I().HEAP16U,o.heap32=()=>I().HEAP32,o.heap32u=()=>I().HEAP32U,o.heapForSize=function(E,B=!0){const J=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I();switch(E){case Int8Array:return J.HEAP8;case Uint8Array:return J.HEAP8U;case Int16Array:return J.HEAP16;case Uint16Array:return J.HEAP16U;case Int32Array:return J.HEAP32;case Uint32Array:return J.HEAP32U;case 8:return B?J.HEAP8U:J.HEAP8;case 16:return B?J.HEAP16U:J.HEAP16;case 32:return B?J.HEAP32U:J.HEAP32;case 64:if(J.HEAP64)return B?J.HEAP64U:J.HEAP64;break;default:if(o.bigIntEnabled){if(E===globalThis.BigUint64Array)return J.HEAP64U;if(E===globalThis.BigInt64Array)return J.HEAP64;break}}u("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},o.functionTable=function(){return o.exports.__indirect_function_table},o.functionEntry=function(E){const B=o.functionTable();return E<B.length?B.get(E):void 0},o.jsFuncToWasm=function E(B,J){if(E._||(E._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(D,b,y){y<128?D[b](y):D[b](y%128|128,y>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(D){const b=E._.rxJSig.exec(D);return b?b[2]:D.substr(1)},letterType:D=>E._.sigTypes[D]||u("Invalid signature letter:",D),pushSigType:(D,b)=>D.push(E._.typeCodes[E._.letterType(b)])}),typeof B=="string"){const D=J;J=B,B=D}const Ie=E._.sigParams(J),x=[1,96];E._.uleb128Encode(x,"push",Ie.length);for(const D of Ie)E._.pushSigType(x,D);return J[0]==="v"?x.push(0):(x.push(1),E._.pushSigType(x,J[0])),E._.uleb128Encode(x,"unshift",x.length),x.unshift(0,97,115,109,1,0,0,0,1),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(x)),{e:{f:B}}).exports.f};const H=function(B,J,Ie){if(Ie&&!g.scopedAlloc.length&&u("No scopedAllocPush() scope is active."),typeof B=="string"){const y=J;J=B,B=y}(typeof J!="string"||!(B instanceof Function))&&u("Invalid arguments: expecting (function,signature) or (signature,function).");const x=o.functionTable(),D=x.length;let b;for(;g.freeFuncIndexes.length&&(b=g.freeFuncIndexes.pop(),x.get(b));){b=null;continue}b||(b=D,x.grow(1));try{return x.set(b,B),Ie&&g.scopedAlloc[g.scopedAlloc.length-1].push(b),b}catch(y){if(!(y instanceof TypeError))throw b===D&&g.freeFuncIndexes.push(D),y}try{const y=o.jsFuncToWasm(B,J);x.set(b,y),Ie&&g.scopedAlloc[g.scopedAlloc.length-1].push(b)}catch(y){throw b===D&&g.freeFuncIndexes.push(D),y}return b};o.installFunction=(E,B)=>H(E,B,!1),o.scopedInstallFunction=(E,B)=>H(E,B,!0),o.uninstallFunction=function(E){if(!E&&E!==0)return;const B=g.freeFuncIndexes,J=o.functionTable();B.push(E);const Ie=J.get(E);return J.set(E,null),Ie},o.peek=function(B,J="i8"){J.endsWith("*")&&(J=c);const Ie=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I(),x=Array.isArray(B)?[]:void 0;let D;do{switch(x&&(B=arguments[0].shift()),J){case"i1":case"i8":D=Ie.HEAP8[B>>0];break;case"i16":D=Ie.HEAP16[B>>1];break;case"i32":D=Ie.HEAP32[B>>2];break;case"float":case"f32":D=Ie.HEAP32F[B>>2];break;case"double":case"f64":D=Number(Ie.HEAP64F[B>>3]);break;case"i64":if(o.bigIntEnabled){D=BigInt(Ie.HEAP64[B>>3]);break}default:u("Invalid type for peek():",J)}x&&x.push(D)}while(x&&arguments[0].length);return x||D},o.poke=function(E,B,J="i8"){J.endsWith("*")&&(J=c);const Ie=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I();for(const x of Array.isArray(E)?E:[E])switch(J){case"i1":case"i8":Ie.HEAP8[x>>0]=B;continue;case"i16":Ie.HEAP16[x>>1]=B;continue;case"i32":Ie.HEAP32[x>>2]=B;continue;case"float":case"f32":Ie.HEAP32F[x>>2]=B;continue;case"double":case"f64":Ie.HEAP64F[x>>3]=B;continue;case"i64":if(Ie.HEAP64){Ie.HEAP64[x>>3]=BigInt(B);continue}default:u("Invalid type for poke(): "+J)}return this},o.peekPtr=(...E)=>o.peek(E.length===1?E[0]:E,c),o.pokePtr=(E,B=0)=>o.poke(E,B,c),o.peek8=(...E)=>o.peek(E.length===1?E[0]:E,"i8"),o.poke8=(E,B)=>o.poke(E,B,"i8"),o.peek16=(...E)=>o.peek(E.length===1?E[0]:E,"i16"),o.poke16=(E,B)=>o.poke(E,B,"i16"),o.peek32=(...E)=>o.peek(E.length===1?E[0]:E,"i32"),o.poke32=(E,B)=>o.poke(E,B,"i32"),o.peek64=(...E)=>o.peek(E.length===1?E[0]:E,"i64"),o.poke64=(E,B)=>o.poke(E,B,"i64"),o.peek32f=(...E)=>o.peek(E.length===1?E[0]:E,"f32"),o.poke32f=(E,B)=>o.poke(E,B,"f32"),o.peek64f=(...E)=>o.peek(E.length===1?E[0]:E,"f64"),o.poke64f=(E,B)=>o.poke(E,B,"f64"),o.getMemValue=o.peek,o.getPtrValue=o.peekPtr,o.setMemValue=o.poke,o.setPtrValue=o.pokePtr,o.isPtr32=E=>typeof E=="number"&&E===(E|0)&&E>=0,o.isPtr=o.isPtr32,o.cstrlen=function(E){if(!E||!o.isPtr(E))return null;const B=I().HEAP8U;let J=E;for(;B[J]!==0;++J);return J-E};const pe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,De=function(E,B,J){return g.utf8Decoder.decode(E.buffer instanceof pe?E.slice(B,J):E.subarray(B,J))};o.cstrToJs=function(E){const B=o.cstrlen(E);return B?De(I().HEAP8U,E,E+B):B===null?B:""},o.jstrlen=function(E){if(typeof E!="string")return null;const B=E.length;let J=0;for(let Ie=0;Ie<B;++Ie){let x=E.charCodeAt(Ie);x>=55296&&x<=57343&&(x=65536+((x&1023)<<10)|E.charCodeAt(++Ie)&1023),x<=127?++J:x<=2047?J+=2:x<=65535?J+=3:J+=4}return J},o.jstrcpy=function(E,B,J=0,Ie=-1,x=!0){if((!B||!(B instanceof Int8Array)&&!(B instanceof Uint8Array))&&u("jstrcpy() target must be an Int8Array or Uint8Array."),Ie<0&&(Ie=B.length-J),!(Ie>0)||!(J>=0))return 0;let D=0,b=E.length;const y=J,F=J+Ie-(x?1:0);for(;D<b&&J<F;++D){let le=E.charCodeAt(D);if(le>=55296&&le<=57343&&(le=65536+((le&1023)<<10)|E.charCodeAt(++D)&1023),le<=127){if(J>=F)break;B[J++]=le}else if(le<=2047){if(J+1>=F)break;B[J++]=192|le>>6,B[J++]=128|le&63}else if(le<=65535){if(J+2>=F)break;B[J++]=224|le>>12,B[J++]=128|le>>6&63,B[J++]=128|le&63}else{if(J+3>=F)break;B[J++]=240|le>>18,B[J++]=128|le>>12&63,B[J++]=128|le>>6&63,B[J++]=128|le&63}}return x&&(B[J++]=0),J-y},o.cstrncpy=function(E,B,J){if((!E||!B)&&u("cstrncpy() does not accept NULL strings."),J<0)J=o.cstrlen(strPtr)+1;else if(!(J>0))return 0;const Ie=o.heap8u();let x=0,D;for(;x<J&&(D=Ie[B+x]);++x)Ie[E+x]=D;return x<J&&(Ie[E+x++]=0),x},o.jstrToUintArray=(E,B=!1)=>g.utf8Encoder.encode(B?E+"\0":E);const Qe=(E,B)=>{(!(E.alloc instanceof Function)||!(E.dealloc instanceof Function))&&u("Object is missing alloc() and/or dealloc() function(s)","required by",B+"().")},at=function(E,B,J,Ie){if(Qe(o,Ie),typeof E!="string")return null;{const x=g.utf8Encoder.encode(E),D=J(x.length+1),b=I().HEAP8U;return b.set(x,D),b[D+x.length]=0,B?[D,x.length]:D}};o.allocCString=(E,B=!1)=>at(E,B,o.alloc,"allocCString()"),o.scopedAllocPush=function(){Qe(o,"scopedAllocPush");const E=[];return g.scopedAlloc.push(E),E},o.scopedAllocPop=function(E){Qe(o,"scopedAllocPop");const B=arguments.length?g.scopedAlloc.indexOf(E):g.scopedAlloc.length-1;B<0&&u("Invalid state object for scopedAllocPop()."),arguments.length===0&&(E=g.scopedAlloc[B]),g.scopedAlloc.splice(B,1);for(let J;J=E.pop();)o.functionEntry(J)?o.uninstallFunction(J):o.dealloc(J)},o.scopedAlloc=function(E){g.scopedAlloc.length||u("No scopedAllocPush() scope is active.");const B=o.alloc(E);return g.scopedAlloc[g.scopedAlloc.length-1].push(B),B},Object.defineProperty(o.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>g.scopedAlloc.length,set:()=>u("The 'active' property is read-only.")}),o.scopedAllocCString=(E,B=!1)=>at(E,B,o.scopedAlloc,"scopedAllocCString()");const ee=function(E,B){const J=o[E?"scopedAlloc":"alloc"]((B.length+1)*o.ptrSizeof);let Ie=0;return B.forEach(x=>{o.pokePtr(J+o.ptrSizeof*Ie++,o[E?"scopedAllocCString":"allocCString"](""+x))}),o.pokePtr(J+o.ptrSizeof*Ie,0),J};o.scopedAllocMainArgv=E=>ee(!0,E),o.allocMainArgv=E=>ee(!1,E),o.cArgvToJs=(E,B)=>{const J=[];for(let Ie=0;Ie<E;++Ie){const x=o.peekPtr(B+o.ptrSizeof*Ie);J.push(x?o.cstrToJs(x):null)}return J},o.scopedAllocCall=function(E){o.scopedAllocPush();try{return E()}finally{o.scopedAllocPop()}};const C=function(E,B,J){Qe(o,J);const Ie=B?"i64":c;let x=o[J](E*(B?8:f));if(o.poke(x,0,Ie),E===1)return x;const D=[x];for(let b=1;b<E;++b)x+=B?8:f,D[b]=x,o.poke(x,0,Ie);return D};o.allocPtr=(E=1,B=!0)=>C(E,B,"alloc"),o.scopedAllocPtr=(E=1,B=!0)=>C(E,B,"scopedAlloc"),o.xGet=function(E){return o.exports[E]||u("Cannot find exported symbol:",E)};const k=(E,B)=>u(E+"() requires",B,"argument(s).");o.xCall=function(E,...B){const J=o.xGet(E);return J instanceof Function||u("Exported symbol",E,"is not a function."),J.length!==B.length&&k(E,J.length),arguments.length===2&&Array.isArray(arguments[1])?J.apply(null,arguments[1]):J.apply(null,B)},g.xWrap=Object.create(null),g.xWrap.convert=Object.create(null),g.xWrap.convert.arg=new Map,g.xWrap.convert.result=new Map;const N=g.xWrap.convert.arg,j=g.xWrap.convert.result;o.bigIntEnabled&&N.set("i64",E=>BigInt(E));const R=c==="i32"?E=>E|0:E=>BigInt(E)|BigInt(0);N.set("i32",R).set("i16",E=>(E|0)&65535).set("i8",E=>(E|0)&255).set("f32",E=>Number(E).valueOf()).set("float",N.get("f32")).set("f64",N.get("f32")).set("double",N.get("f64")).set("int",N.get("i32")).set("null",E=>E).set(null,N.get("null")).set("**",R).set("*",R),j.set("*",R).set("pointer",R).set("number",E=>Number(E)).set("void",E=>{}).set("null",E=>E).set(null,j.get("null"));{const E=["i8","i16","i32","int","f32","float","f64","double"];o.bigIntEnabled&&E.push("i64");const B=N.get(c);for(const J of E)N.set(J+"*",B),j.set(J+"*",B),j.set(J,N.get(J)||u("Missing arg converter:",J))}const xe=function(E){return typeof E=="string"?o.scopedAllocCString(E):E?R(E):null};N.set("string",xe).set("utf8",xe).set("pointer",xe),j.set("string",E=>o.cstrToJs(E)).set("utf8",j.get("string")).set("string:dealloc",E=>{try{return E?o.cstrToJs(E):null}finally{o.dealloc(E)}}).set("utf8:dealloc",j.get("string:dealloc")).set("json",E=>JSON.parse(o.cstrToJs(E))).set("json:dealloc",E=>{try{return E?JSON.parse(o.cstrToJs(E)):null}finally{o.dealloc(E)}});const Te=class{constructor(E){this.name=E.name||"unnamed adapter"}convertArg(E,B,J){u("AbstractArgAdapter must be subclassed.")}};N.FuncPtrAdapter=class ls extends Te{constructor(B){super(B),N.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",B),this.name=B.name||"unnamed",this.signature=B.signature,B.contextKey instanceof Function&&(this.contextKey=B.contextKey,B.bindScope||(B.bindScope="context")),this.bindScope=B.bindScope||u("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ls.bindScopes.indexOf(B.bindScope)<0&&u("Invalid options.bindScope ("+B.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ls.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=B.callProxy instanceof Function?B.callProxy:void 0}contextKey(B,J){return this}contextMap(B){const J=this.__cmap||(this.__cmap=new Map);let Ie=J.get(B);return Ie===void 0&&J.set(B,Ie=[]),Ie}convertArg(B,J,Ie){let x=this.singleton;if(!x&&this.isContext&&(x=this.contextMap(this.contextKey(J,Ie))),x&&x[0]===B)return x[1];if(B instanceof Function){this.callProxy&&(B=this.callProxy(B));const D=H(B,this.signature,this.isTransient);if(ls.debugFuncInstall&&ls.debugOut("FuncPtrAdapter installed",this,this.contextKey(J,Ie),"@"+D,B),x){if(x[1]){ls.debugFuncInstall&&ls.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(J,Ie),"@"+x[1],B);try{g.scopedAlloc[g.scopedAlloc.length-1].push(x[1])}catch{}}x[0]=B,x[1]=D}return D}else if(o.isPtr(B)||B===null||B===void 0){if(x&&x[1]&&x[1]!==B){ls.debugFuncInstall&&ls.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(J,Ie),"@"+x[1],B);try{g.scopedAlloc[g.scopedAlloc.length-1].push(x[1])}catch{}x[0]=x[1]=B|0}return B||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},N.FuncPtrAdapter.warnOnUse=!1,N.FuncPtrAdapter.debugFuncInstall=!1,N.FuncPtrAdapter.debugOut=console.debug.bind(console),N.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const me=E=>N.get(E)||u("Argument adapter not found:",E),$e=E=>j.get(E)||u("Result adapter not found:",E);g.xWrap.convertArg=(E,...B)=>me(E)(...B),g.xWrap.convertArgNoCheck=(E,...B)=>N.get(E)(...B),g.xWrap.convertResult=(E,B)=>E===null?B:E?$e(E)(B):void 0,g.xWrap.convertResultNoCheck=(E,B)=>E===null?B:E?j.get(E)(B):void 0,o.xWrap=function(E,B,...J){arguments.length===3&&Array.isArray(arguments[2])&&(J=arguments[2]),o.isPtr(E)&&(E=o.functionEntry(E)||u("Function pointer not found in WASM function table."));const Ie=E instanceof Function,x=Ie?E:o.xGet(E);if(Ie&&(E=x.name||"unnamed function"),J.length!==x.length&&k(E,x.length),B===null&&x.length===0)return x;B!=null&&$e(B);for(const b of J)b instanceof Te?N.set(b,(...y)=>b.convertArg(...y)):me(b);const D=g.xWrap;return x.length===0?(...b)=>b.length?k(E,x.length):D.convertResult(B,x.call(null)):function(...b){b.length!==x.length&&k(E,x.length);const y=o.scopedAllocPush();try{for(const F in b)b[F]=D.convertArgNoCheck(J[F],b[F],b,F);return D.convertResultNoCheck(B,x.apply(null,b))}finally{o.scopedAllocPop(y)}}};const yt=function(E,B,J,Ie,x,D){if(typeof J=="string"){if(B===1)return D.get(J);if(B===2){if(Ie)Ie instanceof Function||u(x,"requires a function argument.");else return delete D.get(J),E;return D.set(J,Ie),E}}u("Invalid arguments to",x)};return o.xWrap.resultAdapter=function E(B,J){return yt(E,arguments.length,B,J,"resultAdapter()",j)},o.xWrap.argAdapter=function E(B,J){return yt(E,arguments.length,B,J,"argAdapter()",N)},o.xWrap.FuncPtrAdapter=N.FuncPtrAdapter,o.xCallWrapped=function(E,B,J,...Ie){return Array.isArray(arguments[3])&&(Ie=arguments[3]),o.xWrap(E,B,J||[]).apply(null,Ie||[])},o.xWrap.testConvertArg=g.xWrap.convertArg,o.xWrap.testConvertResult=g.xWrap.convertResult,o},globalThis.WhWasmUtilInstaller.yawl=function(o){const u=()=>fetch(o.uri,{credentials:"same-origin"}),c=this,f=function(I){if(o.wasmUtilTarget){const H=(...De)=>{throw new Error(De.join(" "))},pe=o.wasmUtilTarget;if(pe.module=I.module,pe.instance=I.instance,pe.instance.exports.memory||(pe.memory=o.imports&&o.imports.env&&o.imports.env.memory||H("Missing 'memory' object!")),!pe.alloc&&I.instance.exports.malloc){const De=I.instance.exports;pe.alloc=function(Qe){return De.malloc(Qe)||H("Allocation of",Qe,"bytes failed.")},pe.dealloc=function(Qe){De.free(Qe)}}c(pe)}return o.onload&&o.onload(I,o),I};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(u(),o.imports||{}).then(f)}:function(){return u().then(H=>H.arrayBuffer()).then(H=>WebAssembly.instantiate(H,o.imports||{})).then(f)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function o(u){const c=(..._e)=>{throw new Error(_e.join(" "))};!(u.heap instanceof WebAssembly.Memory)&&!(u.heap instanceof Function)&&c("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(_e){u[_e]instanceof Function||c("Config option '"+_e+"' must be a function.")});const f=o,g=u.heap instanceof Function?u.heap:()=>new Uint8Array(u.heap.buffer),I=u.alloc,H=u.dealloc,pe=u.log||console.log.bind(console),De=u.memberPrefix||"",Qe=u.memberSuffix||"",at=u.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!u.bigIntEnabled,ee=globalThis.BigInt,C=globalThis.BigInt64Array,k=u.ptrSizeof||4,N=u.ptrIR||"i32";f.debugFlags||(f.__makeDebugFlags=function(_e=null){_e&&_e.__flags&&(_e=_e.__flags);const ze=function Ke(nt){return arguments.length===0?Ke.__flags:(nt<0?(delete Ke.__flags.getter,delete Ke.__flags.setter,delete Ke.__flags.alloc,delete Ke.__flags.dealloc):(Ke.__flags.getter=(1&nt)!==0,Ke.__flags.setter=(2&nt)!==0,Ke.__flags.alloc=(4&nt)!==0,Ke.__flags.dealloc=(8&nt)!==0),Ke._flags)};return Object.defineProperty(ze,"__flags",{iterable:!1,writable:!1,value:Object.create(_e)}),_e||ze(0),ze},f.debugFlags=f.__makeDebugFlags());const j=function(){const _e=new ArrayBuffer(2);return new DataView(_e).setInt16(0,256,!0),new Int16Array(_e)[0]===256}(),R=_e=>_e[1]==="(",xe=_e=>_e==="P",Te=_e=>R(_e)?"p":_e[0],me=function(_e){switch(Te(_e)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return N;case"j":return"i64";case"f":return"float";case"d":return"double"}c("Unhandled signature IR:",_e)},$e=C?()=>!0:()=>c("BigInt64Array is not available."),yt=function(_e){switch(Te(_e)){case"p":case"P":case"s":{switch(k){case 4:return"getInt32";case 8:return $e()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return $e()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}c("Unhandled DataView getter for signature:",_e)},E=function(_e){switch(Te(_e)){case"p":case"P":case"s":{switch(k){case 4:return"setInt32";case 8:return $e()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return $e()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}c("Unhandled DataView setter for signature:",_e)},B=function(_e){switch(Te(_e)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return $e()&&ee;case"p":case"P":case"s":switch(k){case 4:return Number;case 8:return $e()&&ee}break}c("Unhandled DataView set wrapper for signature:",_e)},J=(_e,ze)=>_e+"::"+ze,Ie=function(_e,ze){return()=>c(J(_e,ze),"is read-only.")},x=new WeakMap,D="(pointer-is-external)",b=function(_e,ze,Ke){if(Ke||(Ke=x.get(ze)),Ke){if(x.delete(ze),Array.isArray(ze.ondispose)){let nt;for(;nt=ze.ondispose.shift();)try{nt instanceof Function?nt.call(ze):nt instanceof et?nt.dispose():typeof nt=="number"&&H(nt)}catch(Lt){console.warn("ondispose() for",_e.structName,"@",Ke,"threw. NOT propagating it.",Lt)}}else if(ze.ondispose instanceof Function)try{ze.ondispose()}catch(nt){console.warn("ondispose() for",_e.structName,"@",Ke,"threw. NOT propagating it.",nt)}delete ze.ondispose,_e.debugFlags.__flags.dealloc&&pe("debug.dealloc:",ze[D]?"EXTERNAL":"",_e.structName,"instance:",_e.structInfo.sizeof,"bytes @"+Ke),ze[D]||H(Ke)}},y=_e=>({configurable:!1,writable:!1,iterable:!1,value:_e}),F=function(_e,ze,Ke){let nt=!Ke;Ke?Object.defineProperty(ze,D,y(Ke)):(Ke=I(_e.structInfo.sizeof),Ke||c("Allocation of",_e.structName,"structure failed."));try{_e.debugFlags.__flags.alloc&&pe("debug.alloc:",nt?"":"EXTERNAL",_e.structName,"instance:",_e.structInfo.sizeof,"bytes @"+Ke),nt&&g().fill(0,Ke,Ke+_e.structInfo.sizeof),x.set(ze,Ke)}catch(Lt){throw b(_e,ze,Ke),Lt}},le=function(){const _e=this.pointer;return _e?new Uint8Array(g().slice(_e,_e+this.structInfo.sizeof)):null},ot=y(_e=>De+_e+Qe),dt=function(_e,ze,Ke=!0){let nt=_e.members[ze];if(!nt&&(De||Qe)){for(const Lt of Object.values(_e.members))if(Lt.key===ze){nt=Lt;break}!nt&&Ke&&c(J(_e.name,ze),"is not a mapped struct member.")}return nt},Ce=function _e(ze,Ke,nt=!1){_e._||(_e._=Nt=>Nt.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const Lt=dt(ze.structInfo,Ke,!0);return nt?_e._(Lt.signature):Lt.signature},$={configurable:!1,enumerable:!1,get:function(){return x.get(this)},set:()=>c("Cannot assign the 'pointer' property of a struct.")},se=y(function(){const _e=[];for(const ze of Object.keys(this.structInfo.members))_e.push(this.memberKey(ze));return _e}),ke=new TextDecoder("utf-8"),Ue=new TextEncoder,mt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Y=function(_e,ze,Ke){return ke.decode(_e.buffer instanceof mt?_e.slice(ze,Ke):_e.subarray(ze,Ke))},we=function(_e,ze,Ke=!1){const nt=dt(_e.structInfo,ze,Ke);return nt&&nt.signature.length===1&&nt.signature[0]==="s"?nt:!1},qe=function(_e){_e.signature!=="s"&&c("Invalid member type signature for C-string value:",JSON.stringify(_e))},tt=function(ze,Ke){const nt=dt(ze.structInfo,Ke,!0);qe(nt);const Lt=ze[nt.key];if(!Lt)return null;let Nt=Lt;const Ut=g();for(;Ut[Nt]!==0;++Nt);return Lt===Nt?"":Y(Ut,Lt,Nt)},He=function(_e,...ze){_e.ondispose?Array.isArray(_e.ondispose)||(_e.ondispose=[_e.ondispose]):_e.ondispose=[],_e.ondispose.push(...ze)},Ct=function(_e){const ze=Ue.encode(_e),Ke=I(ze.length+1);Ke||c("Allocation error while duplicating string:",_e);const nt=g();return nt.set(ze,Ke),nt[Ke+ze.length]=0,Ke},Rt=function(_e,ze,Ke){const nt=dt(_e.structInfo,ze,!0);qe(nt);const Lt=Ct(Ke);return _e[nt.key]=Lt,He(_e,Lt),_e},et=function(ze,Ke){arguments[2]!==y&&c("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:y(ze),structInfo:y(Ke)})};et.prototype=Object.create(null,{dispose:y(function(){b(this.constructor,this)}),lookupMember:y(function(_e,ze=!0){return dt(this.structInfo,_e,ze)}),memberToJsString:y(function(_e){return tt(this,_e)}),memberIsString:y(function(_e,ze=!0){return we(this,_e,ze)}),memberKey:ot,memberKeys:se,memberSignature:y(function(_e,ze=!1){return Ce(this,_e,ze)}),memoryDump:y(le),pointer:$,setMemberCString:y(function(_e,ze){return Rt(this,_e,ze)})}),Object.assign(et.prototype,{addOnDispose:function(..._e){return He(this,..._e),this}}),Object.defineProperties(et,{allocCString:y(Ct),isA:y(_e=>_e instanceof et),hasExternalPointer:y(_e=>_e instanceof et&&!!_e[D]),memberKey:ot});const un=_e=>Number.isFinite(_e)||_e instanceof(ee||Number),kn=function _e(ze,Ke,nt){if(!_e._){_e._={getters:{},setters:{},sw:{}};const _n=["i","c","C","p","P","s","f","d","v()"];at&&_n.push("j"),_n.forEach(function(Kn){_e._.getters[Kn]=yt(Kn),_e._.setters[Kn]=E(Kn),_e._.sw[Kn]=B(Kn)});const tp=/^[ipPsjfdcC]$/,np=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;_e.sigCheck=function(Kn,sp,Ma,Zo){Object.prototype.hasOwnProperty.call(Kn,Ma)&&c(Kn.structName,"already has a property named",Ma+"."),tp.test(Zo)||np.test(Zo)||c("Malformed signature for",J(Kn.structName,sp)+":",Zo)}}const Lt=ze.memberKey(Ke);_e.sigCheck(ze.prototype,Ke,Lt,nt.signature),nt.key=Lt,nt.name=Ke;const Nt=Te(nt.signature),Ut=J(ze.prototype.structName,Lt),Qt=ze.prototype.debugFlags.__flags,cr=Object.create(null);cr.configurable=!1,cr.enumerable=!1,cr.get=function(){Qt.getter&&pe("debug.getter:",_e._.getters[Nt],"for",me(Nt),Ut,"@",this.pointer,"+",nt.offset,"sz",nt.sizeof);let _n=new DataView(g().buffer,this.pointer+nt.offset,nt.sizeof)[_e._.getters[Nt]](0,j);return Qt.getter&&pe("debug.getter:",Ut,"result =",_n),_n},nt.readOnly?cr.set=Ie(ze.prototype.structName,Lt):cr.set=function(_n){if(Qt.setter&&pe("debug.setter:",_e._.setters[Nt],"for",me(Nt),Ut,"@",this.pointer,"+",nt.offset,"sz",nt.sizeof,_n),this.pointer||c("Cannot set struct property on disposed instance."),_n===null)_n=0;else for(;!un(_n);){if(xe(nt.signature)&&_n instanceof et){_n=_n.pointer||0,Qt.setter&&pe("debug.setter:",Ut,"resolved to",_n);break}c("Invalid value for pointer-type",Ut+".")}new DataView(g().buffer,this.pointer+nt.offset,nt.sizeof)[_e._.setters[Nt]](0,_e._.sw[Nt](_n),j)},Object.defineProperty(ze.prototype,Lt,cr)},Zt=function _e(ze,Ke){arguments.length===1?(Ke=ze,ze=Ke.name):Ke.name||(Ke.name=ze),ze||c("Struct name is required.");let nt=!1;Object.keys(Ke.members).forEach(Ut=>{const Qt=Ke.members[Ut];Qt.sizeof?Qt.sizeof===1?Qt.signature==="c"||Qt.signature==="C"||c("Unexpected sizeof==1 member",J(Ke.name,Ut),"with signature",Qt.signature):(Qt.sizeof%4!==0&&(console.warn("Invalid struct member description =",Qt,"from",Ke),c(ze,"member",Ut,"sizeof is not aligned. sizeof="+Qt.sizeof)),Qt.offset%4!==0&&(console.warn("Invalid struct member description =",Qt,"from",Ke),c(ze,"member",Ut,"offset is not aligned. offset="+Qt.offset))):c(ze,"member",Ut,"is missing sizeof."),(!nt||nt.offset<Qt.offset)&&(nt=Qt)}),nt?Ke.sizeof<nt.offset+nt.sizeof&&c("Invalid struct config:",ze,"max member offset ("+nt.offset+") ","extends past end of struct (sizeof="+Ke.sizeof+")."):c("No member property descriptions found.");const Lt=y(f.__makeDebugFlags(_e.debugFlags)),Nt=function Ut(Qt){this instanceof Ut?arguments.length?((Qt!==(Qt|0)||Qt<=0)&&c("Invalid pointer value for",ze,"constructor."),F(Ut,this,Qt)):F(Ut,this):c("The",ze,"constructor may only be called via 'new'.")};return Object.defineProperties(Nt,{debugFlags:Lt,isA:y(Ut=>Ut instanceof Nt),memberKey:ot,memberKeys:se,methodInfoForKey:y(function(Ut){}),structInfo:y(Ke),structName:y(ze)}),Nt.prototype=new et(ze,Ke,y),Object.defineProperties(Nt.prototype,{debugFlags:Lt,constructor:y(Nt)}),Object.keys(Ke.members).forEach(Ut=>kn(Nt,Ut,Ke.members[Ut])),Nt};return Zt.StructType=et,Zt.config=u,Zt.allocCString=Ct,Zt.debugFlags||(Zt.debugFlags=f.__makeDebugFlags(f.debugFlags)),Zt},globalThis.sqlite3ApiBootstrap.initializers.push(function(o){const u=(...ee)=>{throw new Error(ee.join(" "))};o.SQLite3Error.toss;const c=o.capi,f=o.wasm,g=o.util;if(globalThis.WhWasmUtilInstaller(f),delete globalThis.WhWasmUtilInstaller,f.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new f.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ee,C)=>ee[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ee=>ee[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new f.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ee=>{let C;return(k,N,j,R)=>{try{const xe=f.cArgvToJs(N,j);return C||(C=f.cArgvToJs(N,R)),ee(xe,C)|0}catch(xe){return xe.resultCode||c.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new f.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ee,C)=>ee[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ee=>ee[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ee,C)=>ee[0],callProxy:ee=>(C,k,N,j,R,xe)=>{try{return N=N&&f.cstrToJs(N),j=j&&f.cstrToJs(j),R=R&&f.cstrToJs(R),xe=xe&&f.cstrToJs(xe),ee(C,k,N,j,R,xe)||0}catch(Te){return Te.resultCode||c.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new f.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ee,C)=>ee[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new f.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ee,C)=>ee[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],f.exports.sqlite3_activate_see instanceof Function&&f.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),f.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ee=>ee[0],callProxy:ee=>(C,k,N,j,R,xe,Te)=>{ee(C,k,N,f.cstrToJs(j),f.cstrToJs(R),xe,Te)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ee=>ee[0],callProxy:ee=>(C,k,N,j,R)=>{ee(C,k,f.cstrToJs(N),f.cstrToJs(j),R)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],f.bigIntEnabled&&!!f.exports.sqlite3changegroup_add){const ee={signature:"i(ps)",callProxy:C=>(k,N)=>{try{return C(k,f.cstrToJs(N))|0}catch(j){return j.resultCode||c.SQLITE_ERROR}}};f.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new f.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new f.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ee}),new f.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new f.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ee}),new f.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new f.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ee}),new f.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new f.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ee}),new f.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new f.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new f.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new f.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new f.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new f.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new f.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new f.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new f.xWrap.FuncPtrAdapter({name:"xFilter",...ee,contextKey:(C,k)=>C[0]}),"*"]])}f.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],o.StructBinder=globalThis.Jaccwabyt({heap:f.heap8u,alloc:f.alloc,dealloc:f.dealloc,bigIntEnabled:f.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ee=f.xWrap.argAdapter("string");f.xWrap.argAdapter("string:flexible",R=>ee(g.flexibleString(R))),f.xWrap.argAdapter("string:static",function(R){return f.isPtr(R)?R:(R=""+R,this[R]||(this[R]=f.allocCString(R)))}.bind(Object.create(null)));const C=f.xWrap.argAdapter("*"),k=function(){};f.xWrap.argAdapter("sqlite3_filename",C)("sqlite3_context*",C)("sqlite3_value*",C)("void*",C)("sqlite3_changegroup*",C)("sqlite3_changeset_iter*",C)("sqlite3_session*",C)("sqlite3_stmt*",R=>C(R instanceof(o?.oo1?.Stmt||k)?R.pointer:R))("sqlite3*",R=>C(R instanceof(o?.oo1?.DB||k)?R.pointer:R))("sqlite3_index_info*",R=>C(R instanceof(c.sqlite3_index_info||k)?R.pointer:R))("sqlite3_module*",R=>C(R instanceof(c.sqlite3_module||k)?R.pointer:R))("sqlite3_vfs*",R=>typeof R=="string"?c.sqlite3_vfs_find(R)||o.SQLite3Error.toss(c.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",R):C(R instanceof(c.sqlite3_vfs||k)?R.pointer:R));const N=f.xWrap.resultAdapter("*");f.xWrap.resultAdapter("sqlite3*",N)("sqlite3_context*",N)("sqlite3_stmt*",N)("sqlite3_value*",N)("sqlite3_vfs*",N)("void*",N),f.exports.sqlite3_step.length===0&&(f.xWrap.doArgcCheck=!1,o.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const R of f.bindingSignatures)c[R[0]]=f.xWrap.apply(null,R);for(const R of f.bindingSignatures.wasm)f[R[0]]=f.xWrap.apply(null,R);const j=function(R){return()=>u(R+"() is unavailable due to lack","of BigInt support in this build.")};for(const R of f.bindingSignatures.int64)c[R[0]]=f.bigIntEnabled?f.xWrap.apply(null,R):j(R[0]);if(delete f.bindingSignatures,f.exports.sqlite3_wasm_db_error){const R=f.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");g.sqlite3_wasm_db_error=function(xe,Te,me){return Te instanceof o.WasmAllocError?(Te=c.SQLITE_NOMEM,me=0):Te instanceof Error&&(me=me||""+Te,Te=Te.resultCode||c.SQLITE_ERROR),xe?R(xe,Te,me):Te}}else g.sqlite3_wasm_db_error=function(R,xe,Te){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),xe}}{const ee=f.xCall("sqlite3_wasm_enum_json");ee||u("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),f.ctype=JSON.parse(f.cstrToJs(ee));const C=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];f.bigIntEnabled&&C.push("serialize","session","vtab");for(const j of C)for(const R of Object.entries(f.ctype[j]))c[R[0]]=R[1];f.functionEntry(c.SQLITE_WASM_DEALLOC)||u("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+c.SQLITE_WASM_DEALLOC+").");const k=Object.create(null);for(const j of["resultCodes"])for(const R of Object.entries(f.ctype[j]))k[R[1]]=R[0];c.sqlite3_js_rc_str=j=>k[j];const N=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!g.isUIThread(),sqlite3_index_info:!f.bigIntEnabled,sqlite3_index_constraint:!f.bigIntEnabled,sqlite3_index_orderby:!f.bigIntEnabled,sqlite3_index_constraint_usage:!f.bigIntEnabled});for(const j of f.ctype.structs)N[j.name]||(c[j.name]=o.StructBinder(j));if(c.sqlite3_index_info){for(const j of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])c.sqlite3_index_info[j]=c[j],delete c[j];c.sqlite3_vtab_config=f.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const I=(ee,C,k)=>o.util.sqlite3_wasm_db_error(ee,c.SQLITE_MISUSE,C+"() requires "+k+" argument"+(k===1?"":"s")+"."),H=ee=>g.sqlite3_wasm_db_error(ee,c.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),pe=ee=>f.xWrap.argAdapter("sqlite3*")(ee),De=ee=>f.isPtr(ee)?f.cstrToJs(ee):ee,Qe=function(ee,C){ee=pe(ee);let k=this.dbMap.get(ee);if(C)!k&&C>0&&this.dbMap.set(ee,k=Object.create(null));else return this.dbMap.delete(ee),k;return k}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Qe.addCollation=function(ee,C){const k=Qe(ee,1);k.collation||(k.collation=new Set),k.collation.add(De(C).toLowerCase())},Qe._addUDF=function(ee,C,k,N){C=De(C).toLowerCase();let j=N.get(C);j||N.set(C,j=new Set),j.add(k<0?-1:k)},Qe.addFunction=function(ee,C,k){const N=Qe(ee,1);N.udf||(N.udf=new Map),this._addUDF(ee,C,k,N.udf)},Qe.addWindowFunc=function(ee,C,k){const N=Qe(ee,1);N.wudf||(N.wudf=new Map),this._addUDF(ee,C,k,N.wudf)},Qe.cleanup=function(ee){ee=pe(ee);const C=[ee];for(const j of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const R=f.exports[j];C.length=R.length;try{c[j](...C)}catch(xe){console.warn("close-time call of",j+"(",C,") threw:",xe)}}const k=Qe(ee,0);if(!k)return;if(k.collation){for(const j of k.collation)try{c.sqlite3_create_collation_v2(ee,j,c.SQLITE_UTF8,0,0,0)}catch{}delete k.collation}let N;for(N=0;N<2;++N){const j=N?k.wudf:k.udf;if(!j)continue;const R=N?c.sqlite3_create_window_function:c.sqlite3_create_function_v2;for(const xe of j){const Te=xe[0],me=xe[1],$e=[ee,Te,0,c.SQLITE_UTF8,0,0,0,0,0];N&&$e.push(0);for(const yt of me)try{$e[2]=yt,R.apply(null,$e)}catch{}me.clear()}j.clear()}delete k.udf,delete k.wudf};{const ee=f.xWrap("sqlite3_close_v2","int","sqlite3*");c.sqlite3_close_v2=function(C){if(arguments.length!==1)return I(C,"sqlite3_close_v2",1);if(C)try{Qe.cleanup(C)}catch{}return ee(C)}}if(c.sqlite3session_table_filter){const ee=f.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);c.sqlite3session_delete=function(C){if(arguments.length!==1)return I(pDb,"sqlite3session_delete",1);C&&c.sqlite3session_table_filter(C,0,0),ee(C)}}{const ee=(k,N)=>"argv["+N+"]:"+k[0]+":"+f.cstrToJs(k[1]).toLowerCase(),C=f.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new f.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ee}),new f.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ee})]);c.sqlite3_create_collation_v2=function(k,N,j,R,xe,Te){if(arguments.length!==6)return I(k,"sqlite3_create_collation_v2",6);if((j&15)===0)j|=c.SQLITE_UTF8;else if(c.SQLITE_UTF8!==(j&15))return H(k);try{const me=C(k,N,j,R,xe,Te);return me===0&&xe instanceof Function&&Qe.addCollation(k,N),me}catch(me){return g.sqlite3_wasm_db_error(k,me)}},c.sqlite3_create_collation=(k,N,j,R,xe)=>arguments.length===5?c.sqlite3_create_collation_v2(k,N,j,R,xe,0):I(k,"sqlite3_create_collation",5)}{const ee=function(j,R){return j[0]+":"+(j[2]<0?-1:j[2])+":"+R+":"+f.cstrToJs(j[1]).toLowerCase()},C=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ee,callProxy:j=>(R,xe,Te)=>{try{j(R,...c.sqlite3_values_to_js(xe,Te))}catch(me){c.sqlite3_result_error_js(R,me)}}},xFinalAndValue:{signature:"v(p)",contextKey:ee,callProxy:j=>R=>{try{c.sqlite3_result_js(R,j(R))}catch(xe){c.sqlite3_result_error_js(R,xe)}}},xFunc:{signature:"v(pip)",contextKey:ee,callProxy:j=>(R,xe,Te)=>{try{c.sqlite3_result_js(R,j(R,...c.sqlite3_values_to_js(xe,Te)))}catch(me){c.sqlite3_result_error_js(R,me)}}},xDestroy:{signature:"v(p)",contextKey:ee,callProxy:j=>R=>{try{j(R)}catch(xe){console.error("UDF xDestroy method threw:",xe)}}}}),k=f.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new f.xWrap.FuncPtrAdapter({name:"xFunc",...C.xFunc}),new f.xWrap.FuncPtrAdapter({name:"xStep",...C.xInverseAndStep}),new f.xWrap.FuncPtrAdapter({name:"xFinal",...C.xFinalAndValue}),new f.xWrap.FuncPtrAdapter({name:"xDestroy",...C.xDestroy})]),N=f.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new f.xWrap.FuncPtrAdapter({name:"xStep",...C.xInverseAndStep}),new f.xWrap.FuncPtrAdapter({name:"xFinal",...C.xFinalAndValue}),new f.xWrap.FuncPtrAdapter({name:"xValue",...C.xFinalAndValue}),new f.xWrap.FuncPtrAdapter({name:"xInverse",...C.xInverseAndStep}),new f.xWrap.FuncPtrAdapter({name:"xDestroy",...C.xDestroy})]);c.sqlite3_create_function_v2=function j(R,xe,Te,me,$e,yt,E,B,J){if(j.length!==arguments.length)return I(R,"sqlite3_create_function_v2",j.length);if((me&15)===0)me|=c.SQLITE_UTF8;else if(c.SQLITE_UTF8!==(me&15))return H(R);try{const Ie=k(R,xe,Te,me,$e,yt,E,B,J);return Ie===0&&(yt instanceof Function||E instanceof Function||B instanceof Function||J instanceof Function)&&Qe.addFunction(R,xe,Te),Ie}catch(Ie){return console.error("sqlite3_create_function_v2() setup threw:",Ie),g.sqlite3_wasm_db_error(R,Ie,"Creation of UDF threw: "+Ie)}},c.sqlite3_create_function=function j(R,xe,Te,me,$e,yt,E,B){return j.length===arguments.length?c.sqlite3_create_function_v2(R,xe,Te,me,$e,yt,E,B,0):I(R,"sqlite3_create_function",j.length)},c.sqlite3_create_window_function=function j(R,xe,Te,me,$e,yt,E,B,J,Ie){if(j.length!==arguments.length)return I(R,"sqlite3_create_window_function",j.length);if((me&15)===0)me|=c.SQLITE_UTF8;else if(c.SQLITE_UTF8!==(me&15))return H(R);try{const x=N(R,xe,Te,me,$e,yt,E,B,J,Ie);return x===0&&(yt instanceof Function||E instanceof Function||B instanceof Function||J instanceof Function||Ie instanceof Function)&&Qe.addWindowFunc(R,xe,Te),x}catch(x){return console.error("sqlite3_create_window_function() setup threw:",x),g.sqlite3_wasm_db_error(R,x,"Creation of UDF threw: "+x)}},c.sqlite3_create_function_v2.udfSetResult=c.sqlite3_create_function.udfSetResult=c.sqlite3_create_window_function.udfSetResult=c.sqlite3_result_js,c.sqlite3_create_function_v2.udfConvertArgs=c.sqlite3_create_function.udfConvertArgs=c.sqlite3_create_window_function.udfConvertArgs=c.sqlite3_values_to_js,c.sqlite3_create_function_v2.udfSetError=c.sqlite3_create_function.udfSetError=c.sqlite3_create_window_function.udfSetError=c.sqlite3_result_error_js}{const ee=(k,N)=>(typeof k=="string"?N=-1:g.isSQLableTypedArray(k)?(N=k.byteLength,k=g.typedArrayToString(k instanceof ArrayBuffer?new Uint8Array(k):k)):Array.isArray(k)&&(k=k.join(""),N=-1),[k,N]),C={basic:f.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:f.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};c.sqlite3_prepare_v3=function k(N,j,R,xe,Te,me){if(k.length!==arguments.length)return I(N,"sqlite3_prepare_v3",k.length);const[$e,yt]=ee(j,R);switch(typeof $e){case"string":return C.basic(N,$e,yt,xe,Te,null);case"number":return C.full(N,$e,yt,xe,Te,me);default:return g.sqlite3_wasm_db_error(N,c.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},c.sqlite3_prepare_v2=function k(N,j,R,xe,Te){return k.length===arguments.length?c.sqlite3_prepare_v3(N,j,R,0,xe,Te):I(N,"sqlite3_prepare_v2",k.length)}}{const ee=f.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),C=f.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);c.sqlite3_bind_text=function k(N,j,R,xe,Te){if(k.length!==arguments.length)return I(c.sqlite3_db_handle(N),"sqlite3_bind_text",k.length);if(f.isPtr(R)||R===null)return ee(N,j,R,xe,Te);R instanceof ArrayBuffer?R=new Uint8Array(R):Array.isArray(pMem)&&(R=pMem.join(""));let me,$e;try{if(g.isSQLableTypedArray(R))me=f.allocFromTypedArray(R),$e=R.byteLength;else if(typeof R=="string")[me,$e]=f.allocCString(R);else return g.sqlite3_wasm_db_error(c.sqlite3_db_handle(N),c.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ee(N,j,me,$e,c.SQLITE_WASM_DEALLOC)}catch(yt){return f.dealloc(me),g.sqlite3_wasm_db_error(c.sqlite3_db_handle(N),yt)}},c.sqlite3_bind_blob=function k(N,j,R,xe,Te){if(k.length!==arguments.length)return I(c.sqlite3_db_handle(N),"sqlite3_bind_blob",k.length);if(f.isPtr(R)||R===null)return C(N,j,R,xe,Te);R instanceof ArrayBuffer?R=new Uint8Array(R):Array.isArray(R)&&(R=R.join(""));let me,$e;try{if(g.isBindableTypedArray(R))me=f.allocFromTypedArray(R),$e=xe>=0?xe:R.byteLength;else if(typeof R=="string")[me,$e]=f.allocCString(R);else return g.sqlite3_wasm_db_error(c.sqlite3_db_handle(N),c.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return C(N,j,me,$e,c.SQLITE_WASM_DEALLOC)}catch(yt){return f.dealloc(me),g.sqlite3_wasm_db_error(c.sqlite3_db_handle(N),yt)}}}c.sqlite3_config=function(ee,...C){if(arguments.length<2)return c.SQLITE_MISUSE;switch(ee){case c.SQLITE_CONFIG_COVERING_INDEX_SCAN:case c.SQLITE_CONFIG_MEMSTATUS:case c.SQLITE_CONFIG_SMALL_MALLOC:case c.SQLITE_CONFIG_SORTERREF_SIZE:case c.SQLITE_CONFIG_STMTJRNL_SPILL:case c.SQLITE_CONFIG_URI:return f.exports.sqlite3_wasm_config_i(ee,C[0]);case c.SQLITE_CONFIG_LOOKASIDE:return f.exports.sqlite3_wasm_config_ii(ee,C[0],C[1]);case c.SQLITE_CONFIG_MEMDB_MAXSIZE:return f.exports.sqlite3_wasm_config_j(ee,C[0]);case c.SQLITE_CONFIG_GETMALLOC:case c.SQLITE_CONFIG_GETMUTEX:case c.SQLITE_CONFIG_GETPCACHE2:case c.SQLITE_CONFIG_GETPCACHE:case c.SQLITE_CONFIG_HEAP:case c.SQLITE_CONFIG_LOG:case c.SQLITE_CONFIG_MALLOC:case c.SQLITE_CONFIG_MMAP_SIZE:case c.SQLITE_CONFIG_MULTITHREAD:case c.SQLITE_CONFIG_MUTEX:case c.SQLITE_CONFIG_PAGECACHE:case c.SQLITE_CONFIG_PCACHE2:case c.SQLITE_CONFIG_PCACHE:case c.SQLITE_CONFIG_PCACHE_HDRSZ:case c.SQLITE_CONFIG_PMASZ:case c.SQLITE_CONFIG_SERIALIZED:case c.SQLITE_CONFIG_SINGLETHREAD:case c.SQLITE_CONFIG_SQLLOG:case c.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return c.SQLITE_NOTFOUND}};{const ee=new Set;c.sqlite3_auto_extension=function(C){if(C instanceof Function)C=f.installFunction("i(ppp)",C);else if(arguments.length!==1||!f.isPtr(C))return c.SQLITE_MISUSE;const k=f.exports.sqlite3_auto_extension(C);return C!==arguments[0]&&(k===0?ee.add(C):f.uninstallFunction(C)),k},c.sqlite3_cancel_auto_extension=function(C){return!C||arguments.length!==1||!f.isPtr(C)?0:f.exports.sqlite3_cancel_auto_extension(C)},c.sqlite3_reset_auto_extension=function(){f.exports.sqlite3_reset_auto_extension();for(const C of ee)f.uninstallFunction(C);ee.clear()}}const at=c.sqlite3_vfs_find("kvvfs");if(at)if(g.isUIThread()){const ee=new c.sqlite3_kvvfs_methods(f.exports.sqlite3_wasm_kvvfs_methods());delete c.sqlite3_kvvfs_methods;const C=f.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,k=f.pstack,N=R=>f.peek(R)===115?sessionStorage:localStorage,j={xRead:(R,xe,Te,me)=>{const $e=k.pointer,yt=f.scopedAllocPush();try{const E=C(R,xe);if(!E)return-3;const B=f.cstrToJs(E),J=N(R).getItem(B);if(!J)return-1;const Ie=J.length;if(me<=0)return Ie;if(me===1)return f.poke(Te,0),Ie;const x=f.scopedAllocCString(J);return me>Ie+1&&(me=Ie+1),f.heap8u().copyWithin(Te,x,x+me-1),f.poke(Te+me-1,0),me-1}catch(E){return console.error("kvstorageRead()",E),-2}finally{k.restore($e),f.scopedAllocPop(yt)}},xWrite:(R,xe,Te)=>{const me=k.pointer;try{const $e=C(R,xe);if(!$e)return 1;const yt=f.cstrToJs($e);return N(R).setItem(yt,f.cstrToJs(Te)),0}catch($e){return console.error("kvstorageWrite()",$e),c.SQLITE_IOERR}finally{k.restore(me)}},xDelete:(R,xe)=>{const Te=k.pointer;try{const me=C(R,xe);return me?(N(R).removeItem(f.cstrToJs(me)),0):1}catch(me){return console.error("kvstorageDelete()",me),c.SQLITE_IOERR}finally{k.restore(Te)}}};for(const R of Object.keys(j))ee[ee.memberKey(R)]=f.installFunction(ee.memberSignature(R),j[R])}else c.sqlite3_vfs_unregister(at);f.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){o.version={libVersion:"3.43.1",libVersionNumber:3043001,sourceId:"2023-09-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0",downloadVersion:3430100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){const u=(...x)=>{throw new o.SQLite3Error(...x)},c=o.capi,f=o.wasm,g=o.util,I=new WeakMap,H=new WeakMap,pe=(x,D,b)=>{const y=Object.getOwnPropertyDescriptor(x,D);return y?y.value:b},De=function(x,D){return D&&(x instanceof C&&(x=x.pointer),u(D,"sqlite3 result code",D+":",x?c.sqlite3_errmsg(x):c.sqlite3_errstr(D))),arguments[0]},Qe=f.installFunction("i(ippp)",function(x,D,b,y){c.SQLITE_TRACE_STMT===x&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+D+":",f.cstrToJs(y))}.bind({counter:0})),at=Object.create(null),ee=function x(...D){if(!x._name2vfs){x._name2vfs=Object.create(null);const se=typeof importScripts=="function"?ke=>u("The VFS for",ke,"is only available in the main window thread."):!1;x._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:se||(()=>"local")},x._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:se||(()=>"session")}}const b=x.normalizeArgs(...D);let y=b.filename,F=b.vfs,le=b.flags;(typeof y!="string"&&typeof y!="number"||typeof le!="string"||F&&typeof F!="string"&&typeof F!="number")&&(o.config.error("Invalid DB ctor args",b,arguments),u("Invalid arguments for DB constructor."));let je=typeof y=="number"?f.cstrToJs(y):y;const ot=x._name2vfs[je];ot&&(F=ot.vfs,y=je=ot.filename(je));let dt,Ce=0;le.indexOf("c")>=0&&(Ce|=c.SQLITE_OPEN_CREATE|c.SQLITE_OPEN_READWRITE),le.indexOf("w")>=0&&(Ce|=c.SQLITE_OPEN_READWRITE),Ce===0&&(Ce|=c.SQLITE_OPEN_READONLY),Ce|=c.SQLITE_OPEN_EXRESCODE;const $=f.pstack.pointer;try{const se=f.pstack.allocPtr();let ke=c.sqlite3_open_v2(y,se,Ce,F||0);dt=f.peekPtr(se),De(dt,ke),c.sqlite3_extended_result_codes(dt,1),le.indexOf("t")>=0&&c.sqlite3_trace_v2(dt,c.SQLITE_TRACE_STMT,Qe,dt)}catch(se){throw dt&&c.sqlite3_close_v2(dt),se}finally{f.pstack.restore($)}this.filename=je,I.set(this,dt),H.set(this,Object.create(null));try{const se=c.sqlite3_js_db_vfs(dt);se||u("Internal error: cannot get VFS for new db handle.");const ke=at[se];ke instanceof Function?ke(this,o):ke&&De(dt,c.sqlite3_exec(dt,ke,0,0,0))}catch(se){throw this.close(),se}};ee.setVfsPostOpenSql=function(x,D){at[x]=D},ee.normalizeArgs=function(x=":memory:",D="c",b=null){const y={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(y,arguments[0]),y.flags===void 0&&(y.flags="c"),y.vfs===void 0&&(y.vfs=null),y.filename===void 0&&(y.filename=":memory:")):(y.filename=x,y.flags=D,y.vfs=b),y};const C=function(...x){ee.apply(this,x)};C.dbCtorHelper=ee;const k={null:1,number:2,string:3,boolean:4,blob:5};k.undefined==k.null,f.bigIntEnabled&&(k.bigint=k.number);const N=function(){k!==arguments[2]&&u(c.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],I.set(this,arguments[1]),this.parameterCount=c.sqlite3_bind_parameter_count(this.pointer)},j=function(x){return x.pointer||u("DB has been closed."),x},R=function(x,D){return(D!==(D|0)||D<0||D>=x.columnCount)&&u("Column index",D,"is out of range."),x},xe=function(x,D){const b=Object.create(null);switch(b.opt=Object.create(null),D.length){case 1:typeof D[0]=="string"||g.isSQLableTypedArray(D[0])||Array.isArray(D[0])?b.sql=D[0]:D[0]&&typeof D[0]=="object"&&(b.opt=D[0],b.sql=b.opt.sql);break;case 2:b.sql=D[0],b.opt=D[1];break;default:u("Invalid argument count for exec().")}b.sql=g.flexibleString(b.sql),typeof b.sql!="string"&&u("Missing SQL argument or unsupported SQL value type.");const y=b.opt;switch(y.returnValue){case"resultRows":y.resultRows||(y.resultRows=[]),b.returnVal=()=>y.resultRows;break;case"saveSql":y.saveSql||(y.saveSql=[]),b.returnVal=()=>y.saveSql;break;case void 0:case"this":b.returnVal=()=>x;break;default:u("Invalid returnValue value:",y.returnValue)}if(!y.callback&&!y.returnValue&&y.rowMode!==void 0&&(y.resultRows||(y.resultRows=[]),b.returnVal=()=>y.resultRows),y.callback||y.resultRows)switch(y.rowMode===void 0?"array":y.rowMode){case"object":b.cbArg=F=>F.get(Object.create(null));break;case"array":b.cbArg=F=>F.get([]);break;case"stmt":Array.isArray(y.resultRows)&&u("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),b.cbArg=F=>F;break;default:if(g.isInt32(y.rowMode)){b.cbArg=F=>F.get(y.rowMode);break}else if(typeof y.rowMode=="string"&&y.rowMode.length>1&&y.rowMode[0]==="$"){const F=y.rowMode.substr(1);b.cbArg=le=>{const je=le.get(Object.create(null))[F];return je===void 0?u(c.SQLITE_NOTFOUND,"exec(): unknown result column:",F):je};break}u("Invalid rowMode:",y.rowMode)}return b},Te=(x,D,b,...y)=>{const F=x.prepare(D);try{const le=F.bind(b).step()?F.get(...y):void 0;return F.reset(),le}finally{F.finalize()}},me=(x,D,b,y)=>x.exec({sql:D,bind:b,rowMode:y,returnValue:"resultRows"});C.checkRc=(x,D)=>De(x,D),C.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return j(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const x=this.pointer;if(Object.keys(H.get(this)).forEach((D,b)=>{if(b&&b.pointer)try{b.finalize()}catch{}}),I.delete(this),H.delete(this),c.sqlite3_close_v2(x),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(x=!1,D=!1){const b=j(this).pointer;return x?D?c.sqlite3_total_changes64(b):c.sqlite3_total_changes(b):D?c.sqlite3_changes64(b):c.sqlite3_changes(b)},dbFilename:function(x="main"){return c.sqlite3_db_filename(j(this).pointer,x)},dbName:function(x=0){return c.sqlite3_db_name(j(this).pointer,x)},dbVfsName:function(x=0){let D;const b=c.sqlite3_js_db_vfs(j(this).pointer,x);if(b){const y=new c.sqlite3_vfs(b);try{D=f.cstrToJs(y.$zName)}finally{y.dispose()}}return D},prepare:function(x){j(this);const D=f.pstack.pointer;let b,y;try{b=f.pstack.alloc(8),C.checkRc(this,c.sqlite3_prepare_v2(this.pointer,x,-1,b,null)),y=f.peekPtr(b)}finally{f.pstack.restore(D)}y||u("Cannot prepare empty SQL.");const F=new N(this,y,k);return H.get(this)[y]=F,F},exec:function(){j(this);const x=xe(this,arguments);if(!x.sql)return u("exec() requires an SQL string.");const D=x.opt,b=D.callback,y=Array.isArray(D.resultRows)?D.resultRows:void 0;let F,le=D.bind,je=!!(x.cbArg||D.columnNames||y);const ot=f.scopedAllocPush(),dt=Array.isArray(D.saveSql)?D.saveSql:void 0;try{const Ce=g.isSQLableTypedArray(x.sql);let $=Ce?x.sql.byteLength:f.jstrlen(x.sql);const se=f.scopedAlloc(2*f.ptrSizeof+($+1)),ke=se+f.ptrSizeof;let Ue=ke+f.ptrSizeof;const mt=Ue+$;for(Ce?f.heap8().set(x.sql,Ue):f.jstrcpy(x.sql,f.heap8(),Ue,$,!1),f.poke(Ue+$,0);Ue&&f.peek(Ue,"i8");){f.pokePtr([se,ke],0),C.checkRc(this,c.sqlite3_prepare_v3(this.pointer,Ue,$,0,se,ke));const Y=f.peekPtr(se);if(Ue=f.peekPtr(ke),$=mt-Ue,!!Y){if(dt&&dt.push(c.sqlite3_sql(Y).trim()),F=new N(this,Y,k),le&&F.parameterCount&&(F.bind(le),le=null),je&&F.columnCount){let we=Array.isArray(D.columnNames)?0:1;if(je=!1,x.cbArg||y){for(;F.step();F._lockedByExec=!1){we++===0&&F.getColumnNames(D.columnNames),F._lockedByExec=!0;const qe=x.cbArg(F);if(y&&y.push(qe),b&&b.call(D,qe,F)===!1)break}F._lockedByExec=!1}we===0&&F.getColumnNames(D.columnNames)}else F.step();F.reset().finalize(),F=null}}}finally{f.scopedAllocPop(ot),F&&(delete F._lockedByExec,F.finalize())}return x.returnVal()},createFunction:function(D,b,y){const F=qe=>qe instanceof Function;switch(arguments.length){case 1:y=D,D=y.name,b=y.xFunc||0;break;case 2:F(b)||(y=b,b=y.xFunc||0);break}y||(y={}),typeof D!="string"&&u("Invalid arguments: missing function name.");let le=y.xStep||0,je=y.xFinal||0;const ot=y.xValue||0,dt=y.xInverse||0;let Ce;F(b)?(Ce=!1,(F(le)||F(je))&&u("Ambiguous arguments: scalar or aggregate?"),le=je=null):F(le)?(F(je)||u("Missing xFinal() callback for aggregate or window UDF."),b=null):F(je)?u("Missing xStep() callback for aggregate or window UDF."):u("Missing function-type properties."),Ce===!1?(F(ot)||F(dt))&&u("xValue and xInverse are not permitted for non-window UDFs."):F(ot)?(F(dt)||u("xInverse must be provided if xValue is."),Ce=!0):F(dt)&&u("xValue must be provided if xInverse is.");const $=y.pApp;$!=null&&(typeof $!="number"||!g.isInt32($))&&u("Invalid value for pApp property. Must be a legal WASM pointer value.");const se=y.xDestroy||0;se&&!F(se)&&u("xDestroy property must be a function.");let ke=0;pe(y,"deterministic")&&(ke|=c.SQLITE_DETERMINISTIC),pe(y,"directOnly")&&(ke|=c.SQLITE_DIRECTONLY),pe(y,"innocuous")&&(ke|=c.SQLITE_INNOCUOUS),D=D.toLowerCase();const Ue=b||le,mt=pe(y,"arity"),Y=typeof mt=="number"?mt:Ue.length?Ue.length-1:0;let we;return Ce?we=c.sqlite3_create_window_function(this.pointer,D,Y,c.SQLITE_UTF8|ke,$||0,le,je,ot,dt,se):we=c.sqlite3_create_function_v2(this.pointer,D,Y,c.SQLITE_UTF8|ke,$||0,b,le,je,se),C.checkRc(this,we),this},selectValue:function(x,D,b){return Te(this,x,D,0,b)},selectValues:function(x,D,b){const y=this.prepare(x),F=[];try{for(y.bind(D);y.step();)F.push(y.get(0,b));y.reset()}finally{y.finalize()}return F},selectArray:function(x,D){return Te(this,x,D,[])},selectObject:function(x,D){return Te(this,x,D,{})},selectArrays:function(x,D){return me(this,x,D,"array")},selectObjects:function(x,D){return me(this,x,D,"object")},openStatementCount:function(){return this.pointer?Object.keys(H.get(this)).length:0},transaction:function(x){let D="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&u(c.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),D+=" "+arguments[0],x=arguments[1]),j(this).exec(D);try{const b=x(this);return this.exec("COMMIT"),b}catch(b){throw this.exec("ROLLBACK"),b}},savepoint:function(x){j(this).exec("SAVEPOINT oo1");try{const D=x(this);return this.exec("RELEASE oo1"),D}catch(D){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),D}},checkRc:function(x){return De(this,x)}};const $e=function(x){return x.pointer||u("Stmt has been closed."),x},yt=function(x){let D=k[x==null?"null":typeof x];switch(D){case k.boolean:case k.null:case k.number:case k.string:return D;case k.bigint:if(f.bigIntEnabled)return D;default:return g.isBindableTypedArray(x)?k.blob:void 0}},E=function(x){return yt(x)||u("Unsupported bind() argument type:",typeof x)},B=function(x,D){const b=typeof D=="number"?D:c.sqlite3_bind_parameter_index(x.pointer,D);return b===0||!g.isInt32(b)?u("Invalid bind() parameter name: "+D):(b<1||b>x.parameterCount)&&u("Bind index",D,"is out of range."),b},J=function(x,D){return x._lockedByExec&&u("Operation is illegal when statement is locked:",D),x},Ie=function x(D,b,y,F){J($e(D),"bind()"),x._||(x._tooBigInt=je=>u("BigInt value is too big to store without precision loss:",je),x._={string:function(je,ot,dt,Ce){const[$,se]=f.allocCString(dt,!0);return(Ce?c.sqlite3_bind_blob:c.sqlite3_bind_text)(je.pointer,ot,$,se,c.SQLITE_WASM_DEALLOC)}}),E(F),b=B(D,b);let le=0;switch(F==null?k.null:y){case k.null:le=c.sqlite3_bind_null(D.pointer,b);break;case k.string:le=x._.string(D,b,F,!1);break;case k.number:{let je;g.isInt32(F)?je=c.sqlite3_bind_int:typeof F=="bigint"?g.bigIntFits64(F)?f.bigIntEnabled?je=c.sqlite3_bind_int64:g.bigIntFitsDouble(F)?(F=Number(F),je=c.sqlite3_bind_double):x._tooBigInt(F):x._tooBigInt(F):(F=Number(F),f.bigIntEnabled&&Number.isInteger(F)?je=c.sqlite3_bind_int64:je=c.sqlite3_bind_double),le=je(D.pointer,b,F);break}case k.boolean:le=c.sqlite3_bind_int(D.pointer,b,F?1:0);break;case k.blob:{if(typeof F=="string"){le=x._.string(D,b,F,!0);break}else F instanceof ArrayBuffer?F=new Uint8Array(F):g.isBindableTypedArray(F)||u("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const je=f.alloc(F.byteLength||1);f.heap8().set(F.byteLength?F:[0],je),le=c.sqlite3_bind_blob(D.pointer,b,je,F.byteLength,c.SQLITE_WASM_DEALLOC);break}default:o.config.warn("Unsupported bind() argument type:",F),u("Unsupported bind() argument type: "+typeof F)}return le&&C.checkRc(D.db.pointer,le),D._mayGet=!1,D};N.prototype={finalize:function(){if(this.pointer){J(this,"finalize()");const x=c.sqlite3_finalize(this.pointer);return delete H.get(this.db)[this.pointer],I.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,x}},clearBindings:function(){return J($e(this),"clearBindings()"),c.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(x){J(this,"reset()"),x&&this.clearBindings();const D=c.sqlite3_reset($e(this).pointer);return this._mayGet=!1,De(this.db,D),this},bind:function(){$e(this);let x,D;switch(arguments.length){case 1:x=1,D=arguments[0];break;case 2:x=arguments[0],D=arguments[1];break;default:u("Invalid bind() arguments.")}return D===void 0?this:(this.parameterCount||u("This statement has no bindable parameters."),this._mayGet=!1,D===null?Ie(this,x,k.null,D):Array.isArray(D)?(arguments.length!==1&&u("When binding an array, an index argument is not permitted."),D.forEach((b,y)=>Ie(this,y+1,E(b),b)),this):(D instanceof ArrayBuffer&&(D=new Uint8Array(D)),typeof D=="object"&&!g.isBindableTypedArray(D)?(arguments.length!==1&&u("When binding an object, an index argument is not permitted."),Object.keys(D).forEach(b=>Ie(this,b,E(D[b]),D[b])),this):Ie(this,x,E(D),D)))},bindAsBlob:function(x,D){$e(this),arguments.length===1&&(D=x,x=1);const b=E(D);return k.string!==b&&k.blob!==b&&k.null!==b&&u("Invalid value type for bindAsBlob()"),Ie(this,x,k.blob,D)},step:function(){J(this,"step()");const x=c.sqlite3_step($e(this).pointer);switch(x){case c.SQLITE_DONE:return this._mayGet=!1;case c.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,o.config.warn("sqlite3_step() rc=",x,c.sqlite3_js_rc_str(x),"SQL =",c.sqlite3_sql(this.pointer)),C.checkRc(this.db.pointer,x)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const x=this.step();return this.reset(),x}finally{try{this.finalize()}catch{}}},get:function(x,D){if($e(this)._mayGet||u("Stmt.step() has not (recently) returned true."),Array.isArray(x)){let b=0;const y=this.columnCount;for(;b<y;)x[b]=this.get(b++);return x}else if(x&&typeof x=="object"){let b=0;const y=this.columnCount;for(;b<y;)x[c.sqlite3_column_name(this.pointer,b)]=this.get(b++);return x}switch(R(this,x),D===void 0?c.sqlite3_column_type(this.pointer,x):D){case c.SQLITE_NULL:return null;case c.SQLITE_INTEGER:if(f.bigIntEnabled){const b=c.sqlite3_column_int64(this.pointer,x);return b>=Number.MIN_SAFE_INTEGER&&b<=Number.MAX_SAFE_INTEGER?Number(b).valueOf():b}else{const b=c.sqlite3_column_double(this.pointer,x);return(b>Number.MAX_SAFE_INTEGER||b<Number.MIN_SAFE_INTEGER)&&u("Integer is out of range for JS integer range: "+b),g.isInt32(b)?b|0:b}case c.SQLITE_FLOAT:return c.sqlite3_column_double(this.pointer,x);case c.SQLITE_TEXT:return c.sqlite3_column_text(this.pointer,x);case c.SQLITE_BLOB:{const b=c.sqlite3_column_bytes(this.pointer,x),y=c.sqlite3_column_blob(this.pointer,x),F=new Uint8Array(b);return b&&F.set(f.heap8u().slice(y,y+b),0),b&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(F.buffer),F}default:u("Don't know how to translate","type of result column #"+x+".")}u("Not reached.")},getInt:function(x){return this.get(x,c.SQLITE_INTEGER)},getFloat:function(x){return this.get(x,c.SQLITE_FLOAT)},getString:function(x){return this.get(x,c.SQLITE_TEXT)},getBlob:function(x){return this.get(x,c.SQLITE_BLOB)},getJSON:function(x){const D=this.get(x,c.SQLITE_STRING);return D===null?D:JSON.parse(D)},getColumnName:function(x){return c.sqlite3_column_name(R($e(this),x).pointer,x)},getColumnNames:function(x=[]){R($e(this),0);const D=this.columnCount;for(let b=0;b<D;++b)x.push(c.sqlite3_column_name(this.pointer,b));return x},getParamIndex:function(x){return $e(this).parameterCount?c.sqlite3_bind_parameter_index(this.pointer,x):void 0}};{const x={enumerable:!0,get:function(){return I.get(this)},set:()=>u("The pointer property is read-only.")};Object.defineProperty(N.prototype,"pointer",x),Object.defineProperty(C.prototype,"pointer",x)}if(Object.defineProperty(N.prototype,"columnCount",{enumerable:!1,get:function(){return c.sqlite3_column_count(this.pointer)},set:()=>u("The columnCount property is read-only.")}),o.oo1={DB:C,Stmt:N},g.isUIThread()){o.oo1.JsStorageDb=function(D="session"){D!=="session"&&D!=="local"&&u("JsStorageDb db name must be one of 'session' or 'local'."),ee.call(this,{filename:D,flags:"c",vfs:"kvvfs"})};const x=o.oo1.JsStorageDb;x.prototype=Object.create(C.prototype),x.clearStorage=c.sqlite3_js_kvvfs_clear,x.prototype.clearStorage=function(){return x.clearStorage(j(this).filename)},x.storageSize=c.sqlite3_js_kvvfs_size,x.prototype.storageSize=function(){return x.storageSize(j(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){o.initWorker1API=function(){const u=(...C)=>{throw new Error(C.join(" "))};globalThis.WorkerGlobalScope instanceof Function||u("initWorker1API() must be run from a Worker thread."),this.self;const c=this.sqlite3||u("Missing this.sqlite3 object."),f=c.oo1.DB,g=function(C){let k=I.idMap.get(C);return k||(k="db#"+ ++I.idSeq+"@"+C.pointer,I.idMap.set(C,k),k)},I={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(C){const k=new f(C);return this.dbs[g(k)]=k,this.dbList.indexOf(k)<0&&this.dbList.push(k),k},close:function(C,k){if(C){delete this.dbs[g(C)];const N=C.filename,j=c.wasm.sqlite3_wasm_db_vfs(C.pointer,0);C.close();const R=this.dbList.indexOf(C);R>=0&&this.dbList.splice(R,1),k&&N&&j&&c.wasm.sqlite3_wasm_vfs_unlink(j,N)}},post:function(C,k){k&&k.length?(globalThis.postMessage(C,Array.from(k)),k.length=0):globalThis.postMessage(C)},dbs:Object.create(null),getDb:function(C,k=!0){return this.dbs[C]||(k?u("Unknown (or closed) DB ID:",C):void 0)}},H=function(C=I.dbList[0]){return C&&C.pointer?C:u("DB is not opened.")},pe=function(C,k=!0){const N=I.getDb(C.dbId,!1)||I.dbList[0];return k?H(N):N},De=function(){return I.dbList[0]},Qe=function(C){const k=/^file:.+(vfs=(\w+))/.exec(C);return c.capi.sqlite3_vfs_find(k?k[2]:0)},at=C=>C===""||C[0]===":",ee={open:function(C){const k=Object.create(null),N=C.args||Object.create(null);N.simulateError&&u("Throwing because of simulateError flag.");const j=Object.create(null);let R,xe;if(k.vfs=N.vfs,at(N.filename)?k.filename=N.filename||"":(k.filename=N.filename,R=N.byteArray,R&&(xe=Qe(N.filename))),xe){let me;try{me=c.wasm.allocFromTypedArray(R);const $e=c.wasm.sqlite3_wasm_vfs_create_file(xe,k.filename,me,R.byteLength);$e&&c.SQLite3Error.toss($e)}catch($e){throw new c.SQLite3Error($e.name+" creating "+N.filename+": "+$e.message,{cause:$e})}finally{me&&c.wasm.dealloc(me)}}const Te=I.open(k);return j.filename=Te.filename,j.persistent=!!c.capi.sqlite3_js_db_uses_vfs(Te.pointer,"opfs"),j.dbId=g(Te),j.vfs=Te.dbVfsName(),j},close:function(C){const k=pe(C,!1),N={filename:k&&k.filename};if(k){const j=C.args&&typeof C.args=="object"?!!C.args.unlink:!1;I.close(k,j)}return N},exec:function(C){const k=typeof C.args=="string"?{sql:C.args}:C.args||Object.create(null);k.rowMode==="stmt"?u("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):k.sql||u("'exec' requires input SQL.");const N=pe(C);(k.callback||Array.isArray(k.resultRows))&&(N._blobXfer=I.xfer);const j=k.callback;let R=0;const xe=!!k.columnNames;typeof j=="string"&&(xe||(k.columnNames=[]),k.callback=function(Te,me){I.post({type:j,columnNames:k.columnNames,rowNumber:++R,row:Te},I.xfer)});try{const Te=k.countChanges?N.changes(!0,k.countChanges===64):void 0;N.exec(k),Te!==void 0&&(k.changeCount=N.changes(!0,k.countChanges===64)-Te),k.callback instanceof Function&&(k.callback=j,I.post({type:j,columnNames:k.columnNames,rowNumber:null,row:void 0}))}finally{delete N._blobXfer,k.callback&&(k.callback=j)}return k},"config-get":function(){const C=Object.create(null),k=c.config;return["bigIntEnabled"].forEach(function(N){Object.getOwnPropertyDescriptor(k,N)&&(C[N]=k[N])}),C.version=c.version,C.vfsList=c.capi.sqlite3_js_vfs_list(),C.opfsEnabled=!!c.opfs,C},export:function(C){const k=pe(C),N={byteArray:c.capi.sqlite3_js_db_export(k.pointer),filename:k.filename,mimetype:"application/x-sqlite3"};return I.xfer.push(N.byteArray.buffer),N},toss:function(C){u("Testing worker exception")},"opfs-tree":async function(C){return c.opfs||u("OPFS support is unavailable."),await c.opfs.treeList()}};globalThis.onmessage=async function(C){C=C.data;let k,N=C.dbId,j=C.type;const R=performance.now();try{ee.hasOwnProperty(j)&&ee[j]instanceof Function?k=await ee[j](C):u("Unknown db worker message type:",C.type)}catch(xe){j="error",k={operation:C.type,message:xe.message,errorClass:xe.name,input:C},xe.stack&&(k.stack=typeof xe.stack=="string"?xe.stack.split(/\n\s*/):xe.stack)}N||(N=k.dbId||De()),I.post({type:j,dbId:N,messageId:C.messageId,workerReceivedTime:R,workerRespondTime:performance.now(),departureTime:C.departureTime,result:k},I.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:o})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){const u=o.wasm,c=o.capi,f=o.util.toss3,g=Object.create(null),I=Object.create(null),H=o.StructBinder;o.vfs=g,o.vtab=I;const pe=c.sqlite3_index_info;pe.prototype.nthConstraint=function(C,k=!1){if(C<0||C>=this.$nConstraint)return!1;const N=this.$aConstraint+pe.sqlite3_index_constraint.structInfo.sizeof*C;return k?N:new pe.sqlite3_index_constraint(N)},pe.prototype.nthConstraintUsage=function(C,k=!1){if(C<0||C>=this.$nConstraint)return!1;const N=this.$aConstraintUsage+pe.sqlite3_index_constraint_usage.structInfo.sizeof*C;return k?N:new pe.sqlite3_index_constraint_usage(N)},pe.prototype.nthOrderBy=function(C,k=!1){if(C<0||C>=this.$nOrderBy)return!1;const N=this.$aOrderBy+pe.sqlite3_index_orderby.structInfo.sizeof*C;return k?N:new pe.sqlite3_index_orderby(N)};const De=function C(k,N,j,R=C.installMethodArgcCheck){if(k instanceof H.StructType?!(j instanceof Function)&&!u.isPtr(j)&&f("Usage errror: expecting a Function or WASM pointer to one."):f("Usage error: target object is-not-a StructType."),arguments.length===1)return($e,yt)=>C(k,$e,yt,R);C.argcProxy||(C.argcProxy=function($e,yt,E,B){return function(...J){return E.length!==arguments.length&&f("Argument mismatch for",$e.structInfo.name+"::"+yt+": Native signature is:",B),E.apply(this,J)}},C.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach(($e,yt)=>{if(typeof $e=="number")try{u.uninstallFunction($e)}catch{}}),delete this.ondispose.__removeFuncList)});const xe=k.memberSignature(N);xe.length<2&&f("Member",N,"does not have a function pointer signature:",xe);const Te=k.memberKey(N),me=R&&!u.isPtr(j)?C.argcProxy(k,Te,j,xe):j;if(u.isPtr(me))me&&!u.functionEntry(me)&&f("Pointer",me,"is not a WASM function table entry."),k[Te]=me;else{const $e=u.installFunction(me,k.memberSignature(N,!0));k[Te]=$e,(!k.ondispose||!k.ondispose.__removeFuncList)&&(k.addOnDispose("ondispose.__removeFuncList handler",C.removeFuncList),k.ondispose.__removeFuncList=[]),k.ondispose.__removeFuncList.push(Te,$e)}return($e,yt)=>C(k,$e,yt,R)};De.installMethodArgcCheck=!1;const Qe=function(C,k,N=De.installMethodArgcCheck){const j=new Map;for(const R of Object.keys(k)){const xe=k[R],Te=j.get(xe);if(Te){const me=C.memberKey(R);C[me]=C[C.memberKey(Te)]}else De(C,R,xe,N),j.set(xe,R)}return C};H.StructType.prototype.installMethod=function(k,N,j=De.installMethodArgcCheck){return arguments.length<3&&k&&typeof k=="object"?Qe(this,...arguments):De(this,...arguments)},H.StructType.prototype.installMethods=function(C,k=De.installMethodArgcCheck){return Qe(this,C,k)},c.sqlite3_vfs.prototype.registerVfs=function(C=!1){this instanceof o.capi.sqlite3_vfs||f("Expecting a sqlite3_vfs-type argument.");const k=c.sqlite3_vfs_register(this,C?1:0);return k&&f("sqlite3_vfs_register(",this,") failed with rc",k),this.pointer!==c.sqlite3_vfs_find(this.$zName)&&f("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},g.installVfs=function(C){let k=0;const N=["io","vfs"];for(const j of N){const R=C[j];R&&(++k,Qe(R.struct,R.methods,!!R.applyArgcCheck),j==="vfs"&&(!R.struct.$zName&&typeof R.name=="string"&&R.struct.addOnDispose(R.struct.$zName=u.allocCString(R.name)),R.struct.registerVfs(!!R.asDefault)))}return k||f("Misuse: installVfs() options object requires at least","one of:",N),this};const at=function(C,k){return function(N,j=!1){if(arguments.length===0&&(N=new k),N instanceof k)return this.set(N.pointer,N),N;u.isPtr(N)||o.SQLite3Error.toss("Invalid argument to",C+"()");let R=this.get(N);return j&&this.delete(N),R}.bind(new Map)},ee=function(C,k){const N=at(C,k);return Object.assign(Object.create(null),{StructType:k,create:j=>{const R=N();return u.pokePtr(j,R.pointer),R},get:j=>N(j),unget:j=>N(j,!0),dispose:j=>{const R=N(j,!0);R&&R.dispose()}})};I.xVtab=ee("xVtab",c.sqlite3_vtab),I.xCursor=ee("xCursor",c.sqlite3_vtab_cursor),I.xIndexInfo=C=>new c.sqlite3_index_info(C),I.xError=function C(k,N,j){if(C.errorReporter instanceof Function)try{C.errorReporter("sqlite3_module::"+k+"(): "+N.message)}catch{}let R;return N instanceof o.WasmAllocError?R=c.SQLITE_NOMEM:arguments.length>2?R=j:N instanceof o.SQLite3Error&&(R=N.resultCode),R||c.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(C,k)=>u.poke(C,k,"i64"),I.setupModule=function(C){let k=!1;const N=this instanceof c.sqlite3_module?this:C.struct||(k=new c.sqlite3_module);try{const j=C.methods||f("Missing 'methods' object.");for(const R of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const xe=R[0],Te=R[1];j[xe]===!0?j[xe]=j[Te]:j[Te]===!0&&(j[Te]=j[xe])}if(C.catchExceptions){const R=function(me,$e){return["xConnect","xCreate"].indexOf(me)>=0?function(yt,E,B,J,Ie,x){try{return $e(...arguments)||0}catch(D){return D instanceof o.WasmAllocError||(u.dealloc(u.peekPtr(x)),u.pokePtr(x,u.allocCString(D.message))),I.xError(me,D)}}:function(...yt){try{return $e(...yt)||0}catch(E){return I.xError(me,E)}}},xe=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],Te=Object.create(null);for(const me of xe){const $e=j[me];if($e instanceof Function)me==="xConnect"&&j.xCreate===$e?Te[me]=j.xCreate:me==="xCreate"&&j.xConnect===$e?Te[me]=j.xConnect:Te[me]=R(me,$e);else continue}Qe(N,Te,!1)}else Qe(N,j,!!C.applyArgcCheck);if(N.$iVersion===0){let R;typeof C.iVersion=="number"?R=C.iVersion:N.$xShadowName?R=3:N.$xSavePoint||N.$xRelease||N.$xRollbackTo?R=2:R=1,N.$iVersion=R}}catch(j){throw k&&k.dispose(),j}return N},c.sqlite3_module.prototype.setupModule=function(C){return I.setupModule.call(this,C)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){const u=function c(f){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!f||typeof f!="object")&&(f=Object.create(null));const g=new URL(globalThis.location.href).searchParams;return g.has("opfs-disable")?Promise.resolve(o):(f.verbose===void 0&&(f.verbose=g.has("opfs-verbose")?+g.get("opfs-verbose")||2:1),f.sanityChecks===void 0&&(f.sanityChecks=g.has("opfs-sanity-check")),f.proxyUri===void 0&&(f.proxyUri=c.defaultProxyUri),typeof f.proxyUri=="function"&&(f.proxyUri=f.proxyUri()),new Promise(function(H,pe){const De=[o.config.error,o.config.warn,o.config.log],Qe=(Y,...we)=>{f.verbose>Y&&De[Y]("OPFS syncer:",...we)},at=(...Y)=>Qe(2,...Y),ee=(...Y)=>Qe(1,...Y),C=(...Y)=>Qe(0,...Y),k=o.util.toss,N=o.capi,j=o.wasm,R=N.sqlite3_vfs,xe=N.sqlite3_file,Te=N.sqlite3_io_methods,me=Object.create(null),$e=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;me.metrics={dump:function(){let Y,we=0,qe=0,tt=0;for(Y in y.opIds){const He=F[Y];we+=He.count,qe+=He.time,tt+=He.wait,He.avgTime=He.count&&He.time?He.time/He.count:0,He.avgWait=He.count&&He.wait?He.wait/He.count:0}o.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",F,`
Total of`,we,"op(s) for",qe,"ms (incl. "+tt+" ms of waiting on the async side)"),o.config.log("Serialization metrics:",F.s11n),x.postMessage({type:"opfs-async-metrics"})},reset:function(){let Y;const we=tt=>tt.count=tt.time=tt.wait=0;for(Y in y.opIds)we(F[Y]=Object.create(null));let qe=F.s11n=Object.create(null);qe=qe.serialize=Object.create(null),qe.count=qe.time=0,qe=F.s11n.deserialize=Object.create(null),qe.count=qe.time=0}};const yt=new Te,E=new R().addOnDispose(()=>yt.dispose());let B;const J=Y=>(B=!0,E.dispose(),pe(Y)),Ie=()=>(B=!1,H(o)),x=new Worker(new URL("/assets/sqlite3-opfs-async-proxy.88374fec.js",self.location));setTimeout(()=>{B===void 0&&J(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),x._originalOnError=x.onerror,x.onerror=function(Y){C("Error initializing OPFS asyncer:",Y),J(new Error("Loading OPFS async Worker failed for unknown reasons."))};const D=N.sqlite3_vfs_find(null),b=D?new R(D):null;yt.$iVersion=1,E.$iVersion=2,E.$szOsFile=N.sqlite3_file.structInfo.sizeof,E.$mxPathname=1024,E.$zName=j.allocCString("opfs"),E.$xDlOpen=E.$xDlError=E.$xDlSym=E.$xDlClose=null,E.addOnDispose("$zName",E.$zName,"cleanup default VFS wrapper",()=>b?b.dispose():null);const y=Object.create(null);y.verbose=f.verbose,y.littleEndian=(()=>{const Y=new ArrayBuffer(2);return new DataView(Y).setInt16(0,256,!0),new Int16Array(Y)[0]===256})(),y.asyncIdleWaitTime=150,y.asyncS11nExceptions=1,y.fileBufferSize=1024*64,y.sabS11nOffset=y.fileBufferSize,y.sabS11nSize=E.$mxPathname*2,y.sabIO=new SharedArrayBuffer(y.fileBufferSize+y.sabS11nSize),y.opIds=Object.create(null);const F=Object.create(null);{let Y=0;y.opIds.whichOp=Y++,y.opIds.rc=Y++,y.opIds.xAccess=Y++,y.opIds.xClose=Y++,y.opIds.xDelete=Y++,y.opIds.xDeleteNoWait=Y++,y.opIds.xFileSize=Y++,y.opIds.xLock=Y++,y.opIds.xOpen=Y++,y.opIds.xRead=Y++,y.opIds.xSleep=Y++,y.opIds.xSync=Y++,y.opIds.xTruncate=Y++,y.opIds.xUnlock=Y++,y.opIds.xWrite=Y++,y.opIds.mkdir=Y++,y.opIds["opfs-async-metrics"]=Y++,y.opIds["opfs-async-shutdown"]=Y++,y.opIds.retry=Y++,y.sabOP=new SharedArrayBuffer(Y*4),me.metrics.reset()}y.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Y=>{(y.sq3Codes[Y]=N[Y])===void 0&&k("Maintenance required: not found:",Y)}),y.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const le=(Y,...we)=>{const qe=y.opIds[Y]||k("Invalid op ID:",Y);y.s11n.serialize(...we),Atomics.store(y.sabOPView,y.opIds.rc,-1),Atomics.store(y.sabOPView,y.opIds.whichOp,qe),Atomics.notify(y.sabOPView,y.opIds.whichOp);const tt=performance.now();Atomics.wait(y.sabOPView,y.opIds.rc,-1);const He=Atomics.load(y.sabOPView,y.opIds.rc);if(F[Y].wait+=performance.now()-tt,He&&y.asyncS11nExceptions){const Ct=y.s11n.deserialize();Ct&&C(Y+"() async error:",...Ct)}return He};me.debug={asyncShutdown:()=>{ee("Shutting down OPFS async listener. The OPFS VFS will no longer work."),le("opfs-async-shutdown")},asyncRestart:()=>{ee("Attempting to restart OPFS VFS async listener. Might work, might not."),x.postMessage({type:"opfs-async-restart"})}};const je=()=>{if(y.s11n)return y.s11n;const Y=new TextDecoder,we=new TextEncoder("utf-8"),qe=new Uint8Array(y.sabIO,y.sabS11nOffset,y.sabS11nSize),tt=new DataView(y.sabIO,y.sabS11nOffset,y.sabS11nSize);y.s11n=Object.create(null);const He=Object.create(null);He.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},He.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},He.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},He.string={id:4};const Ct=et=>He[typeof et]||k("Maintenance required: this value type cannot be serialized.",et),Rt=et=>{switch(et){case He.number.id:return He.number;case He.bigint.id:return He.bigint;case He.boolean.id:return He.boolean;case He.string.id:return He.string;default:k("Invalid type ID:",et)}};return y.s11n.deserialize=function(et=!1){++F.s11n.deserialize.count;const un=performance.now(),kn=qe[0],Zt=kn?[]:null;if(kn){const _e=[];let ze=1,Ke,nt,Lt;for(Ke=0;Ke<kn;++Ke,++ze)_e.push(Rt(qe[ze]));for(Ke=0;Ke<kn;++Ke){const Nt=_e[Ke];Nt.getter?(Lt=tt[Nt.getter](ze,y.littleEndian),ze+=Nt.size):(nt=tt.getInt32(ze,y.littleEndian),ze+=4,Lt=Y.decode(qe.slice(ze,ze+nt)),ze+=nt),Zt.push(Lt)}}return et&&(qe[0]=0),F.s11n.deserialize.time+=performance.now()-un,Zt},y.s11n.serialize=function(...et){const un=performance.now();if(++F.s11n.serialize.count,et.length){const kn=[];let Zt=0,_e=1;for(qe[0]=et.length&255;Zt<et.length;++Zt,++_e)kn.push(Ct(et[Zt])),qe[_e]=kn[Zt].id;for(Zt=0;Zt<et.length;++Zt){const ze=kn[Zt];if(ze.setter)tt[ze.setter](_e,et[Zt],y.littleEndian),_e+=ze.size;else{const Ke=we.encode(et[Zt]);tt.setInt32(_e,Ke.byteLength,y.littleEndian),_e+=4,qe.set(Ke,_e),_e+=Ke.byteLength}}}else qe[0]=0;F.s11n.serialize.time+=performance.now()-un},y.s11n},ot=function Y(we=16){Y._chars||(Y._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Y._n=Y._chars.length);const qe=[];let tt=0;for(;tt<we;++tt){const He=Math.random()*(Y._n*64)%Y._n|0;qe[tt]=Y._chars[He]}return qe.join("")},dt=Object.create(null),Ce=Object.create(null);Ce.op=void 0,Ce.start=void 0;const $=Y=>{Ce.start=performance.now(),Ce.op=Y,++F[Y].count},se=()=>F[Ce.op].time+=performance.now()-Ce.start,ke={xCheckReservedLock:function(Y,we){const qe=dt[Y];return j.poke(we,qe.lockType?1:0,"i32"),0},xClose:function(Y){$("xClose");let we=0;const qe=dt[Y];return qe&&(delete dt[Y],we=le("xClose",Y),qe.sq3File&&qe.sq3File.dispose()),se(),we},xDeviceCharacteristics:function(Y){return N.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Y,we,qe){return N.SQLITE_NOTFOUND},xFileSize:function(Y,we){$("xFileSize");let qe=le("xFileSize",Y);if(qe==0)try{const tt=y.s11n.deserialize()[0];j.poke(we,tt,"i64")}catch(tt){C("Unexpected error reading xFileSize() result:",tt),qe=y.sq3Codes.SQLITE_IOERR}return se(),qe},xLock:function(Y,we){$("xLock");const qe=dt[Y];let tt=0;return qe.lockType?qe.lockType=we:(tt=le("xLock",Y,we),tt===0&&(qe.lockType=we)),se(),tt},xRead:function(Y,we,qe,tt){$("xRead");const He=dt[Y];let Ct;try{Ct=le("xRead",Y,qe,Number(tt)),(Ct===0||N.SQLITE_IOERR_SHORT_READ===Ct)&&j.heap8u().set(He.sabView.subarray(0,qe),we)}catch(Rt){C("xRead(",arguments,") failed:",Rt,He),Ct=N.SQLITE_IOERR_READ}return se(),Ct},xSync:function(Y,we){$("xSync"),++F.xSync.count;const qe=le("xSync",Y,we);return se(),qe},xTruncate:function(Y,we){$("xTruncate");const qe=le("xTruncate",Y,Number(we));return se(),qe},xUnlock:function(Y,we){$("xUnlock");const qe=dt[Y];let tt=0;return N.SQLITE_LOCK_NONE===we&&qe.lockType&&(tt=le("xUnlock",Y,we)),tt===0&&(qe.lockType=we),se(),tt},xWrite:function(Y,we,qe,tt){$("xWrite");const He=dt[Y];let Ct;try{He.sabView.set(j.heap8u().subarray(we,we+qe)),Ct=le("xWrite",Y,qe,Number(tt))}catch(Rt){C("xWrite(",arguments,") failed:",Rt,He),Ct=N.SQLITE_IOERR_WRITE}return se(),Ct}},Ue={xAccess:function(Y,we,qe,tt){$("xAccess");const He=le("xAccess",j.cstrToJs(we));return j.poke(tt,He?0:1,"i32"),se(),0},xCurrentTime:function(Y,we){return j.poke(we,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Y,we){return j.poke(we,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(Y,we,qe){$("xDelete");const tt=le("xDelete",j.cstrToJs(we),qe,!1);return se(),tt},xFullPathname:function(Y,we,qe,tt){return j.cstrncpy(tt,we,qe)<qe?0:N.SQLITE_CANTOPEN},xGetLastError:function(Y,we,qe){return ee("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(we,qe,tt,He,Ct){$("xOpen");let Rt=0;qe===0?qe=ot():typeof qe=="number"&&(N.sqlite3_uri_boolean(qe,"opfs-unlock-asap",0)&&(Rt|=y.opfsFlags.OPFS_UNLOCK_ASAP),qe=j.cstrToJs(qe));const et=Object.create(null);et.fid=tt,et.filename=qe,et.sab=new SharedArrayBuffer(y.fileBufferSize),et.flags=He;const un=le("xOpen",tt,qe,He,Rt);return un||(et.readOnly&&j.poke(Ct,N.SQLITE_OPEN_READONLY,"i32"),dt[tt]=et,et.sabView=y.sabFileBufView,et.sq3File=new xe(tt),et.sq3File.$pMethods=yt.pointer,et.lockType=N.SQLITE_LOCK_NONE),se(),un}};if(b&&(E.$xRandomness=b.$xRandomness,E.$xSleep=b.$xSleep),E.$xRandomness||(Ue.xRandomness=function(Y,we,qe){const tt=j.heap8u();let He=0;for(;He<we;++He)tt[qe+He]=Math.random()*255e3&255;return He}),E.$xSleep||(Ue.xSleep=function(Y,we){return Atomics.wait(y.sabOPView,y.opIds.xSleep,0,we),0}),me.getResolvedPath=function(Y,we){const qe=new URL(Y,"file://irrelevant").pathname;return we?qe.split("/").filter(tt=>!!tt):qe},me.getDirForFilename=async function(we,qe=!1){const tt=me.getResolvedPath(we,!0),He=tt.pop();let Ct=me.rootDirectory;for(const Rt of tt)Rt&&(Ct=await Ct.getDirectoryHandle(Rt,{create:!!qe}));return[Ct,He]},me.mkdir=async function(Y){try{return await me.getDirForFilename(Y+"/filepart",!0),!0}catch{return!1}},me.entryExists=async function(Y){try{const[we,qe]=await me.getDirForFilename(Y);return await we.getFileHandle(qe),!0}catch{return!1}},me.randomFilename=ot,me.registerVfs=(Y=!1)=>j.exports.sqlite3_vfs_register(E.pointer,Y?1:0),me.treeList=async function(){const Y=async function qe(tt,He){He.name=tt.name,He.dirs=[],He.files=[];for await(const Ct of tt.values())if(Ct.kind==="directory"){const Rt=Object.create(null);He.dirs.push(Rt),await qe(Ct,Rt)}else He.files.push(Ct.name)},we=Object.create(null);return await Y(me.rootDirectory,we),we},me.rmfr=async function(){const Y=me.rootDirectory,we={recurse:!0};for await(const qe of Y.values())Y.removeEntry(qe.name,we)},me.unlink=async function(Y,we=!1,qe=!1){try{const[tt,He]=await me.getDirForFilename(Y,!1);return await tt.removeEntry(He,{recursive:we}),!0}catch(tt){if(qe)throw new Error("unlink(",arguments[0],") failed: "+tt.message,{cause:tt});return!1}},me.traverse=async function(Y){const we={recursive:!0,directory:me.rootDirectory};typeof Y=="function"&&(Y={callback:Y}),Y=Object.assign(we,Y||{}),async function tt(He,Ct){for await(const Rt of He.values()){if(Y.callback(Rt,He,Ct)===!1)return!1;if(Y.recursive&&Rt.kind==="directory"&&await tt(Rt,Ct+1)===!1)break}}(Y.directory,0)},me.importDb=async function(Y,we){we instanceof ArrayBuffer&&(we=new Uint8Array(we));const qe=we.byteLength;(qe<512||qe%512!=0)&&k("Byte array size is invalid for an SQLite db.");const tt="SQLite format 3";for(let et=0;et<tt.length;++et)tt.charCodeAt(et)!==we[et]&&k("Input does not contain an SQLite database header.");let He;const[Ct,Rt]=await me.getDirForFilename(Y,!0);try{He=await(await Ct.getFileHandle(Rt,{create:!0})).createSyncAccessHandle(),He.truncate(0);const un=He.write(we,{at:0});return un!=qe&&k("Expected to write "+qe+" bytes but wrote "+un+"."),He.write(new Uint8Array([1,1]),{at:18}),un}catch(et){throw He&&(await He.close(),He=void 0),await Ct.removeEntry(Rt).catch(()=>{}),et}finally{He&&await He.close()}},o.oo1){const Y=function(...we){const qe=o.oo1.DB.dbCtorHelper.normalizeArgs(...we);qe.vfs=E.$zName,o.oo1.DB.dbCtorHelper.call(this,qe)};Y.prototype=Object.create(o.oo1.DB.prototype),o.oo1.OpfsDb=Y,Y.importDb=me.importDb,o.oo1.DB.dbCtorHelper.setVfsPostOpenSql(E.pointer,function(we,qe){qe.capi.sqlite3_busy_timeout(we,1e4),qe.capi.sqlite3_exec(we,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}const mt=function(){const Y=j.scopedAllocPush(),we=new xe;try{const qe=we.pointer,tt=N.SQLITE_OPEN_CREATE|N.SQLITE_OPEN_READWRITE|N.SQLITE_OPEN_MAIN_DB,He=j.scopedAlloc(8),Ct="/sanity/check/file"+ot(8),Rt=j.scopedAllocCString(Ct);let et;if(y.s11n.serialize("This is \xE4 string."),et=y.s11n.deserialize(),at("deserialize() says:",et),et[0]!=="This is \xE4 string."&&k("String d13n error."),Ue.xAccess(E.pointer,Rt,0,He),et=j.peek(He,"i32"),at("xAccess(",Ct,") exists ?=",et),et=Ue.xOpen(E.pointer,Rt,qe,tt,He),at("open rc =",et,"state.sabOPView[xOpen] =",y.sabOPView[y.opIds.xOpen]),et!==0){C("open failed with code",et);return}Ue.xAccess(E.pointer,Rt,0,He),et=j.peek(He,"i32"),et||k("xAccess() failed to detect file."),et=ke.xSync(we.pointer,0),et&&k("sync failed w/ rc",et),et=ke.xTruncate(we.pointer,1024),et&&k("truncate failed w/ rc",et),j.poke(He,0,"i64"),et=ke.xFileSize(we.pointer,He),et&&k("xFileSize failed w/ rc",et),at("xFileSize says:",j.peek(He,"i64")),et=ke.xWrite(we.pointer,Rt,10,1),et&&k("xWrite() failed!");const un=j.scopedAlloc(16);et=ke.xRead(we.pointer,un,6,2),j.poke(un+6,0);let kn=j.cstrToJs(un);at("xRead() got:",kn),kn!=="sanity"&&k("Unexpected xRead() value."),Ue.xSleep&&(at("xSleep()ing before close()ing..."),Ue.xSleep(E.pointer,2e3),at("waking up from xSleep()")),et=ke.xClose(qe),at("xClose rc =",et,"sabOPView =",y.sabOPView),at("Deleting file:",Ct),Ue.xDelete(E.pointer,Rt,4660),Ue.xAccess(E.pointer,Rt,0,He),et=j.peek(He,"i32"),et&&k("Expecting 0 from xAccess(",Ct,") after xDelete()."),ee("End of OPFS sanity checks.")}finally{we.dispose(),j.scopedAllocPop(Y)}};x.onmessage=function({data:Y}){switch(Y.type){case"opfs-unavailable":J(new Error(Y.payload.join(" ")));break;case"opfs-async-loaded":x.postMessage({type:"opfs-async-init",args:y});break;case"opfs-async-inited":{if(B===!0)break;try{o.vfs.installVfs({io:{struct:yt,methods:ke},vfs:{struct:E,methods:Ue}}),y.sabOPView=new Int32Array(y.sabOP),y.sabFileBufView=new Uint8Array(y.sabIO,0,y.fileBufferSize),y.sabS11nView=new Uint8Array(y.sabIO,y.sabS11nOffset,y.sabS11nSize),je(),f.sanityChecks&&(ee("Running sanity checks because of opfs-sanity-check URL arg..."),mt()),$e()?navigator.storage.getDirectory().then(we=>{x.onerror=x._originalOnError,delete x._originalOnError,o.opfs=me,me.rootDirectory=we,at("End of OPFS sqlite3_vfs setup.",E),Ie()}).catch(J):Ie()}catch(we){C(we),J(we)}break}default:{const we="Unexpected message from the OPFS async worker: "+JSON.stringify(Y);C(we),J(new Error(we));break}}}}))};u.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async c=>{try{let f=u.defaultProxyUri;return c.scriptInfo.sqlite3Dir&&(u.defaultProxyUri=c.scriptInfo.sqlite3Dir+f),u().catch(g=>{c.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",g.message)})}catch(f){return c.config.error("installOpfsVfs() exception:",f),Promise.reject(f)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(o){const u=o.util.toss,c=o.util.toss3,f=Object.create(null),g=o.capi,I=o.wasm,H=4096,pe=512,De=4,Qe=8,at=pe+De,ee=pe,C=at,k=H,N=g.SQLITE_OPEN_MAIN_DB|g.SQLITE_OPEN_MAIN_JOURNAL|g.SQLITE_OPEN_SUPER_JOURNAL|g.SQLITE_OPEN_WAL,j=".opaque",R=()=>Math.random().toString(36).slice(2),xe=new TextDecoder,Te=new TextEncoder,me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),$e=[o.config.error,o.config.warn,o.config.log];o.config.log;const yt=o.config.warn;o.config.error;const E=new Map,B=Ce=>E.get(Ce),J=(Ce,$)=>{$?E.set(Ce,$):E.delete(Ce)},Ie=new Map,x=Ce=>Ie.get(Ce),D=(Ce,$)=>{$?Ie.set(Ce,$):Ie.delete(Ce)},b={xCheckReservedLock:function(Ce,$){const se=x(Ce);return se.log("xCheckReservedLock"),se.storeErr(),I.poke32($,1),0},xClose:function(Ce){const $=x(Ce);$.storeErr();const se=$.getOFileForS3File(Ce);if(se)try{$.log(`xClose ${se.path}`),$.mapS3FileToOFile(Ce,!1),se.sah.flush(),se.flags&g.SQLITE_OPEN_DELETEONCLOSE&&$.deletePath(se.path)}catch(ke){return $.storeErr(ke),g.SQLITE_IOERR}return 0},xDeviceCharacteristics:function(Ce){return g.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ce,$,se){return g.SQLITE_NOTFOUND},xFileSize:function(Ce,$){const se=x(Ce);se.log("xFileSize");const Ue=se.getOFileForS3File(Ce).sah.getSize()-k;return I.poke64($,BigInt(Ue)),0},xLock:function(Ce,$){const se=x(Ce);se.log(`xLock ${$}`),se.storeErr();const ke=se.getOFileForS3File(Ce);return ke.lockType=$,0},xRead:function(Ce,$,se,ke){const Ue=x(Ce);Ue.storeErr();const mt=Ue.getOFileForS3File(Ce);Ue.log(`xRead ${mt.path} ${se} @ ${ke}`);try{const Y=mt.sah.read(I.heap8u().subarray($,$+se),{at:k+Number(ke)});return Y<se?(I.heap8u().fill(0,$+Y,$+se),g.SQLITE_IOERR_SHORT_READ):0}catch(Y){return Ue.storeErr(Y),g.SQLITE_IOERR}},xSectorSize:function(Ce){return H},xSync:function(Ce,$){const se=x(Ce);se.log(`xSync ${$}`),se.storeErr();const ke=se.getOFileForS3File(Ce);try{return ke.sah.flush(),0}catch(Ue){return se.storeErr(Ue),g.SQLITE_IOERR}},xTruncate:function(Ce,$){const se=x(Ce);se.log(`xTruncate ${$}`),se.storeErr();const ke=se.getOFileForS3File(Ce);try{return ke.sah.truncate(k+Number($)),0}catch(Ue){return se.storeErr(Ue),g.SQLITE_IOERR}},xUnlock:function(Ce,$){const se=x(Ce);se.log("xUnlock");const ke=se.getOFileForS3File(Ce);return ke.lockType=$,0},xWrite:function(Ce,$,se,ke){const Ue=x(Ce);Ue.storeErr();const mt=Ue.getOFileForS3File(Ce);Ue.log(`xWrite ${mt.path} ${se} ${ke}`);try{return mt.sah.write(I.heap8u().subarray($,$+se),{at:k+Number(ke)})===se?0:g.SQLITE_IOERR}catch(Y){return Ue.storeErr(Y),g.SQLITE_IOERR}}},y=new g.sqlite3_io_methods;y.$iVersion=1,o.vfs.installVfs({io:{struct:y,methods:b}});const F={xAccess:function(Ce,$,se,ke){const Ue=B(Ce);Ue.storeErr();try{const mt=Ue.getPath($);I.poke32(ke,Ue.hasFilename(mt)?1:0)}catch{I.poke32(ke,0)}return 0},xCurrentTime:function(Ce,$){return I.poke($,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ce,$){return I.poke($,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ce,$,se){const ke=B(Ce);ke.log(`xDelete ${I.cstrToJs($)}`),ke.storeErr();try{return ke.deletePath(ke.getPath($)),0}catch(Ue){return ke.storeErr(Ue),g.SQLITE_IOERR_DELETE}},xFullPathname:function(Ce,$,se,ke){return I.cstrncpy(ke,$,se)<se?0:g.SQLITE_CANTOPEN},xGetLastError:function(Ce,$,se){const ke=B(Ce);ke.log(`xGetLastError ${$}`);const Ue=ke.popErr();if(Ue){const mt=I.scopedAllocPush();try{const[Y,we]=I.scopedAllocCString(Ue.message,!0);I.cstrncpy(se,Y,$),we>$&&I.poke8(se+$-1,0)}catch{return g.SQLITE_NOMEM}finally{I.scopedAllocPop(mt)}}return 0},xOpen:function($,se,ke,Ue,mt){const Y=B($);try{Y.log(`xOpen ${I.cstrToJs(se)} ${Ue}`);const we=se&&I.peek8(se)?Y.getPath(se):R();let qe=Y.getSAHForPath(we);!qe&&Ue&g.SQLITE_OPEN_CREATE&&(Y.getFileCount()<Y.getCapacity()?(qe=Y.nextAvailableSAH(),Y.setAssociatedPath(qe,we,Ue)):u("SAH pool is full. Cannot create file",we)),qe||u("file not found:",we);const tt={path:we,flags:Ue,sah:qe};Y.mapS3FileToOFile(ke,tt),tt.lockType=g.SQLITE_LOCK_NONE;const He=new g.sqlite3_file(ke);return He.$pMethods=y.pointer,He.dispose(),I.poke32(mt,Ue),0}catch(we){return Y.storeErr(we),g.SQLITE_CANTOPEN}}},le=function(Ce){o.capi.sqlite3_vfs_find(Ce)&&c("VFS name is already registered:",Ce);const $=new g.sqlite3_vfs,se=g.sqlite3_vfs_find(null),ke=se?new g.sqlite3_vfs(se):null;return $.$iVersion=2,$.$szOsFile=g.sqlite3_file.structInfo.sizeof,$.$mxPathname=pe,$.addOnDispose($.$zName=I.allocCString(Ce),()=>J($.pointer,0)),ke&&($.$xRandomness=ke.$xRandomness,$.$xSleep=ke.$xSleep,ke.dispose()),!$.$xRandomness&&!F.xRandomness&&(F.xRandomness=function(Ue,mt,Y){const we=I.heap8u();let qe=0;for(;qe<mt;++qe)we[Y+qe]=Math.random()*255e3&255;return qe}),!$.$xSleep&&!F.xSleep&&(F.xSleep=(Ue,mt)=>0),o.vfs.installVfs({vfs:{struct:$,methods:F}}),$};class je{vfsDir;#e;#i;#l;#s=new Map;#n=new Map;#r=new Set;#a=new Map;#t=new Uint8Array(at);#c;#o;#f;constructor($=Object.create(null)){this.#f=$.verbosity??me.verbosity,this.vfsName=$.name||me.name,this.#o=le(this.vfsName),J(this.#o.pointer,this),this.vfsDir=$.directory||"."+this.vfsName,this.#c=new DataView(this.#t.buffer,this.#t.byteOffset),this.isReady=this.reset(!!($.clearOnInit??me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity($.initialCapacity||me.initialCapacity)})}#u($,...se){this.#f>$&&$e[$](this.vfsName+":",...se)}log(...$){this.#u(2,...$)}warn(...$){this.#u(1,...$)}error(...$){this.#u(0,...$)}getVfs(){return this.#o}getCapacity(){return this.#s.size}getFileCount(){return this.#n.size}getFileNames(){const $=[],se=this.#n.keys();for(const ke of se)$.push(ke);return $}async addCapacity($){for(let se=0;se<$;++se){const ke=R(),mt=await(await this.#i.getFileHandle(ke,{create:!0})).createSyncAccessHandle();this.#s.set(mt,ke),this.setAssociatedPath(mt,"",0)}return this.getCapacity()}async reduceCapacity($){let se=0;for(const ke of Array.from(this.#r)){if(se===$||this.getFileCount()===this.getCapacity())break;const Ue=this.#s.get(ke);ke.close(),await this.#i.removeEntry(Ue),this.#s.delete(ke),this.#r.delete(ke),++se}return se}releaseAccessHandles(){for(const $ of this.#s.keys())$.close();this.#s.clear(),this.#n.clear(),this.#r.clear()}async acquireAccessHandles($){const se=[];for await(const[ke,Ue]of this.#i)Ue.kind==="file"&&se.push([ke,Ue]);return Promise.all(se.map(async([ke,Ue])=>{try{const mt=await Ue.createSyncAccessHandle();if(this.#s.set(mt,ke),$)mt.truncate(k),this.setAssociatedPath(mt,"",0);else{const Y=this.getAssociatedPath(mt);Y?this.#n.set(Y,mt):this.#r.add(mt)}}catch(mt){throw this.storeErr(mt),this.releaseAccessHandles(),mt}}))}getAssociatedPath($){$.read(this.#t,{at:0});const se=this.#c.getUint32(ee);if(this.#t[0]&&(se&g.SQLITE_OPEN_DELETEONCLOSE||(se&N)===0))return yt(`Removing file with unexpected flags ${se.toString(16)}`,this.#t),this.setAssociatedPath($,"",0),"";const ke=new Uint32Array(Qe/4);$.read(ke,{at:C});const Ue=this.computeDigest(this.#t);if(ke.every((mt,Y)=>mt===Ue[Y])){const mt=this.#t.findIndex(Y=>Y===0);return mt===0&&$.truncate(k),mt?xe.decode(this.#t.subarray(0,mt)):""}else return yt("Disassociating file with bad digest."),this.setAssociatedPath($,"",0),""}setAssociatedPath($,se,ke){const Ue=Te.encodeInto(se,this.#t);pe<=Ue.written+1&&u("Path too long:",se),this.#t.fill(0,Ue.written,pe),this.#c.setUint32(ee,ke);const mt=this.computeDigest(this.#t);$.write(this.#t,{at:0}),$.write(mt,{at:C}),$.flush(),se?(this.#n.set(se,$),this.#r.delete($)):($.truncate(k),this.#r.add($))}computeDigest($){let se=3735928559,ke=1103547991;for(const Ue of $)se=31*se+Ue*307,ke=31*ke+Ue*307;return new Uint32Array([se>>>0,ke>>>0])}async reset($){await this.isReady;let se=await navigator.storage.getDirectory(),ke;for(const Ue of this.vfsDir.split("/"))Ue&&(ke=se,se=await se.getDirectoryHandle(Ue,{create:!0}));return this.#e=se,this.#l=ke,this.#i=await this.#e.getDirectoryHandle(j,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles($)}getPath($){return I.isPtr($)&&($=I.cstrToJs($)),($ instanceof URL?$:new URL($,"file://localhost/")).pathname}deletePath($){const se=this.#n.get($);return se&&(this.#n.delete($),this.setAssociatedPath(se,"",0)),!!se}storeErr($){return $&&this.error($),this.$error=$}popErr(){const $=this.$error;return this.$error=void 0,$}nextAvailableSAH(){const[$]=this.#r.keys();return $}getOFileForS3File($){return this.#a.get($)}mapS3FileToOFile($,se){se?(this.#a.set($,se),D($,this)):(this.#a.delete($),D($,!1))}hasFilename($){return this.#n.has($)}getSAHForPath($){return this.#n.get($)}async removeVfs(){if(!this.#o.pointer||!this.#i)return!1;g.sqlite3_vfs_unregister(this.#o.pointer),this.#o.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(j,{recursive:!0}),this.#i=void 0,await this.#l.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#l=void 0}catch($){o.config.error(this.vfsName,"removeVfs() failed:",$)}return!0}exportFile($){const se=this.#n.get($)||u("File not found:",$),ke=se.getSize()-k,Ue=new Uint8Array(ke>0?ke:0);if(ke>0){const mt=se.read(Ue,{at:k});mt!=ke&&u("Expected to read "+ke+" bytes but read "+mt+".")}return Ue}importDb($,se){se instanceof ArrayBuffer&&(se=new Uint8Array(se));const ke=se.byteLength;(ke<512||ke%512!=0)&&u("Byte array size is invalid for an SQLite db.");const Ue="SQLite format 3";for(let we=0;we<Ue.length;++we)Ue.charCodeAt(we)!==se[we]&&u("Input does not contain an SQLite database header.");const mt=this.#n.get($)||this.nextAvailableSAH()||u("No available handles to import to."),Y=mt.write(se,{at:k});Y!=ke?(this.setAssociatedPath(mt,"",0),u("Expected to write "+ke+" bytes but wrote "+Y+".")):(mt.write(new Uint8Array([1,1]),{at:k+18}),this.setAssociatedPath(mt,$,g.SQLITE_OPEN_MAIN_DB))}}class ot{#e;constructor($){this.#e=$,this.vfsName=$.vfsName}async addCapacity($){return this.#e.addCapacity($)}async reduceCapacity($){return this.#e.reduceCapacity($)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity($){const se=this.#e.getCapacity();return se<$?this.#e.addCapacity($-se):se}exportFile($){return this.#e.exportFile($)}importDb($,se){return this.#e.importDb($,se)}async wipeFiles(){return this.#e.reset(!0)}unlink($){return this.#e.deletePath($)}async removeVfs(){return this.#e.removeVfs()}}const dt=async()=>{const Ce=await navigator.storage.getDirectory(),$=".opfs-sahpool-sync-check-"+R(),Ue=(await(await Ce.getFileHandle($,{create:!0})).createSyncAccessHandle()).close();return await Ue,await Ce.removeEntry($),Ue?.then&&u("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};o.installOpfsSAHPoolVfs=async function(Ce=Object.create(null)){const $=Ce.name||me.name;return f[$]?f[$]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?f[$]=Promise.reject(new Error("Missing required OPFS APIs.")):f[$]=dt().then(async function(){if(Ce.$testThrowInInit)throw Ce.$testThrowInInit;const se=new je(Ce);return se.isReady.then(async()=>{const ke=new ot(se);if(o.oo1){const Ue=o.oo1,mt=se.getVfs(),Y=function(...we){const qe=Ue.DB.dbCtorHelper.normalizeArgs(...we);qe.vfs=mt.$zName,Ue.DB.dbCtorHelper.call(this,qe)};Y.prototype=Object.create(Ue.DB.prototype),ke.OpfsSAHPoolDb=Y,Ue.DB.dbCtorHelper.setVfsPostOpenSql(mt.pointer,function(we,qe){qe.capi.sqlite3_exec(we,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return se.log("VFS initialized."),ke}).catch(async ke=>(await se.removeVfs().catch(()=>{}),ke))}).catch(se=>f[$]=Promise.reject(se))}}),typeof a<"u"){const o=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?a.asm:wasmExports,memory:a.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=o;let u;try{u=globalThis.sqlite3ApiBootstrap()}catch(c){throw console.error("sqlite3ApiBootstrap() error:",c),c}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}a.sqlite3=u}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),s.ready}})();const Dy=function(){const e=md;if(!e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const n=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(n.debugModule=n.urlParams.has("sqlite3.debugModule")?(...s)=>console.warn("sqlite3.debugModule:",...s):()=>{},n.urlParams.has("sqlite3.dir"))n.sqlite3Dir=n.urlParams.get("sqlite3.dir")+"/";else if(n.moduleScript){const s=n.moduleScript.src.split("/");s.pop(),n.sqlite3Dir=s.join("/")+"/"}if(globalThis.sqlite3InitModule=function s(...t){return e(...t).then(r=>{const l=r.sqlite3;l.scriptInfo=n,s.__isUnderTest&&(l.__isUnderTest=!0);const i=l.asyncPostInit;return delete l.asyncPostInit,i()}).catch(r=>{throw console.error("Exception loading sqlite3 module:",r),r})},globalThis.sqlite3InitModule.ready=e.ready,globalThis.sqlite3InitModuleState.moduleScript){const s=globalThis.sqlite3InitModuleState;let t=s.moduleScript.src.split("/");t.pop(),s.scriptDir=t.join("/")+"/"}return n.debugModule("sqlite3InitModuleState =",n),globalThis.sqlite3InitModule}();md=Dy;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gd=Symbol("Comlink.proxy"),My=Symbol("Comlink.endpoint"),Ny=Symbol("Comlink.releaseProxy"),pl=Symbol("Comlink.finalizer"),Ji=Symbol("Comlink.thrown"),yd=e=>typeof e=="object"&&e!==null||typeof e=="function",By={canHandle:e=>yd(e)&&e[gd],serialize(e){const{port1:n,port2:s}=new MessageChannel;return bd(e,n),[s,[s]]},deserialize(e){return e.start(),Ed(e)}},$y={canHandle:e=>yd(e)&&Ji in e,serialize({value:e}){let n;return e instanceof Error?n={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:n={isError:!1,value:e},[n,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},vd=new Map([["proxy",By],["throw",$y]]);function jy(e,n){for(const s of e)if(n===s||s==="*"||s instanceof RegExp&&s.test(n))return!0;return!1}function bd(e,n=globalThis,s=["*"]){n.addEventListener("message",function t(r){if(!r||!r.data)return;if(!jy(s,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:l,type:i,path:p}=Object.assign({path:[]},r.data),d=(r.data.argumentList||[]).map(Us);let h;try{const m=p.slice(0,-1).reduce((w,O)=>w[O],e),v=p.reduce((w,O)=>w[O],e);switch(i){case"GET":h=v;break;case"SET":m[p.slice(-1)[0]]=Us(r.data.value),h=!0;break;case"APPLY":h=v.apply(m,d);break;case"CONSTRUCT":{const w=new v(...d);h=xd(w)}break;case"ENDPOINT":{const{port1:w,port2:O}=new MessageChannel;bd(e,O),h=Wy(w,[w])}break;case"RELEASE":h=void 0;break;default:return}}catch(m){h={value:m,[Ji]:0}}Promise.resolve(h).catch(m=>({value:m,[Ji]:0})).then(m=>{const[v,w]=uo(m);n.postMessage(Object.assign(Object.assign({},v),{id:l}),w),i==="RELEASE"&&(n.removeEventListener("message",t),wd(n),pl in e&&typeof e[pl]=="function"&&e[pl]())}).catch(m=>{const[v,w]=uo({value:new TypeError("Unserializable return value"),[Ji]:0});n.postMessage(Object.assign(Object.assign({},v),{id:l}),w)})}),n.start&&n.start()}function Uy(e){return e.constructor.name==="MessagePort"}function wd(e){Uy(e)&&e.close()}function Ed(e,n){return zl(e,[],n)}function zi(e){if(e)throw new Error("Proxy has been released and is not useable")}function qd(e){return _r(e,{type:"RELEASE"}).then(()=>{wd(e)})}const ao=new WeakMap,co="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const n=(ao.get(e)||0)-1;ao.set(e,n),n===0&&qd(e)});function Vy(e,n){const s=(ao.get(n)||0)+1;ao.set(n,s),co&&co.register(e,n,e)}function zy(e){co&&co.unregister(e)}function zl(e,n=[],s=function(){}){let t=!1;const r=new Proxy(s,{get(l,i){if(zi(t),i===Ny)return()=>{zy(r),qd(e),t=!0};if(i==="then"){if(n.length===0)return{then:()=>r};const p=_r(e,{type:"GET",path:n.map(d=>d.toString())}).then(Us);return p.then.bind(p)}return zl(e,[...n,i])},set(l,i,p){zi(t);const[d,h]=uo(p);return _r(e,{type:"SET",path:[...n,i].map(m=>m.toString()),value:d},h).then(Us)},apply(l,i,p){zi(t);const d=n[n.length-1];if(d===My)return _r(e,{type:"ENDPOINT"}).then(Us);if(d==="bind")return zl(e,n.slice(0,-1));const[h,m]=Gc(p);return _r(e,{type:"APPLY",path:n.map(v=>v.toString()),argumentList:h},m).then(Us)},construct(l,i){zi(t);const[p,d]=Gc(i);return _r(e,{type:"CONSTRUCT",path:n.map(h=>h.toString()),argumentList:p},d).then(Us)}});return Vy(r,e),r}function Hy(e){return Array.prototype.concat.apply([],e)}function Gc(e){const n=e.map(uo);return[n.map(s=>s[0]),Hy(n.map(s=>s[1]))]}const Sd=new WeakMap;function Wy(e,n){return Sd.set(e,n),e}function xd(e){return Object.assign(e,{[gd]:!0})}function uo(e){for(const[n,s]of vd)if(s.canHandle(e)){const[t,r]=s.serialize(e);return[{type:"HANDLER",name:n,value:t},r]}return[{type:"RAW",value:e},Sd.get(e)||[]]}function Us(e){switch(e.type){case"HANDLER":return vd.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _r(e,n,s){return new Promise(t=>{const r=Qy();e.addEventListener("message",function l(i){!i.data||!i.data.id||i.data.id!==r||(e.removeEventListener("message",l),t(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:r},n),s)})}function Qy(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Gy{sqliteWorker;dbFile="";sqliteWorkerPath="";rowMode="object";constructor(n,s,t){if(typeof n!="string")throw new Error(`The 'dbFile' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof n}'.`);if(typeof s!="string")throw new Error(`The 'sqliteWorkerPath' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof s}'.`);if(this.dbFile=n,this.sqliteWorkerPath=s,t&&t!=="array"&&t!=="object")throw new Error("Invalid rowMode");this.rowMode=t||this.rowMode}async init(){const n=Ed(new Worker(this.sqliteWorkerPath,{type:"module"}));this.sqliteWorker=await new n,await this.sqliteWorker.init(this.dbFile,this.rowMode)}async executeSql(n,s=[]){if(typeof n!="string")throw new Error(`The 'sqlStatement' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'string'. Instead, you passed: '${typeof n}'.`);if(!Array.isArray(s))throw new Error(`The 'bindParameters' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'array'. Instead, you passed: '${typeof s}'.`);return new Promise(async t=>{await this.sqliteWorker.executeSql(n,s,xd(r=>t(r)))})}}const Hi="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Ky=new URL("data:application/javascript;base64,aW1wb3J0ICogYXMgQ29tbGluayBmcm9tICcuL2NvbWxpbmsubWpzJzsKaW1wb3J0IHNxbGl0ZTNJbml0TW9kdWxlIGZyb20gJ0BzcWxpdGUub3JnL3NxbGl0ZS13YXNtJzsKCmNvbnN0IGxvZyA9ICguLi5hcmdzKSA9PiBjb25zb2xlLmxvZyguLi5hcmdzKTsKY29uc3QgZXJyb3IgPSAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvciguLi5hcmdzKTsKCmNsYXNzIFNxbGl0ZVdvcmtlciB7CiAgZGI7CiAgcm93TW9kZSA9ICdvYmplY3QnOwogIGluaXQoZGJGaWxlLCByb3dNb2RlKSB7CiAgICBpZiAocm93TW9kZSAmJiByb3dNb2RlICE9PSAnYXJyYXknICYmIHJvd01vZGUgIT09ICdvYmplY3QnKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByb3dNb2RlJyk7CiAgICB9CiAgICB0aGlzLnJvd01vZGUgPSByb3dNb2RlIHx8IHRoaXMucm93TW9kZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICBzcWxpdGUzSW5pdE1vZHVsZSh7CiAgICAgICAgcHJpbnQ6IGxvZywKICAgICAgICBwcmludEVycjogZXJyb3IsCiAgICAgIH0pLnRoZW4oKHNxbGl0ZTMpID0+IHsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy5kYiA9IG5ldyBzcWxpdGUzLm9vMS5PcGZzRGIoZGJGaWxlKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGVycm9yKGVyci5uYW1lLCBlcnIubWVzc2FnZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZXhlY3V0ZVNxbChzcWxTdGF0ZW1lbnQsIGJpbmRQYXJhbWV0ZXJzLCBjYWxsYmFjaykgewogICAgcmV0dXJuIGNhbGxiYWNrKAogICAgICB0aGlzLmRiLmV4ZWMoewogICAgICAgIHNxbDogc3FsU3RhdGVtZW50LAogICAgICAgIGJpbmQ6IGJpbmRQYXJhbWV0ZXJzLAogICAgICAgIHJldHVyblZhbHVlOiAncmVzdWx0Um93cycsCiAgICAgICAgcm93TW9kZTogdGhpcy5yb3dNb2RlLAogICAgICB9KSwKICAgICk7CiAgfQp9CgpDb21saW5rLmV4cG9zZShTcWxpdGVXb3JrZXIpOwo=",self.location).href,kd="/test.sqlite",Kc=await navigator.storage.getDirectory("/");for await(let[e,n]of Kc.entries())"/"+e!=kd&&Kc.removeEntry(e);const wn=new Gy(kd,Ky);await wn.init();const Jy=`
  CREATE TABLE IF NOT EXISTS collection
  (
    name TEXT PRIMARY KEY
  );
  CREATE INDEX IF NOT EXISTS idx_collection_name ON collection (name);

  CREATE TABLE IF NOT EXISTS collection_card
  (
    collection_name TEXT NOT NULL,
    card_id TEXT NOT NULL,
    count INTEGER DEFAULT 1,
    finish STRING DEFAULT 'nonfoil',
    UNIQUE(collection_name, card_id, finish)

    CONSTRAINT fk_collection_name
      FOREIGN KEY (collection_name)
      REFERENCES collection (name)
      ON DELETE CASCADE

    CONSTRAINT fk_card_id
      FOREIGN KEY (card_id)
      REFERENCES card (id)
      ON DELETE CASCADE
  );
  CREATE INDEX IF NOT EXISTS idx_collection_name ON collection_card (collection_name);
  CREATE INDEX IF NOT EXISTS idx_collection_card_id ON collection_card (card_id);

  CREATE TABLE IF NOT EXISTS card
  (
    id TEXT PRIMARY KEY,
    data JSON NOT NULL
  );

  CREATE INDEX IF NOT EXISTS idx_card_id ON card (id);
`,Xy={object:"card",id:"a131d558-5f6b-448b-a378-1882e2d02bd2",oracle_id:"fb9af562-7384-4575-93bb-34f1ada23735",multiverse_ids:[423719],mtgo_id:62665,mtgo_foil_id:62666,tcgplayer_id:126455,cardmarket_id:294870,name:"Alley Strangler",lang:"en",released_at:"2017-01-20",uri:"https://api.scryfall.com/cards/a131d558-5f6b-448b-a378-1882e2d02bd2",scryfall_uri:"https://scryfall.com/card/aer/52/alley-strangler?utm_source=api",layout:"normal",highres_image:!0,image_status:"highres_scan",image_uris:{small:"https://cards.scryfall.io/small/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",normal:"https://cards.scryfall.io/normal/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",large:"https://cards.scryfall.io/large/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",png:"https://cards.scryfall.io/png/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.png?1576381609",art_crop:"https://cards.scryfall.io/art_crop/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",border_crop:"https://cards.scryfall.io/border_crop/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609"},mana_cost:"{2}{B}",cmc:3,type_line:"Creature \u2014 Aetherborn Rogue",oracle_text:"Menace",power:"2",toughness:"3",colors:["B"],color_identity:["B"],keywords:["Menace"],legalities:{standard:"not_legal",future:"not_legal",historic:"legal",gladiator:"legal",pioneer:"legal",explorer:"legal",modern:"legal",legacy:"legal",pauper:"legal",vintage:"legal",penny:"not_legal",commander:"legal",oathbreaker:"legal",brawl:"not_legal",historicbrawl:"legal",alchemy:"not_legal",paupercommander:"legal",duel:"legal",oldschool:"not_legal",premodern:"not_legal",predh:"not_legal"},games:["paper","mtgo"],reserved:!1,foil:!0,nonfoil:!0,finishes:["nonfoil","foil"],oversized:!1,promo:!1,reprint:!1,variation:!1,set_id:"a4a0db50-8826-4e73-833c-3fd934375f96",set:"aer",set_name:"Aether Revolt",set_type:"expansion",set_uri:"https://api.scryfall.com/sets/a4a0db50-8826-4e73-833c-3fd934375f96",set_search_uri:"https://api.scryfall.com/cards/search?order=set&q=e%3Aaer&unique=prints",scryfall_set_uri:"https://scryfall.com/sets/aer?utm_source=api",rulings_uri:"https://api.scryfall.com/cards/a131d558-5f6b-448b-a378-1882e2d02bd2/rulings",prints_search_uri:"https://api.scryfall.com/cards/search?order=released&q=oracleid%3Afb9af562-7384-4575-93bb-34f1ada23735&unique=prints",collector_number:"52",digital:!1,rarity:"common",flavor_text:'"You never know what day might be your last."',card_back_id:"0aeebaf5-8c7d-4636-9e82-8c27447861f7",artist:"Efflam Mercier",artist_ids:["b0ab565f-0406-4a72-8291-d48958e14b23"],illustration_id:"e75586a9-a994-48aa-aac2-2cc8ede392bf",border_color:"black",frame:"2015",full_art:!1,textless:!1,booster:!0,story_spotlight:!1,edhrec_rank:19784,penny_rank:9816,prices:{usd:"0.06",usd_foil:"0.15",usd_etched:null,eur:"0.04",eur_foil:"0.13",tix:"0.03"},related_uris:{gatherer:"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=423719",tcgplayer_infinite_articles:"https://infinite.tcgplayer.com/search?contentMode=article&game=magic&partner=scryfall&q=Alley+Strangler&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",tcgplayer_infinite_decks:"https://infinite.tcgplayer.com/search?contentMode=deck&game=magic&partner=scryfall&q=Alley+Strangler&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",edhrec:"https://edhrec.com/route/?cc=Alley+Strangler"},purchase_uris:{tcgplayer:"https://www.tcgplayer.com/product/126455?page=1&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",cardmarket:"https://www.cardmarket.com/en/Magic/Products/Search?referrer=scryfall&searchString=Alley+Strangler&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall",cardhoarder:"https://www.cardhoarder.com/cards/62665?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall"},finish:"nonfoil",count:1,price:.034625515600000004,type:"Creature",collections:["test"]},Yy=`
    insert into collection(name) values ('test') on conflict do nothing;
    insert into collection_card(collection_name, card_id, count, finish) values ('test', 'a131d558-5f6b-448b-a378-1882e2d02bd2', 2, 'foil') on conflict do nothing;
    insert into card(id, data) values ('a131d558-5f6b-448b-a378-1882e2d02bd2', json('${JSON.stringify(Xy)}')) on conflict do nothing;
`;let Vs=null;Vs=await wn.executeSql(Jy);Vs=await wn.executeSql(Yy);const yn=rs("collections",{state:()=>({collections:new Map,open:[]}),getters:{names(e){return[...e.collections.keys()].sort()},all(e){return[...e.collections.keys()].sort()},obj(e){let n=[];for(const[s,t]of e.collections.entries())t.name=s,n.push(t);return n}},actions:{async init(){Vs=await wn.executeSql(`
        select collection.name, sum(collection_card.count) as card_count
        from collection
        left outer join collection_card on collection.name == collection_card.collection_name
        left outer join card on collection_card.card_id == card.id
        group by collection_card.collection_name
      `),Vs.forEach(e=>{e.name!=="clipboard"&&this.collections.set(e.name,{lastSync:0,downloaded:!0,image:"https://cards.scryfall.io/art_crop/front/7/e/7e78b70b-0c67-4f14-8ad7-c9f8e3f59743.jpg?1562614382",count:e.card_count})})},async refreshPrices(){for(const n of this.open){let s=await wn.executeSql(`select card_id from collection_card where collection_name = '${n}'`);var e=s.map(r=>r.card_id);const t=await oo(Hi+"/prices",{data:e});await wn.executeSql("begin transaction");for(const[r,l]of Object.entries(t.data))s=await wn.executeSql(`
            update card
            set data = json_set(data, '$.prices', json('${JSON.stringify(l)}'))
            where id = '${r}'
        `);await wn.executeSql("commit transaction")}},async delete(e){const n=lo();n.collections.has(e)&&await Cy(Hi+"/collection",{id:n.collections.get(e).id}),Vs=await wn.executeSql(`delete from collection where name = '${e}';`),this.collections.delete(e),this.open.splice(this.open.indexOf(e),1)},async addMany(e,n,s="update"){let t=[],r=[];for(const i of n)t.push(`('${i.id}', '${this.prepareJson(i.data)}')`),r.push(`('${e}', '${i.id}', ${i.count}, '${i.finish}')`);await wn.executeSql(`
        insert into card(id, data) 
        values
        ${t.join(",")}
        on conflict(id) do update set data=EXCLUDED.data
      `);let l="do update set count=EXCLUDED.count";s==="add"&&(l="do update set count = count + EXCLUDED.count"),await wn.executeSql(`
        insert into collection_card(collection_name, card_id, count, finish)
        values
        ${r.join(",")}
        on conflict(collection_name, card_id, finish) ${l}
      `)},async save(e,n){let s=Date.now();return await wn.executeSql(`insert into collection(name) values ('${e}') on conflict do nothing;`),Object.keys(n).length>0&&await this.addMany(e,n),this.collections.has(e)||this.collections.set(e,{downloaded:!0,lastSync:s}),this.all},async replaceCard(e,n,s){console.log("Not implemented yet")},async deleteCard(e,n){await wn.executeSql(`
        delete from collection_card
        where collection_name = '${e[[0]]}'
        and card_id = '${n.id}';
      `)},async get(e){const n=await this.getCards([e]);return{name:e,cards:n}},async load(e){if(!e)return;const n=lo();for(const s of e){const t=this.collections.get(s);t&&!t.downloaded&&await this.download(n.collections.get(s).id)}return await this.getCards(e)},asParams(e){return e.map(n=>`'${n}'`).join(", ")},safeStrings(e){for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];typeof s=="string"&&(e[n]=s.replace(/'/g,"''")),typeof s=="object"&&s!==null&&this.safeStrings(s)}},prepareJson(e){return this.safeStrings(e),JSON.stringify(e)},async getCards(e){Vs=await wn.executeSql(`
        select collection_card.card_id, card.data, sum(collection_card.count) as count, collection_card.finish
        from collection_card
        join card on card.id = collection_card.card_id
        where collection_card.collection_name in (${this.asParams(e)})
        group by collection_card.card_id, collection_card.finish
      `);let n=[];for(const s of Vs){let t=JSON.parse(s.data);t.count=s.count,s.count>1,t.finish=s.finish,n.push(t)}return n},async upload(e,n){try{const s=await this.get(n);let t={name:s.name,userToken:e,cards:s.cards.map(l=>({id:l.id,count:l.count,tags:l.tags,finish:l.finish}))};return(await oo(Hi+"/collection",t)).data}catch(s){console.error(s)}},async download(e){try{const s=await(await fetch(Hi+"/collection?id="+e)).json();await this.save(s.data.name,s.data.cards),this.collections.get(s.data.name).downloaded=!0}catch(n){return console.error(n),!1}return!0}}});var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ev(e){var n=e.default;if(typeof n=="function"){var s=function(){return n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),s}const tv=ev(_m),{unref:Cd,isRef:Ad}=tv,nv=e=>e!==null&&typeof e=="object",sv=Array.isArray,Id=e=>{const n=Ad(e)?Cd(e):e;return nv(n)?sv(n)?rv(n):iv(n):n},Td=e=>e!==null&&!Ad(e)&&typeof e=="object"?Id(e):Cd(e),rv=e=>{const n=[];return e.forEach(s=>{n.push(Td(s))}),n},iv=e=>{const n={};return Object.keys(e).forEach(s=>{n[s]=Td(e[s])}),n};var di={deepUnref:Id};const ov="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Gn=rs("meta",{state:()=>({_sets:new Map,precons:[],types:[],forex:{usd:.8,eur:.8},symbols:new Map,cacheKeys:new Map}),getters:{setIds(e){return new Set(e._sets.keys())},setNames(e){let n=new Map;for(const s of e._sets.values())n.set(s.name,s.code);return n},sets(e){return[...e._sets.values()]}},actions:{async getForex(e,n){return(await(await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${e}/${n}.json`)).json())[n]},async init(){this.forex.eur=await this.getForex("eur","gbp"),this.forex.usd=await this.getForex("usd","gbp");const e=await caches.open("cardDataCache");(await ks(e,"https://api.scryfall.com/sets",!0)).data.forEach(i=>{i.digital||this._sets.set(i.code,i)});let s=await ks(e,"https://api.scryfall.com/catalog/creature-types");this.types=s.data.concat(["Enchantment","Sorcery","Land","Creature","Instant","Artifact"]),(await ks(e,"https://api.scryfall.com/symbology ")).data.forEach(i=>{this.symbols.set(i.symbol,i.svg_uri)});let r=await ks(e,`${ov}/precons`,!0);r.data.sort((i,p)=>Date.parse(i.releaseDate)<Date.parse(p.releaseDate)?1:-1);let l={};for(const i of r.data){let p=this._sets.get(i.set).name;l[p]?l[p].push(i):l[p]=[i]}this.precons=[];for(const[i,p]of Object.entries(l))this.precons.push({label:i,options:p})}}}),_l="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Hl=["Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],lv=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),Jc=e=>(n,s)=>{const t=e.dir;if(e.val==="Price")return n.price?n.price<s.price?t:t*-1:!0;if(e.val==="Mana")return parseFloat(n.cmc)<parseFloat(s.cmc)?t:-1*t;if(e.val==="Count")return parseFloat(n.count)===parseFloat(s.count)?n.price<s.price?1:-1:parseFloat(n.count)<parseFloat(s.count)?t:-1*t;if(e.val==="Released"){let r=new Date(n.released_at+"T00:00:00"),l=new Date(s.released_at+"T00:00:00");return r.getTime()>l.getTime()?t:t*-1}else{if(e.val==="Type")return n.type===s.type?parseFloat(n.cmc)>parseFloat(s.cmc)?t:t*-1:Hl.indexOf(n.type)>Hl.indexOf(s.type)?t:t*-1;if(e.val==="Tag")return n.tags[0].localeCompare(s.tags[0]);if(e.val==="Number")return parseInt(n.collector_number)>parseInt(s.collector_number)}},wi={state:()=>({cards:new Map,have:new Map,haveExact:new Map,filtered:[],tribes:[],loading:!1,selected:new Set,frame_effects:new Set,filters:{colours:{colours:[],mode:"commander"},rarity:[],keywords:[],tribes:[],name:"",cardText:"",sets:[],tags:[],mana:{value:[null,null],min:0,max:20},price:{value:[null,null],min:0,max:100},dupesOnly:!1,group:null,incCol:[],excCol:[],cmpCol:[],ors:{},finish:null,frame:null,border:null,quantity:{value:[null,null],min:0,max:100},oracle_id:null},sort:{val:"Price",dir:1}}),getters:{count(e){return e.filtered.reduce((n,s)=>n+=parseInt(s.count||1),0)},value(e){const n=parseInt(e.filtered.reduce((s,t)=>s+=t.price*(t.count||1),0));return lv.format(n)},sorted(e){return[...e.cards.values()].sort(Jc(e.sort))},grouped(e){let n=e.filters.group,s=new Map;for(const t of e.cards.values()){let r="";n==="Name"?r=t.name:n==="ID"&&(r=t.oracle_id);let l=s.get(r),i=t.price>0?t.price:1/0;if(l){if(l.price<i||l.price===0&&t.price!==0){let p=0+l.count;l={...t},l.count=p}l.count+=t.count||1,s.set(r,l)}else s.set(r,{...t});(!l||l.price>i||l.price===0&&t.price!==0)&&(l={...t},s.set(r,l))}return[...s.values()].sort(Jc(e.sort))},keywords(e){let n=new Set;return e.filtered.forEach(s=>{s.keywords&&s.keywords.forEach(t=>{n.add(t)})}),[...n]},tags(e){let n=new Set;return e.filtered.forEach(s=>{s.tags&&s.tags.forEach(t=>{n.add(t)})}),[...n]},sets(e){let n=new Map;return e.filtered.forEach(s=>{n.has(s.set)||n.set(s.set,s.set_name)}),Object.fromEntries(n)},frame_effects(e){let n=new Set;return e.sorted.forEach(s=>{s.frame_effects&&s.frame_effects.forEach(t=>n.add(t))}),[...n]}},actions:{async _compare(e,n){const t=await yn().getCards(n),r=t.map(i=>i.oracle_id),l=t.map(i=>i.id);e=e.forEach(i=>{this.have.set(i.oracle_id,r.includes(i.oracle_id)),this.haveExact.set(i.id,l.includes(i.id))})},_filterColours(e,n){const{mode:s,colours:t}=n;if(s==="commander"){let r=e.color_identity.filter(l=>!t.includes(l));if(Object.keys(e.color_identity).length>0&&r.length>0)return!1}else{if(s==="any")return e.color_identity.some(r=>t.includes(r));if(s==="all")return t.every(r=>e.color_identity.includes(r));if(s==="exact")return e.color_identity.sort().join()===t.sort().join()}return!0},async applyFilters(){const e=yn();let n=this.filters,s=n.group!==null?this.grouped:this.sorted;if(this.have.clear(),this.haveExact.clear(),n.cmpCol.length>0&&await this._compare(s,n.cmpCol),n.incCol.length>0){const r=(await e.getCards(n.incCol)).map(l=>l.oracle_id);s=s.filter(l=>r.includes(l.oracle_id))}if(n.excCol.length>0){const r=(await e.getCards(n.excCol)).map(l=>l.oracle_id);s=s.filter(l=>!r.includes(l.oracle_id))}s=s.filter(t=>{if(n.cardText&&n.cardText!==""){let L=t.oracle_text;if(L===void 0){L="";for(const U of t.card_faces)L+=U.oracle_text}if(!new RegExp(n.cardText).test(L))return!1}if(!(!n.finish||t.finish===n.finish)||!(!n.frame||t.frame_effects&&t.frame_effects.includes(n.frame))||!(!n.name||!n.name!=""||t.name.toLowerCase().includes(n.name.toLowerCase()))||n.colours.colours.length>0&&!this._filterColours(t,n.colours)||!n.keywords.every(L=>(t.keywords||[]).includes(L)))return!1;const d=n.tribes.some(L=>(t.type_line.toLowerCase()||"").includes(L.toLowerCase()));if(n.tribes.length>0&&!d||!(n.rarity.length>0?[...n.rarity].includes(t.rarity):!0))return!1;let m=!0;if(n.sets.length>0&&(m=n.sets.some(L=>t.set===L)),!m)return!1;let v=!0;return n.tags.length>0&&(v=n.tags.some(L=>(t.tags||[]).includes(L))),!(!v||!(t.cmc>=(n.mana.value[0]||0)&&t.cmc<=(n.mana.value[1]||20))||!(t.price>=(n.price.value[0]||0)&&t.price<=(n.price.value[1]||9999))||!(t.count>=(n.quantity.value[0]||0)&&t.count<=(n.quantity.value[1]||9999))||!(n.border?t.border_color==n.border:!0)||!(n.oracle_id?t.oracle_id==n.oracle_id:!0))}),this.filtered=s,this.loading=!1},delete(e){this.cards.delete(e.id+e.finish),this.filtered=this.filtered.filter(n=>n.id!==e.id||n.finish!==e.finish)},add(e){const n=Gn();e.finish=e.finishes.length===1?e.finishes[0]:e.finish,e.count||(e.count=1),e.isCommander&&(e.finish="foil"),e.prices===void 0?e.price=0:e.finish==="foil"||e.finish==="etched"||e.prices.eur===null&&e.prices.usd===null?e.prices.usd_etched!==null?(e.price=parseFloat(e.prices.usd_etched)*n.forex.usd,e.finish||(e.finish="etched")):e.prices.eur_foil||e.prices.usd_foil?(e.price=parseFloat(e.prices.eur_foil)*n.forex.eur||parseFloat(e.prices.usd_foil)*n.forex.usd||0,e.finish||(e.finish="foil")):(e.finish="nonfoil",e.price=0):(e.price=parseFloat(e.prices.eur)*n.forex.eur||parseFloat(e.prices.usd)*n.forex.usd||0,e.finish="nonfoil"),e.type_line=e.type_line||"",e.type=Hl.filter(t=>e.type_line.includes(t))[0];const s=this.cards.get(e.id+e.finish);s?s.count+=e.count:this.cards.set(e.id+e.finish,{...e}),this.filtered.push({...e})},addMany(e){this.cards.clear(),this.filtered=[],e.forEach(n=>{this.add(n)}),this.applyFilters()},getSelection(){const e=[];for(const n of this.cards.values())this.selected.has(n.id+n.finish)&&e.push(n);return e},async loadSearch(e,n="card",s=!1){if(e.length===0){this.cards.clear();return}if(e.length<3)return;const t=await caches.open("cardDataCache");let r="https://api.scryfall.com/cards/search?"+new URLSearchParams({q:`${e} -border:silver -is:digital`,unique:n}),l=[];this.loading=!0;try{for(;;){let i=await ks(t,r,s);if(l=l.concat(i.data),!i.has_more)break;r=i.next_page,await new Promise(p=>setTimeout(p,100))}this.addMany(l)}finally{this.loading=!1}},async loadPrints(e){this.loadSearch(`!"${e}" -border:silver -is:digital`,"prints",!0)},async loadSet(e,n=!1){this.loading=!0;const s=await caches.open("cardDataCache");let t=await ks(s,`${_l}/set/?set=`+e,n);this.addMany(t.data),this.loading=!1},async loadCollections(e){this.loading=!0;const n=yn();n.open=e;let s=await n.load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(s),this.loading=!1},async reloadCollections(e){let s=await yn().load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(s)},async loadPrecon(e){this.loading=!0;const n=await caches.open("cardDataCache"),s=await ks(n,`${_l}/precon?name=${e}`,!0);this.addMany(s.data),this.loading=!1},async loadSync(e){this.loading=!0;const s=await(await fetch(_l+"/collection?id="+e)).json();this.addMany(s.data.cards),this.loading=!1},async loadVersions(e){const n=yn();this.loadCollections(n.open),this.filters.oracle_id=e,this.loading=!1},unrefCards(){return[...this.cards.values()].map(di.deepUnref)}}},Hn=rs("cardView",wi),Od=rs("printsView",wi),av=rs("searchView",wi),Ei=rs("clipboardView",wi),Pd=rs("versionsView",wi),Ds=rs("ui",{state:()=>({sidebar:{show:!1,selected:""},mainView:"cards",zoom:0,columns:3,source:"collection",details:{index:0,show:!1},edit:{card:null},clipboard_change:!1}),getters:{},actions:{showSidebar(e){this.sidebar.selected=e,this.sidebar.show=!0},loadMain(e){this.mainView=e,["upload","precons"].includes(e)&&(this.sidebar.show=!1)}}});function Jn(e){return[null,void 0].indexOf(e)!==-1}function cv(e,n,s){const{object:t,valueProp:r,mode:l}=bn(e),i=pn().proxy,p=s.iv,d=(v,w=!0)=>{p.value=m(v);const O=h(v);n.emit("change",O,i),w&&(n.emit("input",O),n.emit("update:modelValue",O))},h=v=>t.value||Jn(v)?v:Array.isArray(v)?v.map(w=>w[r.value]):v[r.value],m=v=>Jn(v)?l.value==="single"?{}:[]:v;return{update:d}}function uv(e,n){const{value:s,modelValue:t,mode:r,valueProp:l}=bn(e),i=Pt(r.value!=="single"?[]:{}),p=t&&t.value!==void 0?t:s,d=pt(()=>r.value==="single"?i.value[l.value]:i.value.map(m=>m[l.value])),h=pt(()=>r.value!=="single"?i.value.map(m=>m[l.value]).join(","):i.value[l.value]);return{iv:i,internalValue:i,ev:p,externalValue:p,textValue:h,plainValue:d}}function fv(e,n,s){const{regex:t}=bn(e),r=pn().proxy,l=s.isOpen,i=s.open,p=Pt(null),d=Pt(null),h=()=>{p.value=""},m=O=>{p.value=O.target.value},v=O=>{if(t&&t.value){let W=t.value;typeof W=="string"&&(W=new RegExp(W)),O.key.match(W)||O.preventDefault()}},w=O=>{if(t&&t.value){let ce=(O.clipboardData||window.clipboardData).getData("Text"),be=t.value;typeof be=="string"&&(be=new RegExp(be)),ce.split("").every(L=>!!L.match(be))||O.preventDefault()}n.emit("paste",O,r)};return Gt(p,O=>{!l.value&&O&&i(),n.emit("search-change",O,r)}),{search:p,input:d,clearSearch:h,handleSearchInput:m,handleKeypress:v,handlePaste:w}}function dv(e,n,s){const{groupSelect:t,mode:r,groups:l,disabledProp:i}=bn(e),p=Pt(null),d=m=>{m===void 0||m!==null&&m[i.value]||l.value&&m&&m.group&&(r.value==="single"||!t.value)||(p.value=m)};return{pointer:p,setPointer:d,clearPointer:()=>{d(null)}}}function hl(e,n=!0){return n?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function pv(e){return Object.prototype.toString.call(e)==="[object Object]"}function _v(e,n){const s=n.slice().sort();return e.length===n.length&&e.slice().sort().every(function(t,r){return t===s[r]})}function hv(e,n,s){const{options:t,mode:r,trackBy:l,limit:i,hideSelected:p,createTag:d,createOption:h,label:m,appendNewTag:v,appendNewOption:w,multipleLabel:O,object:W,loading:ce,delay:be,resolveOnLoad:L,minChars:S,filterResults:U,clearOnSearch:M,clearOnSelect:ae,valueProp:Z,allowAbsent:ie,groupLabel:q,canDeselect:A,max:Q,strict:te,closeOnSelect:V,closeOnDeselect:re,groups:ge,reverse:Ze,infinite:Ae,groupOptions:Ee,groupHideEmpty:ct,groupSelect:Ve,onCreate:bt,disabledProp:gt,searchStart:We,searchFilter:xt}=bn(e),qt=pn().proxy,ut=s.iv,Se=s.ev,X=s.search,Oe=s.clearSearch,de=s.update,Ne=s.pointer,lt=s.clearPointer,T=s.focus,P=s.deactivate,K=s.close,fe=s.localize,he=Pt([]),ve=Pt([]),Le=Pt(!1),Pe=Pt(null),Be=Pt(Ae.value&&i.value===-1?10:i.value),ue=pt(()=>d.value||h.value||!1),Re=pt(()=>v.value!==void 0?v.value:w.value!==void 0?w.value:!0),Me=pt(()=>{if(ge.value){let ne=_t.value||[],Xe=[];return ne.forEach(kt=>{Fr(kt[Ee.value]).forEach(Wt=>{Xe.push(Object.assign({},Wt,kt[gt.value]?{[gt.value]:!0}:{}))})}),Xe}else{let ne=Fr(ve.value||[]);return he.value.length&&(ne=ne.concat(he.value)),ne}}),Fe=pt(()=>{let ne=Me.value;return Ze.value&&(ne=ne.reverse()),nn.value.length&&(ne=nn.value.concat(ne)),Lr(ne)}),Je=pt(()=>{let ne=Fe.value;return Be.value>0&&(ne=ne.slice(0,Be.value)),ne}),_t=pt(()=>{if(!ge.value)return[];let ne=[],Xe=ve.value||[];return he.value.length&&ne.push({[q.value]:" ",[Ee.value]:[...he.value],__CREATE__:!0}),ne.concat(Xe)}),St=pt(()=>{let ne=[..._t.value].map(Xe=>({...Xe}));return nn.value.length&&(ne[0]&&ne[0].__CREATE__?ne[0][Ee.value]=[...nn.value,...ne[0][Ee.value]]:ne=[{[q.value]:" ",[Ee.value]:[...nn.value],__CREATE__:!0}].concat(ne)),ne}),wt=pt(()=>{if(!ge.value)return[];let ne=St.value;return Rr((ne||[]).map((Xe,kt)=>{const Wt=Fr(Xe[Ee.value]);return{...Xe,index:kt,group:!0,[Ee.value]:Lr(Wt,!1).map(Ms=>Object.assign({},Ms,Xe[gt.value]?{[gt.value]:!0}:{})),__VISIBLE__:Lr(Wt).map(Ms=>Object.assign({},Ms,Xe[gt.value]?{[gt.value]:!0}:{}))}}))}),Tt=pt(()=>{switch(r.value){case"single":return!Jn(ut.value[Z.value]);case"multiple":case"tags":return!Jn(ut.value)&&ut.value.length>0}}),jt=pt(()=>O!==void 0&&O.value!==void 0?O.value(ut.value,qt):ut.value&&ut.value.length>1?`${ut.value.length} options selected`:"1 option selected"),Yt=pt(()=>!Me.value.length&&!Le.value&&!nn.value.length),ft=pt(()=>Me.value.length>0&&Je.value.length==0&&(X.value&&ge.value||!ge.value)),nn=pt(()=>ue.value===!1||!X.value?[]:Qo(X.value)!==-1?[]:[{[Z.value]:X.value,[_.value]:X.value,[m.value]:X.value,__CREATE__:!0}]),_=pt(()=>l.value||m.value),st=pt(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),sn=pt(()=>ce.value||Le.value),Dn=ne=>{switch(typeof ne!="object"&&(ne=Nn(ne)),r.value){case"single":de(ne);break;case"multiple":case"tags":de(ut.value.concat(ne));break}n.emit("select",Si(ne),ne,qt)},ms=ne=>{switch(typeof ne!="object"&&(ne=Nn(ne)),r.value){case"single":ki();break;case"tags":case"multiple":de(Array.isArray(ne)?ut.value.filter(Xe=>ne.map(kt=>kt[Z.value]).indexOf(Xe[Z.value])===-1):ut.value.filter(Xe=>Xe[Z.value]!=ne[Z.value]));break}n.emit("deselect",Si(ne),ne,qt)},Si=ne=>W.value?ne:ne[Z.value],xi=ne=>{ms(ne)},jo=(ne,Xe)=>{if(Xe.button!==0){Xe.preventDefault();return}xi(ne)},ki=()=>{n.emit("clear",qt),de(st.value)},Mn=ne=>{if(ne.group!==void 0)return r.value==="single"?!1:Wo(ne[Ee.value])&&ne[Ee.value].length;switch(r.value){case"single":return!Jn(ut.value)&&ut.value[Z.value]==ne[Z.value];case"tags":case"multiple":return!Jn(ut.value)&&ut.value.map(Xe=>Xe[Z.value]).indexOf(ne[Z.value])!==-1}},Or=ne=>ne[gt.value]===!0,ir=()=>Q===void 0||Q.value===-1||!Tt.value&&Q.value>0?!1:ut.value.length>=Q.value,Uo=ne=>{if(!Or(ne)){if(bt&&bt.value&&!Mn(ne)&&ne.__CREATE__&&(ne={...ne},delete ne.__CREATE__,ne=bt.value(ne,qt),ne instanceof Promise)){Le.value=!0,ne.then(Xe=>{Le.value=!1,Ci(Xe)});return}Ci(ne)}},Ci=ne=>{switch(ne.__CREATE__&&(ne={...ne},delete ne.__CREATE__),r.value){case"single":if(ne&&Mn(ne)){A.value&&ms(ne),re.value&&(lt(),K());return}ne&&Pr(ne),ae.value&&Oe(),V.value&&(lt(),K()),ne&&Dn(ne);break;case"multiple":if(ne&&Mn(ne)){ms(ne),re.value&&(lt(),K());return}if(ir()){n.emit("max",qt);return}ne&&(Pr(ne),Dn(ne)),ae.value&&Oe(),p.value&&lt(),V.value&&K();break;case"tags":if(ne&&Mn(ne)){ms(ne),re.value&&(lt(),K());return}if(ir()){n.emit("max",qt);return}ne&&Pr(ne),ae.value&&Oe(),ne&&Dn(ne),p.value&&lt(),V.value&&K();break}V.value||T()},Vo=ne=>{if(!(Or(ne)||r.value==="single"||!Ve.value)){switch(r.value){case"multiple":case"tags":Ho(ne[Ee.value])?ms(ne[Ee.value]):Dn(ne[Ee.value].filter(Xe=>ut.value.map(kt=>kt[Z.value]).indexOf(Xe[Z.value])===-1).filter(Xe=>!Xe[gt.value]).filter((Xe,kt)=>ut.value.length+1+kt<=Q.value||Q.value===-1));break}V.value&&P()}},Pr=ne=>{Nn(ne[Z.value])===void 0&&ue.value&&(n.emit("tag",ne[Z.value],qt),n.emit("option",ne[Z.value],qt),n.emit("create",ne[Z.value],qt),Re.value&&Ko(ne),Oe())},zo=()=>{r.value!=="single"&&Dn(Je.value.filter(ne=>!ne.disabled&&!Mn(ne)))},Ho=ne=>ne.find(Xe=>!Mn(Xe)&&!Xe[gt.value])===void 0,Wo=ne=>ne.find(Xe=>!Mn(Xe))===void 0,Nn=ne=>Me.value[Me.value.map(Xe=>String(Xe[Z.value])).indexOf(String(ne))],Qo=(ne,Xe=!0)=>Me.value.map(kt=>parseInt(kt[_.value])==kt[_.value]?parseInt(kt[_.value]):kt[_.value]).indexOf(parseInt(ne)==ne?parseInt(ne):ne),Go=ne=>["tags","multiple"].indexOf(r.value)!==-1&&p.value&&Mn(ne),Ko=ne=>{he.value.push(ne)},Rr=ne=>ct.value?ne.filter(Xe=>X.value?Xe.__VISIBLE__.length:Xe[Ee.value].length):ne.filter(Xe=>X.value?Xe.__VISIBLE__.length:!0),Lr=(ne,Xe=!0)=>{let kt=ne;if(X.value&&U.value){let Wt=xt.value;Wt||(Wt=(Ms,Xo)=>{let Ii=hl(fe(Ms[_.value]),te.value);return We.value?Ii.startsWith(hl(X.value,te.value)):Ii.indexOf(hl(X.value,te.value))!==-1}),kt=kt.filter(Wt)}return p.value&&Xe&&(kt=kt.filter(Wt=>!Go(Wt))),kt},Fr=ne=>{let Xe=ne;return pv(Xe)&&(Xe=Object.keys(Xe).map(kt=>{let Wt=Xe[kt];return{[Z.value]:kt,[_.value]:Wt,[m.value]:Wt}})),Xe=Xe.map(kt=>typeof kt=="object"?kt:{[Z.value]:kt,[_.value]:kt,[m.value]:kt}),Xe},or=()=>{Jn(Se.value)||(ut.value=ar(Se.value))},lr=ne=>(Le.value=!0,new Promise((Xe,kt)=>{t.value(X.value,qt).then(Wt=>{ve.value=Wt||[],typeof ne=="function"&&ne(Wt),Le.value=!1}).catch(Wt=>{console.error(Wt),ve.value=[],Le.value=!1}).finally(()=>{Xe()})})),Dr=()=>{if(!!Tt.value)if(r.value==="single"){let ne=Nn(ut.value[Z.value]);if(ne!==void 0){let Xe=ne[m.value];ut.value[m.value]=Xe,W.value&&(Se.value[m.value]=Xe)}}else ut.value.forEach((ne,Xe)=>{let kt=Nn(ut.value[Xe][Z.value]);if(kt!==void 0){let Wt=kt[m.value];ut.value[Xe][m.value]=Wt,W.value&&(Se.value[Xe][m.value]=Wt)}})},Jo=ne=>{lr(ne)},ar=ne=>Jn(ne)?r.value==="single"?{}:[]:W.value?ne:r.value==="single"?Nn(ne)||(ie.value?{[m.value]:ne,[Z.value]:ne,[_.value]:ne}:{}):ne.filter(Xe=>!!Nn(Xe)||ie.value).map(Xe=>Nn(Xe)||{[m.value]:Xe,[Z.value]:Xe,[_.value]:Xe}),Ai=()=>{Pe.value=Gt(X,ne=>{ne.length<S.value||!ne&&S.value!==0||(Le.value=!0,M.value&&(ve.value=[]),setTimeout(()=>{ne==X.value&&t.value(X.value,qt).then(Xe=>{(ne==X.value||!X.value)&&(ve.value=Xe,Ne.value=Je.value.filter(kt=>kt[gt.value]!==!0)[0]||null,Le.value=!1)}).catch(Xe=>{console.error(Xe)})},be.value))},{flush:"sync"})};if(r.value!=="single"&&!Jn(Se.value)&&!Array.isArray(Se.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return t&&typeof t.value=="function"?L.value?lr(or):W.value==!0&&or():(ve.value=t.value,or()),be.value>-1&&Ai(),Gt(be,(ne,Xe)=>{Pe.value&&Pe.value(),ne>=0&&Ai()}),Gt(Se,ne=>{if(Jn(ne)){de(ar(ne),!1);return}switch(r.value){case"single":(W.value?ne[Z.value]!=ut.value[Z.value]:ne!=ut.value[Z.value])&&de(ar(ne),!1);break;case"multiple":case"tags":_v(W.value?ne.map(Xe=>Xe[Z.value]):ne,ut.value.map(Xe=>Xe[Z.value]))||de(ar(ne),!1);break}},{deep:!0}),Gt(t,(ne,Xe)=>{typeof e.options=="function"?L.value&&(!Xe||ne&&ne.toString()!==Xe.toString())&&lr():(ve.value=e.options,Object.keys(ut.value).length||or(),Dr())}),Gt(m,Dr),{pfo:Fe,fo:Je,filteredOptions:Je,hasSelected:Tt,multipleLabelText:jt,eo:Me,extendedOptions:Me,eg:_t,extendedGroups:_t,fg:wt,filteredGroups:wt,noOptions:Yt,noResults:ft,resolving:Le,busy:sn,offset:Be,select:Dn,deselect:ms,remove:xi,selectAll:zo,clear:ki,isSelected:Mn,isDisabled:Or,isMax:ir,getOption:Nn,handleOptionClick:Uo,handleGroupClick:Vo,handleTagRemove:jo,refreshOptions:Jo,resolveOptions:lr,refreshLabels:Dr}}function mv(e,n,s){const{valueProp:t,showOptions:r,searchable:l,groupLabel:i,groups:p,mode:d,groupSelect:h,disabledProp:m,groupOptions:v}=bn(e),w=s.fo,O=s.fg,W=s.handleOptionClick,ce=s.handleGroupClick,be=s.search,L=s.pointer,S=s.setPointer,U=s.clearPointer,M=s.multiselect,ae=s.isOpen,Z=pt(()=>w.value.filter(Se=>!Se[m.value])),ie=pt(()=>O.value.filter(Se=>!Se[m.value])),q=pt(()=>d.value!=="single"&&h.value),A=pt(()=>L.value&&L.value.group),Q=pt(()=>qt(L.value)),te=pt(()=>{const Se=A.value?L.value:qt(L.value),X=ie.value.map(de=>de[i.value]).indexOf(Se[i.value]);let Oe=ie.value[X-1];return Oe===void 0&&(Oe=re.value),Oe}),V=pt(()=>{let Se=ie.value.map(X=>X.label).indexOf(A.value?L.value[i.value]:qt(L.value)[i.value])+1;return ie.value.length<=Se&&(Se=0),ie.value[Se]}),re=pt(()=>[...ie.value].slice(-1)[0]),ge=pt(()=>L.value.__VISIBLE__.filter(Se=>!Se[m.value])[0]),Ze=pt(()=>{const Se=Q.value.__VISIBLE__.filter(X=>!X[m.value]);return Se[Se.map(X=>X[t.value]).indexOf(L.value[t.value])-1]}),Ae=pt(()=>{const Se=qt(L.value).__VISIBLE__.filter(X=>!X[m.value]);return Se[Se.map(X=>X[t.value]).indexOf(L.value[t.value])+1]}),Ee=pt(()=>[...te.value.__VISIBLE__.filter(Se=>!Se[m.value])].slice(-1)[0]),ct=pt(()=>[...re.value.__VISIBLE__.filter(Se=>!Se[m.value])].slice(-1)[0]),Ve=Se=>!!L.value&&(!Se.group&&L.value[t.value]===Se[t.value]||Se.group!==void 0&&L.value[i.value]===Se[i.value])?!0:void 0,bt=()=>{S(Z.value[0]||null)},gt=()=>{!L.value||L.value[m.value]===!0||(A.value?ce(L.value):W(L.value))},We=()=>{if(L.value===null)S((p.value&&q.value?ie.value[0].__CREATE__?Z.value[0]:ie.value[0]:Z.value[0])||null);else if(p.value&&q.value){let Se=A.value?ge.value:Ae.value;Se===void 0&&(Se=V.value,Se.__CREATE__&&(Se=Se[v.value][0])),S(Se||null)}else{let Se=Z.value.map(X=>X[t.value]).indexOf(L.value[t.value])+1;Z.value.length<=Se&&(Se=0),S(Z.value[Se]||null)}Zn(()=>{ut()})},xt=()=>{if(L.value===null){let Se=Z.value[Z.value.length-1];p.value&&q.value&&(Se=ct.value,Se===void 0&&(Se=re.value)),S(Se||null)}else if(p.value&&q.value){let Se=A.value?Ee.value:Ze.value;Se===void 0&&(Se=A.value?te.value:Q.value,Se.__CREATE__&&(Se=Ee.value,Se===void 0&&(Se=te.value))),S(Se||null)}else{let Se=Z.value.map(X=>X[t.value]).indexOf(L.value[t.value])-1;Se<0&&(Se=Z.value.length-1),S(Z.value[Se]||null)}Zn(()=>{ut()})},qt=Se=>ie.value.find(X=>X.__VISIBLE__.map(Oe=>Oe[t.value]).indexOf(Se[t.value])!==-1),ut=()=>{let Se=M.value.querySelector("[data-pointed]");if(!Se)return;let X=Se.parentElement.parentElement;p.value&&(X=A.value?Se.parentElement.parentElement.parentElement:Se.parentElement.parentElement.parentElement.parentElement),Se.offsetTop+Se.offsetHeight>X.clientHeight+X.scrollTop&&(X.scrollTop=Se.offsetTop+Se.offsetHeight-X.clientHeight),Se.offsetTop<X.scrollTop&&(X.scrollTop=Se.offsetTop)};return Gt(be,Se=>{l.value&&(Se.length&&r.value?bt():U())}),Gt(ae,Se=>{if(Se){let X=M.value.querySelectorAll("[data-selected]")[0];if(!X)return;let Oe=X.parentElement.parentElement;Zn(()=>{Oe.scrollTop>0||(Oe.scrollTop=X.offsetTop)})}}),{pointer:L,canPointGroups:q,isPointed:Ve,setPointerFirst:bt,selectPointer:gt,forwardPointer:We,backwardPointer:xt}}function gv(e,n,s){const{disabled:t}=bn(e),r=pn().proxy,l=Pt(!1);return{isOpen:l,open:()=>{l.value||t.value||(l.value=!0,n.emit("open",r))},close:()=>{!l.value||(l.value=!1,n.emit("close",r))}}}function yv(e,n,s){const{searchable:t,disabled:r,clearOnBlur:l}=bn(e),i=s.input,p=s.open,d=s.close,h=s.clearSearch,m=s.isOpen,v=Pt(null),w=Pt(null),O=Pt(null),W=Pt(!1),ce=Pt(!1),be=pt(()=>t.value||r.value?-1:0),L=()=>{t.value&&i.value.blur(),w.value.blur()},S=()=>{t.value&&!r.value&&i.value.focus()},U=(A=!0)=>{r.value||(W.value=!0,A&&p())},M=()=>{W.value=!1,setTimeout(()=>{W.value||(d(),l.value&&h())},1)};return{multiselect:v,wrapper:w,tags:O,tabindex:be,isActive:W,mouseClicked:ce,blur:L,focus:S,activate:U,deactivate:M,handleFocusIn:A=>{A.target.closest("[data-tags]")&&A.target.nodeName!=="INPUT"||A.target.closest("[data-clear]")||U(ce.value)},handleFocusOut:()=>{M()},handleCaretClick:()=>{M(),L()},handleMousedown:A=>{ce.value=!0,m.value&&(A.target.isEqualNode(w.value)||A.target.isEqualNode(O.value))?setTimeout(()=>{M()},0):document.activeElement.isEqualNode(w.value)&&!m.value&&U(),setTimeout(()=>{ce.value=!1},0)}}}function vv(e,n,s){const{mode:t,addTagOn:r,openDirection:l,searchable:i,showOptions:p,valueProp:d,groups:h,addOptionOn:m,createTag:v,createOption:w,reverse:O}=bn(e),W=pn().proxy,ce=s.iv,be=s.update,L=s.search,S=s.setPointer,U=s.selectPointer,M=s.backwardPointer,ae=s.forwardPointer,Z=s.multiselect,ie=s.wrapper,q=s.tags,A=s.isOpen,Q=s.open,te=s.blur,V=s.fo,re=pt(()=>v.value||w.value||!1),ge=pt(()=>r.value!==void 0?r.value:m.value!==void 0?m.value:["enter"]),Ze=()=>{t.value==="tags"&&!p.value&&re.value&&i.value&&!h.value&&S(V.value[V.value.map(Ve=>Ve[d.value]).indexOf(L.value)])},Ae=Ve=>{let bt=Ve.length-1;for(;bt>=0&&(Ve[bt].remove===!1||Ve[bt].disabled);)bt--;return bt<0||Ve.splice(bt,1),Ve};return{handleKeydown:Ve=>{n.emit("keydown",Ve,W);let bt,gt;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(Ve.key)!==-1&&t.value==="tags"&&(bt=[...Z.value.querySelectorAll("[data-tags] > *")].filter(We=>We!==q.value),gt=bt.findIndex(We=>We===document.activeElement)),Ve.key){case"Backspace":if(t.value==="single"||i.value&&[null,""].indexOf(L.value)===-1||ce.value.length===0)return;be(Ae([...ce.value]));break;case"Enter":if(Ve.preventDefault(),Ve.keyCode===229)return;if(gt!==-1&&gt!==void 0){be([...ce.value].filter((We,xt)=>xt!==gt)),gt===bt.length-1&&(bt.length-1?bt[bt.length-2].focus():i.value?q.value.querySelector("input").focus():ie.value.focus());return}if(ge.value.indexOf("enter")===-1&&re.value)return;Ze(),U();break;case" ":if(!re.value&&!i.value){Ve.preventDefault(),Ze(),U();return}if(!re.value)return!1;if(ge.value.indexOf("space")===-1&&re.value)return;Ve.preventDefault(),Ze(),U();break;case"Tab":case";":case",":if(ge.value.indexOf(Ve.key.toLowerCase())===-1||!re.value)return;Ze(),U(),Ve.preventDefault();break;case"Escape":te();break;case"ArrowUp":if(Ve.preventDefault(),!p.value)return;A.value||Q(),M();break;case"ArrowDown":if(Ve.preventDefault(),!p.value)return;A.value||Q(),ae();break;case"ArrowLeft":if(i.value&&q.value&&q.value.querySelector("input").selectionStart||Ve.shiftKey||t.value!=="tags"||!ce.value||!ce.value.length)return;Ve.preventDefault(),gt===-1?bt[bt.length-1].focus():gt>0&&bt[gt-1].focus();break;case"ArrowRight":if(gt===-1||Ve.shiftKey||t.value!=="tags"||!ce.value||!ce.value.length)return;Ve.preventDefault(),bt.length>gt+1?bt[gt+1].focus():i.value?q.value.querySelector("input").focus():i.value||ie.value.focus();break}},handleKeyup:Ve=>{n.emit("keyup",Ve,W)},preparePointer:Ze}}function bv(e,n,s){const{classes:t,disabled:r,openDirection:l,showOptions:i}=bn(e),p=s.isOpen,d=s.isPointed,h=s.isSelected,m=s.isDisabled,v=s.isActive,w=s.canPointGroups,O=s.resolving,W=s.fo,ce=pt(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...t.value})),be=pt(()=>!!(p.value&&i.value&&(!O.value||O.value&&W.value.length)));return{classList:pt(()=>{const S=ce.value;return{container:[S.container].concat(r.value?S.containerDisabled:[]).concat(be.value&&l.value==="top"?S.containerOpenTop:[]).concat(be.value&&l.value!=="top"?S.containerOpen:[]).concat(v.value?S.containerActive:[]),wrapper:S.wrapper,spacer:S.spacer,singleLabel:S.singleLabel,singleLabelText:S.singleLabelText,multipleLabel:S.multipleLabel,search:S.search,tags:S.tags,tag:[S.tag].concat(r.value?S.tagDisabled:[]),tagDisabled:S.tagDisabled,tagRemove:S.tagRemove,tagRemoveIcon:S.tagRemoveIcon,tagsSearchWrapper:S.tagsSearchWrapper,tagsSearch:S.tagsSearch,tagsSearchCopy:S.tagsSearchCopy,placeholder:S.placeholder,caret:[S.caret].concat(p.value?S.caretOpen:[]),clear:S.clear,clearIcon:S.clearIcon,spinner:S.spinner,inifinite:S.inifinite,inifiniteSpinner:S.inifiniteSpinner,dropdown:[S.dropdown].concat(l.value==="top"?S.dropdownTop:[]).concat(!p.value||!i.value||!be.value?S.dropdownHidden:[]),options:[S.options].concat(l.value==="top"?S.optionsTop:[]),group:S.group,groupLabel:U=>{let M=[S.groupLabel];return d(U)?M.push(h(U)?S.groupLabelSelectedPointed:S.groupLabelPointed):h(U)&&w.value?M.push(m(U)?S.groupLabelSelectedDisabled:S.groupLabelSelected):m(U)&&M.push(S.groupLabelDisabled),w.value&&M.push(S.groupLabelPointable),M},groupOptions:S.groupOptions,option:(U,M)=>{let ae=[S.option];return d(U)?ae.push(h(U)?S.optionSelectedPointed:S.optionPointed):h(U)?ae.push(m(U)?S.optionSelectedDisabled:S.optionSelected):(m(U)||M&&m(M))&&ae.push(S.optionDisabled),ae},noOptions:S.noOptions,noResults:S.noResults,assist:S.assist,fakeInput:S.fakeInput}}),showDropdown:be}}function wv(e,n,s){const{limit:t,infinite:r}=bn(e),l=s.isOpen,i=s.offset,p=s.search,d=s.pfo,h=s.eo,m=Pt(null),v=Pt(null),w=pt(()=>i.value<d.value.length),O=ce=>{const{isIntersecting:be,target:L}=ce[0];if(be){const S=L.offsetParent,U=S.scrollTop;i.value+=t.value==-1?10:t.value,Zn(()=>{S.scrollTop=U})}},W=()=>{l.value&&i.value<d.value.length?m.value.observe(v.value):!l.value&&m.value&&m.value.disconnect()};return Gt(l,()=>{!r.value||W()}),Gt(p,()=>{!r.value||(i.value=t.value,W())},{flush:"post"}),Gt(h,()=>{!r.value||W()},{immediate:!1,flush:"post"}),hs(()=>{window&&window.IntersectionObserver&&(m.value=new IntersectionObserver(O))}),{hasMore:w,infiniteLoader:v}}function Ev(e,n,s){const{placeholder:t,id:r,valueProp:l,label:i,mode:p,groupLabel:d,aria:h,searchable:m}=bn(e),v=s.pointer,w=s.iv,O=s.hasSelected,W=s.multipleLabelText,ce=Pt(null),be=pt(()=>{let V=[];return r&&r.value&&V.push(r.value),V.push("assist"),V.join("-")}),L=pt(()=>{let V=[];return r&&r.value&&V.push(r.value),V.push("multiselect-options"),V.join("-")}),S=pt(()=>{let V=[];if(r&&r.value&&V.push(r.value),v.value)return V.push(v.value.group?"multiselect-group":"multiselect-option"),V.push(v.value.group?v.value.index:v.value[l.value]),V.join("-")}),U=pt(()=>t.value),M=pt(()=>p.value!=="single"),ae=pt(()=>{let V="";return p.value==="single"&&O.value&&(V+=w.value[i.value]),p.value==="multiple"&&O.value&&(V+=W.value),p.value==="tags"&&O.value&&(V+=w.value.map(re=>re[i.value]).join(", ")),V}),Z=pt(()=>{let V={...h.value};return m.value&&(V["aria-labelledby"]=V["aria-labelledby"]?`${be.value} ${V["aria-labelledby"]}`:be.value,ae.value&&V["aria-label"]&&(V["aria-label"]=`${ae.value}, ${V["aria-label"]}`)),V}),ie=V=>{let re=[];return r&&r.value&&re.push(r.value),re.push("multiselect-option"),re.push(V[l.value]),re.join("-")},q=V=>{let re=[];return r&&r.value&&re.push(r.value),re.push("multiselect-group"),re.push(V.index),re.join("-")},A=V=>{let re=[];return re.push(V),re.join(" ")},Q=V=>{let re=[];return re.push(V),re.join(" ")},te=V=>`${V} \u274E`;return hs(()=>{if(r&&r.value&&document&&document.querySelector){let V=document.querySelector(`[for="${r.value}"]`);ce.value=V?V.innerText:null}}),{arias:Z,ariaLabel:ae,ariaAssist:be,ariaControls:L,ariaPlaceholder:U,ariaMultiselectable:M,ariaActiveDescendant:S,ariaOptionId:ie,ariaOptionLabel:A,ariaGroupId:q,ariaGroupLabel:Q,ariaTagLabel:te}}function qv(e,n,s){const{locale:t,fallbackLocale:r}=bn(e);return{localize:i=>!i||typeof i!="object"?i:i&&i[t.value]?i[t.value]:i&&t.value&&i[t.value.toUpperCase()]?i[t.value.toUpperCase()]:i&&i[r.value]?i[r.value]:i&&r.value&&i[r.value.toUpperCase()]?i[r.value.toUpperCase()]:i&&Object.keys(i)[0]?i[Object.keys(i)[0]]:""}}function Sv(e,n,s,t={}){return s.forEach(r=>{r&&(t={...t,...r(e,n,t)})}),t}var Jt={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,n){return Sv(e,n,[qv,uv,dv,gv,fv,cv,yv,hv,wv,mv,vv,bv,Ev])}};const xv=["id","dir"],kv=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Cv=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Av=["onKeyup","aria-label"],Iv=["onClick"],Tv=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ov=["innerHTML"],Pv=["id"],Rv=["id","aria-label","aria-selected"],Lv=["data-pointed","onMouseenter","onClick"],Fv=["innerHTML"],Dv=["aria-label"],Mv=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Nv=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Bv=["innerHTML"],$v=["innerHTML"],jv=["value"],Uv=["name","value"],Vv=["name","value"],zv=["id"];function Hv(e,n,s,t,r,l){return oe(),ye("div",{ref:"multiselect",class:it(e.classList.container),id:s.searchable?void 0:s.id,dir:s.rtl?"rtl":void 0,onFocusin:n[10]||(n[10]=(...i)=>e.handleFocusIn&&e.handleFocusIn(...i)),onFocusout:n[11]||(n[11]=(...i)=>e.handleFocusOut&&e.handleFocusOut(...i)),onKeyup:n[12]||(n[12]=(...i)=>e.handleKeyup&&e.handleKeyup(...i)),onKeydown:n[13]||(n[13]=(...i)=>e.handleKeydown&&e.handleKeydown(...i))},[z("div",Is({class:e.classList.wrapper,onMousedown:n[9]||(n[9]=(...i)=>e.handleMousedown&&e.handleMousedown(...i)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":s.searchable?void 0:e.ariaControls,"aria-placeholder":s.searchable?void 0:e.ariaPlaceholder,"aria-expanded":s.searchable?void 0:e.isOpen,"aria-activedescendant":s.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":s.searchable?void 0:e.ariaMultiselectable,role:s.searchable?void 0:"combobox"},s.searchable?{}:e.arias),[Ge(" Search "),s.mode!=="tags"&&s.searchable&&!s.disabled?(oe(),ye("input",Is({key:0,type:s.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:s.autocomplete,id:s.searchable?s.id:void 0,onInput:n[0]||(n[0]=(...i)=>e.handleSearchInput&&e.handleSearchInput(...i)),onKeypress:n[1]||(n[1]=(...i)=>e.handleKeypress&&e.handleKeypress(...i)),onPaste:n[2]||(n[2]=en((...i)=>e.handlePaste&&e.handlePaste(...i),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...s.attrs,...e.arias}),null,16,Cv)):Ge("v-if",!0),Ge(" Tags (with search) "),s.mode=="tags"?(oe(),ye("div",{key:1,class:it(e.classList.tags),"data-tags":""},[(oe(!0),ye(vt,null,$t(e.iv,(i,p,d)=>rn(e.$slots,"tag",{option:i,handleTagRemove:e.handleTagRemove,disabled:s.disabled},()=>[(oe(),ye("span",{class:it([e.classList.tag,i.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:Sr(h=>e.handleTagRemove(i,h),["enter"]),key:d,"aria-label":e.ariaTagLabel(e.localize(i[s.label]))},[Qn(ht(e.localize(i[s.label]))+" ",1),!s.disabled&&!i.disabled?(oe(),ye("span",{key:0,class:it(e.classList.tagRemove),onClick:en(h=>e.handleTagRemove(i,h),["stop"])},[z("span",{class:it(e.classList.tagRemoveIcon)},null,2)],10,Iv)):Ge("v-if",!0)],42,Av))])),256)),z("div",{class:it(e.classList.tagsSearchWrapper),ref:"tags"},[Ge(" Used for measuring search width "),z("span",{class:it(e.classList.tagsSearchCopy)},ht(e.search),3),Ge(" Actual search input "),s.searchable&&!s.disabled?(oe(),ye("input",Is({key:0,type:s.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:s.searchable?s.id:void 0,autocomplete:s.autocomplete,onInput:n[3]||(n[3]=(...i)=>e.handleSearchInput&&e.handleSearchInput(...i)),onKeypress:n[4]||(n[4]=(...i)=>e.handleKeypress&&e.handleKeypress(...i)),onPaste:n[5]||(n[5]=en((...i)=>e.handlePaste&&e.handlePaste(...i),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...s.attrs,...e.arias}),null,16,Tv)):Ge("v-if",!0)],2)],2)):Ge("v-if",!0),Ge(" Single label "),s.mode=="single"&&e.hasSelected&&!e.search&&e.iv?rn(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[z("div",{class:it(e.classList.singleLabel)},[z("span",{class:it(e.classList.singleLabelText)},ht(e.localize(e.iv[s.label])),3)],2)]):Ge("v-if",!0),Ge(" Multiple label "),s.mode=="multiple"&&e.hasSelected&&!e.search?rn(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[z("div",{class:it(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ov)]):Ge("v-if",!0),Ge(" Placeholder "),s.placeholder&&!e.hasSelected&&!e.search?rn(e.$slots,"placeholder",{key:4},()=>[z("div",{class:it(e.classList.placeholder),"aria-hidden":"true"},ht(s.placeholder),3)]):Ge("v-if",!0),Ge(" Spinner "),s.loading||e.resolving?rn(e.$slots,"spinner",{key:5},()=>[z("span",{class:it(e.classList.spinner),"aria-hidden":"true"},null,2)]):Ge("v-if",!0),Ge(" Clear "),e.hasSelected&&!s.disabled&&s.canClear&&!e.busy?rn(e.$slots,"clear",{key:6,clear:e.clear},()=>[z("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:it(e.classList.clear),onClick:n[6]||(n[6]=(...i)=>e.clear&&e.clear(...i)),onKeyup:n[7]||(n[7]=Sr((...i)=>e.clear&&e.clear(...i),["enter"]))},[z("span",{class:it(e.classList.clearIcon)},null,2)],34)]):Ge("v-if",!0),Ge(" Caret "),s.caret&&s.showOptions?rn(e.$slots,"caret",{key:7},()=>[z("span",{class:it(e.classList.caret),onClick:n[8]||(n[8]=(...i)=>e.handleCaretClick&&e.handleCaretClick(...i)),"aria-hidden":"true"},null,2)]):Ge("v-if",!0)],16,kv),Ge(" Options "),z("div",{class:it(e.classList.dropdown),tabindex:"-1"},[rn(e.$slots,"beforelist",{options:e.fo}),z("ul",{class:it(e.classList.options),id:e.ariaControls,role:"listbox"},[s.groups?(oe(!0),ye(vt,{key:0},$t(e.fg,(i,p,d)=>(oe(),ye("li",{class:it(e.classList.group),key:d,id:e.ariaGroupId(i),"aria-label":e.ariaGroupLabel(e.localize(i[s.groupLabel])),"aria-selected":e.isSelected(i),role:"option"},[i.__CREATE__?Ge("v-if",!0):(oe(),ye("div",{key:0,class:it(e.classList.groupLabel(i)),"data-pointed":e.isPointed(i),onMouseenter:h=>e.setPointer(i,p),onClick:h=>e.handleGroupClick(i)},[rn(e.$slots,"grouplabel",{group:i,isSelected:e.isSelected,isPointed:e.isPointed},()=>[z("span",{innerHTML:e.localize(i[s.groupLabel])},null,8,Fv)])],42,Lv)),z("ul",{class:it(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(i[s.groupLabel])),role:"group"},[(oe(!0),ye(vt,null,$t(i.__VISIBLE__,(h,m,v)=>(oe(),ye("li",{class:it(e.classList.option(h,i)),"data-pointed":e.isPointed(h),"data-selected":e.isSelected(h)||void 0,key:v,onMouseenter:w=>e.setPointer(h),onClick:w=>e.handleOptionClick(h),id:e.ariaOptionId(h),"aria-selected":e.isSelected(h),"aria-label":e.ariaOptionLabel(e.localize(h[s.label])),role:"option"},[rn(e.$slots,"option",{option:h,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[z("span",null,ht(e.localize(h[s.label])),1)])],42,Mv))),128))],10,Dv)],10,Rv))),128)):(oe(!0),ye(vt,{key:1},$t(e.fo,(i,p,d)=>(oe(),ye("li",{class:it(e.classList.option(i)),"data-pointed":e.isPointed(i),"data-selected":e.isSelected(i)||void 0,key:d,onMouseenter:h=>e.setPointer(i),onClick:h=>e.handleOptionClick(i),id:e.ariaOptionId(i),"aria-selected":e.isSelected(i),"aria-label":e.ariaOptionLabel(e.localize(i[s.label])),role:"option"},[rn(e.$slots,"option",{option:i,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[z("span",null,ht(e.localize(i[s.label])),1)])],42,Nv))),128))],10,Pv),e.noOptions?rn(e.$slots,"nooptions",{key:0},()=>[z("div",{class:it(e.classList.noOptions),innerHTML:e.localize(s.noOptionsText)},null,10,Bv)]):Ge("v-if",!0),e.noResults?rn(e.$slots,"noresults",{key:1},()=>[z("div",{class:it(e.classList.noResults),innerHTML:e.localize(s.noResultsText)},null,10,$v)]):Ge("v-if",!0),s.infinite&&e.hasMore?(oe(),ye("div",{key:2,class:it(e.classList.inifinite),ref:"infiniteLoader"},[rn(e.$slots,"infinite",{},()=>[z("span",{class:it(e.classList.inifiniteSpinner)},null,2)])],2)):Ge("v-if",!0),rn(e.$slots,"afterlist",{options:e.fo})],2),Ge(" Hacky input element to show HTML5 required warning "),s.required?(oe(),ye("input",{key:0,class:it(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,jv)):Ge("v-if",!0),Ge(" Native input support "),s.nativeSupport?(oe(),ye(vt,{key:1},[s.mode=="single"?(oe(),ye("input",{key:0,type:"hidden",name:s.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Uv)):(oe(!0),ye(vt,{key:1},$t(e.plainValue,(i,p)=>(oe(),ye("input",{type:"hidden",name:`${s.name}[]`,value:i,key:p},null,8,Vv))),128))],64)):Ge("v-if",!0),Ge(" Screen reader assistive text "),s.searchable&&e.hasSelected?(oe(),ye("div",{key:2,class:it(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},ht(e.ariaLabel),11,zv)):Ge("v-if",!0),Ge(" Create height for empty input "),z("div",{class:it(e.classList.spacer)},null,2)],42,xv)}Jt.render=Hv;Jt.__file="src/Multiselect.vue";let Wi;const Wv=new Uint8Array(16);function Qv(){if(!Wi&&(Wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wi(Wv)}const an=[];for(let e=0;e<256;++e)an.push((e+256).toString(16).slice(1));function Gv(e,n=0){return(an[e[n+0]]+an[e[n+1]]+an[e[n+2]]+an[e[n+3]]+"-"+an[e[n+4]]+an[e[n+5]]+"-"+an[e[n+6]]+an[e[n+7]]+"-"+an[e[n+8]]+an[e[n+9]]+"-"+an[e[n+10]]+an[e[n+11]]+an[e[n+12]]+an[e[n+13]]+an[e[n+14]]+an[e[n+15]]).toLowerCase()}const Kv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xc={randomUUID:Kv};function Jv(e,n,s){if(Xc.randomUUID&&!n&&!e)return Xc.randomUUID();e=e||{};const t=e.random||(e.rng||Qv)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){s=s||0;for(let r=0;r<16;++r)n[s+r]=t[r];return n}return Gv(t)}const Xv={class:"icons"},Yv=["data-colour"],Zv=["value","id"],eb=["for"],tb={__name:"Colours",emits:["update:modelValue"],setup(e,{emit:n}){const s={White:"W",Blue:"U",Black:"B",Red:"R",Green:"G",Colourless:"C"},t=Xt({colours:[]}),r={Azorius:["U","W"],Boros:["R","W"],Dimir:["B","U"],Golgari:["B","G"],Gruul:["G","R"],Izzet:["R","U"],Orzhov:["B","W"],Rakdos:["B","R"],Selesnya:["G","W"],Simic:["G","U"]},l={Abzan:["B","G","W"],Bant:["G","U","W"],Esper:["B","U","W"],Grixis:["B","R","U"],Jeskai:["R","U","W"],Jund:["B","G","R"],Mardu:["B","R","W"],Naya:["G","R","W"],Sultai:["B","G","U"],Temur:["G","R","U"]},i={Glint:"W",Dune:"U",Ink:"B",Witch:"R",Yore:"G"},p=Jv();Ys(()=>{n("update:modelValue",t.colours)});const d=h=>{let m=[...h].sort();if(h.length===2){for(const[v,w]of Object.entries(r))if(m.every((O,W)=>O===w[W]))return v}else if(h.length===3){for(const[v,w]of Object.entries(l))if(m.every((O,W)=>O===w[W]))return v}else if(h.length===4){for(const[v,w]of Object.entries(i))if(!h.includes(w))return v}return""};return(h,m)=>(oe(),ye("div",Xv,[(oe(),ye(vt,null,$t(s,v=>z("div",{class:it(["input-group colour",t.colours.includes(v)?"selected":""]),"data-colour":v,key:v},[At(z("input",{type:"checkbox","onUpdate:modelValue":m[0]||(m[0]=w=>t.colours=w),value:v,id:G(p)+v},null,8,Zv),[[xs,t.colours]]),z("label",{for:G(p)+v,class:it("icon icon-"+v)},null,10,eb)],10,Yv)),64)),z("h3",null,ht(t.colours.length>1?`${d(t.colours)}`:""),1)]))}},nb=Ht(tb,[["__scopeId","data-v-bdafe7b4"]]);const Rd=e=>(ns("data-v-a3184fae"),e=e(),ss(),e),sb={class:"filter-group rarities"},rb=["data-rarity"],ib=["onUpdate:modelValue","value","id"],ob=["for","title"],lb={class:"filter-group colours"},ab={class:"filter-group"},cb={class:"filter-group"},ub={class:"filter-group mana"},fb={class:"filter-group price"},db={class:"filter-group"},pb={class:"filter-group"},_b={class:"filter-group"},hb={key:0,class:"filter-group"},mb={key:1,class:"filter-group compare"},gb={class:"header"},yb=Rd(()=>z("h3",null,"Compare",-1)),vb={class:"grid"},bb=["id","value"],wb=["for"],Eb=["id","value"],qb=["for"],Sb=["id","value"],xb=["for"],kb={class:"filter-group quantity"},Cb={class:"filter-group"},Ab=Rd(()=>z("h3",null,"Other",-1)),Ib={__name:"Filters",setup(e){const n=yn(),s=Hn(),t=Gn(),r=["special","mythic","rare","uncommon","common"];return(l,i)=>(oe(),ye(vt,null,[z("div",sb,[(oe(),ye(vt,null,$t(r,p=>z("div",{class:"input-group rarity","data-rarity":p,key:p},[At(z("input",{type:"checkbox","onUpdate:modelValue":d=>G(s).filters.rarity=d,value:p,id:p},null,8,ib),[[xs,G(s).filters.rarity]]),z("label",{for:p,title:p},null,8,ob)],8,rb)),64))]),z("div",lb,[Ye(G(Jt),{options:{commander:"Commader colours",exact:"Has exactly these colours",all:"Has all of these colours",any:"Has any of these colours"},modelValue:G(s).filters.colours.mode,"onUpdate:modelValue":i[0]||(i[0]=p=>G(s).filters.colours.mode=p),placeholder:"Colour mode","can-clear":!1},null,8,["modelValue"]),Ye(nb,{modelValue:G(s).filters.colours.colours,"onUpdate:modelValue":i[1]||(i[1]=p=>G(s).filters.colours.colours=p)},null,8,["modelValue"])]),z("div",ab,[At(z("input",{type:"search","onUpdate:modelValue":i[2]||(i[2]=p=>G(s).filters.name=p),placeholder:"Name"},null,512),[[Vt,G(s).filters.name]])]),z("div",cb,[At(z("input",{type:"search","onUpdate:modelValue":i[3]||(i[3]=p=>G(s).filters.cardText=p),placeholder:"Card text"},null,512),[[Vt,G(s).filters.cardText]])]),z("div",ub,[At(z("input",{type:"number","onUpdate:modelValue":i[4]||(i[4]=p=>G(s).filters.mana.value[0]=p),placeholder:"Mana (min)"},null,512),[[Vt,G(s).filters.mana.value[0]]]),At(z("input",{type:"number","onUpdate:modelValue":i[5]||(i[5]=p=>G(s).filters.mana.value[1]=p),placeholder:"Mana (max)"},null,512),[[Vt,G(s).filters.mana.value[1]]])]),z("div",fb,[At(z("input",{type:"number","onUpdate:modelValue":i[6]||(i[6]=p=>G(s).filters.price.value[0]=p),placeholder:"Price (min)"},null,512),[[Vt,G(s).filters.price.value[0]]]),At(z("input",{type:"number","onUpdate:modelValue":i[7]||(i[7]=p=>G(s).filters.price.value[1]=p),placeholder:"Price (max)"},null,512),[[Vt,G(s).filters.price.value[1]]])]),z("div",db,[Ye(G(Jt),{modelValue:G(s).filters.tribes,"onUpdate:modelValue":i[8]||(i[8]=p=>G(s).filters.tribes=p),options:G(t).types,searchable:!0,mode:"tags","create-option":!0,placeholder:"Types"},null,8,["modelValue","options"])]),z("div",pb,[Ye(G(Jt),{modelValue:G(s).filters.keywords,"onUpdate:modelValue":i[9]||(i[9]=p=>G(s).filters.keywords=p),options:G(s).keywords,searchable:!0,mode:"tags",placeholder:"Keywords"},null,8,["modelValue","options"])]),z("div",_b,[Ye(G(Jt),{modelValue:G(s).filters.sets,"onUpdate:modelValue":i[10]||(i[10]=p=>G(s).filters.sets=p),options:G(t).sets,searchable:!0,label:"name","value-prop":"code",mode:"tags",placeholder:"Sets"},null,8,["modelValue","options"])]),G(s).tags.length>0?(oe(),ye("div",hb,[Ye(G(Jt),{modelValue:G(s).filters.tags,"onUpdate:modelValue":i[11]||(i[11]=p=>G(s).filters.tags=p),options:G(s).tags,searchable:!0,mode:"tags",placeholder:"Tags"},null,8,["modelValue","options"])])):Ge("",!0),G(n).names.length>0?(oe(),ye("div",mb,[z("div",gb,[yb,z("a",{href:"#",onClick:i[12]||(i[12]=()=>{G(s).filters.incCol=[],G(s).filters.excCol=[]})},"X")]),z("div",vb,[(oe(!0),ye(vt,null,$t(G(n).names,p=>(oe(),ye(vt,{key:p},[z("div",null,ht(p),1),z("div",null,[At(z("input",{type:"checkbox",id:p+"-cmp","onUpdate:modelValue":i[13]||(i[13]=d=>G(s).filters.cmpCol=d),value:p},null,8,bb),[[xs,G(s).filters.cmpCol]]),z("label",{class:"cmp icon icon-compare_arrows",for:p+"-cmp"},null,8,wb)]),z("div",null,[At(z("input",{type:"checkbox",id:p+"-inc","onUpdate:modelValue":i[14]||(i[14]=d=>G(s).filters.incCol=d),value:p},null,8,Eb),[[xs,G(s).filters.incCol]]),z("label",{class:"inc",for:p+"-inc"},null,8,qb)]),z("div",null,[At(z("input",{type:"checkbox",id:p+"-exc","onUpdate:modelValue":i[15]||(i[15]=d=>G(s).filters.excCol=d),value:p},null,8,Sb),[[xs,G(s).filters.excCol]]),z("label",{class:"exc",for:p+"-exc"},null,8,xb)])],64))),128))])])):Ge("",!0),Ye(G(Jt),{modelValue:G(s).filters.finish,"onUpdate:modelValue":i[16]||(i[16]=p=>G(s).filters.finish=p),options:["nonfoil","foil","etched"],mode:"single",placeholder:"Finish"},null,8,["modelValue"]),Ye(G(Jt),{modelValue:G(s).filters.frame,"onUpdate:modelValue":i[17]||(i[17]=p=>G(s).filters.frame=p),options:G(s).frame_effects,mode:"single",placeholder:"Frame"},null,8,["modelValue","options"]),Ye(G(Jt),{modelValue:G(s).filters.border,"onUpdate:modelValue":i[18]||(i[18]=p=>G(s).filters.border=p),options:["borderless","black","white"],mode:"single",placeholder:"Border"},null,8,["modelValue"]),z("div",kb,[At(z("input",{type:"number","onUpdate:modelValue":i[19]||(i[19]=p=>G(s).filters.quantity.value[0]=p),placeholder:"Count (min)"},null,512),[[Vt,G(s).filters.quantity.value[0]]]),At(z("input",{type:"number","onUpdate:modelValue":i[20]||(i[20]=p=>G(s).filters.quantity.value[1]=p),placeholder:"Count (max)"},null,512),[[Vt,G(s).filters.quantity.value[1]]])]),z("div",Cb,[Ab,Ye(G(Jt),{options:{ID:"Oracle id"},mode:"single",placeholder:"Group by",modelValue:G(s).filters.group,"onUpdate:modelValue":i[21]||(i[21]=p=>G(s).filters.group=p)},null,8,["modelValue"])])],64))}},Ld=Ht(Ib,[["__scopeId","data-v-a3184fae"]]),Tr=rs("details",{state:()=>({card:{},rulings:[]}),actions:{async loadDetails(e,n=!1){if(this.rulings=[],this.card=e,n){const s=await caches.open("cardDataCache"),t=await ks(s,e.rulings_uri);this.rulings=t.data}}}});const Tb=["srcset"],Ob=["src"],Pb=["src"],Rb={__name:"CardImage",props:{card:{type:Object,required:!0},effects:{type:Array,default:()=>[]},actions:{type:Array,default:()=>["clip","delete","prints"]}},setup(e){const n=e;return(s,t)=>(oe(),ye("div",{class:it(["img",{[n.card.finish]:!0,[n.effects]:!0}])},[n.card.image_uris?(oe(),ye("img",{key:0,srcset:`${n.card.image_uris.normal}, ${n.card.image_uris.large} 2x, ${n.card.image_uris.large} 400w`,loading:"lazy",crossorigin:"anonymous"},null,8,Tb)):Ge("",!0),n.card.card_faces&&n.card.card_faces[0].image_uris?(oe(),ye("img",{key:1,class:"flip front",src:n.card.card_faces[0].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,Ob)):Ge("",!0),n.card.card_faces&&n.card.card_faces[0].image_uris?(oe(),ye("img",{key:2,class:"flip back",src:n.card.card_faces[1].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,Pb)):Ge("",!0)],2))}},Bo=Ht(Rb,[["__scopeId","data-v-caadbbb9"]]);const Lb={class:"prices"},Fb={__name:"Prices",props:{card:{type:Object,required:!0},all:{type:Boolean,default:!0}},setup(e){const n=e,s=Gn(),t={nonfoil:"",etched:"#",foil:"\u2606"};return(r,l)=>(oe(),ye("span",Lb,[(oe(!0),ye(vt,null,$t(n.card.finishes,i=>(oe(),ye("span",{key:i},[i==="nonfoil"?At((oe(),ye("span",{key:0,class:it(["price",i===n.card.finish?"match":""])},ht(t[i])+" "+ht(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(n.card.prices.eur*G(s).forex.eur||n.card.prices.usd*G(s).forex.usd)),3)),[[mn,n.all||n.card.finish===i]]):At((oe(),ye("span",{key:1,class:it(["price",i===n.card.finish?"match":""])},ht(t[i])+" "+ht(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(n.card.prices["eur_"+i]*G(s).forex.eur||n.card.prices["usd_"+i]*G(s).forex.usd)),3)),[[mn,n.all||n.card.finish===i]])]))),128))]))}},Fd=Ht(Fb,[["__scopeId","data-v-1a763385"]]);const Db={class:"details"},Mb={class:"name"},Nb={class:"set-line"},Bb=["href"],$b={class:"tags"},jb={__name:"CardSummary",props:{card:{type:Object,required:!0}},setup(e){const n=e,s={nonfoil:"",etched:"#",foile:"\u2606"};return(t,r)=>(oe(),ye("div",Db,[z("span",Mb,ht(n.card.count)+" "+ht(n.card.name)+" "+ht(s[n.card.finish]),1),z("span",Nb,[Qn(ht(n.card.set_name)+" ",1),n.card.purchase_uris?(oe(),ye("a",{key:0,href:n.card.purchase_uris.cardmarket,target:"_blank",class:"set-id"},ht(n.card.set)+":"+ht(n.card.collector_number),9,Bb)):Ge("",!0)]),Ye(Fd,{card:n.card},null,8,["card"]),z("div",$b,[(oe(!0),ye(vt,null,$t(n.card.tags,l=>(oe(),ye("div",{class:"tag",key:l},ht(l),1))),128)),n.card.promo_types?(oe(!0),ye(vt,{key:0},$t(n.card.promo_types.filter(l=>l!=="boosterfun"),l=>(oe(),ye("div",{class:"tag",key:l},ht(l),1))),128)):Ge("",!0)])]))}},Ca=Ht(jb,[["__scopeId","data-v-cc41c299"]]);const Ub={class:"buttons"},Vb={__name:"CardActions",props:{card:{type:Object,required:!0},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints","edit"]}},emits:["select","deselect"],setup(e,{emit:n}){const s=e,t=Ei(),r=Hn(),l=yn(),i=Od(),p=Pd(),d=Ds(),h=Hn(),m=async w=>{let O={...w};O.count=1,t.add(O),await l.save("clipboard",t.unrefCards()),new BroadcastChannel("clipboard").postMessage("update"),d.clipboard_change=!0,setTimeout(()=>{d.clipboard_change=!1},500)},v=async w=>{confirm(`Are you sure you want to delete ${w.name} from ${l.open.join(", ")}`)&&(await l.deleteCard(l.open,w),r.delete(w))};return(w,O)=>(oe(),ye("div",Ub,[s.actions.includes("select")&&!G(h).selected.has(e.card.id+e.card.finish)?(oe(),ye("button",{key:0,class:"small select icon icon-check",onClick:O[0]||(O[0]=en(()=>{n("select")},["stop"])),title:"Select"})):Ge("",!0),s.actions.includes("deselect")&&G(h).selected.has(e.card.id+e.card.finish)?(oe(),ye("button",{key:1,class:"small deselect icon icon-clear",onClick:O[1]||(O[1]=en(()=>{n("deselect")},["stop"])),title:"Deselect"})):Ge("",!0),s.actions.includes("prints")?(oe(),ye("button",{key:2,class:"small prints icon icon-prints",onClick:O[2]||(O[2]=en(()=>{G(i).loadPrints(s.card.name),G(d).showSidebar("prints")},["stop"])),title:"View all prints"})):Ge("",!0),s.actions.includes("prints")&&G(r).filters.group?(oe(),ye("button",{key:3,class:"small versions icon icon-list",onClick:O[3]||(O[3]=en(()=>{G(p).loadVersions(s.card.oracle_id),G(d).showSidebar("versions")},["stop"])),title:"View versions in open collections"})):Ge("",!0),s.actions.includes("clip")?(oe(),ye("button",{key:4,class:"small clip icon icon-add",onClick:O[4]||(O[4]=en(W=>m(e.card),["stop"])),title:"Add to clipboard"})):Ge("",!0),s.actions.includes("edit")&&G(d).source==="collection"?(oe(),ye("button",{key:5,class:"small edit icon icon-edit",onClick:O[5]||(O[5]=en(()=>{G(d).edit.card=s.card,G(d).showSidebar("edit")},["stop"])),title:"Edit"})):Ge("",!0),s.actions.includes("delete")&&G(d).source==="collection"?(oe(),ye("button",{key:6,class:"small delete icon icon-delete",onClick:O[6]||(O[6]=en(()=>{v(e.card),G(d).details.show=!1,G(d).details.card={}},["stop"])),title:"Delete"})):Ge("",!0)]))}},Dd=Ht(Vb,[["__scopeId","data-v-08de54f7"]]);const zb=["data-id"],Hb={class:"wrap"},Wb={__name:"Card",props:{card:{type:Object,required:!0},index:{type:Number,default:0},selected:{type:Boolean,default:!1},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints"]}},emits:["clicked","select","deselect"],setup(e,{emit:n}){const s=e,t=Hn(),r=l=>{if(t.filters.cmpCol.length>0){const i=t.have.get(l.oracle_id);return t.haveExact.get(l.id)?["exact"]:i?["have"]:["missing"]}if([...t.selected].length>0)return t.selected.has(l.id+l.finish)?["selected"]:["missing"]};return(l,i)=>(oe(),ye("div",{class:it(["card",{selected:s.selected}]),"data-id":s.card.id,onSelect:i[3]||(i[3]=p=>n("select")),onDeselect:i[4]||(i[4]=p=>n("deselect"))},[z("div",Hb,[Ye(Bo,{card:s.card,effects:r(e.card),onTouchstart:l.mouseDown,onTouchend:l.mouseUp,onClick:i[0]||(i[0]=en(p=>n("clicked"),["stop"]))},null,8,["card","effects","onTouchstart","onTouchend"]),Ye(Dd,{card:s.card,actions:s.selected?s.actions.concat(["deselect"]):s.actions,onSelect:i[1]||(i[1]=p=>n("select")),onDeselect:i[2]||(i[2]=p=>n("deselect"))},null,8,["card","actions"])]),Ye(Ca,{card:s.card},null,8,["card"])],42,zb))}},Qb=Ht(Wb,[["__scopeId","data-v-af0b0e43"]]);const Gb=e=>(ns("data-v-6f9ddb0f"),e=e(),ss(),e),Kb={key:0,class:"loader"},Jb=Gb(()=>z("span",null,"Loading",-1)),Xb=[Jb],Yb={__name:"CardView",props:{store:{type:Object,required:!0},actions:{type:Array,default:()=>["select","clip","delete","details","prints"]}},setup(e){const n=e,s=Ds(),t=Tr();return(r,l)=>(oe(),ye(vt,null,[n.store.loading?(oe(),ye("div",Kb,Xb)):Ge("",!0),z("div",{class:"cards",style:Wn({"font-size":18+G(s).zoom*2+"px","grid-template-columns":`repeat(${G(s).columns}, 1fr)`})},[(oe(!0),ye(vt,null,$t(n.store.filtered.slice(0,500),(i,p)=>(oe(),ln(Qb,{card:i,index:p,actions:n.actions,key:i.id+i.finish,class:it({commander:i.isCommander}),selected:n.store.selected.has(i.id+i.finish),onSelect:d=>n.store.selected.add(i.id+i.finish),onDeselect:d=>n.store.selected.delete(i.id+i.finish),onClicked:()=>{G(t).loadDetails(i,r.includeRulings=!0),G(s).details.show=!0,G(s).details.index=p}},null,8,["card","index","actions","class","selected","onSelect","onDeselect","onClicked"]))),128))],4)],64))}},Aa=Ht(Yb,[["__scopeId","data-v-6f9ddb0f"]]);const Zb=["innerHTML"],e0={__name:"ManaCost",props:{mana:{type:String,required:!0}},setup(e){const n=e,s=Gn(),t=r=>{if(!r)return"";const l=/(\{[aA-zZ0-9/]+\})/g;return r=r.replace(l,(i,p)=>`<img crossorigin='anonymous' class='symbol' src='${s.symbols.get(p)}' />`),r};return(r,l)=>n.mana?(oe(),ye("span",{key:0,class:"icons",innerHTML:t(n.mana)},null,8,Zb)):Ge("",!0)}},Md=Ht(e0,[["__scopeId","data-v-78593a81"]]);const t0={class:"scroll"},n0={class:"groups"},s0={class:"cards"},r0=["onMouseover"],i0={class:"name"},o0={key:0,class:"mana"},l0={class:"price"},a0={__name:"CardList",props:{cards:{type:Array,required:!0},loading:Boolean,view:{type:String,default:"list"},actions:{type:Array,default:()=>["clip","delete","prints"]}},emits:["clip","viewPrints","delete"],setup(e,{emit:n}){const s=e,t=["Commander","Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],r=Xt({groups:new Map}),l=Tr();return Ys(()=>{const i=new Map;for(const p of t)i.set(p,[]);for(const p of s.cards.slice(0,200)){if(p.isCommander){i.set("Commander",[p]);continue}i.get(p.type).push(p)}r.groups=i}),(i,p)=>(oe(),ye("div",t0,[z("div",n0,[(oe(!0),ye(vt,null,$t(r.groups.entries(),([d,h])=>(oe(),ye("div",{class:"group",key:d},[z("h3",null,ht(d),1),z("div",s0,[(oe(!0),ye(vt,null,$t(h,m=>(oe(),ye("div",{class:it(["card",m.finish]),key:m.id+m.finish,onMouseover:v=>G(l).loadDetails(m)},[z("div",i0,ht(m.finish==="foil"?"\u2606":"")+" "+ht(m.finish==="etched"?"#":"")+" "+ht(m.count)+" "+ht(m.name),1),m.mana_cost?(oe(),ye("div",o0,[Ye(Md,{mana:m.mana_cost},null,8,["mana"])])):Ge("",!0),z("div",l0,[Ye(Fd,{card:m,all:!1},null,8,["card"])])],42,r0))),128))])]))),128))])]))}},c0=Ht(a0,[["__scopeId","data-v-2a01796d"]]);const $o=e=>(ns("data-v-8bf503af"),e=e(),ss(),e),u0={class:"precon"},f0={class:"flex"},d0=$o(()=>z("span",null,"+",-1)),p0=[d0],_0={class:"form"},h0=$o(()=>z("label",{for:"name"},"Name",-1)),m0=$o(()=>z("label",{for:"set"},"Set Code",-1)),g0=$o(()=>z("label",{for:"name"},"Commander",-1)),y0={key:0,class:"errors"},v0={__name:"Precon",emits:["close"],setup(e,{emit:n}){const s=Gn(),t=bi(),r="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",l=Xt({name:"",set:"",cards:"",errors:""}),i=async()=>{const p=/([0-9]+) (.+)/g,d=l.cards.matchAll(p),h=[];for(const m of d)h.push({count:parseInt(m[1]),name:m[2].trim()});try{await oo(r+"/precon",{name:l.name,commander:l.commander,set:l.set,cards:h}),t(`Uploaded ${l.name}`)}catch(m){l.errors=m,t(`Failed ${m}`)}};return(p,d)=>(oe(),ye("div",u0,[z("div",f0,[z("button",{class:"small close",onClick:d[0]||(d[0]=h=>n("close"))},p0),z("div",_0,[h0,At(z("input",{id:"name",type:"text","onUpdate:modelValue":d[1]||(d[1]=h=>l.name=h)},null,512),[[Vt,l.name]]),m0,Ye(G(Jt),{modelValue:l.set,"onUpdate:modelValue":d[2]||(d[2]=h=>l.set=h),options:G(s).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set"},null,8,["modelValue","options"]),g0,At(z("input",{id:"name",type:"text","onUpdate:modelValue":d[3]||(d[3]=h=>l.commander=h)},null,512),[[Vt,l.commander]]),At(z("textarea",{"onUpdate:modelValue":d[4]||(d[4]=h=>l.cards=h)},null,512),[[Vt,l.cards]]),z("button",{onClick:i}," Upload "),l.errors?(oe(),ye("pre",y0," "+ht(l.errors),1)):Ge("",!0)])])]))}},b0=Ht(v0,[["__scopeId","data-v-8bf503af"]]),w0=z("h3",null,"Prints",-1),E0={class:"prints"},q0={__name:"PrintsView",emits:["changed"],setup(e,{emit:n}){const s=Od();return(t,r)=>(oe(),ye(vt,null,[w0,z("div",E0,[Ye(Aa,{store:G(s),actions:["clip"]},null,8,["store"])])],64))}},S0=z("h3",null,"Prints",-1),x0={class:"prints"},k0={__name:"VersionsView",emits:["changed"],setup(e,{emit:n}){const s=Pd();return(t,r)=>(oe(),ye(vt,null,[S0,z("div",x0,[Ye(Aa,{store:G(s),actions:["clip"]},null,8,["store"])])],64))}};const C0=e=>(ns("data-v-6a082a4d"),e=e(),ss(),e),A0={class:"oracle-text"},I0=["innerHTML"],T0={key:0,class:"rulings"},O0=C0(()=>z("summary",null," Rulings ",-1)),P0={class:"list"},R0={__name:"CardDetails",props:{card:{type:Object,required:!0},face:{type:Number,default:0}},emits:["changed"],setup(e,{emit:n}){const s=e,t=Tr(),r=Gn(),l=Hn(),i=d=>{if(!d)return"";const h=/(\{[aA-zZ0-9/]+\})/g;return d=d.replace(h,(m,v)=>`<img class='symbol' src='${r.symbols.get(v)}' />`),d},p=d=>{navigator.clipboard.writeText(JSON.stringify(d,null,2))};return(d,h)=>(oe(),ye(vt,null,[Ye(Dd,{card:s.card,onSelect:h[0]||(h[0]=m=>G(l).selected.add(e.card.id+e.card.finish)),onDeselect:h[1]||(h[1]=m=>G(l).selected.delete(e.card.id+e.card.finish))},null,8,["card"]),Ye(Ca,{card:s.card},null,8,["card"]),(oe(!0),ye(vt,null,$t(s.card.card_faces||[s.card],(m,v)=>(oe(),ye("div",{class:it(["face",{show:s.face===v}]),key:m+v},[z("div",A0,[(oe(!0),ye(vt,null,$t(m.oracle_text?.split(`
`),(w,O)=>(oe(),ye("div",{key:"oracle"+O},[z("span",{innerHTML:i(w)},null,8,I0)]))),128))])],2))),128)),G(t).rulings.length>0?(oe(),ye("div",T0,[z("details",{onClick:h[2]||(h[2]=en(()=>{},["stop"]))},[O0,z("div",P0,[(oe(!0),ye(vt,null,$t(G(t).rulings,(m,v)=>(oe(),ye("div",{class:"ruling",key:v},[z("span",{class:it({header:m.comment.startsWith("----------")})},ht(m.comment.replaceAll("----------","")),3)]))),128))])])])):Ge("",!0),z("a",{onClick:h[3]||(h[3]=m=>p(s.card))}," Copy Json ")],64))}},Nd=Ht(R0,[["__scopeId","data-v-6a082a4d"]]);var Bd={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){(function(s,t){e.exports=t()})(Zy,function s(){var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},r=!t.document&&!!t.postMessage,l=t.IS_PAPA_WORKER||!1,i={},p=0,d={parse:function(q,A){var Q=(A=A||{}).dynamicTyping||!1;if(ie(Q)&&(A.dynamicTypingFunction=Q,Q={}),A.dynamicTyping=Q,A.transform=!!ie(A.transform)&&A.transform,A.worker&&d.WORKERS_SUPPORTED){var te=function(){if(!d.WORKERS_SUPPORTED)return!1;var re=(Ze=t.URL||t.webkitURL||null,Ae=s.toString(),d.BLOB_URL||(d.BLOB_URL=Ze.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ae,")();"],{type:"text/javascript"})))),ge=new t.Worker(re),Ze,Ae;return ge.onmessage=S,ge.id=p++,i[ge.id]=ge}();return te.userStep=A.step,te.userChunk=A.chunk,te.userComplete=A.complete,te.userError=A.error,A.step=ie(A.step),A.chunk=ie(A.chunk),A.complete=ie(A.complete),A.error=ie(A.error),delete A.worker,void te.postMessage({input:q,config:A,workerId:te.id})}var V=null;return d.NODE_STREAM_INPUT,typeof q=="string"?(q=function(re){return re.charCodeAt(0)===65279?re.slice(1):re}(q),V=A.download?new v(A):new O(A)):q.readable===!0&&ie(q.read)&&ie(q.on)?V=new W(A):(t.File&&q instanceof File||q instanceof Object)&&(V=new w(A)),V.stream(q)},unparse:function(q,A){var Q=!1,te=!0,V=",",re=`\r
`,ge='"',Ze=ge+ge,Ae=!1,Ee=null,ct=!1;(function(){if(typeof A=="object"){if(typeof A.delimiter!="string"||d.BAD_DELIMITERS.filter(function(We){return A.delimiter.indexOf(We)!==-1}).length||(V=A.delimiter),(typeof A.quotes=="boolean"||typeof A.quotes=="function"||Array.isArray(A.quotes))&&(Q=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Ae=A.skipEmptyLines),typeof A.newline=="string"&&(re=A.newline),typeof A.quoteChar=="string"&&(ge=A.quoteChar),typeof A.header=="boolean"&&(te=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");Ee=A.columns}A.escapeChar!==void 0&&(Ze=A.escapeChar+ge),(typeof A.escapeFormulae=="boolean"||A.escapeFormulae instanceof RegExp)&&(ct=A.escapeFormulae instanceof RegExp?A.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Ve=new RegExp(be(ge),"g");if(typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(q)){if(!q.length||Array.isArray(q[0]))return bt(null,q,Ae);if(typeof q[0]=="object")return bt(Ee||Object.keys(q[0]),q,Ae)}else if(typeof q=="object")return typeof q.data=="string"&&(q.data=JSON.parse(q.data)),Array.isArray(q.data)&&(q.fields||(q.fields=q.meta&&q.meta.fields||Ee),q.fields||(q.fields=Array.isArray(q.data[0])?q.fields:typeof q.data[0]=="object"?Object.keys(q.data[0]):[]),Array.isArray(q.data[0])||typeof q.data[0]=="object"||(q.data=[q.data])),bt(q.fields||[],q.data||[],Ae);throw new Error("Unable to serialize unrecognized input");function bt(We,xt,qt){var ut="";typeof We=="string"&&(We=JSON.parse(We)),typeof xt=="string"&&(xt=JSON.parse(xt));var Se=Array.isArray(We)&&0<We.length,X=!Array.isArray(xt[0]);if(Se&&te){for(var Oe=0;Oe<We.length;Oe++)0<Oe&&(ut+=V),ut+=gt(We[Oe],Oe);0<xt.length&&(ut+=re)}for(var de=0;de<xt.length;de++){var Ne=Se?We.length:xt[de].length,lt=!1,T=Se?Object.keys(xt[de]).length===0:xt[de].length===0;if(qt&&!Se&&(lt=qt==="greedy"?xt[de].join("").trim()==="":xt[de].length===1&&xt[de][0].length===0),qt==="greedy"&&Se){for(var P=[],K=0;K<Ne;K++){var fe=X?We[K]:K;P.push(xt[de][fe])}lt=P.join("").trim()===""}if(!lt){for(var he=0;he<Ne;he++){0<he&&!T&&(ut+=V);var ve=Se&&X?We[he]:he;ut+=gt(xt[de][ve],he)}de<xt.length-1&&(!qt||0<Ne&&!T)&&(ut+=re)}}return ut}function gt(We,xt){if(We==null)return"";if(We.constructor===Date)return JSON.stringify(We).slice(1,25);var qt=!1;ct&&typeof We=="string"&&ct.test(We)&&(We="'"+We,qt=!0);var ut=We.toString().replace(Ve,Ze);return(qt=qt||Q===!0||typeof Q=="function"&&Q(We,xt)||Array.isArray(Q)&&Q[xt]||function(Se,X){for(var Oe=0;Oe<X.length;Oe++)if(-1<Se.indexOf(X[Oe]))return!0;return!1}(ut,d.BAD_DELIMITERS)||-1<ut.indexOf(V)||ut.charAt(0)===" "||ut.charAt(ut.length-1)===" ")?ge+ut+ge:ut}}};if(d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!r&&!!t.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=L,d.ParserHandle=ce,d.NetworkStreamer=v,d.FileStreamer=w,d.StringStreamer=O,d.ReadableStreamStreamer=W,t.jQuery){var h=t.jQuery;h.fn.parse=function(q){var A=q.config||{},Q=[];return this.each(function(re){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var ge=0;ge<this.files.length;ge++)Q.push({file:this.files[ge],inputElem:this,instanceConfig:h.extend({},A)})}),te(),this;function te(){if(Q.length!==0){var re,ge,Ze,Ae,Ee=Q[0];if(ie(q.before)){var ct=q.before(Ee.file,Ee.inputElem);if(typeof ct=="object"){if(ct.action==="abort")return re="AbortError",ge=Ee.file,Ze=Ee.inputElem,Ae=ct.reason,void(ie(q.error)&&q.error({name:re},ge,Ze,Ae));if(ct.action==="skip")return void V();typeof ct.config=="object"&&(Ee.instanceConfig=h.extend(Ee.instanceConfig,ct.config))}else if(ct==="skip")return void V()}var Ve=Ee.instanceConfig.complete;Ee.instanceConfig.complete=function(bt){ie(Ve)&&Ve(bt,Ee.file,Ee.inputElem),V()},d.parse(Ee.file,Ee.instanceConfig)}else ie(q.complete)&&q.complete()}function V(){Q.splice(0,1),te()}}}function m(q){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(A){var Q=ae(A);Q.chunkSize=parseInt(Q.chunkSize),A.step||A.chunk||(Q.chunkSize=null),this._handle=new ce(Q),(this._handle.streamer=this)._config=Q}.call(this,q),this.parseChunk=function(A,Q){if(this.isFirstChunk&&ie(this._config.beforeFirstChunk)){var te=this._config.beforeFirstChunk(A);te!==void 0&&(A=te)}this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+A;this._partialLine="";var re=this._handle.parse(V,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var ge=re.meta.cursor;this._finished||(this._partialLine=V.substring(ge-this._baseIndex),this._baseIndex=ge),re&&re.data&&(this._rowCount+=re.data.length);var Ze=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)t.postMessage({results:re,workerId:d.WORKER_ID,finished:Ze});else if(ie(this._config.chunk)&&!Q){if(this._config.chunk(re,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);re=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(re.data),this._completeResults.errors=this._completeResults.errors.concat(re.errors),this._completeResults.meta=re.meta),this._completed||!Ze||!ie(this._config.complete)||re&&re.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ze||re&&re.meta.paused||this._nextChunk(),re}this._halted=!0},this._sendError=function(A){ie(this._config.error)?this._config.error(A):l&&this._config.error&&t.postMessage({workerId:d.WORKER_ID,error:A,finished:!1})}}function v(q){var A;(q=q||{}).chunkSize||(q.chunkSize=d.RemoteChunkSize),m.call(this,q),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Q){this._input=Q,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),r||(A.onload=Z(this._chunkLoaded,this),A.onerror=Z(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var Q=this._config.downloadRequestHeaders;for(var te in Q)A.setRequestHeader(te,Q[te])}if(this._config.chunkSize){var V=this._start+this._config.chunkSize-1;A.setRequestHeader("Range","bytes="+this._start+"-"+V)}try{A.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}r&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:A.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Q){var te=Q.getResponseHeader("Content-Range");return te===null?-1:parseInt(te.substring(te.lastIndexOf("/")+1))}(A),this.parseChunk(A.responseText)))},this._chunkError=function(Q){var te=A.statusText||Q;this._sendError(new Error(te))}}function w(q){var A,Q;(q=q||{}).chunkSize||(q.chunkSize=d.LocalChunkSize),m.call(this,q);var te=typeof FileReader<"u";this.stream=function(V){this._input=V,Q=V.slice||V.webkitSlice||V.mozSlice,te?((A=new FileReader).onload=Z(this._chunkLoaded,this),A.onerror=Z(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input;if(this._config.chunkSize){var re=Math.min(this._start+this._config.chunkSize,this._input.size);V=Q.call(V,this._start,re)}var ge=A.readAsText(V,this._config.encoding);te||this._chunkLoaded({target:{result:ge}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(A.error)}}function O(q){var A;m.call(this,q=q||{}),this.stream=function(Q){return A=Q,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Q,te=this._config.chunkSize;return te?(Q=A.substring(0,te),A=A.substring(te)):(Q=A,A=""),this._finished=!A,this.parseChunk(Q)}}}function W(q){m.call(this,q=q||{});var A=[],Q=!0,te=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){te&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):Q=!0},this._streamData=Z(function(V){try{A.push(typeof V=="string"?V:V.toString(this._config.encoding)),Q&&(Q=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(re){this._streamError(re)}},this),this._streamError=Z(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=Z(function(){this._streamCleanUp(),te=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ce(q){var A,Q,te,V=Math.pow(2,53),re=-V,ge=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ze=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,Ee=0,ct=0,Ve=!1,bt=!1,gt=[],We={data:[],errors:[],meta:{}};if(ie(q.step)){var xt=q.step;q.step=function(de){if(We=de,Se())ut();else{if(ut(),We.data.length===0)return;Ee+=de.data.length,q.preview&&Ee>q.preview?Q.abort():(We.data=We.data[0],xt(We,Ae))}}}function qt(de){return q.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function ut(){return We&&te&&(Oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),te=!1),q.skipEmptyLines&&(We.data=We.data.filter(function(de){return!qt(de)})),Se()&&function(){if(!We)return;function de(lt,T){ie(q.transformHeader)&&(lt=q.transformHeader(lt,T)),gt.push(lt)}if(Array.isArray(We.data[0])){for(var Ne=0;Se()&&Ne<We.data.length;Ne++)We.data[Ne].forEach(de);We.data.splice(0,1)}else We.data.forEach(de)}(),function(){if(!We||!q.header&&!q.dynamicTyping&&!q.transform)return We;function de(lt,T){var P,K=q.header?{}:[];for(P=0;P<lt.length;P++){var fe=P,he=lt[P];q.header&&(fe=P>=gt.length?"__parsed_extra":gt[P]),q.transform&&(he=q.transform(he,fe)),he=X(fe,he),fe==="__parsed_extra"?(K[fe]=K[fe]||[],K[fe].push(he)):K[fe]=he}return q.header&&(P>gt.length?Oe("FieldMismatch","TooManyFields","Too many fields: expected "+gt.length+" fields but parsed "+P,ct+T):P<gt.length&&Oe("FieldMismatch","TooFewFields","Too few fields: expected "+gt.length+" fields but parsed "+P,ct+T)),K}var Ne=1;return!We.data.length||Array.isArray(We.data[0])?(We.data=We.data.map(de),Ne=We.data.length):We.data=de(We.data,0),q.header&&We.meta&&(We.meta.fields=gt),ct+=Ne,We}()}function Se(){return q.header&&gt.length===0}function X(de,Ne){return lt=de,q.dynamicTypingFunction&&q.dynamicTyping[lt]===void 0&&(q.dynamicTyping[lt]=q.dynamicTypingFunction(lt)),(q.dynamicTyping[lt]||q.dynamicTyping)===!0?Ne==="true"||Ne==="TRUE"||Ne!=="false"&&Ne!=="FALSE"&&(function(T){if(ge.test(T)){var P=parseFloat(T);if(re<P&&P<V)return!0}return!1}(Ne)?parseFloat(Ne):Ze.test(Ne)?new Date(Ne):Ne===""?null:Ne):Ne;var lt}function Oe(de,Ne,lt,T){var P={type:de,code:Ne,message:lt};T!==void 0&&(P.row=T),We.errors.push(P)}this.parse=function(de,Ne,lt){var T=q.quoteChar||'"';if(q.newline||(q.newline=function(fe,he){fe=fe.substring(0,1048576);var ve=new RegExp(be(he)+"([^]*?)"+be(he),"gm"),Le=(fe=fe.replace(ve,"")).split("\r"),Pe=fe.split(`
`),Be=1<Pe.length&&Pe[0].length<Le[0].length;if(Le.length===1||Be)return`
`;for(var ue=0,Re=0;Re<Le.length;Re++)Le[Re][0]===`
`&&ue++;return ue>=Le.length/2?`\r
`:"\r"}(de,T)),te=!1,q.delimiter)ie(q.delimiter)&&(q.delimiter=q.delimiter(de),We.meta.delimiter=q.delimiter);else{var P=function(fe,he,ve,Le,Pe){var Be,ue,Re,Me;Pe=Pe||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Fe=0;Fe<Pe.length;Fe++){var Je=Pe[Fe],_t=0,St=0,wt=0;Re=void 0;for(var Tt=new L({comments:Le,delimiter:Je,newline:he,preview:10}).parse(fe),jt=0;jt<Tt.data.length;jt++)if(ve&&qt(Tt.data[jt]))wt++;else{var Yt=Tt.data[jt].length;St+=Yt,Re!==void 0?0<Yt&&(_t+=Math.abs(Yt-Re),Re=Yt):Re=Yt}0<Tt.data.length&&(St/=Tt.data.length-wt),(ue===void 0||_t<=ue)&&(Me===void 0||Me<St)&&1.99<St&&(ue=_t,Be=Je,Me=St)}return{successful:!!(q.delimiter=Be),bestDelimiter:Be}}(de,q.newline,q.skipEmptyLines,q.comments,q.delimitersToGuess);P.successful?q.delimiter=P.bestDelimiter:(te=!0,q.delimiter=d.DefaultDelimiter),We.meta.delimiter=q.delimiter}var K=ae(q);return q.preview&&q.header&&K.preview++,A=de,Q=new L(K),We=Q.parse(A,Ne,lt),ut(),Ve?{meta:{paused:!0}}:We||{meta:{paused:!1}}},this.paused=function(){return Ve},this.pause=function(){Ve=!0,Q.abort(),A=ie(q.chunk)?"":A.substring(Q.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Ve=!1,Ae.streamer.parseChunk(A,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return bt},this.abort=function(){bt=!0,Q.abort(),We.meta.aborted=!0,ie(q.complete)&&q.complete(We),A=""}}function be(q){return q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(q){var A,Q=(q=q||{}).delimiter,te=q.newline,V=q.comments,re=q.step,ge=q.preview,Ze=q.fastMode,Ae=A=q.quoteChar===void 0||q.quoteChar===null?'"':q.quoteChar;if(q.escapeChar!==void 0&&(Ae=q.escapeChar),(typeof Q!="string"||-1<d.BAD_DELIMITERS.indexOf(Q))&&(Q=","),V===Q)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<d.BAD_DELIMITERS.indexOf(V))&&(V=!1),te!==`
`&&te!=="\r"&&te!==`\r
`&&(te=`
`);var Ee=0,ct=!1;this.parse=function(Ve,bt,gt){if(typeof Ve!="string")throw new Error("Input must be a string");var We=Ve.length,xt=Q.length,qt=te.length,ut=V.length,Se=ie(re),X=[],Oe=[],de=[],Ne=Ee=0;if(!Ve)return ft();if(q.header&&!bt){var lt=Ve.split(te)[0].split(Q),T=[],P={},K=!1;for(var fe in lt){var he=lt[fe];ie(q.transformHeader)&&(he=q.transformHeader(he,fe));var ve=he,Le=P[he]||0;for(0<Le&&(K=!0,ve=he+"_"+Le),P[he]=Le+1;T.includes(ve);)ve=ve+"_"+Le;T.push(ve)}if(K){var Pe=Ve.split(te);Pe[0]=T.join(Q),Ve=Pe.join(te)}}if(Ze||Ze!==!1&&Ve.indexOf(A)===-1){for(var Be=Ve.split(te),ue=0;ue<Be.length;ue++){if(de=Be[ue],Ee+=de.length,ue!==Be.length-1)Ee+=te.length;else if(gt)return ft();if(!V||de.substring(0,ut)!==V){if(Se){if(X=[],wt(de.split(Q)),nn(),ct)return ft()}else wt(de.split(Q));if(ge&&ge<=ue)return X=X.slice(0,ge),ft(!0)}}return ft()}for(var Re=Ve.indexOf(Q,Ee),Me=Ve.indexOf(te,Ee),Fe=new RegExp(be(Ae)+be(A),"g"),Je=Ve.indexOf(A,Ee);;)if(Ve[Ee]!==A)if(V&&de.length===0&&Ve.substring(Ee,Ee+ut)===V){if(Me===-1)return ft();Ee=Me+qt,Me=Ve.indexOf(te,Ee),Re=Ve.indexOf(Q,Ee)}else if(Re!==-1&&(Re<Me||Me===-1))de.push(Ve.substring(Ee,Re)),Ee=Re+xt,Re=Ve.indexOf(Q,Ee);else{if(Me===-1)break;if(de.push(Ve.substring(Ee,Me)),Yt(Me+qt),Se&&(nn(),ct))return ft();if(ge&&X.length>=ge)return ft(!0)}else for(Je=Ee,Ee++;;){if((Je=Ve.indexOf(A,Je+1))===-1)return gt||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:Ee}),jt();if(Je===We-1)return jt(Ve.substring(Ee,Je).replace(Fe,A));if(A!==Ae||Ve[Je+1]!==Ae){if(A===Ae||Je===0||Ve[Je-1]!==Ae){Re!==-1&&Re<Je+1&&(Re=Ve.indexOf(Q,Je+1)),Me!==-1&&Me<Je+1&&(Me=Ve.indexOf(te,Je+1));var _t=Tt(Me===-1?Re:Math.min(Re,Me));if(Ve.substr(Je+1+_t,xt)===Q){de.push(Ve.substring(Ee,Je).replace(Fe,A)),Ve[Ee=Je+1+_t+xt]!==A&&(Je=Ve.indexOf(A,Ee)),Re=Ve.indexOf(Q,Ee),Me=Ve.indexOf(te,Ee);break}var St=Tt(Me);if(Ve.substring(Je+1+St,Je+1+St+qt)===te){if(de.push(Ve.substring(Ee,Je).replace(Fe,A)),Yt(Je+1+St+qt),Re=Ve.indexOf(Q,Ee),Je=Ve.indexOf(A,Ee),Se&&(nn(),ct))return ft();if(ge&&X.length>=ge)return ft(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:Ee}),Je++}}else Je++}return jt();function wt(_){X.push(_),Ne=Ee}function Tt(_){var st=0;if(_!==-1){var sn=Ve.substring(Je+1,_);sn&&sn.trim()===""&&(st=sn.length)}return st}function jt(_){return gt||(_===void 0&&(_=Ve.substring(Ee)),de.push(_),Ee=We,wt(de),Se&&nn()),ft()}function Yt(_){Ee=_,wt(de),de=[],Me=Ve.indexOf(te,Ee)}function ft(_){return{data:X,errors:Oe,meta:{delimiter:Q,linebreak:te,aborted:ct,truncated:!!_,cursor:Ne+(bt||0)}}}function nn(){re(ft()),X=[],Oe=[]}},this.abort=function(){ct=!0},this.getCharIndex=function(){return Ee}}function S(q){var A=q.data,Q=i[A.workerId],te=!1;if(A.error)Q.userError(A.error,A.file);else if(A.results&&A.results.data){var V={abort:function(){te=!0,U(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(ie(Q.userStep)){for(var re=0;re<A.results.data.length&&(Q.userStep({data:A.results.data[re],errors:A.results.errors,meta:A.results.meta},V),!te);re++);delete A.results}else ie(Q.userChunk)&&(Q.userChunk(A.results,V,A.file),delete A.results)}A.finished&&!te&&U(A.workerId,A.results)}function U(q,A){var Q=i[q];ie(Q.userComplete)&&Q.userComplete(A),Q.terminate(),delete i[q]}function M(){throw new Error("Not implemented.")}function ae(q){if(typeof q!="object"||q===null)return q;var A=Array.isArray(q)?[]:{};for(var Q in q)A[Q]=ae(q[Q]);return A}function Z(q,A){return function(){q.apply(A,arguments)}}function ie(q){return typeof q=="function"}return l&&(t.onmessage=function(q){var A=q.data;if(d.WORKER_ID===void 0&&A&&(d.WORKER_ID=A.workerId),typeof A.input=="string")t.postMessage({workerId:d.WORKER_ID,results:d.parse(A.input,A.config),finished:!0});else if(t.File&&A.input instanceof File||A.input instanceof Object){var Q=d.parse(A.input,A.config);Q&&t.postMessage({workerId:d.WORKER_ID,results:Q,finished:!0})}}),(v.prototype=Object.create(m.prototype)).constructor=v,(w.prototype=Object.create(m.prototype)).constructor=w,(O.prototype=Object.create(O.prototype)).constructor=O,(W.prototype=Object.create(m.prototype)).constructor=W,d})})(Bd);const ml=Bd.exports;const L0={class:"form"},F0=["onKeyup"],D0=["onKeyup"],M0={class:"results"},N0=["onClick"],B0={class:"name"},$0={class:"cn"},j0={class:"set"},U0=["onClick"],V0={key:0,class:"preview"},z0={__name:"CardSearch",emits:["selected"],setup(e,{emit:n}){const s=av(),t=Gn(),r=Xt({search:"",cn:"",set:null,count:1,autoAdd:!1,results:[],loading:!1,preview:null}),l=()=>{r.search=null,r.cn=null,r.set=null,r.count=1,s.$reset()},i=async()=>{if((!r.search||r.search.length<3)&&!r.cn&&!r.set)return;let d=r.search;r.cn&&(d+=" cn:"+r.cn),r.set&&(d+=" set:"+r.set),await s.loadSearch(d,"prints"),r.autoAdd&&s.count===1&&n("selected",di.deepUnref(s.cards.values().next().value))},p=d=>{let h=di.deepUnref(d);h.count=r.count,n("selected",h)};return(d,h)=>(oe(),ye(vt,null,[z("div",L0,[At(z("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=m=>r.search=m),onKeyup:Sr(i,["enter"]),placeholder:"Name / Query"},null,40,F0),[[Vt,r.search]]),At(z("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=m=>r.cn=m),onKeyup:Sr(i,["enter"]),placeholder:"Collector number (Optional)"},null,40,D0),[[Vt,r.cn]]),Ye(G(Jt),{modelValue:r.set,"onUpdate:modelValue":h[2]||(h[2]=m=>r.set=m),options:G(t).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set (Optional)"},null,8,["modelValue","options"]),At(z("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=m=>r.count=m),placeholder:"Quantity"},null,512),[[Vt,r.count]]),Ge("",!0),z("button",{onClick:l}," Clear "),z("button",{onClick:i}," Search ")]),z("div",M0,[(oe(!0),ye(vt,null,$t(G(s).cards.values(),m=>(oe(),ye("div",{key:m.name,class:"result",onClick:v=>r.preview=r.preview===null?m.id:null},[z("div",B0,[z("span",$0,ht(m.collector_number),1),Qn(" - "+ht(m.name),1)]),z("div",j0,ht(m.set)+" - "+ht(m.set_name),1),z("button",{class:"small",onClick:en(v=>p(m),["stop"])}," + ",8,U0),r.preview===m.id?(oe(),ye("div",V0,[Ye(Bo,{card:m},null,8,["card"])])):Ge("",!0)],8,N0))),128))])],64))}},H0=Ht(z0,[["__scopeId","data-v-f740cfb7"]]);const W0={class:"root"},Q0=["disabled"],G0={class:"buttons"},K0={key:0,class:"button",for:"file-input"},J0=["disabled"],X0={key:4,class:"progress"},Y0={key:0,class:"errors"},Z0={__name:"CardParser",emits:["parsed"],setup(e,{emit:n}){const s=yn(),t=Gn(),r=bi(),l="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",i=Xt({name:null,file:null,text:"",append:!0,encoding:null,format:"Search",active:!1,progress:0,count:0,total:0,errors:[]}),p=Xt({path:null});Ys(()=>{i.name=s.open[0]});const d=async(S="",U={})=>(await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).json(),h=async S=>{let U=await S.arrayBuffer(),M=new Uint8Array(U.slice(0,10));return M[0].toString(16)=="ff"&&M[1].toString(16)=="fe"?"UTF-16LE":M[0].toString(16)=="fe"&&M[1].toString(16)=="ff"?"UTF-16BE":M[1]==0&&M[3]==0&&M[5]==0?"UTF-16LE":"UTF-8"},m=async S=>{i.errors=[],i.active=!0,i.progress=0;let U={};if(i.format==="MTGA"){const M=/([0-9]+) (.+) \((.+)\) ([0-9]+)/g,ae=i.text.matchAll(M);for(const Z of ae)U[Z[3]+Z[4]]={name:Z[2].split(" // ")[0].trim(),count:parseInt(Z[1]),set:Z[3],number:Z[4],finish:"nonfoil",tags:[]}}else if(i.format==="MTGO"){const M=/([0-9]+) (.+)/g,ae=i.text.matchAll(M);for(const Z of ae)U[Z[2]]={name:Z[2].split(" // ")[0].trim(),count:parseInt(Z[1])||1,set:"",number:"",finish:"nonfoil",tags:[]}}else if(i.format==="MKM Email"){const M=/([0-9]+)x ([a-zA-Z ,/\-:']+)?(?:\(V.([0-9])+\))? \(([a-zA-Z0-9 ,/\-:']+)\)/g,ae=i.text.matchAll(M);for(const Z of ae){Z[4].replace(": Extras","");let ie="";U[Z[2]]={name:Z[2].replace(" Token","").trim(),count:parseInt(Z[1])||1,set:ie,number:"",mkm_version:Z[3]?parseInt(Z[3]):1,finish:"nonfoil",tags:[]}}}O(i.name,new Map(Object.entries(U)))},v=async S=>{if(p.path===null)return;i.errors=[];const U=new FileReader;i.active=!0,i.progress=0;let M=null;i.format==="DragonShield Web"&&(M=w),U.onload=async()=>{let Z=await M(U.result);O(i.name,Z)};let ae=await h(p.path);U.readAsText(p.path,ae)};ml.parsePromise=S=>new Promise((U,M)=>{ml.parse(S,{header:!0,worker:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:U,error:M})});const w=async S=>{S=S.replace('"sep=,"',"");let U=await ml.parsePromise(S),M=new Map,ae={rmh1:"h1r",psld:"sld",gk1_golgar:"gk1",gk1_dimir:"gk1",vthb:"thb"};return U.data.forEach(Z=>{if(Z["Card Number"]===null)return;const ie=Z["Set Name"];let q=Z["Set Code"].toLowerCase();ae[q]&&(q=ae[q]);let A="nonfoil";Z.Printing==="Foil"?A="foil":Z["Card Number"].toString().includes("etc")&&(A="etched");const Q=parseInt(Z.Quantity);let te={name:Z["Card Name"],count:Q,set:"",number:"",finish:A,tags:[Z["Folder Name"]]},V=null;if(t.setIds.has(q)?(te.set=q,te.number=Z["Card Number"].toString().replace("etc",""),V=q+Z["Card Number"]+te.finish):(console.log(`Couldn't find set for ${Z["Card Name"]} ${Z["Card Number"]} ${ie} [${q}]`),i.errors.push(`Couldn't find set for ${Z["Card Name"]} ${Z["Card Number"]} [${q}]`),V=te.name+te.finish),M.has(V)){let re=M.get(V);re.count+=Q,re.tags.push(Z["Folder Name"]),M.set(V,re)}else M.set(V,te)}),M},O=async(S,U)=>{let M=await s.get(S);for(const[ae,Z]of U.entries()){let ie=M.cards.filter(q=>q===void 0?!1:Z.set!==""?Z.set===q.set&&Z.number===q.collector_number&&Z.finish===q.finish:Z.name===q.name&&Z.finish===q.finish);ie.length>0&&(ie[0].count=Z.count,U.delete(ae))}if(U.size>0){const ae=await ce(U);await s.save(S,ae,M.syncCode)}i.active=!1,i.count=0,i.progress=0,i.total=0,n("parsed",s.open)},W=async S=>{await s.addMany(i.name,[{id:S.id,count:S.count,finish:"nonfoil",tags:[],data:S}],"add"),n("parsed",s.open),r(`${""+S.name} added to ${i.name}`)},ce=async S=>{const U=[],M=new Map,ae=new Map;let Z=[];try{for(const[q,A]of S.entries()){let Q={};A.set===""&&A.number===""?Q.name=A.name:(Q.set=A.set,Q.collector_number=A.number),U.push(Q)}const ie=1e3;i.total=U.length;for(let q=0;q<U.length;q+=ie){const A=await d(l+"/cards",{identifiers:U.slice(q,q+ie)});A.not_found.length>0&&console.log(A.not_found),A.data.forEach(Q=>{M.set(Q.name,Q),ae.set(Q.set+Q.collector_number,Q)}),i.count=q,i.progress=q/U.length*100}for(const[q,A]of S.entries()){let Q=null;if(A.set===""&&A.number===""?Q={...M.get(A.name)}:Q={...ae.get(A.set+A.number)},!Q.name){console.log("Missing data",Q,A),i.errors.push(`Missing data for ${A.name} ${A.number} [${A.set}]`);continue}Z.push({id:Q.id,count:A.count||1,finish:Q.finishes.length===1?Q.finishes[0]:A.finish,tags:A.tags,data:Q})}i.progress=100}catch(ie){console.error(ie)}finally{return Z}},be={"MKM Email":["text",m],MTGA:["text",m],MTGO:["text",m],"DragonShield Web":["file",v],Search:["search",W]},L=S=>{p.path=S.target.files[0]};return(S,U)=>(oe(),ye(vt,null,[z("div",W0,[z("h3",null,"Add to "+ht(G(s).open.length==1?G(s).open[0]:""),1),G(s).open.length>1?(oe(),ln(G(Jt),{key:0,modelValue:i.name,"onUpdate:modelValue":U[0]||(U[0]=M=>i.name=M),options:G(s).open,mode:"single"},null,8,["modelValue","options"])):Ge("",!0),Ye(G(Jt),{modelValue:i.format,"onUpdate:modelValue":U[1]||(U[1]=M=>i.format=M),placeholder:"Format",options:Object.keys(be),"can-clear":!1},null,8,["modelValue","options"]),be[i.format][0]==="file"?(oe(),ye("input",{key:1,id:"file-input",type:"file",onChange:L,disabled:i.active},null,40,Q0)):Ge("",!0),be[i.format][0]==="text"?At((oe(),ye("textarea",{key:2,"onUpdate:modelValue":U[2]||(U[2]=M=>i.text=M)},null,512)),[[Vt,i.text]]):Ge("",!0),be[i.format][0]==="search"?(oe(),ln(H0,{key:3,onSelected:W})):Ge("",!0),z("div",G0,[be[i.format][0]==="file"?(oe(),ye("label",K0,"Choose file")):Ge("",!0),!i.active&&i.format&&(i.text||p.path)&&i.format!=="Search"?(oe(),ye("button",{key:1,onClick:U[3]||(U[3]=M=>be[i.format][1]()),disabled:p.path===null&&i.text===""}," Add ",8,J0)):Ge("",!0)]),i.active?(oe(),ye("div",X0,[z("span",null,"Processing cards: "+ht(i.count)+" / "+ht(i.total),1),z("div",{class:"bar",style:Wn({width:i.progress+"%"})},null,4)])):Ge("",!0)]),i.errors.length>0?(oe(),ye("ul",Y0,[(oe(!0),ye(vt,null,$t(i.errors,(M,ae)=>(oe(),ye("li",{key:ae},ht(M),1))),128))])):Ge("",!0)],64))}},ew=Ht(Z0,[["__scopeId","data-v-524e6947"]]),tw=async(e,n)=>{let s="";if(n==="mtgo")for(const t of e.values())s+=`${t.count||1} ${t.name} 
`;else if(n==="mtga")for(const t of e.values())s+=`${t.count||1} ${t.name} (${t.set}) ${t.collector_number}
`;else if(n==="mkm"){const t=await post(`${backendUrl}/mkmVersions`,{ids:e.map(r=>r.id)});for(const r of e.values()){const l=t.data[r.id]||1;let i=""+r.set_name;r.promo?i=i.replace(" Promos",": Promos"):r.promo_types.includes("boosterfun")&&(i=i+=": Extras"),t.data[r.id]?s+=`${r.count||1}x ${r.name} (V.${l}) (${i})
`:s+=`${r.count||1}x ${r.name} (${i})
`}}else if(n==="moxfield"){s=`"Count","Tradelist Count","Name","Edition","Condition","Language","Foil","Tags","Last Modified","Collector Number"
`;for(const t of e.values())s+=`"${t.count||1}","0","${t.name}","${t.set}","Near Mint","English",${t.finish},"","2022-03-22 02:52:33.210000","${t.collector_number}"
`}return s};const nw={class:"row"},sw=["href"],rw={__name:"CardExporter",props:{source:{type:Function,required:!0},openDirection:{type:String,default:"down"}},setup(e){const n=e,s=Xt({format:"",downloadUrl:""}),t=bi(),r=Pt(null),l=async()=>{const i=await n.source();let p=await tw(i,s.format);if(s.format==="moxfield"){var d=new Blob([p],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d);s.downloadUrl=h,r.value.setAttribute("download","moxfield.csv"),r.value.click()}else navigator.clipboard.writeText(p),t("Copied to Clipboard")};return(i,p)=>(oe(),ye("div",nw,[Ye(G(Jt),{options:{mtgo:"MTGO",mtga:"MTGA",mkm:"MKM",moxfield:"Moxfield"},label:"key",modelValue:s.format,"onUpdate:modelValue":p[0]||(p[0]=d=>s.format=d),mode:"single",placeholder:"Export to","open-direction":n.openDirection},null,8,["modelValue","open-direction"]),z("a",{class:it(["button small icon",{"icon-clip":s.format!=="moxfield","icon-arrow-down":s.format==="moxfield"}]),download:"moxfield.csv",onClick:l},null,2),At(z("a",{class:"button",download:"moxfield.csv",ref_key:"downloadButton",ref:r,href:s.downloadUrl},"Export",8,sw),[[mn,!1]])]))}},$d=Ht(rw,[["__scopeId","data-v-cb7d3495"]]);const iw={class:"clipboard"},ow={class:"clip-cards"},lw={class:"row"},aw={class:"buttons"},cw={__name:"ClipBoard",setup(e){const n=Ei(),s=yn(),t=Hn(),r=bi(),l=Xt({copyTo:null}),i=async(h,m)=>{let v=await s.get(h);const w=s.open.includes(h);let O=0;for(const W of m){let ce=v.cards.filter(be=>be.id===W.id);ce.length===0?v.cards.push({...di.deepUnref(W)}):ce[0].count+=W.count||1,O+=1,w&&t.add({...W})}await s.save(h,v.cards,v.syncCode),r(`${O} added to ${h}`)},p=async()=>{n.$reset(),await s.save("clipboard",[]),new BroadcastChannel("clipboard").postMessage("update")},d=async()=>{t.filtered.forEach(m=>{let v={...m};v.count=1,n.add(v)}),await s.save("clipboard",n.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(h,m)=>(oe(),ye("div",iw,[z("h3",null,"Clipboard ("+ht(G(n).count)+") "+ht(G(n).value),1),z("div",ow,[(oe(!0),ye(vt,null,$t(G(n).cards.values(),v=>(oe(),ye("div",{class:"clip-card",key:"clip-"+v.name},[z("p",null,ht(v.count)+"x "+ht(v.name)+" ("+ht(v.set)+") "+ht(v.collector_number),1)]))),128))]),Ye($d,{source:()=>[...G(n).cards.values()],"open-direction":"top"},null,8,["source"]),z("div",lw,[Ye(G(Jt),{options:G(s).names,placeholder:"Copy to","open-direction":"top",modelValue:l.copyTo,"onUpdate:modelValue":m[0]||(m[0]=v=>l.copyTo=v)},null,8,["options","modelValue"]),z("button",{class:"small icon icon-arrow-right",onClick:m[1]||(m[1]=()=>i(l.copyTo,G(n).cards.values()))})]),z("div",aw,[z("button",{onClick:m[2]||(m[2]=v=>d())}," Clip All "),z("button",{onClick:m[3]||(m[3]=v=>p())}," Clear ")])]))}},uw=Ht(cw,[["__scopeId","data-v-69cfb135"]]);const rr=e=>(ns("data-v-bb2fb888"),e=e(),ss(),e),fw={class:"upload flex"},dw={class:"row"},pw={key:0,class:"collection flex"},_w=rr(()=>z("span",null,"Cards: ",-1)),hw={key:0},mw=rr(()=>z("span",null,"Last sync: ",-1)),gw={key:1,class:"row"},yw=rr(()=>z("div",{class:"text"}," Upload ",-1)),vw=[yw],bw=rr(()=>z("div",{class:"text"}," Download ",-1)),ww=[bw],Ew=rr(()=>z("hr",null,null,-1)),qw={class:"new-collection"},Sw=rr(()=>z("hr",null,null,-1)),xw={class:"google-sync"},kw=["src"],Cw={class:"text"},Aw=rr(()=>z("span",{class:"icon icon-close"},null,-1)),Iw={__name:"CollectionsManager",emits:["change","delete","close"],setup(e,{emit:n}){const s=lo(),t=yn();Hn();const r=bi(),l=Xt({collection:null,obj:null});Ys(()=>{l.collection=t.open.length>0?t.open[0]:null}),Ys(()=>{l.obj=t.obj.filter(v=>v.name===l.collection)[0]});const i=async v=>{const w=r(`Refreshing collection ${v}`),O=s.collections.get(v).id;await t.download(O)?(r.dismiss(w),r(`${v} refreshed.`),n("change",v)):(r.dismiss(w),r.error(`Failed to refresh ${v}.`))},p=async v=>{const w=r(`Uploading ${v}`),O=await t.upload(s.token,v);O?(r.dismiss(w),r(`${v} uploaded.`),s.collections.set(v,O)):(r.dismiss(w),r.error(`${v} failed to upload.`))},d=async v=>{t.save(v.trim(),[]),l.name=null,n("change",v.trim()),n("close")},h=async v=>{confirm(`Are you sure you want to delete ${v}`)&&t.delete(v)},m=async v=>await t.getCards([l.collection]);return(v,w)=>{const O=As("GoogleLogin");return oe(),ye("div",fw,[z("div",dw,[Ye(G(Jt),{modelValue:l.collection,"onUpdate:modelValue":w[0]||(w[0]=W=>l.collection=W),options:G(t).names,mode:"single"},null,8,["modelValue","options"]),z("button",{class:"small icon icon-delete",onClick:w[1]||(w[1]=W=>h(l.collection))})]),l.obj?(oe(),ye("div",pw,[z("div",{class:"img",style:Wn({"background-image":`url(${l.obj.image})`})},null,4),z("div",null,[_w,z("span",null,ht(l.obj.count),1)]),G(s).token&&l.obj.downloaded?(oe(),ye("div",hw,[mw,Qn(" "+ht(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"medium",timeZone:"UTC"}).format(new Date(l.obj.lastSync*1))),1)])):Ge("",!0),G(s).token?(oe(),ye("div",gw,[l.obj.downloaded?(oe(),ye("button",{key:0,onClick:[w[2]||(w[2]=en(W=>p(l.collection),["exact"])),w[3]||(w[3]=en(W=>p(l.collection),["ctrl"]))]},vw)):Ge("",!0),G(s).collections.has(l.collection)?(oe(),ye("button",{key:1,onClick:w[4]||(w[4]=en(W=>i(l.collection),["exact"]))},ww)):Ge("",!0)])):Ge("",!0),Ye($d,{source:m})])):Ge("",!0),Ew,z("div",qw,[At(z("input",{type:"text","onUpdate:modelValue":w[5]||(w[5]=W=>l.name=W),placeholder:"New collection"},null,512),[[Vt,l.name]]),z("button",{onClick:w[6]||(w[6]=W=>d(l.name)),class:"button small icon icon-plus"})]),Sw,z("div",xw,[G(s).token?Ge("",!0):(oe(),ln(O,{key:0,callback:W=>G(s).handleGoogleLogin(W.credential),"popup-type":"TOKEN"},null,8,["callback"])),G(s).token?(oe(),ye("div",{key:1,class:"logged-in",onClick:w[7]||(w[7]=W=>G(s).logout())},[z("img",{src:G(s).info.picture,crossorigin:"anonymous"},null,8,kw),z("span",Cw,"Syncing as "+ht(G(s).info.given_name),1),Aw])):Ge("",!0)])])}}},Tw=Ht(Iw,[["__scopeId","data-v-bb2fb888"]]);const Ia=e=>(ns("data-v-16650b3e"),e=e(),ss(),e),Ow=Ia(()=>z("h3",null,"Settings",-1)),Pw={class:"grid"},Rw=Ia(()=>z("label",{for:"zoom"},"Zoom",-1)),Lw=Ia(()=>z("label",{for:"columns"},"Columns",-1)),Fw={__name:"SettingsView",setup(e){const n=Ds();return(s,t)=>(oe(),ye(vt,null,[Ow,z("div",Pw,[Rw,At(z("input",{id:"zoom",type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>G(n).zoom=r)},null,512),[[Vt,G(n).zoom]]),Lw,At(z("input",{id:"columns",type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>G(n).columns=r)},null,512),[[Vt,G(n).columns]])])],64))}},Dw=Ht(Fw,[["__scopeId","data-v-16650b3e"]]);const Mw=e=>(ns("data-v-dc431e12"),e=e(),ss(),e),Nw={key:0},Bw={class:"form"},$w=Mw(()=>z("hr",null,null,-1)),jw={__name:"CardEdit",emits:["change"],setup(e,{emit:n}){const s=Ds();Gn();const t=yn(),r=Xt({set:null,count:0});Ys(()=>{s.edit.card&&(r.set=s.edit.card.set,r.count=s.edit.card.count)});const l=async()=>{let i=di.deepUnref(s.edit.card);i.set=r.set,i.count=r.count,await t.replaceCard(t.open[0],s.edit.card,i),s.edit.card.set=r.set,s.edit.card.count=r.count};return(i,p)=>G(s).edit.card?(oe(),ye("div",Nw,[Ye(Ca,{card:G(s).edit.card},null,8,["card"]),z("div",Bw,[At(z("input",{type:"number",placeholder:"Count","onUpdate:modelValue":p[0]||(p[0]=d=>r.count=d)},null,512),[[Vt,r.count]]),z("button",{onClick:l}," Save ")]),$w])):Ge("",!0)}},Uw=Ht(jw,[["__scopeId","data-v-dc431e12"]]);const Ta=e=>(ns("data-v-ee1d4f1b"),e=e(),ss(),e),Vw={class:"menu"},zw=["onClick"],Hw={key:0,class:"name"},Ww={key:1,class:"name"},Qw={class:"add panel"},Gw={class:"settings panel"},Kw={class:"details panel"},Jw=Ta(()=>z("h3",null,"Details",-1)),Xw={class:"prints panel"},Yw={class:"versions panel"},Zw={class:"panel filters"},e3={class:"panel edit"},t3=Ta(()=>z("h3",null,"Edit",-1)),n3={class:"panel collections"},s3=Ta(()=>z("h3",null,"Collections",-1)),r3={class:"panel"},i3={__name:"SideBar",setup(e){const n=Tr(),s=Hn(),t=Ds(),r=Ei(),l=v=>{v===t.sidebar.selected?t.sidebar.show=!t.sidebar.show:(t.sidebar.show=!0,t.sidebar.selected=v)};let i=0,p=0;const d=Pt(null),h=v=>{i=v.touches?v.touches[0].clientX:v.clientX,p=v.touches?v.touches[0].clientY:v.clientY},m=v=>{const w=v.changedTouches?v.changedTouches[0].clientX:v.clientX,O=v.changedTouches?v.changedTouches[0].clientY:v.clientY,W=w-i,ce=Math.abs(O-p);t.sidebar.show===!0&&W>75&&W>ce&&(t.sidebar.show=!1)};return(v,w)=>(oe(),ye("div",{class:it(["sidepanel",{show:G(t).sidebar.show}]),ref_key:"sidebar",ref:d,onMousedown:h,onMouseup:m,onTouchstart:h,onTouchend:m},[z("div",Vw,[(oe(),ye(vt,null,$t({filters:["filter","Filter"],clipboard:["clipboard","Clipboard"],collection:["add","Add"],collections:["collection","Manage"],prints:["prints","Prints"],settings:["settings","Settings"]},([O,W],ce)=>z("div",{class:it(["item",[ce,ce==="clipboard"&&G(t).clipboard_change?"changed":""]]),onClick:en(be=>l(ce),["stop"]),key:ce},[z("span",{class:it(["icon","icon-"+O])},null,2),ce==="clipboard"?(oe(),ye("div",Hw," Clip: "+ht(G(r).count),1)):(oe(),ye("div",Ww,ht(W),1))],10,zw)),64))]),At(z("div",Qw,[Ye(ew,{onParsed:G(s).loadCollections},null,8,["onParsed"])],512),[[mn,G(t).sidebar.selected==="collection"]]),At(z("div",Gw,[Ye(Dw)],512),[[mn,G(t).sidebar.selected==="settings"]]),At(z("div",Kw,[Jw,Ye(Bo,{card:G(n).card},null,8,["card"]),Ye(Nd,{card:G(n).card},null,8,["card"])],512),[[mn,G(t).sidebar.selected==="details"]]),At(z("div",Xw,[Ye(q0)],512),[[mn,G(t).sidebar.selected==="prints"]]),At(z("div",Yw,[Ye(k0)],512),[[mn,G(t).sidebar.selected==="versions"]]),At(z("div",Zw,[Ye(Ld)],512),[[mn,G(t).sidebar.selected==="filters"]]),At(z("div",e3,[t3,Ye(Uw)],512),[[mn,G(t).sidebar.selected==="edit"]]),At(z("div",n3,[s3,Ye(Tw,{onChange:w[0]||(w[0]=O=>G(s).loadCollections([O]))})],512),[[mn,G(t).sidebar.selected==="collections"]]),At(z("div",r3,[Ye(uw)],512),[[mn,G(t).sidebar.selected==="clipboard"]])],34))}},o3=Ht(i3,[["__scopeId","data-v-ee1d4f1b"]]);const l3=e=>(ns("data-v-200bf527"),e=e(),ss(),e),a3={class:"filter-group cards"},c3={class:"selector tabs"},u3=["onClick"],f3={class:"view"},d3={key:0,class:"item collections"},p3={class:"name"},_3={key:0,class:"status icon icon-arrow-down"},h3=["disabled"],m3={key:1,class:"item"},g3={class:"set"},y3=["src"],v3={class:"name"},b3=["disabled"],w3={key:2,class:"item"},E3=l3(()=>z("a",{href:"https://scryfall.com/docs/syntax",target:"_blank",class:"button small"},"?",-1)),q3={key:3,class:"item"},S3={class:"precon"},x3={class:"name"},k3={__name:"CardSource",setup(e){const n=xy(),s=Hn(),t=Gn(),r=yn(),l=ky(),i=Ds(),p=Tr(),d=Xt({selected:"collection",params:[],collections:[],set:"",precons:"",search:"",refreshingPrices:!1,refreshingSet:!1}),h=L=>{L.length!==0&&(i.source="collection",n.push({path:"/collection",query:{q:encodeURIComponent(L.join("~"))}}))},m=(L,S)=>{i.source="set",n.push({path:"/set",query:{q:L,force:S}})},v=async(L,S="prints",U=!1)=>{i.source="search",n.push({path:"/search",query:{q:L,unique:S,force:U}})},w=L=>{i.source="precon",n.push({path:"/precons",query:{q:L}})},O=async L=>{d.selected!==L&&(d.selected=L,p.card={},i.details.show=!1,L==="collection"?d.collections&&h(d.collections):L==="set"?d.set&&m(d.set):L==="precon"?d.precons&&w(d.precons):L==="search"&&d.search&&await v(d.search,"cards"))},W=async(L,S)=>{if(L)if(d.selected=L,Object.keys(S).length===0){console.log("empty");return}else L==="collection"?(i.source="collection",S.code?await s.loadSync(S.code):(d.collections=decodeURIComponent(S.q).split("~"),await s.loadCollections(d.collections))):L==="set"?(d.set=S.q,i.source="set",await s.loadSet(d.set,S.force==="true")):L==="precons"?(d.precons=S.q,i.source="precons",await s.loadPrecon(S.q)):L==="search"&&(d.search=S.q,i.source="search",await s.loadSearch(S.q,S.unique,S.force))},ce=async()=>{d.refreshingPrices!==!0&&(d.refreshingPrices=!0,await r.refreshPrices(),await s.loadCollections(r.open),d.refreshingPrices=!1)},be=async()=>{d.refreshingSet!==!0&&(d.refreshingSet=!0,await s.loadSet(d.set,!0),d.refreshingSet=!1)};return hy(async(L,S)=>{await W(L.params.view,L.query)}),hs(async()=>{l.params.view&&W(l.params.view,l.query)}),(L,S)=>(oe(),ye("div",a3,[z("div",c3,[(oe(),ye(vt,null,$t(["collection","set","precons","search"],U=>z("a",{key:U,onClick:M=>O(U),class:it({selected:d.selected===U})},ht(U),11,u3)),64))]),z("div",f3,[d.selected==="collection"?(oe(),ye("div",d3,[Ye(G(Jt),{modelValue:G(r).open,"onUpdate:modelValue":S[0]||(S[0]=U=>G(r).open=U),options:G(r).obj,label:"name","value-prop":"name",mode:"tags",searchable:!0,onChange:h},{option:Fn(({option:U})=>[z("span",{class:it(["collection",{missing:!U.downloaded}])},[z("span",p3,ht(U.name),1),U.downloaded?Ge("",!0):(oe(),ye("span",_3))],2)]),_:1},8,["modelValue","options"]),z("button",{class:it(["small icon icon-loop",{active:d.refreshingPrices}]),disabled:d.refreshingPrices,onClick:ce},null,10,h3)])):Ge("",!0),d.selected==="set"?(oe(),ye("div",m3,[Ye(G(Jt),{modelValue:d.set,"onUpdate:modelValue":S[1]||(S[1]=U=>d.set=U),options:G(t).sets,searchable:!0,label:"name","value-prop":"code",mode:"single",onSelect:S[2]||(S[2]=U=>m(U))},{option:Fn(({option:U})=>[z("span",g3,[z("img",{class:"icon",src:U.icon_svg_uri,crossorigin:"anonymous"},null,8,y3),z("span",v3,ht(U.name),1)])]),_:1},8,["modelValue","options"]),z("button",{class:it(["small icon icon-loop",{active:d.refreshingSet}]),disabled:d.refreshingSet,onClick:be},null,10,b3)])):Ge("",!0),d.selected==="search"?(oe(),ye("div",w3,[At(z("input",{type:"search","onUpdate:modelValue":S[3]||(S[3]=U=>d.search=U),onKeyup:S[4]||(S[4]=Sr(U=>v(U.currentTarget.value,"cards"),["enter"]))},null,544),[[Vt,d.search]]),E3])):Ge("",!0),d.selected==="precons"?(oe(),ye("div",q3,[Ye(G(Jt),{modelValue:d.precons,"onUpdate:modelValue":S[5]||(S[5]=U=>d.precons=U),type:"single",searchable:!0,options:G(t).precons,groups:!0,label:"name","value-prop":"name",onSelect:w},{option:Fn(({option:U})=>[z("span",S3,[z("span",x3,ht(U.name),1),Ye(Md,{mana:U.colours.split("").map(M=>`{${M}}`).join("")},null,8,["mana"])])]),_:1},8,["modelValue","options"]),z("button",{class:"small icon icon-plus",onClick:S[6]||(S[6]=U=>G(i).loadMain("precon"))})])):Ge("",!0)])]))}},Yc=Ht(k3,[["__scopeId","data-v-200bf527"]]);const C3={key:0,class:"info-bar"},A3={class:"sort"},I3={class:"dir"},T3={class:"view"},O3={key:0,class:"selection-menu"},P3={__name:"InfoBar",setup(e){const n=Hn(),s=Ds(),t=yn(),r=Ei(),l=async()=>{if(confirm(`Are you sure you want to delete ${[...n.selected].length} cards from ${t.open.join(", ")}`)){let p=n.getSelection();for(const d of p)await t.deleteCard(t.open,d),n.delete(d);n.selected=new Set}},i=async()=>{n.getSelection().forEach(h=>{let m={...h};m.count=1,r.add(m)}),await t.save("clipboard",r.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(p,d)=>G(s).mainView==="cards"||G(s).mainView==="list"?(oe(),ye("div",C3,[[...G(n).selected].length===0?(oe(),ye(vt,{key:0},[z("span",null,"Count "+ht(G(n).count),1),z("span",null,"Value "+ht(G(n).value),1),z("span",A3,[Ye(G(Jt),{modelValue:G(n).sort.val,"onUpdate:modelValue":d[0]||(d[0]=h=>G(n).sort.val=h),options:["Mana","Type","Price","Count","Released","Tag","Number"],mode:"single","can-clear":!1},null,8,["modelValue"]),z("div",I3,[z("div",{class:it(["up icon icon-chevron-up",{selected:G(n).sort.dir==-1}]),onClick:d[1]||(d[1]=h=>G(n).sort.dir=-1)},null,2),z("div",{class:it(["up icon icon-chevron-down",{selected:G(n).sort.dir==1}]),onClick:d[2]||(d[2]=h=>G(n).sort.dir=1)},null,2)])]),z("span",T3,[z("span",{class:it(["cardView icon icon-grid",{selected:G(s).mainView==="cards"}]),onClick:d[3]||(d[3]=h=>G(s).mainView="cards")},null,2),z("span",{class:it(["cardView icon icon-list",{selected:G(s).mainView==="list"}]),onClick:d[4]||(d[4]=h=>G(s).mainView="list")},null,2)])],64)):(oe(),ye(vt,{key:1},[z("span",null,"Selected: "+ht([...G(n).selected].length),1),[...G(n).selected].length>0?(oe(),ye("div",O3,[z("a",{onClick:d[5]||(d[5]=()=>{G(n).selected=new Set})},"Clear"),z("a",{onClick:i},"Clip"),G(s).source==="collection"?(oe(),ye("a",{key:0,onClick:l},"Delete")):Ge("",!0)])):Ge("",!0)],64))])):Ge("",!0)}},R3=Ht(P3,[["__scopeId","data-v-594d137f"]]);const L3={id:"window"},F3=["data-source"],D3={class:"content"},M3={class:"right"},N3={__name:"Page",async setup(e){let n,s;const t=Tr(),r=Ei(),l=yn(),i=Hn(),p=Gn(),d=lo(),h=Ds(),m=Xt({view:"",set:"",precons:"",showMenu:!1,dragging:!1,dragY:0});let v=null;Gt(i.filters,async()=>{clearTimeout(v),v=setTimeout(async()=>{i.applyFilters()},500)}),Gt(i.sort,()=>{i.applyFilters()});const w=async()=>{await l.init(),await p.init();try{const te=await l.getCards(["clipboard"]);te&&r.addMany(te),new BroadcastChannel("clipboard").addEventListener("message",re=>{re.data==="update"&&r.reloadCollections(["clipboard"])})}catch(te){console.error(te)}d.loadCookie()};[n,s]=Hu(()=>w()),await n,s();let O=null,W=null,ce=null,be=null,L=null,S=!1,U=null;const M=Pt(null),ae=te=>{m.dragging=!0,O=te.touches?te.touches[0].clientX:te.clientX,W=te.touches?te.touches[0].clientY:te.clientY,S=M.value.scrollTop===0,ce=W,U=Date.now()},Z=te=>{if(!m.dragging)return;let V=te.touches?te.touches[0].clientX:te.clientX,re=te.touches?te.touches[0].clientY:te.clientY;const ge=V-O,Ze=re-W;let Ae=(re-ce)/(Date.now()-U);if(U=Date.now(),ce=re,Math.abs(ge)>Math.abs(Ze)?be=ge>0?"right":"left":be=Ze>0?"down":"up",L===null&&(L=be),L==="left"||L==="right"){te.preventDefault(),te.stopPropagation(),L==="left"&&ge<-50?(A(1),m.dragging=!1):L==="right"&&ge>50&&(A(-1),m.dragging=!1);return}!S||be==="up"||(Ae>=1.2||Ze>200?(h.details.show=!1,M.value.style.transform="",m.dragging=!1):Ze>0&&(m.dragY=Ze,te.preventDefault(),te.stopPropagation(),M.value.style.transform=`translate(0, ${Ze}px)`))},ie=te=>{O=W=null,M.value.style.transform="",m.dragging=!1,L=null,ce=null,U=null},q=Pt(null),A=te=>{let V=h.details.index+te;V<0&&(V=i.filtered.length-1),V>=i.filtered.length&&(V=0),h.details.index=V;const re=i.filtered[h.details.index];if(t.loadDetails(re),q.value){let ge=q.value.querySelector(".cards");const Ze=ge.querySelector(`.card[data-id="${re.id}"]`);if(Ze){const Ae=Ze.offsetTop-ge.offsetHeight/2+Ze.offsetHeight/2;ge.scrollTo({top:Ae,behavior:"smooth"})}}},Q=te=>{te.target.id==="details-overlay"&&(h.details.show=!1)};return(te,V)=>(oe(),ye("div",L3,[z("div",{id:"sidebar",class:it({show:m.showMenu})},[Ye(Yc),Ye(Ld)],2),z("div",{id:"main",class:"main","data-source":G(h).source},[Ye(Yc,{class:"card-source"}),Ye(o3),At(Ye(b0,{onClose:V[0]||(V[0]=re=>G(h).mainView="cards")},null,512),[[mn,G(h).mainView==="precon"]]),z("div",{ref_key:"det",ref:M,id:"details-overlay",class:it(["details",{show:G(h).details.show,dragging:m.dragging}]),style:Wn({}),onTouchstart:ae,onTouchmove:Z,onTouchend:ie,onWheel:()=>{},onClick:Q},[z("a",{class:"move-card icon icon-chevron-left",onClick:V[1]||(V[1]=re=>A(-1))}),z("div",D3,[Ye(Bo,{card:G(t).card,onClick:V[2]||(V[2]=en(()=>{},["stop"]))},null,8,["card"]),z("div",M3,[Ye(Nd,{card:G(t).card},null,8,["card"]),z("a",{class:"close icon icon-chevron-down",onClick:V[3]||(V[3]=re=>G(h).details.show=!1)})])]),z("a",{class:"move-card icon icon-chevron-right",onClick:V[4]||(V[4]=re=>A(1))})],38),z("div",{ref_key:"cardsWindow",ref:q,class:"card-view",onClick:V[5]||(V[5]=re=>G(h).sidebar.show=!1)},[Ye(R3),G(h).mainView==="cards"?(oe(),ln(Aa,{key:0,store:G(i)},null,8,["store"])):Ge("",!0),G(h).mainView==="list"?(oe(),ln(c0,{key:1,cards:G(i).filtered},null,8,["cards"])):Ge("",!0)],512)],8,F3)]))}},B3=Ht(N3,[["__scopeId","data-v-ec521f2e"]]);const $3=mm(),j3=[{path:"/:view?",component:B3,props:!0}],U3=qy({history:Ng(),routes:j3}),qi=qa(qm);qi.use($3);qi.use(U3);qi.use(vg,{position:ui.BOTTOM_CENTER,closeButton:!1,hideProgressBar:!0,toastClassName:"toast",icon:!1,pauseOnHover:!1,timeout:4e3,maxToasts:4,transition:{enter:"fade-enter-active",leave:"fade-leave-active",move:"fade-move"}});qi.use(Ry,{clientId:"348408322067-4t4ks9d03r9gfp84c54kk18l0d0gv1ev.apps.googleusercontent.com"});qi.mount("#app");
